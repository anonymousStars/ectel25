[
  {
    "page": 19,
    "title": "0 Getting Started",
    "content": "<markdown>\r\n## Chapter 0\r\n\r\n# Getting started\r\n\r\nBefore we can start proving things, we need to eliminate certain kinds of statements that we might try to prove. Consider the following statement:\r\n\r\n*This sentence is false.*\r\n\r\nIs it true or false? If you think about this for a couple of seconds then you’ll get into a bit of a pickle.\r\n\r\nNow consider the following statement:\r\n\r\n*The happiest donkey in the world.*\r\n\r\nIs it true or false? Well it’s not even a sentence; it doesn’t make sense to even *ask* if it’s true or false!\r\n\r\nClearly we’ll be wasting our time trying to write proofs of statements like the two listed above—we need to narrow our scope to statements that we might actually have a chance of proving (or perhaps refuting)! This motivates the following (informal) definition.\r\n\r\n✦ **Definition 0.1**  \r\nA *proposition* is a statement to which it is possible to assign a *truth value* (‘true’ or ‘false’). If a proposition is true, a *proof* of the proposition is a logically valid argument demonstrating that it is true, which is pitched at such a level that a member of the intended audience can verify its correctness.\r\n\r\nThus the statements given above are not propositions because there is no possible way of assigning them a truth value. Note that, in **Definition 0.1**, all that matters is that it\r\n</markdown>",
    "Q": "Q: What distinguishes a proposition from a non-proposition in the context of mathematical logic? ",
    "A": " A: A proposition is a statement that can be assigned a truth value ('true' or 'false'), whereas a non-proposition cannot be assigned a truth value, such as sentences that are self-referential or nonsensical."
  },
  {
    "page": 20,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nmakes sense to say that it is true or false, regardless of whether it actually *is* true or false—the truth value of many propositions is unknown, even very simple ones.\r\n\r\n### Exercise 0.2\r\nThink of an example of a true proposition, a false proposition, a proposition whose truth value you don’t know, and a statement that is not a proposition.\r\n\r\nResults in mathematical papers and textbooks may be referred to as *propositions*, but they may also be referred to as *theorems*, *lemmas* or *corollaries* depending on their intended usage.\r\n\r\n- A **proposition** is an umbrella term which can be used for any result.\r\n- A **theorem** is a key result which is particularly important.\r\n- A **lemma** is a result which is proved for the purposes of being used in the proof of a theorem.\r\n- A **corollary** is a result which follows from a theorem without much additional effort.\r\n\r\nThese are not precise definitions, and they are not meant to be—you could call every result a *proposition* if you wanted to—but using these words appropriately helps readers work out how to read a paper. For example, if you just want to skim a paper and find its key results, you’d look for results labelled as *theorems*.\r\n\r\nIt is not much good trying to prove results if we don’t have anything to prove results about. With this in mind, we will now introduce the *number sets* and prove some results about them in the context of four topics, namely: division of integers, number bases, rational and irrational numbers, and polynomials. These topics will provide context for the material in Part I, and serve as an introduction to the topics covered in Part II.\r\n\r\nWe will not go into very much depth in this chapter. Rather, think of this as a warm-up exercise—a quick, light introduction, with more proofs to be provided in the rest of the book.\r\n\r\n### Number sets\r\n\r\nLater in this chapter, and then in much more detail in Chapter 2, we will encounter the notion of a *set*; a set can be thought of as being a collection of objects. This seemingly simple notion is fundamental to mathematics, and is so involved that we will not treat sets formally in this book. For now, the following definition will suffice.\r\n</markdown>",
    "Q": "Q: Identify a proposition, a theorem, a lemma, and a statement that is not a proposition related to the concepts discussed in the given text. ",
    "A": " A: A true proposition could be \"All even numbers are integers.\" A false proposition could be \"All prime numbers are even.\" A proposition whose truth value is unknown could be \"There exists a largest prime number.\" A statement that is not a proposition could be \"Is it raining?\""
  },
  {
    "page": 21,
    "title": "0 Getting Started",
    "content": "<markdown>\r\n### Definition 0.3 (to be revised in Definition 2.1.1)\r\n\r\nA set is a collection of objects. The objects in the set are called **elements** of the set. If \\( X \\) is a set and \\( x \\) is an object, then we write \\( x \\in X \\) (LaTeX code: `x \\in X`) to denote the assertion that \\( x \\) is an element of \\( X \\).\r\n\r\nThe sets of concern to us first and foremost are the **number sets**—that is, sets whose elements are particular types of **number**. At this introductory level, many details will be temporarily swept under the rug; we will work at a level of precision which is appropriate for our current stage, but still allows us to develop a reasonable amount of intuition.\r\n\r\nIn order to define the number sets, we will need three things: an infinite line, a fixed point on this line, and a fixed unit of length.\r\n\r\nSo here we go. Here is an infinite line:\r\n\r\nThe arrows indicate that it is supposed to extend in both directions without end. The points on the line will represent numbers (specifically, **real numbers**, a misleading term that will be defined in Definition 0.25). Now let’s fix a point on this line, and label it ‘0’:\r\n\r\nThis point can be thought of as representing the number zero; it is the point against which all other numbers will be measured. Finally, let’s fix a unit of length:\r\n\r\nThis unit of length will be used, amongst other things, to compare the extent to which the other numbers differ from zero.\r\n\r\n### Definition 0.4\r\n\r\nThe above infinite line, together with its fixed zero point and fixed unit length, constitute the (**real**) **number line**.\r\n\r\nWe will use the number line to construct five sets of numbers of interest to us:\r\n\r\n- The set \\( \\mathbb{N} \\) of **natural numbers**—Definition 0.5;\r\n</markdown>",
    "Q": "Q: What notation is used to indicate that an object \\( x \\) is an element of a set \\( X \\)? ",
    "A": " A: The notation \\( x \\in X \\) is used to indicate that \\( x \\) is an element of the set \\( X \\)."
  },
  {
    "page": 22,
    "title": "0 Getting Started",
    "content": "<markdown>\r\n- The set \\(\\mathbb{Z}\\) of **integers**—[Definition 0.11](#);\r\n- The set \\(\\mathbb{Q}\\) of **rational numbers**—[Definition 0.24](#);\r\n- The set \\(\\mathbb{R}\\) of **real numbers**—[Definition 0.25](#); and\r\n- The set \\(\\mathbb{C}\\) of **complex numbers**—[Definition 0.31](#).\r\n\r\nEach of these sets has a different character and is used for different purposes, as we will see both later in this chapter and throughout this book.\r\n\r\n## Natural numbers (\\(\\mathbb{N}\\))\r\n\r\nThe **natural numbers** are the numbers used for counting—they are the answers to questions of the form ‘how many’—for example, I have **three** uncles, **one** dog and **zero** cats.\r\n\r\nCounting is a skill humans have had for a very long time; we know this because there is evidence of people using tally marks tens of thousands of years ago. Tally marks provide one method of counting small numbers: starting with nothing, proceed through the objects you want to count one by one, and make a mark for every object. When you are finished, there will be as many marks as there are objects. We are taught from a young age to count with our fingers; this is another instance of making tally marks, where now instead of making a mark we raise a finger.\r\n\r\nMaking a tally mark represents an **increment** in quantity—that is, adding one. On our number line, we can represent an increment in quantity by moving to the right by the unit length. Then the distance from zero we have moved, which is equal to the number of times we moved right by the unit length, is therefore equal to the number of objects being counted.\r\n\r\n### Definition 0.5\r\n\r\nThe **natural numbers** are represented by the points on the number line which can be obtained by starting at 0 and moving right by the unit length any number of times:\r\n\r\n\\[\r\n\\begin{array}{cccccc}\r\n0 & 1 & 2 & 3 & 4 & 5 \\\\\r\n\\end{array}\r\n\\]\r\n\r\nIn more familiar terms, they are the **non-negative whole numbers**. We write \\(\\mathbb{N}\\) (\\(\\LaTeX\\) code: `\\mathbb{N}`) for the set of all natural numbers; thus, the notation ‘\\(n \\in \\mathbb{N}\\)’ means that \\(n\\) is a natural number.\r\n</markdown>",
    "Q": "Q: What is the smallest natural number in the set \\(\\mathbb{N}\\)? ",
    "A": " A: The smallest natural number in the set \\(\\mathbb{N}\\) is \\(0\\)."
  },
  {
    "page": 23,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nThe natural numbers have very important and interesting mathematical structure, and are central to the material in Chapter 8. A more precise characterisation of the natural numbers will be provided in Section 4.1, and a mathematical construction of the set of natural numbers can be found in Section B.1 (see Construction B.2.5). Central to these more precise characterisations will be the notions of ‘zero’ and of ‘adding one’—just like making tally marks.\r\n\r\n❖ **Aside**\r\n\r\nSome authors define the natural numbers to be the positive whole numbers, thus excluding zero. We take 0 to be a natural number since our main use of the natural numbers will be for counting finite sets, and a set with nothing in it is certainly finite! That said, as with any mathematical definition, the choice about whether \\(0 \\in \\mathbb{N}\\) or \\(0 \\notin \\mathbb{N}\\) is a matter of taste or convenience, and is merely a convention—it is not something that can be proved or refuted.\r\n\r\n## Number bases\r\n\r\nWriting numbers down is something that may seem easy to you now, but it likely took you several years as a child to truly understand what was going on. Historically, there have been many different systems for representing numbers symbolically, called *numeral systems*. First came the most primitive of all, tally marks, appearing in the Stone Age and still being used for some purposes today. Thousands of years and hundreds of numeral systems later, there is one dominant numeral system, understood throughout the world: the *Hindu–Arabic numeral system*. This numeral system consists of ten symbols, called *digits*. It is a *positional numeral system*, meaning that the position of a symbol in a string determines its numerical value.\r\n\r\nIn English, the *Arabic numerals* are used as the ten digits:\r\n\r\n\\[\r\n0 \\quad 1 \\quad 2 \\quad 3 \\quad 4 \\quad 5 \\quad 6 \\quad 7 \\quad 8 \\quad 9\r\n\\]\r\n\r\nThe right-most digit in a string is in the units place, and the value of each digit increases by a factor of ten moving to the left. For example, when we write ‘2812’, the left-most ‘2’ represents the number two thousand, whereas the last ‘2’ represents the number two.\r\n\r\nThe fact that there are ten digits, and that the numeral system is based on powers of ten, is a biological accident corresponding with the fact that most humans have ten fingers. For many purposes, this is inconvenient. For example, ten does not have many positive divisors (only four)—this has implications for the ease of performing arithmetic; a system based on the number twelve, which has six positive divisors, might be more convenient. Another example is in computing and digital electronics, where it is more convenient to work in a *binary* system, with just two digits, which represent ‘off’ and ‘on’ (or ‘low voltage’ and ‘high voltage’), respectively; arithmetic can then be performed directly using sequences of *logic gates* in an electrical circuit.\r\n</markdown>",
    "Q": "Q: What are the advantages of using a base twelve numeral system compared to the base ten system in terms of divisibility? ",
    "A": " A: A base twelve numeral system has more positive divisors (six: 1, 2, 3, 4, 6, and 12) compared to the base ten system, which has only four positive divisors (1, 2, 5, and 10). This greater number of divisors makes it more convenient for performing arithmetic operations and dividing quantities into equal parts."
  },
  {
    "page": 24,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nIt is therefore worthwhile to have some understanding of positional numeral systems based on numbers other than ten. The mathematical abstraction we make leads to the definition of **base-b expansion**.\r\n\r\n### Definition 0.6\r\nLet \\( b > 1 \\). The **base-b expansion** of a natural number \\( n \\) is the\\(^a\\) string \\( d_r d_{r-1} \\ldots d_0 \\) such that\r\n\r\n- \\( n = d_r \\cdot b^r + d_{r-1} \\cdot b^{r-1} + \\cdots + d_0 \\cdot b^0 \\),\r\n- \\( 0 \\leq d_i < b \\) for each \\( i \\); and\r\n- If \\( n > 0 \\) then \\( d_r \\neq 0 \\)—the base-b expansion of zero is 0 in all bases \\( b \\).\r\n\r\nCertain number bases have names; for instance, the base-2, 3, 8, 10 and 16 expansions are respectively called **binary**, **ternary**, **octal**, **decimal** and **hexadecimal**.\r\n\r\n\\(^a\\)The use of the word ‘the’ is troublesome here, since it assumes that every natural number has only one base-b expansion. This fact actually requires proof—see Theorem 7.3.51.\r\n\r\n### Example 0.7\r\nConsider the number 1023. Its decimal (base-10) expansion is 1023, since\r\n\r\n\\[\r\n1023 = 1 \\cdot 10^3 + 0 \\cdot 10^2 + 2 \\cdot 10^1 + 3 \\cdot 10^0\r\n\\]\r\n\r\nIts binary (base-2) expansion is 1111111111, since\r\n\r\n\\[\r\n1023 = 1 \\cdot 2^9 + 1 \\cdot 2^8 + 1 \\cdot 2^7 + 1 \\cdot 2^6 + 1 \\cdot 2^5 + 1 \\cdot 2^4 + 1 \\cdot 2^3 + 1 \\cdot 2^2 + 1 \\cdot 2^1 + 1 \\cdot 2^0\r\n\\]\r\n\r\nWe can express numbers in base-36 by using the ten usual digits 0 through 9 and the twenty-six letters A through Z; for instance, A represents 10, M represents 22 and Z represents 35. The base-36 expansion of 1023 is SF, since\r\n\r\n\\[\r\n1023 = 28 \\cdot 36^1 + 15 \\cdot 36^0 = S \\cdot 36^1 + F \\cdot 36^0\r\n\\]\r\n\r\n### Exercise 0.8\r\nFind the binary, ternary, octal, decimal, hexadecimal and base-36 expansions of the number 21127, using the letters A–F as additional digits for the hexadecimal expansion and the letters A–Z as additional digits for the base-36 expansion.\r\n\r\nWe sometimes wish to specify a natural number in terms of its base-b expansion; we have some notation for this.\r\n\r\n### Notation 0.9\r\nLet \\( b > 1 \\). If the numbers \\( d_0, d_1, \\ldots, d_r \\) are base-b digits (in the sense of Definition 0.6),\r\n</markdown>",
    "Q": "Q: Find the decimal and hexadecimal expansions of the number 255. ",
    "A": " A: The decimal expansion of 255 is 255, and its hexadecimal expansion is FF, since \\( 255 = 15 \\cdot 16^1 + 15 \\cdot 16^0 \\)."
  },
  {
    "page": 25,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nthen we write\r\n\r\n\\[ d_r d_{r-1} \\ldots d_0_{(b)} = d_r \\cdot b^r + d_{r-1} \\cdot b^{r-1} + \\ldots + d_0 \\cdot b^0 \\]\r\n\r\nfor the natural number whose base-\\(b\\) expansion is \\(d_r d_{r-1} \\ldots d_0\\). If there is no subscript \\((b)\\) and a base is not specified explicitly, the expansion will be assumed to be in base-10.\r\n\r\n✎ **Example 0.10**  \r\nUsing our new notation, we have\r\n\r\n\\[ 1023 = 1111111111_{(2)} = 1101220_{(3)} = 1777_{(8)} = 1023_{(10)} = 3FF_{(16)} = SF_{(36)} \\]\r\n\r\n## Integers (\\(\\mathbb{Z}\\))\r\n\r\nThe integers can be used for measuring the difference between two instances of counting. For example, suppose I have five apples and five bananas. Another person, also holding apples and bananas, wishes to trade. After our exchange, I have seven apples and only one banana. Thus I have two more apples and four fewer bananas.\r\n\r\nSince an increment in quantity can be represented by moving to the right on the number line by the unit length, a decrement in quantity can therefore be represented by moving to the left by the unit length. Doing so gives rise to the integers.\r\n\r\n✦ **Definition 0.11**  \r\nThe integers are represented by the points on the number line which can be obtained by starting at 0 and moving in either direction by the unit length any number of times:\r\n\r\n\\[\r\n\\begin{array}{cccccccccc}\r\n\\ldots & -5 & -4 & -3 & -2 & -1 & 0 & 1 & 2 & 3 & 4 & 5 & \\ldots \\\\\r\n\\end{array}\r\n\\]\r\n\r\nWe write \\(\\mathbb{Z}\\) (LaTeX code: `\\mathbb{Z}`) for the set of all integers; thus, the notation ‘\\(n \\in \\mathbb{Z}\\)’ means that \\(n\\) is an integer.\r\n\r\nThe integers have such a fascinating structure that a whole chapter of this book is devoted to them—see Chapter 7. This is to do with the fact that, although you can add, subtract and multiply two integers and obtain another integer, the same is not true of division. This ‘bad behaviour’ of division is what makes the integers interesting. We will now see some basic results about division.\r\n</markdown>",
    "Q": "Q: What is the base-10 representation of the integer \\(1777_{(8)}\\)?  \r\n",
    "A": "  \r\nA: The base-10 representation of \\(1777_{(8)}\\) is \\(1 \\cdot 8^3 + 7 \\cdot 8^2 + 7 \\cdot 8^1 + 7 \\cdot 8^0 = 512 + 448 + 56 + 7 = 1023\\).  \r\n"
  },
  {
    "page": 26,
    "title": "0 Getting Started",
    "content": "<markdown>\r\n## Division of integers\r\n\r\nThe motivation we will soon give for the definition of the rational numbers ([Definition 0.24](#)) is that the result of dividing one integer by another integer is not necessarily another integer. However, the result is *sometimes* another integer; for example, I can divide six apples between three people, and each person will receive an integral number of apples. This makes division interesting: how can we measure the failure of one integer’s divisibility by another? How can we deduce when one integer is divisible by another? What is the structure of the set of integers when viewed through the lens of division? This motivates [Definition 0.12](#).\r\n\r\n✦ **Definition 0.12** (to be repeated in Definition 7.1.4)  \r\nLet \\( a, b \\in \\mathbb{Z} \\). We say \\( b \\) *divides* \\( a \\) if \\( a = qb \\) for some integer \\( q \\). Other ways of saying that \\( b \\) divides \\( a \\) are: \\( b \\) is a *divisor* of \\( a \\), \\( b \\) is a *factor* of \\( a \\), or \\( a \\) is a *multiple* of \\( b \\).\r\n\r\n✐ **Example 0.13**  \r\nThe integer 12 is divisible by 1, 2, 3, 4, 6 and 12, since\r\n\r\n\\[\r\n12 = 12 \\cdot 1 = 6 \\cdot 2 = 4 \\cdot 3 = 3 \\cdot 4 = 2 \\cdot 6 = 1 \\cdot 12\r\n\\]\r\n\r\nIt is also divisible by the negatives of all of those numbers; for example, 12 is divisible by \\(-3\\) since \\( 12 = (-4) \\cdot (-3) \\).\r\n\r\n✎ **Exercise 0.14**  \r\nProve that 1 divides every integer, and that every integer divides 0.\r\n\r\nUsing [Definition 0.12](#), we can prove some general basic facts about divisibility.\r\n\r\n✢ **Proposition 0.15**  \r\nLet \\( a, b, c \\in \\mathbb{Z} \\). If \\( c \\) divides \\( b \\) and \\( b \\) divides \\( a \\), then \\( c \\) divides \\( a \\).\r\n\r\n**Proof**  \r\nSuppose that \\( c \\) divides \\( b \\) and \\( b \\) divides \\( a \\). By [Definition 0.12](#), it follows that\r\n\r\n\\[\r\nb = qc \\quad \\text{and} \\quad a = rb\r\n\\]\r\n\r\nfor some integers \\( q \\) and \\( r \\). Using the first equation, we may substitute \\( qc \\) for \\( b \\) in the second equation, to obtain\r\n\r\n\\[\r\na = r(qc)\r\n\\]\r\n\r\nBut \\( r(qc) = (rq)c \\), and \\( rq \\) is an integer, so it follows from [Definition 0.12](#) that \\( c \\) divides \\( a \\).\r\n\r\n✎ **Exercise 0.16**  \r\nLet \\( a, b, d \\in \\mathbb{Z} \\). Suppose that \\( d \\) divides \\( a \\) and \\( d \\) divides \\( b \\). Given integers \\( u \\) and \\( v \\), prove that \\( d \\) divides \\( au + bv \\).\r\n</markdown>",
    "Q": "Q: If \\( b \\) divides \\( a \\) and \\( b \\) is a positive integer, what can we conclude about \\( a \\) in terms of \\( b \\) and some integer \\( k \\)? ",
    "A": " A: We can conclude that \\( a = kb \\) for some integer \\( k \\)."
  },
  {
    "page": 27,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nSome familiar concepts, such as evenness and oddness, can be characterised in terms of divisibility.\r\n\r\n✦ **Definition 0.17**  \r\nAn integer \\( n \\) is even if it is divisible by 2; otherwise, \\( n \\) is odd.\r\n\r\nIt is not just interesting to know when one integer does divide another; however, proving that one integer doesn’t divide another is much harder. Indeed, to prove that an integer \\( b \\) does not divide an integer \\( a \\), we must prove that \\( a \\neq qb \\) for any integer \\( q \\) at all. We will look at methods for doing this in Chapter 1; these methods use the following extremely important result, which will underlie all of Chapter 7.\r\n\r\n✣ **Theorem 0.18 (Division theorem, to be repeated in Theorem 7.1.1)**  \r\nLet \\( a, b \\in \\mathbb{Z} \\) with \\( b \\neq 0 \\). There is exactly one way to write\r\n\r\n\\[ a = qb + r \\]\r\n\r\nsuch that \\( q \\) and \\( r \\) are integers, and \\( 0 \\leq r < b \\) (if \\( b > 0 \\)) or \\( 0 \\leq r < -b \\) (if \\( b < 0 \\)).\r\n\r\nThe number \\( q \\) in Theorem 0.18 is called the **quotient** of \\( a \\) when divided by \\( b \\), and the number \\( r \\) is called the **remainder**.\r\n\r\n✐ **Example 0.19**  \r\nThe number 12 leaves a remainder of 2 when divided by 5, since \\( 12 = 2 \\cdot 5 + 2 \\).\r\n\r\nHere’s a slightly more involved example.\r\n\r\n✣ **Proposition 0.20**  \r\nSuppose an integer \\( a \\) leaves a remainder of \\( r \\) when divided by an integer \\( b \\), and that \\( r > 0 \\). Then \\(-a\\) leaves a remainder of \\( b - r \\) when divided by \\( b \\).\r\n\r\n**Proof**  \r\nSuppose \\( a \\) leaves a remainder of \\( r \\) when divided by \\( b \\). Then\r\n\r\n\\[ a = qb + r \\]\r\n\r\nfor some integer \\( q \\). A bit of algebra yields\r\n\r\n\\[\r\n-a = -qb - r = -qb - r + (b - b) = -(q + 1)b + (b - r)\r\n\\]\r\n\r\nSince \\( 0 < r < b \\), we have \\( 0 < b - r < b \\). Hence \\(-(q + 1)\\) is the quotient of \\(-a\\) when divided by \\( b \\), and \\( b - r \\) is the remainder.\r\n</markdown>",
    "Q": "Q: If an integer \\( a \\) leaves a remainder of \\( r \\) when divided by \\( b \\) and \\( r = 3 \\), what is the remainder when \\( -a \\) is divided by \\( b \\)?  \r\n",
    "A": "  \r\nA: The remainder when \\( -a \\) is divided by \\( b \\) is \\( b - 3 \\)."
  },
  {
    "page": 30,
    "title": "0 Getting Started",
    "content": "<markdown>\r\n# Real numbers (\\(\\mathbb{R}\\))\r\n\r\nQuantity and change can be measured in the abstract using *real numbers*.\r\n\r\n✦ **Definition 0.25**  \r\nThe *real numbers* are the points on the number line. We write \\(\\mathbb{R}\\) (LaTeX code: `\\mathbb{R}`) for the set of all real numbers; thus, the notation ‘\\(a \\in \\mathbb{R}\\)’ means that \\(a\\) is a real number.\r\n\r\nThe real numbers are central to real analysis, a branch of mathematics introduced in Chapter 9. They turn the rationals into a *continuum* by ‘filling in the gaps’—specifically, they have the property of *completeness*, meaning that if a quantity can be approximated with arbitrary precision by real numbers, then that quantity is itself a real number.\r\n\r\nWe can define the basic arithmetic operations (addition, subtraction, multiplication and division) on the real numbers, and a notion of ordering of the real numbers, in terms of the infinite number line.\r\n\r\n- **Ordering.** A real number \\(a\\) is less than a real number \\(b\\), written \\(a < b\\), if \\(a\\) lies to the left of \\(b\\) on the number line. The usual conventions for the symbols \\(\\leq\\) (LaTeX code: `\\leq`), \\(>\\) and \\(\\geq\\) (LaTeX code: `\\geq`) apply, for instance ‘\\(a \\leq b\\)’ means that either \\(a < b\\) or \\(a = b\\).\r\n\r\n- **Addition.** Suppose we want to add a real number \\(a\\) to a real number \\(b\\). To do this, we *translate* \\(a\\) by \\(b\\) units to the right—if \\(b < 0\\) then this amounts to translating \\(a\\) by an equivalent number of units to the left. Concretely, take two copies of the number line, one above the other, with the same choice of unit length; move the 0 of the lower number line beneath the point \\(a\\) of the upper number line. Then \\(a + b\\) is the point on the upper number line lying above the point \\(b\\) of the lower number line.\r\n\r\nHere is an illustration of the fact that \\((-3) + 5 = 2\\):\r\n\r\n\\[\r\n\\begin{align*}\r\n&\\quad -8 \\quad -7 \\quad -6 \\quad -5 \\quad -4 \\quad -3 \\quad -2 \\quad -1 \\quad 0 \\quad 1 \\quad 2 \\quad 3 \\quad 4 \\quad 5 \\\\\r\n&\\quad \\longleftarrow \\quad \\longrightarrow \\\\\r\n&\\quad -5 \\quad -4 \\quad -3 \\quad -2 \\quad -1 \\quad 0 \\quad 1 \\quad 2 \\quad 3 \\quad 4 \\quad 5 \\quad 6 \\quad 7 \\quad 8 \\\\\r\n\\end{align*}\r\n\\]\r\n\r\n- **Multiplication.** This one is fun. Suppose we want to multiply a real number \\(a\\) by a real number \\(b\\). To do this, we *scale* the number line, and perhaps *reflect* it. Concretely, take two copies of the number line, one above the other; align the 0 points on both number lines, and stretch the lower number line evenly until the point 1 on the lower number line is below the point \\(a\\) on the upper number line—note that if \\(a < 0\\) then\r\n</markdown>",
    "Q": "Q: If \\(a = 4\\) and \\(b = -6\\), what is the result of \\(a + b\\) and how can it be interpreted on the number line?  \r\n",
    "A": "  \r\nA: The result of \\(a + b\\) is \\(4 + (-6) = -2\\). This can be interpreted on the number line as moving 6 units to the left from 4, which lands at the point \\(-2\\)."
  },
  {
    "page": 31,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nthe number line must be reflected in order for this to happen. Then \\( a \\cdot b \\) is the point on the upper number line lying above \\( b \\) on the lower number line.\r\n\r\nHere is an illustration of the fact that \\( 5 \\cdot 4 = 20 \\).\r\n\r\nand here is an illustration of the fact that \\( (-5) \\cdot 4 = -20 \\):\r\n\r\n### ✦ Exercise 0.26\r\nInterpret the operations of subtraction and division as geometric transformations of the real number line.\r\n\r\nWe will take for granted the arithmetic properties of the real numbers in this chapter, waiting until Section 9.1 to sink our teeth into the details. For example, we will take for granted the basic properties of rational numbers, for instance\r\n\r\n\\[\r\n\\frac{a}{b} + \\frac{c}{d} = \\frac{ad + bc}{bd} \\quad \\text{and} \\quad \\frac{a}{b} \\cdot \\frac{c}{d} = \\frac{ac}{bd}\r\n\\]\r\n\r\n## Rational and irrational numbers\r\n\r\nBefore we can talk about irrational numbers, we should say what they are.\r\n\r\n### ✦ Definition 0.27\r\nAn **irrational number** is a real number that is not rational.\r\n\r\nUnlike \\( \\mathbb{N}, \\mathbb{Z}, \\mathbb{Q}, \\mathbb{R}, \\mathbb{C} \\), there is no standard single letter expressing the irrational numbers. However, by the end of Section 2.2, we will be able to write the set of irrational numbers as \\( \\mathbb{R} \\setminus \\mathbb{Q} \\).\r\n\r\nNote in particular that ‘irrational’ does not simply mean ‘not rational’—that would imply that all complex numbers which are not real are irrational—rather, the term ‘irrational’ means ‘real and not rational’.\r\n</markdown>",
    "Q": "Q: If the product of a positive rational number \\( a \\) and a negative rational number \\( b \\) results in a negative number, how can this be represented on the number line, and what is the geometric interpretation of this multiplication? ",
    "A": " A: The product \\( a \\cdot b \\) reflects the point \\( b \\) on the number line, resulting in a point lying below zero, which is the visual representation of the negative product. For example, if \\( a = 5 \\) and \\( b = -4 \\), then \\( 5 \\cdot (-4) = -20 \\) is seen as moving from the origin towards \\( -20 \\) on the number line."
  },
  {
    "page": 32,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nProving that a real number is *irrational* is not particularly easy. We will get our foot in the door by allowing ourselves to assume the following result, which is restated and proved in Proposition 4.3.12.\r\n\r\n✣ **Proposition 0.28**  \r\nThe real number \\(\\sqrt{2}\\) is irrational.\r\n\r\nWe can use the fact that \\(\\sqrt{2}\\) is irrational to prove some facts about the relationship between rational numbers and irrational numbers.\r\n\r\n✣ **Proposition 0.29**  \r\nLet \\(a\\) and \\(b\\) be irrational numbers. It is possible that \\(ab\\) be rational.\r\n\r\n*Proof*  \r\nLet \\(a = b = \\sqrt{2}\\). Then \\(a\\) and \\(b\\) are irrational, and \\(ab = 2 = \\frac{2}{1}\\), which is rational.\r\n\r\n✐ **Exercise 0.30**  \r\nLet \\(r\\) be a rational number and let \\(a\\) be an irrational number. Prove that it is possible that \\(ra\\) be rational, and it is possible that \\(ra\\) be irrational.\r\n\r\n## Complex numbers (\\(\\mathbb{C}\\))\r\n\r\nWe have seen that multiplication by real numbers corresponds with scaling and reflection of the number line—scaling alone when the multiplicand is positive, and scaling with reflection when it is negative. We could alternatively interpret this reflection as a *rotation* by half a turn, since the effect on the number line is the same. You might then wonder what happens if we rotate by arbitrary angles, rather than only half turns.\r\n\r\nWhat we end up with is a *plane* of numbers, not merely a line—see Figure 1. Moreover, it happens that the rules that we expect arithmetic operations to satisfy still hold—addition corresponds with translation, and multiplication corresponds with scaling and rotation. This resulting number set is that of the *complex numbers*.\r\n\r\n✦ **Definition 0.31**  \r\nThe *complex numbers* are those obtained by the non-negative real numbers upon rotation by any angle about the point 0. We write \\(\\mathbb{C}\\) (LaTeX code: `\\mathbb{C}`) for the set of all complex numbers; thus, the notation ‘\\(z \\in \\mathbb{C}\\)’ means that \\(z\\) is a complex number.\r\n\r\nThere is a particularly important complex number, \\(i\\), which is the point in the complex plane exactly one unit above 0—this is illustrated in Figure 1. Multiplication by \\(i\\) has the effect of rotating the plane by a quarter turn anticlockwise. In particular, we have \\(i^2 = i \\cdot i = -1\\); the complex numbers have the astonishing property that square roots of *all* complex numbers exist (including all the real numbers).\r\n</markdown>",
    "Q": "Q: If \\( r \\) is a rational number and \\( a \\) is an irrational number, can you provide an example where \\( ra \\) is rational?   \r\n",
    "A": "  \r\nA: Yes, let \\( r = 0 \\) (a rational number) and \\( a \\) be any irrational number, for example \\( a = \\sqrt{2} \\). Then \\( ra = 0 \\cdot \\sqrt{2} = 0 \\), which is rational."
  },
  {
    "page": 34,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nIn fact, every complex number can be written in the form \\(a + bi\\), where \\(a, b \\in \\mathbb{R}\\); this number corresponds with the point on the complex plane obtained by moving \\(a\\) units to the right and \\(b\\) units up, reversing directions as usual if \\(a\\) or \\(b\\) is negative. Arithmetic on the complex numbers works just as with the real numbers; in particular, using the fact that \\(i^2 = -1\\), we obtain\r\n\r\n\\[\r\n(a + bi) + (c + di) = (a + c) + (b + d)i \\quad \\text{and} \\quad (a + bi) \\cdot (c + di) = (ac - bd) + (ad + bc)i\r\n\\]\r\n\r\nWe will discuss complex numbers further in the portion of this chapter on polynomials below.\r\n\r\n## Polynomials\r\n\r\nThe natural numbers, integers, rational numbers, real numbers and complex numbers are all examples of semirings, which means that they come equipped with nicely behaving notions of addition and multiplication.\r\n\r\n### Definition 0.32\r\nLet \\(\\mathbb{S} = \\mathbb{N}, \\mathbb{Z}, \\mathbb{Q}, \\mathbb{R}\\) or \\(\\mathbb{C}\\). A (univariate) polynomial over \\(\\mathbb{S}\\) in the indeterminate \\(x\\) is an expression of the form\r\n\r\n\\[\r\na_0 + a_1x + \\cdots + a_nx^n\r\n\\]\r\n\r\nwhere \\(n \\in \\mathbb{N}\\) and each \\(a_k \\in \\mathbb{S}\\). The numbers \\(a_k\\) are called the **coefficients** of the polynomial. If not all coefficients are zero, the largest value of \\(k\\) for which \\(a_k \\neq 0\\) is called the **degree** of the polynomial. By convention, the degree of the polynomial 0 is \\(-\\infty\\).\r\n\r\nPolynomials of degree 1, 2, 3, 4 and 5 are respectively called **linear**, **quadratic**, **cubic**, **quartic** and **quintic** polynomials.\r\n\r\n### Example 0.33\r\nThe following expressions are all polynomials:\r\n\r\n\\[\r\n3 \\quad 2x - 1 \\quad (3 + i)x^2 - x\r\n\\]\r\n\r\nTheir degrees are 0, 1 and 2, respectively. The first two are polynomials over \\(\\mathbb{Z}\\), and the third is a polynomial over \\(\\mathbb{C}\\).\r\n\r\n### Exercise 0.34\r\nWrite down a polynomial of degree 4 over \\(\\mathbb{R}\\) which is not a polynomial over \\(\\mathbb{Q}\\).\r\n\r\n### Notation 0.35\r\nInstead of writing out the coefficients of a polynomial each time, we may write something like \\(p(x)\\) or \\(q(x)\\). The ‘\\((x)\\)’ indicates that \\(x\\) is the indeterminate of the polynomial.\r\n</markdown>",
    "Q": "Q: Construct a polynomial of degree 4 over \\(\\mathbb{R}\\) which includes irrational coefficients and cannot be represented as a polynomial over \\(\\mathbb{Q}\\). ",
    "A": " A: One possible polynomial is \\(p(x) = \\sqrt{2}x^4 + (3 + \\sqrt{5})x^3 + 2x^2 + \\pi x + 7\\)."
  },
  {
    "page": 35,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nIf \\( \\alpha \\) is a number[^a] and \\( p(x) \\) is a polynomial in indeterminate \\( x \\), we write \\( p(\\alpha) \\) for the result of substituting \\( \\alpha \\) for \\( x \\) in the expression \\( p(x) \\).\r\n\r\nNote that, if \\( A \\) is any of the sets \\( \\mathbb{N}, \\mathbb{Z}, \\mathbb{Q}, \\mathbb{R} \\) or \\( \\mathbb{C} \\), and \\( p(x) \\) is a polynomial over \\( A \\), then \\( p(\\alpha) \\in A \\) for all \\( \\alpha \\in A \\).\r\n\r\n### Example 0.36\r\nLet \\( p(x) = x^3 - 3x^2 + 3x - 1 \\). Then \\( p(x) \\) is a polynomial over \\( \\mathbb{Z} \\) with indeterminate \\( x \\). For any integer \\( \\alpha \\), the value \\( p(\\alpha) \\) will also be an integer. For example\r\n\r\n\\[\r\np(0) = 0^3 - 3 \\cdot 0^2 + 3 \\cdot 0 - 1 = -1 \\quad \\text{and} \\quad p(3) = 3^3 - 3 \\cdot 3^2 + 3 \\cdot 3 - 1 = 8\r\n\\]\r\n\r\n### Definition 0.37\r\nLet \\( p(x) \\) be a polynomial. A **root** of \\( p(x) \\) is a complex number \\( \\alpha \\) such that \\( p(\\alpha) = 0 \\).\r\n\r\nThe quadratic formula ([Theorem 1.1.31](#)) tells us that the roots of the polynomial \\( x^2 + ax + b \\), where \\( a, b \\in \\mathbb{C} \\), are precisely the complex numbers\r\n\r\n\\[\r\n\\frac{-a + \\sqrt{a^2 - 4b}}{2} \\quad \\text{and} \\quad \\frac{-a - \\sqrt{a^2 - 4b}}{2}\r\n\\]\r\n\r\nNote our avoidance of the symbol ‘\\( \\pm \\)’, which is commonly found in discussions of quadratic polynomials. The symbol ‘\\( \\pm \\)’ is dangerous because it may suppress the word ‘and’ or the word ‘or’, depending on context—this kind of ambiguity is not something that we will want to deal with when discussing the logical structure of a proposition in [Chapter 1](#)!\r\n\r\n### Example 0.38\r\nLet \\( p(x) = x^2 - 2x + 5 \\). The quadratic formula tells us that the roots of \\( p \\) are\r\n\r\n\\[\r\n\\frac{2 + \\sqrt{4 - 4 \\cdot 5}}{2} = 1 + \\sqrt{-4} = 1 + 2i \\quad \\text{and} \\quad \\frac{2 - \\sqrt{4 - 4 \\cdot 5}}{2} = 1 - \\sqrt{-4} = 1 - 2i\r\n\\]\r\n\r\nThe numbers \\( 1 + 2i \\) and \\( 1 - 2i \\) are related in that their real parts are equal and their imaginary parts differ only by a sign. [Exercise 0.39](#) generalises this observation.\r\n\r\n### Exercise 0.39\r\nLet \\( \\alpha = a + bi \\) be a complex number, where \\( a, b \\in \\mathbb{R} \\). Prove that \\( \\alpha \\) is the root of a quadratic polynomial over \\( \\mathbb{R} \\), and find the other root of this polynomial.\r\n\r\n[^a]: When dealing with polynomials, we will typically reserve the letter \\( x \\) for the indeterminate variable, and use the Greek letters \\( \\alpha, \\beta, \\gamma \\) (LaTeX code: \\texttt{\\textbackslash alpha}, \\texttt{\\textbackslash beta}, \\texttt{\\textbackslash gamma}) for numbers to be substituted into a polynomial.\r\n</markdown>",
    "Q": "Q: If \\( \\alpha = 2 + 3i \\) is a root of a polynomial over \\( \\mathbb{R} \\), what is the other root of the quadratic polynomial that has \\( \\alpha \\) as one of its roots? ",
    "A": " A: The other root of the quadratic polynomial is \\( 2 - 3i \\)."
  },
  {
    "page": 36,
    "title": "0 Getting Started",
    "content": "<markdown>\r\nThe following exercise proves the well-known result which classifies the number of real roots of a polynomial over \\(\\mathbb{R}\\) in terms of its coefficients.\r\n\r\n### Exercise 0.40\r\nLet \\(a, b \\in \\mathbb{C}\\) and let \\(p(x) = x^2 + ax + b\\). The value \\(\\Delta = a^2 - 4b\\) is called the **discriminant** of \\(p\\). Prove that \\(p\\) has two roots if \\(\\Delta \\neq 0\\) and one root if \\(\\Delta = 0\\). Moreover, if \\(a, b \\in \\mathbb{R}\\), prove that \\(p\\) has no real roots if \\(\\Delta < 0\\), one real root if \\(\\Delta = 0\\), and two real roots if \\(\\Delta > 0\\).\r\n\r\n### Example 0.41\r\nConsider the polynomial \\(x^2 - 2x + 5\\). Its discriminant is equal to \\((-2)^2 - 4 \\cdot 5 = -16\\), which is negative. Exercise 0.40 tells us that it has two roots, neither of which are real. This was verified by Example 0.38, where we found that the roots of \\(x^2 - 2x + 5\\) are \\(1 + 2i\\) and \\(1 - 2i\\).\r\n\r\nNow consider the polynomial \\(x^2 - 2x - 3\\). Its discriminant is equal to \\((-2)^2 - 4 \\cdot (-3) = 16\\), which is positive. Exercise 0.40 tells us that it has two roots, both of which are real; and indeed\r\n\r\n\\[\r\nx^2 - 2x - 3 = (x + 1)(x - 3)\r\n\\]\r\n\r\nso the roots of \\(x^2 - 2x - 3\\) are \\(-1\\) and \\(3\\).\r\n</markdown>",
    "Q": "Q: For the polynomial \\(p(x) = x^2 + 4x + 5\\), calculate the discriminant and classify the number and type of its roots. ",
    "A": " A: The discriminant is \\(\\Delta = 4^2 - 4 \\cdot 5 = 16 - 20 = -4\\). Since \\(\\Delta < 0\\), the polynomial \\(p(x)\\) has no real roots."
  },
  {
    "page": 37,
    "title": "0 Getting Started/0.E Chapter 0 Exercises",
    "content": "<markdown>\r\n# Section 0.E\r\n\r\n## Chapter 0 exercises\r\n\r\n0.1. The video-sharing website *YouTube* assigns to each video a unique identifier, which is a string of 11 characters from the set\r\n\r\n\\[\r\n\\{A, B, \\ldots, Z, a, b, \\ldots, z, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -, \\_\\}\r\n\\]\r\n\r\nThis string is actually a natural number expressed in base-64, where the characters in the above set represent the numbers 0 through 63, in the same order—thus C represents 2, c represents 28, 3 represents 55, and \\_ represents 63. According to this schema, find the natural number whose base-64 expansion is dQw4w9WgXcQ, and find the base-64 expansion of the natural number 7 159 047 702 620 056 984.\r\n\r\n0.2. Let \\(a, b, c, d \\in \\mathbb{Z}\\). Under what conditions is \\((a + b\\sqrt{2})(c + d\\sqrt{2})\\) an integer?\r\n\r\n0.3. Suppose an integer \\(m\\) leaves a remainder of \\(i\\) when divided by 3, and an integer \\(n\\) leaves a remainder of \\(j\\) when divided by 3, where \\(0 \\leq i, j < 3\\). Prove that \\(m + n\\) and \\(i + j\\) leave the same remainder when divided by 3.\r\n\r\n0.4. What are the possible remainders of \\(n^2\\) when divided by 3, where \\(n \\in \\mathbb{Z}\\)?\r\n\r\n### Definition 0.E.1\r\nA set \\(X\\) is **closed** under an operation \\(\\odot\\) if, whenever \\(a\\) and \\(b\\) are elements of \\(X\\), \\(a \\odot b\\) is also an element of \\(X\\).\r\n\r\nIn Questions 0.5 to 0.11, determine which of the number sets \\(\\mathbb{N}, \\mathbb{Z}, \\mathbb{Q}\\) and \\(\\mathbb{R}\\) are closed under the operation \\(\\odot\\) defined in the question.\r\n\r\n0.5. \\(a \\odot b = a + b\\)\r\n\r\n0.6. \\(a \\odot b = a - b\\)\r\n\r\n0.7. \\(a \\odot b = (a - b)(a + b)\\)\r\n\r\n0.8. \\(a \\odot b = (a - 1)(b - 1) + 2(a + b)\\)\r\n\r\n0.9. \\(a \\odot b = \\frac{a}{b^2 + 1}\\)\r\n\r\n0.10. \\(a \\odot b = \\frac{a}{\\sqrt{b^2 + 1}}\\)\r\n\r\n0.11. \\(a \\odot b = \r\n\\begin{cases} \r\nab & \\text{if } b > 0 \\\\\r\n0 & \\text{if } b \\not\\in \\mathbb{Q}\r\n\\end{cases}\r\n\\)\r\n\r\n### Definition 0.E.2\r\nA complex number \\(\\alpha\\) is **algebraic** if \\(p(\\alpha) = 0\\) for some nonzero polynomial \\(p(x)\\) over \\(\\mathbb{Q}\\).\r\n\r\n0.12. Let \\(x\\) be a rational number. Prove that \\(x\\) is an algebraic number.\r\n</markdown>",
    "Q": "Q: Under what conditions is the product \\((a + b\\sqrt{2})(c + d\\sqrt{2})\\) a rational number? ",
    "A": " A: The product \\((a + b\\sqrt{2})(c + d\\sqrt{2})\\) is a rational number if \\(b\\) and \\(d\\) are both zero, or if \\(b\\) and \\(d\\) are such that the irrational parts cancel each other out, specifically, \\(ad + bc = 0\\)."
  },
  {
    "page": 39,
    "title": "0 Getting Started/0.E Chapter 0 Exercises",
    "content": "<markdown>\r\n0.30. Let \\( x \\in \\mathbb{R} \\) and assume that \\( x^2 \\in \\mathbb{Q} \\). Then \\( x \\in \\mathbb{Q} \\).\r\n\r\n0.31. Let \\( x \\in \\mathbb{R} \\) and assume that \\( x^2 + 1 \\in \\mathbb{Q} \\) and \\( x^5 + 1 \\in \\mathbb{Q} \\). Then \\( x \\in \\mathbb{Q} \\).\r\n\r\n0.32. Let \\( p(x) = ax^2 + bx + c \\) be a polynomial with \\( a, b, c \\in \\mathbb{R} \\) and \\( a \\neq 0 \\), and suppose that \\( u + vi \\) be a complex root of \\( p(x) \\) with \\( v \\neq 0 \\). Then \\( u - vi \\) is a root of \\( p(x) \\).\r\n</markdown>",
    "Q": "Q: If \\( x \\in \\mathbb{R} \\) and both \\( x^2 \\) and \\( x^4 + 2 \\in \\mathbb{Q} \\), what can be concluded about \\( x \\)? ",
    "A": " A: Since \\( x^2 \\in \\mathbb{Q} \\), it follows that \\( x \\in \\mathbb{Q} \\) as well."
  },
  {
    "page": 43,
    "title": "I Core Concepts/1 Logical Structure",
    "content": "<markdown>\r\n# Chapter 1\r\n\r\n## Logical structure\r\n\r\nThe goal of this chapter is to develop a methodical way of breaking up a proposition into smaller components and seeing how these components fit together—this is called the *logical structure* of a proposition. The logical structure of a proposition is very informative: it tells us what we need to do in order to prove it, what we need to write in order to communicate our proof, and how to explore the consequences of the proposition after it has been proved.\r\n\r\n```\r\nlogical structure of a proposition\r\n   /            |            \\\r\n  /             |             \\\r\n /              |              \\\r\nstrategies for  structure and   consequences of\r\nproving the     wording of      the proposition\r\nproposition     the proof\r\n```\r\n\r\n[Sections 1.1](#) and [1.2](#) are dedicated to developing a system of *symbolic logic* for reasoning about propositions. We will be able to represent a proposition using a string of variables and symbols, and this expression will guide how we can prove the proposition and explore its consequences. In [Section 1.3](#) we will develop techniques for manipulating these logical expressions algebraically—this, in turn, will yield new proof techniques (some have fancy names like ‘proof by contraposition’, but some do not).\r\n\r\nExploring how the logical structure of a proposition informs the structure and wording of its proof is the content of [Appendix A.2](#).\r\n</markdown>",
    "Q": "Q: How does understanding the logical structure of a proposition assist in the development of proof strategies?  \r\n",
    "A": "  \r\nA: Understanding the logical structure of a proposition allows one to break it into smaller components, which helps identify appropriate proof strategies, organize the wording of the proof, and explore the implications of the proposition once it is proven."
  },
  {
    "page": 44,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n## Section 1.1\r\n\r\n# Propositional logic\r\n\r\nEvery mathematical proof is written in the context of certain *assumptions* being made, and certain *goals* to be achieved.\r\n\r\n- **Assumptions** are the propositions which are known to be true, or which we are assuming to be true for the purposes of proving something. They include theorems that have already been proved, prior knowledge which is assumed of the reader, and assumptions which are explicitly made using words like ‘suppose’ or ‘assume’.\r\n\r\n- **Goals** are the propositions we are trying to prove in order to complete the proof of a result, or perhaps just a step in the proof.\r\n\r\nWith every phrase we write, our assumptions and goals change. This is perhaps best illustrated by example. In [Example 1.1.1](#), we will examine the proof of [Proposition 0.15](#) in detail, so that we can see how the words we wrote affected the assumptions and goals at each stage in the proof. We will indicate our assumptions and goals at any given stage using tables—the assumptions listed will only be those assumptions which are made explicitly; prior knowledge and previously proved theorems will be left implicit.\r\n\r\n✐ **Example 1.1.1**  \r\nThe statement of [Proposition 0.15](#) was as follows:\r\n\r\nLet \\( a, b, c \\in \\mathbb{Z} \\). If \\( c \\) divides \\( b \\) and \\( b \\) divides \\( a \\), then \\( c \\) divides \\( a \\).\r\n\r\nThe set-up of the proposition instantly gives us our initial assumptions and goals:\r\n\r\n| Assumptions     | Goals                                      |\r\n|-----------------|--------------------------------------------|\r\n| \\( a, b, c \\in \\mathbb{Z} \\) | If \\( c \\) divides \\( b \\) and \\( b \\) divides \\( a \\), then \\( c \\) divides \\( a \\) |\r\n\r\nWe will now proceed through the proof, line by line, to see what effect the words we wrote had on the assumptions and goals.\r\n\r\nSince our goal was an expression of the form ‘if… then…’, it made sense to start by assuming the ‘if’ statement, and using that assumption to prove the ‘then’ statement. As such, the first thing we wrote in our proof was:\r\n\r\nSuppose that \\( c \\) divides \\( b \\) and \\( b \\) divides \\( a \\).\r\n</markdown>",
    "Q": "Q: In the context of propositional logic, how would you define a proof in terms of assumptions and goals? ",
    "A": " A: A proof can be defined as a structured argument that starts with certain **assumptions** (propositions assumed to be true) and aims to demonstrate the validity of specific **goals** (propositions we want to prove) using logical reasoning."
  },
  {
    "page": 45,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nOur updated assumptions and goals are reflected in the following table.\r\n\r\n| Assumptions          | Goals        |\r\n|----------------------|--------------|\r\n| \\(a, b, c \\in \\mathbb{Z}\\) | \\(c\\) divides \\(a\\) |\r\n| \\(c\\) divides \\(b\\)  |              |\r\n| \\(b\\) divides \\(a\\)  |              |\r\n\r\nOur next step in the proof was to unpack the definitions of ‘\\(c\\) divides \\(b\\)’ and ‘\\(b\\) divides \\(a\\)’, giving us more to work with.\r\n\r\nSuppose that \\(c\\) divides \\(b\\) and \\(b\\) divides \\(a\\). By Definition 0.12, it follows that\r\n\r\n\\[ \r\nb = qc \\quad \\text{and} \\quad a = rb \r\n\\]\r\n\r\nfor some integers \\(q\\) and \\(r\\).\r\n\r\nThis introduces two new variables \\(q, r\\) and allows us to replace the assumptions ‘\\(c\\) divides \\(b\\)’ and ‘\\(b\\) divides \\(a\\)’ with their definitions.\r\n\r\n| Assumptions          | Goals        |\r\n|----------------------|--------------|\r\n| \\(a, b, c, q, r \\in \\mathbb{Z}\\) | \\(c\\) divides \\(a\\) |\r\n| \\(b = qc\\)           |              |\r\n| \\(a = rb\\)           |              |\r\n\r\nAt this point we have pretty much exhausted all of the assumptions we can make, and so our attention turns towards the goal—that is, we must prove that \\(c\\) divides \\(a\\). At this point, it helps to ‘work backwards’ by unpacking the goal: what does it mean for \\(c\\) to divide \\(a\\)? Well, by Definition 0.12, we need to prove that \\(a\\) is equal to some integer multiplied by \\(c\\)—this will be reflected in the following table of assumptions and goals.\r\n\r\nSince we are now trying to express \\(a\\) in terms of \\(c\\), it makes sense to use the equations we have relating \\(a\\) with \\(b\\), and \\(b\\) with \\(c\\), to relate \\(a\\) with \\(c\\).\r\n\r\nSuppose that \\(c\\) divides \\(b\\) and \\(b\\) divides \\(a\\). By Definition 0.12, it follows that\r\n\r\n\\[ \r\nb = qc \\quad \\text{and} \\quad a = rb \r\n\\]\r\n\r\nfor some integers \\(q\\) and \\(r\\). Using the first equation, we may substitute \\(qc\\) for \\(b\\) in the second equation, to obtain\r\n\r\n\\[ \r\na = r(qc) \r\n\\]\r\n</markdown>",
    "Q": "Q: If \\(c\\) divides \\(b\\) and \\(b\\) divides \\(a\\), what can we conclude about the relationship between \\(a\\) and \\(c\\) after substituting \\(b = qc\\) into the equation \\(a = rb\\)? ",
    "A": " A: We can conclude that \\(a = rq(c) = (rq)c\\), which shows that \\(c\\) divides \\(a\\) for some integer \\(rq\\)."
  },
  {
    "page": 46,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nWe are now very close, as indicated in the following table.\r\n\r\n| Assumptions          | Goals                      |\r\n|----------------------|----------------------------|\r\n| \\(a, b, c, q, r \\in \\mathbb{Z}\\) | \\(a = [\\text{some integer}] \\cdot c\\) |\r\n| \\(b = qc\\)           |                            |\r\n| \\(a = rb\\)           |                            |\r\n| \\(a = r(qc)\\)        |                            |\r\n\r\nOur final step was to observe that the goal has at last been achieved:\r\n\r\nSuppose that \\(c\\) divides \\(b\\) and \\(b\\) divides \\(a\\). By Definition 0.12, it follows that\r\n\r\n\\[ \r\nb = qc \\quad \\text{and} \\quad a = rb \r\n\\]\r\n\r\nfor some integers \\(q\\) and \\(r\\). Using the first equation, we may substitute \\(qc\\) for \\(b\\) in the second equation, to obtain\r\n\r\n\\[ \r\na = r(qc) \r\n\\]\r\n\r\nBut \\(r(qc) = (rq)c\\), and \\(rq\\) is an integer,\r\n\r\n| Assumptions          | Goals                      |\r\n|----------------------|----------------------------|\r\n| \\(a, b, c, q, r \\in \\mathbb{Z}\\) |                            |\r\n| \\(b = qc\\)           |                            |\r\n| \\(a = rb\\)           |                            |\r\n| \\(a = r(qc)\\)        |                            |\r\n| \\(a = (rq)c\\)        |                            |\r\n| \\(rq \\in \\mathbb{Z}\\) |                            |\r\n\r\nNow that there is nothing left to prove, it is helpful to reiterate that point so that the reader has some closure on the matter.\r\n\r\nSuppose that \\(c\\) divides \\(b\\) and \\(b\\) divides \\(a\\). By Definition 0.12, it follows that\r\n\r\n\\[ \r\nb = qc \\quad \\text{and} \\quad a = rb \r\n\\]\r\n\r\nfor some integers \\(q\\) and \\(r\\). Using the first equation, we may substitute \\(qc\\) for \\(b\\) in the second equation, to obtain\r\n\r\n\\[ \r\na = r(qc) \r\n\\]\r\n\r\nBut \\(r(qc) = (rq)c\\), and \\(rq\\) is an integer, so it follows from Definition 0.12 that \\(c\\) divides \\(a\\).\r\n</markdown>",
    "Q": "Q: If \\(c\\) divides \\(b\\) and \\(b\\) divides \\(a\\), what can we conclude about the divisibility of \\(c\\) with respect to \\(a\\)? ",
    "A": " A: It follows that \\(c\\) divides \\(a\\) since \\(a = (rq)c\\) for some integers \\(r\\) and \\(q\\), as shown in the derivation."
  },
  {
    "page": 47,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n## Symbolic logic\r\n\r\nConsider again the proposition that we proved in Proposition 0.15 (for given integers \\(a, b, c\\)):\r\n\r\n\\[ \r\n\\text{If } c \\text{ divides } b \\text{ and } b \\text{ divides } a, \\text{ then } c \\text{ divides } a.\r\n\\]\r\n\r\nThe three statements ‘\\(c\\) divides \\(b\\)’, ‘\\(b\\) divides \\(a\\)’ and ‘\\(c\\) divides \\(a\\)’ are all propositions in their own right, despite the fact that they all appear inside a more complex proposition. We can examine the logical structure of the proposition by replacing these simpler propositions with symbols, called *propositional variables*. Writing \\(P\\) to represent ‘\\(c\\) divides \\(b\\)’, \\(Q\\) to represent ‘\\(b\\) divides \\(a\\)’ and \\(R\\) to represent ‘\\(c\\) divides \\(a\\)’, we obtain:\r\n\r\n\\[ \r\n\\text{If } P \\text{ and } Q, \\text{ then } R.\r\n\\]\r\n\r\nBreaking down the proposition in this way makes it clear that a feasible way to prove it is to *assume* \\(P\\) and \\(Q\\), and then *derive* \\(R\\) from these assumptions—this is exactly what we did in the proof, which we examined in great detail in Example 1.1.1. But importantly, it suggests that the same proof strategy might work for other propositions which are also of the form ‘if \\(P\\) and \\(Q\\), then \\(R\\)’, such as the following proposition (for a given integer \\(n\\)):\r\n\r\n\\[ \r\n\\text{If } n > 2 \\text{ and } n \\text{ is prime, then } n \\text{ is odd.}\r\n\\]\r\n\r\nObserve that the simpler propositions are joined together to form a more complex proposition using language, namely the word ‘and’ and the construction ‘if... then...’—we will represent these constructions symbolically using *logical operators*, which will be introduced in Definition 1.1.3.\r\n\r\nZooming in even more closely, we can use Definition 0.12 to observe that ‘\\(c\\) divides \\(b\\)’ really means ‘\\(b = qc\\) for some \\(q \\in \\mathbb{Z}\\)’. The expression ‘for some \\(q \\in \\mathbb{Z}\\)’ introduces a new variable \\(q\\), which we must deal with appropriately in our proof. Words which we attach to variables in our proofs—such as ‘any’, ‘exists’, ‘all’, ‘some’, ‘unique’ and ‘only’—will be represented symbolically using *quantifiers*, which we will study in Section 1.2.\r\n\r\nBy breaking down a complex proposition into simpler statements which are connected together using logical operators and quantifiers, we can more precisely identify what assumptions we can make at any given stage in a proof of the proposition, and what steps are needed in order to finish the proof.\r\n</markdown>",
    "Q": "Q: In the context of symbolic logic, if we let \\(P\\) represent that \\(n > 2\\), \\(Q\\) represent that \\(n\\) is prime, and \\(R\\) represent that \\(n\\) is odd, what would the symbolic representation of the proposition \"If \\(n > 2\\) and \\(n\\) is prime, then \\(n\\) is odd.\" be?  \r\n",
    "A": "  \r\nA: The symbolic representation would be: \\( \\text{If } P \\text{ and } Q, \\text{ then } R \\)."
  },
  {
    "page": 48,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n## Propositional formulae\r\n\r\nWe begin our development of symbolic logic with some definitions to fix our terminology.\r\n\r\n✦ **Definition 1.1.2**  \r\nA **propositional variable** is a symbol that represents a proposition. Propositional variables may be assigned **truth values** (‘true’ or ‘false’).\r\n\r\nWe will typically use the lower-case letters \\( p, q, r \\) and \\( s \\) as our propositional variables.\r\n\r\nWe will be able to form more complex expressions representing propositions by connecting together simpler ones using **logical operators** such as \\(\\land\\) (which represents ‘and’), \\(\\lor\\) (which represents ‘or’), \\(\\Rightarrow\\) (which represents ‘if…then…’) and \\(\\lnot\\) (which represents ‘not’).\r\n\r\nThe definition of the notions of **logical operator** and **propositional formula** given below is a little bit difficult to digest, so it is best understood by considering examples of propositional formulae and instances of logical operators. Fortunately we will see plenty of these, since they are the central objects of study for the rest of this section.\r\n\r\n✦ **Definition 1.1.3**  \r\nA **propositional formula** is an expression that is either a propositional variable, or is built up from simpler propositional formulae (‘subformulae’) using a **logical operator**. In the latter case, the truth value of the propositional formula is determined by the truth values of the subformulae according to the rules of the logical operator.\r\n\r\nOn first sight, **Definition 1.1.3** seems circular—it defines the term ‘propositional formula’ in terms of propositional formulae! But in fact it is not circular; it is an example of a **recursive** definition (we avoid circularity with the word ‘simpler’). To illustrate, consider the following example of a propositional formula:\r\n\r\n\\[\r\n(p \\land q) \\Rightarrow r\r\n\\]\r\n\r\nThis expression represents a proposition of the form ‘if \\( p \\) and \\( q \\), then \\( r \\)’, where \\( p, q, r \\) are themselves propositions. It is built from the subformula \\( p \\land q \\) and \\( r \\) using the logical operator \\(\\Rightarrow\\), and \\( p \\land q \\) is itself built up from the subformulae \\( p \\) and \\( q \\) using the logical operator \\(\\land\\).\r\n\r\nThe truth value of \\((p \\land q) \\Rightarrow r\\) is then determined by the truth values of the constituent propositional variables (\\( p, q \\) and \\( r \\)) according to the rules for the logical operators \\(\\land\\) and \\(\\Rightarrow\\).\r\n</markdown>",
    "Q": "Q: What is the truth value of the propositional formula \\((p \\land q) \\Rightarrow r\\) when \\( p \\) is true, \\( q \\) is true, and \\( r \\) is false? ",
    "A": " A: The truth value is false, as \\( p \\land q \\) is true while \\( r \\) is false, making \\((p \\land q) \\Rightarrow r\\) false."
  },
  {
    "page": 49,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nIf this all seems a bit abstract, that is because it *is* abstract, and you are forgiven if it makes no sense to you yet. From this point onwards, we will only study particular instances of logical operators, which will make it all much easier to understand.\r\n\r\n## Conjunction (‘and’, ∧)\r\n\r\nConjunction is the logical operator which makes precise what we mean when we say ‘and’.\r\n\r\n✦ **Definition 1.1.4**  \r\nThe **conjunction** operator is the logical operator ∧ (LaTeX code: `\\wedge`), defined according to the following rules:\r\n\r\n- (∧I) If *p* is true and *q* is true, then *p* ∧ *q* is true;\r\n- (∧E₁) If *p* ∧ *q* is true, then *p* is true;\r\n- (∧E₂) If *p* ∧ *q* is true, then *q* is true.\r\n\r\nThe expression *p* ∧ *q* represents ‘*p* and *q*’.\r\n\r\nIt is not always obvious when conjunction is being used; sometimes it sneaks in without the word ‘and’ ever being mentioned! Be on the look-out for occasions like this, such as in the following exercise.\r\n\r\n✎ **Example 1.1.5**  \r\nWe can express the proposition ‘7 is a prime factor of 28’ in the form *p* ∧ *q*, by letting *p* represent the proposition ‘7 is prime’ and letting *q* represent the proposition ‘7 divides 28’.\r\n\r\n✎ **Exercise 1.1.6**  \r\nExpress the proposition ‘John is a mathematician who lives in Pittsburgh’ in the form *p* ∧ *q*, for propositions *p* and *q*.\r\n\r\nThe rules in **Definition 1.1.4** are examples of **rules of inference**—they tell us how to deduce (or ‘infer’) the truth of one propositional formula from the truth of other propositional formulae. In particular, rules of inference never directly tell us when a proposition is *false*—in order to prove something is false, we will prove its negation is true (see **Definition 1.1.37**).\r\n\r\nRules of inference tell us how to use the logical structure of propositions in proofs:\r\n\r\n- The rule (∧I) is an **introduction rule**, meaning that it tells us how to **prove a goal of**\r\n</markdown>",
    "Q": "Q: How can the proposition \"It is raining and it is cold\" be expressed in the form \\( p \\wedge q \\)? ",
    "A": " A: Let \\( p \\) represent the proposition \"It is raining\" and \\( q \\) represent the proposition \"It is cold\", so the expression can be written as \\( p \\wedge q \\)."
  },
  {
    "page": 51,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nTo avoid drawing this process out too long, we need a compact way of expressing rules of inference that allows us to simply read off corresponding proof strategies. We could use tables of assumptions and goals like in Example 1.1.1, but this quickly becomes clunky—indeed, even the very simple conjunction introduction rule (\\(\\land I\\)) doesn’t look very nice in this format:\r\n\r\n| Assumptions | Goals   | Assumptions | Goals |\r\n|-------------|---------|-------------|-------|\r\n| ...         | \\(p \\land q\\) | ...         | \\(p\\)   |\r\n| ...         |         | ...         | \\(q\\)   |\r\n\r\nInstead, we will represent rules of inference in the style of natural deduction. In this style, we write the premises \\(p_1, p_2, \\ldots, p_k\\) of a rule above a line, with a single conclusion \\(q\\) below the line, representing the assertion that the truth of a proposition \\(q\\) follows from the truth of (all of) the premises \\(p_1, p_2, \\ldots, p_k\\).\r\n\r\n\\[\r\n\\frac{p_1 \\quad p_2 \\quad \\cdots \\quad p_k}{q}\r\n\\]\r\n\r\nFor instance, the introduction and elimination rules for conjunction can be expressed concisely as follows:\r\n\r\n\\[\r\n\\frac{p \\quad q}{p \\land q} \\quad (\\land I) \\quad \\frac{p \\land q}{p} \\quad (\\land E_1) \\quad \\frac{p \\land q}{q} \\quad (\\land E_2)\r\n\\]\r\n\r\nIn addition to its clean and compact nature, this way of writing rules of inference is useful because we can combine them into proof trees in order to see how to prove more complicated propositions. For example, consider the following proof tree, which combines two instances of the conjunction introduction rule.\r\n\r\n\\[\r\n\\frac{\\frac{p \\quad q}{p \\land q} \\quad r}{(p \\land q) \\land r}\r\n\\]\r\n\r\nFrom this proof tree, we obtain a strategy for proving a proposition of the form \\((p \\land q) \\land r\\). Namely, first prove \\(p\\) and prove \\(q\\), to conclude \\(p \\land q\\); and then prove \\(r\\), to conclude \\((p \\land q) \\land r\\). This illustrates that the logical structure of a proposition informs how we may structure a proof of the proposition.\r\n</markdown>",
    "Q": "Q: How can the proof tree for deriving the conclusion \\((p \\land q) \\land r\\) be further expanded to include a new premise \\(s\\) while still maintaining the original structure?  \r\n",
    "A": "  \r\nA: The proof tree can be expanded as follows:  \r\n\r\n\\[\r\n\\frac{\\frac{p \\quad q}{p \\land q} \\quad r \\quad s}{(p \\land q) \\land r \\land s}\r\n\\]\r\n\r\nThis indicates that to prove \\((p \\land q) \\land r \\land s\\), one would first prove \\(p\\) and \\(q\\) to conclude \\(p \\land q\\), then prove \\(r\\) and \\(s\\) to finally conclude \\((p \\land q) \\land r \\land s\\)."
  },
  {
    "page": 52,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n### Exercise 1.1.11\r\n\r\nWrite a proof tree whose conclusion is the propositional formula \\((p \\land q) \\land (r \\land s)\\), where \\(p, q, r, s\\) are propositional variables. Express ‘2 is an even prime number and 3 is an odd prime number’ in the form \\((p \\land q) \\land (r \\land s)\\), for appropriate propositions \\(p, q, r\\) and \\(s\\), and describe how your proof tree suggests what a proof might look like.\r\n\r\n### Disjunction (‘or’, \\(\\vee\\))\r\n\r\n✦ **Definition 1.1.12**  \r\nThe **disjunction** operator is the logical operator \\(\\vee\\) (LaTeX code: `\\vee`), defined according to the following rules:\r\n\r\n- (∨I₁) If \\(p\\) is true, then \\(p \\vee q\\) is true;\r\n- (∨I₂) If \\(q\\) is true, then \\(p \\vee q\\) is true;\r\n- (∨E) If \\(p \\vee q\\) is true, and if \\(r\\) can be derived from \\(p\\) and from \\(q\\), then \\(r\\) is true.\r\n\r\nThe expression \\(p \\vee q\\) represents ‘\\(p\\) or \\(q\\)’.\r\n\r\nThe introduction and elimination rules for disjunction are represented diagrammatically as follows.\r\n\r\n\\[\r\n\\begin{array}{c}\r\n\\frac{p}{p \\vee q} (\\vee I_1) \\quad \\frac{q}{p \\vee q} (\\vee I_2) \\\\\r\n\\begin{array}{c}\r\n[p] \\quad [q] \\\\\r\n\\downarrow \\quad \\downarrow \\\\\r\nr \\quad r\r\n\\end{array} \\quad \\frac{p \\vee q}{r} (\\vee E)\r\n\\end{array}\r\n\\]\r\n\r\nWe will discuss what the notation \\([p] \\leadsto r\\) and \\([q] \\leadsto r\\) means momentarily. First, we zoom in on how the disjunction introduction rules inform proofs of propositions of the form ‘\\(p\\) or \\(q\\)’.\r\n\r\n✶ **Strategy 1.1.13 (Proving disjunctions)**  \r\nIn order to prove a proposition of the form \\(p \\vee q\\), it suffices to prove just one of \\(p\\) or \\(q\\).\r\n\r\n✐ **Example 1.1.14**  \r\nSuppose we want prove that 8192 is not divisible by 3. We know by the division theorem (Theorem 0.18) that an integer is not divisible by 3 if and only if it leaves a remainder of 1 or 2 when divided by 3, and so it suffices to prove the following:\r\n\r\n\\[ \r\n8192 \\text{ leaves a remainder of 1 when divided by 3} \\vee 8192 \\text{ leaves a remainder of 2 when divided by 3} \r\n\\]\r\n</markdown>",
    "Q": "Q: How can we express the proposition \"Either 2 is an even prime number or 5 is a prime number\" using the disjunction operator \\(\\vee\\), and what are the appropriate propositions for \\(p\\) and \\(q\\)? ",
    "A": " A: We can express the proposition as \\(p \\vee q\\), where \\(p\\) is \"2 is an even prime number\" and \\(q\\) is \"5 is a prime number\". Thus, the expression is \\( (p \\vee q) \\)."
  },
  {
    "page": 53,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nA quick computation reveals that \\(8192 = 2730 \\times 3 + 2\\), so that 8192 leaves a remainder of 2 when divided by 3. By [Strategy 1.1.13](#), the proof is now complete, since the full disjunction follows by (\\(\\vee\\)12).\r\n\r\n### Example 1.1.15\r\n\r\nLet \\(p, q, r, s\\) be propositional variables. The propositional formula \\((p \\vee q) \\land (r \\vee s)\\) represents ‘\\(p\\) or \\(q\\), and \\(r\\) or \\(s\\)’. What follows are two examples of truth trees for this propositional formula.\r\n\r\n\\[\r\n\\begin{array}{c}\r\n\\frac{p}{p \\vee q} \\quad (\\vee 11) \\quad \\frac{r}{r \\vee s} \\quad (\\vee 11) \\\\\r\n\\hline\r\n(p \\vee q) \\land (r \\vee s) \\quad (\\land I)\r\n\\end{array}\r\n\\]\r\n\r\n\\[\r\n\\begin{array}{c}\r\n\\frac{q}{p \\vee q} \\quad (\\vee 12) \\quad \\frac{s}{r \\vee s} \\quad (\\vee 12) \\\\\r\n\\hline\r\n(p \\vee q) \\land (r \\vee s) \\quad (\\land I)\r\n\\end{array}\r\n\\]\r\n\r\nThe proof tree on the left suggests the following proof strategy for \\((p \\vee q) \\land (r \\vee s)\\). First prove \\(p\\), and deduce \\(p \\vee q\\); then prove \\(r\\), and deduce \\(r \\vee s\\); and finally deduce \\((p \\vee q) \\land (r \\vee s)\\). The proof tree on the right suggests a different strategy, where \\(p \\vee q\\) is deduced by proving \\(q\\) instead of \\(p\\), and \\(r \\vee s\\) is deduced by proving \\(s\\) instead of \\(r\\).\r\n\r\nSelecting which (if any) of these to use in a proof might depend on what we are trying to prove. For example, for a fixed natural number \\(n\\), let \\(p\\) represent ‘\\(n\\) is even’, let \\(q\\) represent ‘\\(n\\) is odd’, let \\(r\\) represent ‘\\(n \\geq 2\\)’ and let \\(s\\) represent ‘\\(n\\) is a perfect square’. Proving \\((p \\vee q) \\land (r \\vee s)\\) when \\(n = 2\\) would be most easily done using the left-hand proof tree above, since \\(p\\) and \\(r\\) are evidently true when \\(n = 2\\). However, the second proof tree would be more appropriate for proving \\((p \\vee q) \\land (r \\vee s)\\) when \\(n = 1\\).\r\n\r\n### Aside\r\n\r\nIf you haven’t already mixed up \\(\\land\\) and \\(\\vee\\), you probably will soon, so here’s a way of remembering which is which:\r\n\r\n**fish n chips**\r\n\r\nIf you forget whether it’s \\(\\land\\) or \\(\\vee\\) that means ‘and’, just write it in place of the ‘n’ in ‘fish n chips’:\r\n\r\n- fish \\(\\land\\) chips\r\n- fish \\(\\vee\\) chips\r\n\r\nClearly the first looks more correct, so \\(\\land\\) means ‘and’. If you don’t eat fish (or chips), then worry not, as this mnemonic can be modified to accommodate a wide variety of dietary restrictions; for instance ‘mac n cheese’ or ‘quinoa n kale’ or, for the meat lovers, ‘ribs n brisket’.\r\n\r\nRecall the diagrammatic statement of the disjunction elimination rule:\r\n</markdown>",
    "Q": "Q: Given the propositional variables \\(p\\), \\(q\\), \\(r\\), and \\(s\\), if \\(n = 4\\), which proof tree would be most suitable for proving \\((p \\vee q) \\land (r \\vee s)\\) and why? ",
    "A": " A: The left-hand proof tree would be most suitable because \\(p\\) (4 is even) and \\(r\\) (4 is greater than or equal to 2) are both true when \\(n = 4\\)."
  },
  {
    "page": 54,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nThe curious notation \\([p] \\leadsto r\\) indicates that \\(p\\) is a temporary assumption. In the part of the proof corresponding to \\([p] \\leadsto r\\), we would assume that \\(p\\) is true and derive \\(r\\) from that assumption, and remove the assumption that \\(p\\) is true from that point onwards. Likewise for \\([q] \\leadsto r\\).\r\n\r\nThe proof strategy obtained from the disjunction elimination rule is called proof by cases.\r\n\r\n### Strategy 1.1.16 (Assuming disjunctions—proof by cases)\r\nIf an assumption in a proof has the form \\(p \\lor q\\), then we may derive a proposition \\(r\\) by splitting into two cases: first, derive \\(r\\) from the temporary assumption that \\(p\\) is true, and then derive \\(r\\) from the assumption that \\(q\\) is true.\r\n\r\nThe following example illustrates how Strategies 1.1.13 and 1.1.16 can be used together in a proof.\r\n\r\n### Example 1.1.17\r\nLet \\(n\\) be a positive proper factor of 4, and suppose we want to prove that \\(n\\) is either even or a perfect square.\r\n\r\n- Our assumption that \\(n\\) is a positive proper factor of 4 can be expressed as the disjunction \\(n = 1 \\lor n = 2\\).\r\n\r\n- Our goal is to prove the disjunction ‘\\(n\\) is even \\(\\lor\\) \\(n\\) is a perfect square’.\r\n\r\nAccording to Strategy 1.1.16, we split into two cases, one in which \\(n = 1\\) and one in which \\(n = 2\\). In each case, we must derive ‘\\(n\\) is even \\(\\lor\\) \\(n\\) is a perfect square’, for which it suffices by Strategy 1.1.13 to derive either that \\(n\\) is even or that \\(n\\) is a perfect square. Thus a proof might look something like this:\r\n\r\nSince \\(n\\) is a positive proper factor of 4, either \\(n = 1\\) or \\(n = 2\\).\r\n\r\n- **Case 1.** Suppose \\(n = 1\\). Then since \\(1^2 = 1\\) we have \\(n = 1^2\\), so that \\(n\\) is a perfect square.\r\n\r\n- **Case 2.** Suppose \\(n = 2\\). Then since \\(2 = 2 \\times 1\\), we have that \\(n\\) is even.\r\n\r\nHence \\(n\\) is either even or a perfect square.\r\n</markdown>",
    "Q": "Q: If \\(n\\) is a positive proper factor of 6, use proof by cases to show that \\(n\\) is either even or a perfect square. ",
    "A": " A: The proper factors of 6 are 1, 2, and 3, which can be expressed as the disjunction \\(n = 1 \\lor n = 2 \\lor n = 3\\). We split into cases:\r\n- **Case 1:** If \\(n = 1\\), then \\(1\\) is \\(1^2\\), making \\(n\\) a perfect square.\r\n- **Case 2:** If \\(n = 2\\), then \\(n\\) is even.\r\n- **Case 3:** If \\(n = 3\\), since \\(3\\) is neither even nor a perfect square, it does not satisfy the condition.\r\n\r\nThus in this case, we only need to consider \\(n = 1\\) and \\(n = 2\\), confirming that \\(n\\) is either even or a perfect square."
  },
  {
    "page": 55,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nNotice that in both Case 1 and Case 2, we did not explicitly mention that we had proved that ‘\\( n \\) is even \\(\\lor n\\) is a perfect square’, leaving that deduction to the reader—we only mentioned it after the proofs in each case were complete.\r\n\r\nThe proof of [Proposition 1.1.18](#) below splits into three cases, rather than just two.\r\n\r\n### Proposition 1.1.18\r\nLet \\( n \\in \\mathbb{Z} \\). Then \\( n^2 \\) leaves a remainder of 0 or 1 when divided by 3.\r\n\r\n**Proof**  \r\nLet \\( n \\in \\mathbb{Z} \\). By the division theorem ([Theorem 0.18](#)), one of the following must be true for some \\( k \\in \\mathbb{Z} \\):\r\n\r\n\\[ n = 3k \\quad \\text{or} \\quad n = 3k + 1 \\quad \\text{or} \\quad n = 3k + 2 \\]\r\n\r\n- Suppose \\( n = 3k \\). Then\r\n\r\n  \\[\r\n  n^2 = (3k)^2 = 9k^2 = 3 \\cdot (3k^2)\r\n  \\]\r\n\r\n  So \\( n^2 \\) leaves a remainder of 0 when divided by 3.\r\n\r\n- Suppose \\( n = 3k + 1 \\). Then\r\n\r\n  \\[\r\n  n^2 = (3k + 1)^2 = 9k^2 + 6k + 1 = 3(3k^2 + 2k) + 1\r\n  \\]\r\n\r\n  So \\( n^2 \\) leaves a remainder of 1 when divided by 3.\r\n\r\n- Suppose \\( n = 3k + 2 \\). Then\r\n\r\n  \\[\r\n  n^2 = (3k + 2)^2 = 9k^2 + 12k + 4 = 3(3k^2 + 4k + 1) + 1\r\n  \\]\r\n\r\n  So \\( n^2 \\) leaves a remainder of 1 when divided by 3.\r\n\r\nIn all cases, \\( n^2 \\) leaves a remainder of 0 or 1 when divided by 3. □\r\n\r\nNote that in the proof of [Proposition 1.1.18](#), unlike in [Example 1.1.17](#), we did not explicitly use the word ‘case’, even though we were using proof by cases. Whether or not to make your proof strategies explicit is up to you—discussion of this kind of matter can be found in [Appendix A.2](#).\r\n\r\nWhen completing the following exercises, try to keep track of exactly where you use the introduction and elimination rules that we have seen so far.\r\n\r\n### Exercise 1.1.19\r\nLet \\( n \\) be an integer. Prove that \\( n^2 \\) leaves a remainder of 0, 1 or 4 when divided by 5.\r\n\r\n### Exercise 1.1.20\r\nLet \\( a, b \\in \\mathbb{R} \\) and suppose \\( a^2 - 4b \\neq 0 \\). Let \\( \\alpha \\) and \\( \\beta \\) be the (distinct) roots of the polynomial \\( x^2 + ax + b \\). Prove that there is a real number \\( c \\) such that either \\( \\alpha - \\beta = c \\) or \\( \\alpha - \\beta = ci \\).\r\n</markdown>",
    "Q": "Q: Can you prove that \\( n^2 \\) leaves a remainder of 0, 1, or 4 when divided by 5, using a similar approach as in Proposition 1.1.18? ",
    "A": " A: Let \\( n \\in \\mathbb{Z} \\). According to the division theorem, we have \\( n = 5k \\), \\( n = 5k + 1 \\), \\( n = 5k + 2 \\), \\( n = 5k + 3 \\), or \\( n = 5k + 4 \\) for some \\( k \\in \\mathbb{Z} \\).\r\n\r\n- If \\( n = 5k \\), then \\( n^2 = (5k)^2 = 25k^2 \\), leaving a remainder of 0 when divided by 5.\r\n\r\n- If \\( n = 5k + 1 \\), then \\( n^2 = (5k + 1)^2 = 25k^2 + 10k + 1 \\), leaving a remainder of 1 when divided by 5.\r\n\r\n- If \\( n = 5k + 2 \\), then \\( n^2 = (5k + 2)^2 = 25k^2 + 20k + 4 \\), leaving a remainder of 4 when divided by 5.\r\n\r\n- If \\( n = 5k + 3 \\), then \\( n^2 = (5k + 3)^2 = 25k^2 + 30k + 9 \\), leaving a remainder of 4 when divided by 5.\r\n\r\n- If \\( n = 5k + 4 \\), then \\( n^2 = (5k + 4)^2 = 25k^2 + 40k + 16 \\), leaving a remainder of 1 when divided by 5.\r\n\r\nThus, \\( n^2 \\) leaves a remainder of 0, 1, or 4 when divided by 5."
  },
  {
    "page": 56,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n## Implication (‘if…then…’, ⇒)\r\n\r\n### Definition 1.1.21\r\nThe **implication** operator is the logical operator ⇒ (LaTeX code: \\(\\Rightarrow\\)), defined according to the following rules:\r\n\r\n- (⇒I) If \\(q\\) can be derived from the assumption that \\(p\\) is true, then \\(p \\Rightarrow q\\) is true;\r\n- (⇒E) If \\(p \\Rightarrow q\\) is true and \\(p\\) is true, then \\(q\\) is true.\r\n\r\nThe expression \\(p \\Rightarrow q\\) represents ‘if \\(p\\), then \\(q\\)’.\r\n\r\n\\[\r\n\\begin{array}{c}\r\n[p] \\\\\r\n\\downarrow \\\\\r\n\\frac{q}{p \\Rightarrow q} \\; (\\Rightarrow I) \\quad \\frac{p \\Rightarrow q \\quad p}{q} \\; (\\Rightarrow E)\r\n\\end{array}\r\n\\]\r\n\r\n### Strategy 1.1.22 (Proving implications)\r\nIn order to prove a proposition of the form \\(p \\Rightarrow q\\), it suffices to assume that \\(p\\) is true, and then derive \\(q\\) from that assumption.\r\n\r\nThe following proposition illustrates how Strategy 1.1.22 can be used in a proof.\r\n\r\n### Proposition 1.1.23\r\nLet \\(x\\) and \\(y\\) be real numbers. If \\(x\\) and \\(x+y\\) are rational, then \\(y\\) is rational.\r\n\r\n**Proof**  \r\nSuppose \\(x\\) and \\(x+y\\) are rational. Then there exist integers \\(a, b, c, d\\) with \\(b, d \\neq 0\\) such that\r\n\r\n\\[\r\nx = \\frac{a}{b} \\quad \\text{and} \\quad x+y = \\frac{c}{d}\r\n\\]\r\n\r\nIt then follows that\r\n\r\n\\[\r\ny = (x+y) - x = \\frac{c}{d} - \\frac{a}{b} = \\frac{bc - ad}{bd}\r\n\\]\r\n\r\nSince \\(bc - ad\\) and \\(bd\\) are integers, and \\(bd \\neq 0\\), it follows that \\(y\\) is rational.\r\n\r\nThe key phrase in the above proof was ‘Suppose \\(x\\) and \\(x+y\\) are rational.’ This introduced the assumptions \\(x \\in \\mathbb{Q}\\) and \\(x+y \\in \\mathbb{Q}\\), and reduced our goal to that of deriving a proof that \\(y\\) is rational—this was the content of the rest of the proof.\r\n</markdown>",
    "Q": "Q: If \\(x\\) is a rational number and \\(y\\) is an irrational number, what can be said about \\(x + y\\)? ",
    "A": " A: If \\(x\\) is rational and \\(y\\) is irrational, then \\(x+y\\) is irrational."
  },
  {
    "page": 57,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n### Exercise 1.1.24\r\n\r\nLet \\( p(x) \\) be a polynomial over \\( \\mathbb{C} \\). Prove that if \\(\\alpha\\) is a root of \\( p(x) \\), and \\( a \\in \\mathbb{C} \\), then \\(\\alpha\\) is a root of \\((x-a)p(x)\\).\r\n\r\nThe elimination rule for implication (\\(\\Rightarrow \\mathcal{E}\\)) is more commonly known by the Latin name *modus ponens*.\r\n\r\n### Strategy 1.1.25 (Assuming implications—modus ponens)\r\n\r\nIf an assumption in a proof has the form \\( p \\Rightarrow q \\), and \\( p \\) is also assumed to be true, then we may deduce that \\( q \\) is true.\r\n\r\n**Strategy 1.1.16** is frequently used to reduce a more complicated goal to a simpler one. Indeed, if we know that \\( p \\Rightarrow q \\) is true, and if \\( p \\) is easy to verify, then it allows us to prove \\( q \\) by proving \\( p \\) instead.\r\n\r\n### Example 1.1.26\r\n\r\nLet \\( f(x) = x^2 + ax + b \\) be a polynomial with \\( a, b \\in \\mathbb{R} \\), and let \\(\\Delta = a^2 - 4b\\) be its discriminant. Part of Exercise 0.40 was to prove that:\r\n\r\n(i) If \\(\\Delta > 0\\), then \\( f \\) has two real roots;\r\n\r\n(ii) If \\(\\Delta = 0\\), then \\( f \\) has one real root;\r\n\r\n(iii) If \\(\\Delta < 0\\), then \\( f \\) has no real roots.\r\n\r\nGiven the polynomial \\( f(x) = x^2 - 68x + 1156 \\), it would be a pain to go through the process of solving the equation \\( f(x) = 0 \\) in order to determine how many real roots \\( f \\) has. However, each of the propositions (i), (ii) and (iii) take the form \\( p \\Rightarrow q \\), so **Strategy 1.1.25** reduces the problem of finding how many real roots \\( f \\) has to that of evaluating \\(\\Delta\\) and comparing it with 0. And indeed, \\((-68)^2 - 4 \\times 1156 = 0\\), so the implication (ii) together with (\\(\\Rightarrow \\mathcal{E}\\)) tell us that \\( f \\) has one real root.\r\n\r\nA common task faced by mathematicians is to prove that two conditions are equivalent. For example, given a polynomial \\( f(x) = x^2 + ax + b \\) with \\( a, b \\in \\mathbb{R} \\), we know that if \\( a^2 - 4b > 0 \\) then \\( f \\) has two real roots, but is it also true that if \\( f \\) has two real roots then \\( a^2 - 4b > 0 \\)? (The answer is ‘yes’.) The relationship between these two implications is that each is the *converse* of the other.\r\n\r\n### Definition 1.1.27\r\n\r\nThe *converse* of a proposition of the form \\( p \\Rightarrow q \\) is the proposition \\( q \\Rightarrow p \\).\r\n\r\nA quick remark on terminology is pertinent. The following table summarises some common ways of referring to the propositions ‘\\( p \\Rightarrow q \\)’ and ‘\\( q \\Rightarrow p \\)’.\r\n</markdown>",
    "Q": "Q: If \\( f(x) = x^2 + ax + b \\) and we know \\( f \\) has two real roots, how can we conclude about the value of the discriminant \\( \\Delta \\)? ",
    "A": " A: If \\( f \\) has two real roots, then the discriminant \\( \\Delta = a^2 - 4b \\) must be greater than zero, i.e., \\( \\Delta > 0 \\)."
  },
  {
    "page": 58,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n| \\(p \\Rightarrow q\\) | \\(q \\Rightarrow p\\) |\r\n|---------------------|---------------------|\r\n| if \\(p\\), then \\(q\\) | if \\(q\\), then \\(p\\) |\r\n| \\(p\\) only if \\(q\\) | \\(p\\) if \\(q\\) |\r\n| \\(p\\) is sufficient for \\(q\\) | \\(p\\) is necessary for \\(q\\) |\r\n\r\nWe so often encounter the problem of proving both an implication and its converse that we introduce a new logical operator that represents the conjunction of both.\r\n\r\n✦ **Definition 1.1.28**  \r\nThe biconditional operator is the logical operator \\(\\Leftrightarrow\\) (LaTeX code: `\\Leftrightarrow`), defined by declaring \\(p \\Leftrightarrow q\\) to mean \\((p \\Rightarrow q) \\land (q \\Rightarrow p)\\). The expression \\(p \\Leftrightarrow q\\) represents ‘\\(p\\) if and only if \\(q\\)’.\r\n\r\nMany examples of biconditional statements come from solving equations; indeed, to say that the values \\(\\alpha_1, \\ldots, \\alpha_n\\) are the solutions to a particular equation is precisely to say that\r\n\r\n\\[ x \\text{ is a solution} \\quad \\Leftrightarrow \\quad x = \\alpha_1 \\text{ or } x = \\alpha_2 \\text{ or } \\cdots \\text{ or } x = \\alpha_n \\]\r\n\r\n✐ **Example 1.1.29**  \r\nWe find all real solutions \\(x\\) to the equation\r\n\r\n\\[\r\n\\sqrt{x-3} + \\sqrt{x+4} = 7\r\n\\]\r\n\r\nLet's rearrange the equation to find out what the possible solutions may be.\r\n\r\n\\[\r\n\\sqrt{x-3} + \\sqrt{x+4} = 7\r\n\\]\r\n\r\n\\[\r\n\\Rightarrow (x-3) + 2\\sqrt{(x-3)(x+4)} + (x+4) = 49 \\quad \\text{squaring}\r\n\\]\r\n\r\n\\[\r\n\\Rightarrow 2\\sqrt{(x-3)(x+4)} = 48 - 2x \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n\\Rightarrow 4(x-3)(x+4) = (48 - 2x)^2 \\quad \\text{squaring}\r\n\\]\r\n\r\n\\[\r\n\\Rightarrow 4x^2 + 4x - 48 = 2304 - 192x + 4x^2 \\quad \\text{expanding}\r\n\\]\r\n\r\n\\[\r\n\\Rightarrow 196x = 2352 \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n\\Rightarrow x = 12 \\quad \\text{dividing by 196}\r\n\\]\r\n\r\nYou might be inclined to stop here. Unfortunately, all we have proved is that, given a real number \\(x\\), if \\(x\\) solves the equation \\(\\sqrt{x-3} + \\sqrt{x+4} = 7\\), then \\(x = 12\\). This narrows down the set of possible solutions to just one candidate—but we still need to check the converse, namely that if \\(x = 12\\), then \\(x\\) is a solution to the equation.\r\n\r\nAs such, to finish off the proof, note that\r\n\r\n\\[\r\n\\sqrt{12-3} + \\sqrt{12+4} = \\sqrt{9} + \\sqrt{16} = 3 + 4 = 7\r\n\\]\r\n\r\nand so the value \\(x = 12\\) is indeed a solution to the equation.\r\n</markdown>",
    "Q": "Q: What does the biconditional operator \\(p \\Leftrightarrow q\\) signify in terms of implications? ",
    "A": " A: The biconditional operator \\(p \\Leftrightarrow q\\) signifies that \\(p\\) if and only if \\(q\\), meaning that both \\(p \\Rightarrow q\\) and \\(q \\Rightarrow p\\) are true."
  },
  {
    "page": 60,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\nThe algebraic technique of ‘completing the square’ tells us that\r\n\r\n\\[\r\n\\alpha^2 + a\\alpha = \\left( \\alpha + \\frac{a}{2} \\right)^2 - \\frac{a^2}{4}\r\n\\]\r\n\r\nand hence\r\n\r\n\\[\r\n\\left( \\alpha + \\frac{a}{2} \\right)^2 - \\frac{a^2}{4} + b = 0\r\n\\]\r\n\r\nRearranging yields\r\n\r\n\\[\r\n\\left( \\alpha + \\frac{a}{2} \\right)^2 = \\frac{a^2}{4} - b = \\frac{a^2 - 4b}{4}\r\n\\]\r\n\r\nTaking square roots gives\r\n\r\n\\[\r\n\\alpha + \\frac{a}{2} = \\frac{\\sqrt{a^2 - 4b}}{2} \\quad \\text{or} \\quad \\alpha + \\frac{a}{2} = \\frac{-\\sqrt{a^2 - 4b}}{2}\r\n\\]\r\n\r\nand, finally, subtracting \\(\\frac{a}{2}\\) from both sides gives the desired result.\r\n\r\nThe proof of the converse is Exercise 1.1.32.\r\n\r\n✎ **Exercise 1.1.32**  \r\nComplete the proof of the quadratic formula. That is, for fixed \\(a, b \\in \\mathbb{C}\\), prove that if\r\n\r\n\\[\r\n\\alpha = \\frac{-a + \\sqrt{a^2 - 4b}}{2} \\quad \\text{or} \\quad \\alpha = \\frac{-a - \\sqrt{a^2 - 4b}}{2}\r\n\\]\r\n\r\nthen \\(\\alpha\\) is a root of the polynomial \\(x^2 + ax + b\\).\r\n\r\nAnother class of examples of biconditional propositions arise in finding necessary and sufficient criteria for an integer \\(n\\) to be divisible by some number—for example, that an integer is divisible by 10 if and only if its base-10 expansion ends with the digit 0.\r\n\r\n✎ **Example 1.1.33**  \r\nLet \\(n \\in \\mathbb{N}\\). We will prove that \\(n\\) is divisible by 8 if and only if the number formed of the last three digits of the base-10 expansion of \\(n\\) is divisible by 8.\r\n\r\nFirst, we will do some ‘scratch work’. Let \\(d_r d_{r-1} \\ldots d_1 d_0\\) be the base-10 expansion of \\(n\\). Then\r\n\r\n\\[\r\nn = d_r \\cdot 10^r + d_{r-1} \\cdot 10^{r-1} + \\cdots + d_1 \\cdot 10 + d_0\r\n\\]\r\n\r\nDefine\r\n\r\n\\[\r\nn' = d_2 d_1 d_0 \\quad \\text{and} \\quad n'' = n - n' = d_r d_{r-1} \\ldots d_4 d_3 000\r\n\\]\r\n\r\nNow \\(n - n' = 1000 \\cdot d_r d_{r-1} \\ldots d_4 d_3\\) and \\(1000 = 8 \\cdot 125\\), so it follows that 8 divides \\(n''\\).\r\n\r\nOur goal is now to prove that 8 divides \\(n\\) if and only if 8 divides \\(n'\\).\r\n</markdown>",
    "Q": "Q: Prove that an integer \\( n \\) is divisible by 4 if and only if the number formed by the last two digits of its base-10 expansion is divisible by 4. ",
    "A": " A: Let \\( n \\) be expressed as \\( n = d_r \\cdot 10^r + d_{r-1} \\cdot 10^{r-1} + \\cdots + d_1 \\cdot 10 + d_0 \\). The last two digits can be represented as \\( n' = 10d_1 + d_0 \\). Since \\( n = 100k + n' \\) for some integer \\( k \\), and \\( 100 \\equiv 0 \\mod 4 \\), we have that \\( n \\) is divisible by 4 if and only if \\( n' \\) is divisible by 4."
  },
  {
    "page": 61,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n- (⇒) Suppose 8 divides \\( n \\). Since 8 divides \\( n'' \\), it follows from Exercise 0.16 that 8 divides \\( an + bn'' \\) for all \\( a, b \\in \\mathbb{Z} \\). But\r\n\r\n  \\[\r\n  n' = n - (n - n') = n - n'' = 1 \\cdot n + (-1) \\cdot n''\r\n  \\]\r\n\r\n  so indeed 8 divides \\( n' \\), as required.\r\n\r\n- (⇐) Suppose 8 divides \\( n' \\). Since 8 divides \\( n'' \\), it follows from Exercise 0.16 that 8 divides \\( an' + bn'' \\) for all \\( a, b \\in \\mathbb{Z} \\). But\r\n\r\n  \\[\r\n  n = n' + (n - n') = n' + n'' = 1 \\cdot n' + 1 \\cdot n''\r\n  \\]\r\n\r\n  so indeed 8 divides \\( n \\), as required.\r\n\r\n### Exercise 1.1.34\r\nProve that a natural number \\( n \\) is divisible by 3 if and only if the sum of its base-10 digits is divisible by 3.\r\n\r\n### Negation (‘not’, ¬)\r\n\r\nSo far we only officially know how to prove that true propositions are *true*. The negation operator makes precise what we mean by ‘not’, which allows us to prove that false propositions are *false*.\r\n\r\n### Definition 1.1.35\r\nA *contradiction* is a proposition that is known or assumed to be false. We will use the symbol ⊥ (LaTeX code: \\(\\bot\\)) to represent an arbitrary contradiction.\r\n\r\n### Example 1.1.36\r\nSome examples of contradictions include the assertion that \\( 0 = 1 \\), or that \\( \\sqrt{2} \\) is rational, or that the equation \\( x^2 = -1 \\) has a solution \\( x \\in \\mathbb{R} \\).\r\n\r\n### Definition 1.1.37\r\nThe *negation* operator is the logical operator ¬ (LaTeX code: \\(\\neg\\)), defined according to the following rules:\r\n\r\n- (¬I) If a contradiction can be derived from the assumption that \\( p \\) is true, then ¬\\( p \\) is true;\r\n- (¬E) If ¬\\( p \\) and \\( p \\) are both true, then a contradiction may be derived.\r\n\r\nThe expression ¬\\( p \\) represents ‘not \\( p \\)’ (or ‘\\( p \\) is false’).\r\n</markdown>",
    "Q": "Q: How can you show that if \\( n \\) is divisible by 2, then \\( n \\) is even based on the definitions provided? ",
    "A": " A: Since \\( n \\) can be expressed as \\( n = 2k \\) for some integer \\( k \\), it follows that \\( n \\) is even by definition because even numbers are those that can be expressed in the form of \\( 2 \\times \\text{integer} \\)."
  },
  {
    "page": 62,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n\\[ \r\n\\begin{array}{c}\r\n[p] \\\\\r\n\\hline\r\n\\bot \\quad \\neg p \\quad (\\neg \\text{I}) \\\\\r\n\\neg p \\quad \\bot \\quad p \\quad (\\neg \\text{E})\r\n\\end{array}\r\n\\]\r\n\r\n❖ **Aside**\r\n\r\nThe rules (¬I) and (¬E) closely resemble (⇒I) and (⇒E)—indeed, we could simply define ¬p to mean ‘\\( p \\Rightarrow \\bot \\)’, where \\( \\bot \\) represents an arbitrary contradiction, but it will be easier later on to have a primitive notion of negation.\r\n\r\nThe introduction rule for negation (¬I) gives rise to a proof strategy called **proof by contradiction**, which turns out to be extremely useful.\r\n\r\n❖ **Strategy 1.1.38** (Proving negations—proof by contradiction)\r\n\r\nIn order to prove a proposition \\( p \\) is false (that is, that ¬p is true), it suffices to assume that \\( p \\) is true and derive a contradiction.\r\n\r\nThe following proposition has a classic proof by contradiction.\r\n\r\n÷ **Proposition 1.1.39**\r\n\r\nLet \\( r \\) be a rational number and let \\( a \\) be an irrational number. Then \\( r + a \\) is irrational.\r\n\r\n*Proof*\r\n\r\nBy [Definition 0.27](#), we need to prove that \\( r + a \\) is real and not rational. It is certainly real, since \\( r \\) and \\( a \\) are real, so it remains to prove that \\( r + a \\) is not rational.\r\n\r\nSuppose \\( r + a \\) is rational. Since \\( r \\) is rational, it follows from [Proposition 1.1.23](#) that \\( a \\) is rational, since\r\n\r\n\\[\r\na = (r + a) - r\r\n\\]\r\n\r\nThis contradicts the assumption that \\( a \\) is irrational. It follows that \\( r + a \\) is not rational, and is therefore irrational. □\r\n\r\nNow you can try proving some elementary facts by contradiction.\r\n\r\n✎ **Exercise 1.1.40**\r\n\r\nLet \\( x \\in \\mathbb{R} \\). Prove by contradiction that if \\( x \\) is irrational then \\(-x\\) and \\(\\frac{1}{x}\\) are irrational.\r\n\r\n✎ **Exercise 1.1.41**\r\n\r\nProve by contradiction that there is no least positive real number. That is, prove that there is not a positive real number \\( a \\) such that \\( a \\leq b \\) for all positive real numbers \\( b \\).\r\n\r\nA proof need not be a ‘proof by contradiction’ in its entirety—indeed, it may be that only a small portion of the proof uses contradiction. This is exhibited in the proof of the following proposition.\r\n</markdown>",
    "Q": "Q: Using proof by contradiction, how would you demonstrate that if \\( x \\) is a positive rational number, then \\( \\sqrt{x} \\) cannot be both rational and irrational? ",
    "A": " A: Assume \\( \\sqrt{x} \\) is rational; thus, \\( \\sqrt{x} = \\frac{m}{n} \\) for some integers \\( m \\) and \\( n \\). Squaring both sides gives \\( x = \\frac{m^2}{n^2} \\), implying \\( x \\) is rational. This leads to a contradiction if we assume \\( x \\) is positive and irrational. Hence, \\( \\sqrt{x} \\) must be either rational or irrational, but not both."
  },
  {
    "page": 63,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n### Proposition 1.1.42\r\n\r\nLet \\( a \\) be an integer. Then \\( a \\) is odd if and only if \\( a = 2b + 1 \\) for some integer \\( b \\).\r\n\r\n**Proof**  \r\nSuppose \\( a \\) is odd. By the division theorem ([Theorem 0.18](#)), either \\( a = 2b \\) or \\( a = 2b + 1 \\), for some \\( b \\in \\mathbb{Z} \\). If \\( a = 2b \\), then 2 divides \\( a \\), contradicting the assumption that \\( a \\) is odd; so it must be the case that \\( a = 2b + 1 \\).\r\n\r\nConversely, suppose \\( a = 2b + 1 \\). Then \\( a \\) leaves a remainder of 1 when divided by 2. However, by the division theorem, the even numbers are precisely those that leave a remainder of 0 when divided by 2. It follows that \\( a \\) is not even, so is odd. □\r\n\r\nThe elimination rule for the negation operator (\\( \\neg \\mathsf{E} \\)) simply says that a proposition can’t be true and false at the same time.\r\n\r\n### Strategy 1.1.43 (Assuming negations)\r\n\r\nIf an assumption in a proof has the form \\( \\neg p \\), then any derivation of \\( p \\) leads to a contradiction.\r\n\r\nThe main use of [Strategy 1.1.43](#) is for obtaining the contradiction in a proof by contradiction—in fact, we have already used it in our examples of proof by contradiction! As such, we will not dwell on it further.\r\n\r\n### Logical axioms\r\n\r\nWe wrap up this section by introducing a couple of additional logical rules (axioms) that we will use in our proofs.\r\n\r\nThe first is the so-called law of excluded middle, which appears so obvious that it is not even worth stating (let alone naming)—what it says is that every proposition is either true or false. But beware, as looks can be deceiving; the law of excluded middle is a non-constructive axiom, meaning that it should not be accepted in settings it is important to keep track of how a proposition is proved—simply knowing that a proposition is either true or false tells us nothing about how it might be proved or refuted. In most mathematical contexts, though, it is accepted without a second’s thought.\r\n\r\n### Axiom 1.1.44 (Law of excluded middle)\r\n\r\nLet \\( p \\) be a propositional formula. Then \\( p \\lor (\\neg p) \\) is true.\r\n\r\nThe law of excluded middle can be represented diagrammatically as follows; there are no premises above the line, since we are simply asserting that it is true.\r\n</markdown>",
    "Q": "Q: What can we conclude about an integer \\( a \\) if it can be expressed as \\( a = 2b + 1 \\) for some integer \\( b \\)?  \r\n",
    "A": "  \r\nA: We can conclude that \\( a \\) is odd."
  },
  {
    "page": 64,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n\\[\r\np \\lor (\\neg p) \\quad \\text{LEM}\r\n\\]\r\n\r\n**Strategy 1.1.45 (Using the law of excluded middle)**  \r\nIn order to prove a proposition \\( q \\) is true, it suffices to split into cases based on whether some other proposition \\( p \\) is true or false, and prove that \\( q \\) is true in each case.\r\n\r\nThe proof of [Proposition 1.1.46](#) below makes use of the law of excluded middle—note that we defined ‘odd’ to mean ‘not even’ ([Definition 0.17](#)).\r\n\r\n**Proposition 1.1.46**  \r\nLet \\( a, b \\in \\mathbb{Z} \\). If \\( ab \\) is even, then either \\( a \\) is even or \\( b \\) is even (or both).\r\n\r\n*Proof*  \r\nSuppose \\( a, b \\in \\mathbb{Z} \\) with \\( ab \\) even.\r\n\r\n- Suppose \\( a \\) is even—then we’re done.\r\n\r\n- Suppose \\( a \\) is odd. If \\( b \\) is also odd, then by [Proposition 1.1.42](#) can write\r\n\r\n  \\[\r\n  a = 2k + 1 \\quad \\text{and} \\quad b = 2\\ell + 1\r\n  \\]\r\n\r\n  for some integers \\( k, \\ell \\). This implies that\r\n\r\n  \\[\r\n  ab = (2k + 1)(2\\ell + 1) = 4k\\ell + 2k + 2\\ell + 1 = 2(2k\\ell + k + \\ell) + 1 \\quad \\in \\mathbb{Z}\r\n  \\]\r\n\r\n  so that \\( ab \\) is odd. This contradicts the assumption that \\( ab \\) is even, and so \\( b \\) must in fact be even.\r\n\r\nIn both cases, either \\( a \\) or \\( b \\) is even. \\(\\square\\)\r\n\r\n**Exercise 1.1.47**  \r\nReflect on the proof of [Proposition 1.1.46](#). Where in the proof did we use the law of excluded middle? Where in the proof did we use proof by contradiction? What was the contradiction in this case? Prove [Proposition 1.1.46](#) twice more, once using contradiction and not using the law of excluded middle, and once using the law of excluded middle and not using contradiction.\r\n\r\n**Exercise 1.1.48**  \r\nLet \\( a \\) and \\( b \\) be irrational numbers. By considering the number \\( \\sqrt{2}^{\\sqrt{2}} \\), prove that it is possible that \\( a^b \\) be rational.\r\n\r\nAnother logical rule that we will use is the *principle of explosion*, which is also known by its Latin name, *ex falso sequitur quodlibet*, which approximately translates to ‘from falsity follows whatever you like’.\r\n</markdown>",
    "Q": "Q: In the context of proving that if \\( ab \\) is even, either \\( a \\) is even or \\( b \\) is even, how can the law of excluded middle be explicitly applied to show that if \\( a \\) is odd, \\( b \\) must be even? ",
    "A": " A: The law of excluded middle is applied by considering the two cases for \\( a \\): it is either even or odd. If \\( a \\) is even, we conclude directly that \\( b \\) can be either. If \\( a \\) is odd, then by assuming \\( b \\) is also odd, we derive a contradiction: \\( ab \\) becomes odd. Thus, in the second case, \\( b \\) must be even."
  },
  {
    "page": 65,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n### Axiom 1.1.49 (Principle of explosion)\r\n\r\nIf a contradiction is assumed, any consequence may be derived.\r\n\r\n\\[\r\n\\frac{\\bot}{p} \\quad \\text{Expl}\r\n\\]\r\n\r\nThe principle of explosion is a bit confusing on first sight. To shed a tiny bit of intuition on it, think of it as saying that both true and false propositions are consequences of a contradictory assumption. For instance, suppose that \\(-1 = 1\\). From this we can obtain consequences that are false, such as \\(0 = 2\\) by adding 1 to both sides of the equation, and consequences that are true, such as \\(1 = 1\\) by squaring both sides of the equation.\r\n\r\nWe will rarely use the principle of explosion directly in our mathematical proofs, but we will use it in [Section 1.3](#) for proving logical formulae are equivalent.\r\n</markdown>",
    "Q": "Q: How can the principle of explosion be illustrated with an example involving the assumption that \\( -2 = -2 \\) and \\( \\bot \\)? ",
    "A": " A: By assuming \\( \\bot \\) (a contradiction), we can derive any statement from it, such as \\( -2 = -3 \\). For instance, starting from the assumption \\( -2 = -2 \\) (which is true), this leads us to \\( \\bot \\) if we also assume a contradiction. Therefore, from \\( \\bot \\), we can derive \\( -2 = -3 \\) as a consequence of \\( \\bot \\)."
  },
  {
    "page": 66,
    "title": "I Core Concepts/1 Logical Structure/1.1 Propositional Logic",
    "content": "<markdown>\r\n## TL;DR — summary of [Section 1.1](#)\r\n\r\n### Propositional formulae\r\n\r\n**1.1.2** Propositional variables \\( p, q, r, \\ldots \\) are used to express simple propositions.\r\n\r\n**1.1.3** Propositional formulae are more complicated expressions built from propositional variables using logical operators, which represent phrases like ‘and’, ‘or’ and ‘if… then…’.\r\n\r\n### Logical operators\r\n\r\n**1.1.4** The conjunction operator (\\(\\land\\)) represents ‘and’. We prove \\( p \\land q \\) by proving both \\( p \\) and \\( q \\) separately; we can use an assumption of the form \\( p \\land q \\) by assuming both \\( p \\) and \\( q \\) separately.\r\n\r\n**1.1.12** The disjunction operator (\\(\\lor\\)) represents ‘or’. We prove \\( p \\lor q \\) by proving at least one of \\( p \\) or \\( q \\); we can use an assumption of the form \\( p \\lor q \\) by splitting into cases, assuming that \\( p \\) is true in one case, and assuming that \\( q \\) is true in the other.\r\n\r\n**1.1.21** The implication operator (\\(\\Rightarrow\\)) represents ‘if… then…’. We prove \\( p \\Rightarrow q \\) by assuming \\( p \\) and deriving \\( q \\); we can use an assumption of the form \\( p \\Rightarrow q \\) by deducing \\( q \\) whenever we know that \\( p \\) is true.\r\n\r\n**1.1.37** The negation operator (\\(\\lnot\\)) represents ‘not’. We prove \\(\\lnot p\\) by assuming \\( p \\) and deriving something known or assumed to be false (this is called proof by contradiction); we can use an assumption of the form \\(\\lnot p\\) by arriving at a contradiction whenever we find that \\( p \\) is true.\r\n\r\n**1.1.28** The biconditional operator (\\(\\Leftrightarrow\\)) represents ‘if and only if’. The expression \\( p \\Leftrightarrow q \\) is shorthand for \\((p \\Rightarrow q) \\land (q \\Rightarrow p)\\).\r\n\r\n### Logical axioms\r\n\r\n**1.1.44** The law of excluded middle says that \\( p \\lor (\\lnot p) \\) is always true. So at any point in a proof, we may split into two cases: one where \\( p \\) is assumed to be true, and one where \\( p \\) is assumed to be false.\r\n\r\n**1.1.49** The principle of explosion says that if a contradiction is introduced as an assumption, then any conclusion at all can be derived.\r\n</markdown>",
    "Q": "Q: How would you prove that the statement \\( p \\lor \\lnot p \\) holds true according to the law of excluded middle? ",
    "A": " A: To prove \\( p \\lor \\lnot p \\), we use the law of excluded middle which states that for any proposition \\( p \\), either \\( p \\) is true or \\( \\lnot p \\) (not \\( p \\)) is true. Thus, we can split the proof into two cases: if \\( p \\) is true, then \\( p \\lor \\lnot p \\) is true; if \\( p \\) is false, \\( \\lnot p \\) is true, hence \\( p \\lor \\lnot p \\) is also true. Therefore, \\( p \\lor \\lnot p \\) is always true."
  },
  {
    "page": 67,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n## Section 1.2\r\nVariables and quantifiers\r\n\r\n### Free and bound variables\r\n\r\nEverything we did in [Section 1.1](#) concerned *propositions* and the logical rules concerning their proofs. Unfortunately if all we have to work with is propositions then our ability to do mathematical reasoning will be halted pretty quickly. For example, consider the following statement:\r\n\r\n\\[ x \\text{ is divisible by } 7 \\]\r\n\r\nThis statement seems like the kind of thing we should probably be able to work with if we’re doing mathematics. It makes sense if \\( x \\) is an integer, such as 28 or 41; but it doesn’t make sense at all if \\( x \\) is a parrot called Alex.[^1] In any case, even when it does make sense, its truth value depends on \\( x \\); indeed, ‘28 is divisible by 7’ is a true proposition, but ‘41 is divisible by 7’ is a false proposition.\r\n\r\nThis means that the statement ‘\\( x \\) is divisible by 7’ isn’t a proposition—*quel horreur*! But it *almost* is a proposition: if we know that \\( x \\) refers somehow to an integer, then it becomes a proposition as soon as a particular numerical value of \\( x \\) is specified. The symbol \\( x \\) is called a *free variable*.\r\n\r\n✦ **Definition 1.2.1**  \r\nLet \\( x \\) be a variable that is understood to refer to an element of a set \\( X \\). In a statement involving \\( x \\), we say \\( x \\) is *free* if it makes sense to substitute particular elements of \\( X \\) in the statement; otherwise, we say \\( x \\) is *bound*.\r\n\r\nTo represent statements that have free variables in them abstractly, we generalise the notion of a propositional variable ([Definition 1.1.2](#)) to that of a *predicate*.\r\n\r\n✦ **Definition 1.2.2**  \r\nA *predicate* is a symbol \\( p \\) together with a specified list of free variables \\( x_1, x_2, \\ldots, x_n \\) (where \\( n \\in \\mathbb{N} \\)) and, for each free variable \\( x_i \\), a specification of a set \\( X_i \\) called the *domain of discourse* (or *range*) of \\( x_i \\). We will typically write \\( p(x_1, x_2, \\ldots, x_n) \\) in order to make the variables explicit.\r\n\r\n[^1]: Alex the parrot is the only non-human animal to have ever been observed to ask an existential question; he died in September 2007 so we may never know if he was divisible by 7, but it is unlikely. According to *Time*, his last words were ‘you be good, see you tomorrow, I love you’. The reader is advised to finish crying before they continue reading about variables and quantifiers.\r\n</markdown>",
    "Q": "Q: Given the definition of free and bound variables, what can be concluded about the statement \\( p(x) \\): \"x is a prime number\" if \\( x \\) is understood to be an integer? ",
    "A": " A: The statement \\( p(x) \\) becomes a proposition when \\( x \\) is specified as a particular integer, such as \\( p(5) \\), which is true, or \\( p(4) \\), which is false. Here, \\( x \\) is a free variable when not assigned a value."
  },
  {
    "page": 68,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\nThe statements represented by predicates are those that become propositions when specific values are substituted for their free variables from their respective domains of discourse. For example, ‘\\(x\\) is divisible by 7’ is not a proposition, but it becomes a proposition when specific integers (such as 28 or 41) are substituted for \\(x\\).\r\n\r\nThis is a lot to take in, so let’s look at some examples.\r\n\r\n✐ **Example 1.2.3**\r\n\r\n(i) We can represent the statement ‘\\(x\\) is divisible by 7’ discussed above by a predicate \\(p(x)\\) whose only free variable \\(x\\) has \\(\\mathbb{Z}\\) as its domain of discourse. Then \\(p(28)\\) is the true proposition ‘28 is divisible by 7’ and \\(p(41)\\) is the false proposition ‘41 is divisible by 7’.\r\n\r\n(ii) A predicate with no free variables is precisely a propositional variable. This means that the notion of a predicate generalises that of a propositional variable.\r\n\r\n(iii) The expression ‘\\(2^n - 1\\) is prime’ can be represented by a predicate \\(p(n)\\) with one free variable \\(n\\), whose domain of discourse is the set \\(\\mathbb{N}\\) of natural numbers. Then \\(p(3)\\) is the true proposition ‘\\(2^3 - 1\\) is prime’ and \\(p(4)\\) is the false proposition ‘\\(2^4 - 1\\) is prime’.\r\n\r\n(iv) The expression ‘\\(x - y\\) is rational’ can be represented by a predicate \\(q(x, y)\\) with free variables \\(x\\) and \\(y\\), whose domain of discourse is the set \\(\\mathbb{R}\\) of real numbers.\r\n\r\n(v) The expression ‘there exist integers \\(a\\) and \\(b\\) such that \\(x = a^2 + b^2\\)’ has free variable \\(x\\) and bound variables \\(a, b\\). It can be represented by a predicate \\(r(x)\\) with one free variable \\(x\\), whose domain of discourse is \\(\\mathbb{Z}\\).\r\n\r\n(vi) The expression ‘every even natural number \\(n \\geq 2\\) is divisible by \\(k\\)’ has free variable \\(k\\) and bound variable \\(n\\). It can be represented by a predicate \\(s(k)\\) with one free variable \\(k\\), whose domain of discourse is \\(\\mathbb{N}\\).\r\n\r\n### Quantifiers\r\n\r\nLook again at the statements in parts (v) and (vi) of **Example 1.2.3**. Both contained bound variables, which were so because we used words like ‘there exists’ and ‘every’—had we not used these words, those variables would be free, as in ‘\\(x = a^2 + b^2\\)’ and ‘\\(n\\) is divisible by \\(k\\)’.\r\n\r\nExpressions that refer to *how many* elements of a set make a statement true, such as ‘there exists’ and ‘every’, turn free variables into bound variables. We represent such expressions using symbols called *quantifiers*, which are the central objects of study of this section.\r\n</markdown>",
    "Q": "Q: What is the difference between a free variable and a bound variable in the context of predicates?  \r\n",
    "A": "  \r\nA: A free variable is a variable in a predicate that can take on any value from its domain and does not have restrictions—its truth value can change depending on what it represents. In contrast, a bound variable is associated with a specific quantifier (like \"there exists\" or \"every\") and its value is determined within that context, making it fixed within that particular statement."
  },
  {
    "page": 69,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\nThe two main quantifiers used throughout mathematics are the universal quantifier \\(\\forall\\) and the existential quantifier \\(\\exists\\). We will define these quantifiers formally later in this section, but for now, the following informal definitions suffice:\r\n\r\n- The expression ‘\\(\\forall x \\in X, \\ldots\\)’ denotes ‘for all \\(x \\in X, \\ldots\\)’ and will be defined formally in [Definition 1.2.9](#).\r\n- The expression ‘\\(\\exists x \\in X, \\ldots\\)’ denotes ‘there exists \\(x \\in X\\) such that \\ldots’ and will be defined formally in [Definition 1.2.17](#).\r\n\r\nNote that we always place the quantifier *before* the statement, so even though we might write or say things like ‘\\(n = 2k\\) for some integer \\(k\\)’ or ‘\\(x^2 \\geq 0\\) for all \\(x \\in \\mathbb{R}\\)’, we would express these statements symbolically as ‘\\(\\exists k \\in \\mathbb{Z}, n = 2k\\)’ and ‘\\(\\forall x \\in \\mathbb{R}, x^2 \\geq 0\\)’, respectively.\r\n\r\nWe will define a third quantifier \\(\\exists!\\) in terms of \\(\\forall\\) and \\(\\exists\\) to say that there is *exactly one* element of a set making a statement true. There are plenty of other quantifiers out there, but they tend to be specific to particular fields—examples include ‘almost everywhere’ in measure theory, ‘almost surely’ in probability theory, ‘for all but finitely many’ in set theory and related disciplines, and ‘for fresh’ in the theory of nominal sets.\r\n\r\nUsing predicates, logical formulae and quantifiers, we are able to build up more complicated expressions, called *logical formulae*. Logical formulae generalise propositional formulae ([Definition 1.1.3](#)) in by allowing (free and bound) variables and quantification to occur.\r\n\r\n### Definition 1.2.4\r\nA *logical formula* is an expression that is built from predicates using logical operators and quantifiers; it may have both free and bound variables. The truth value of a logical formula depends on its free variables according to the rules for logical operators and quantifiers.\r\n\r\nTranslating between plain English statements and purely symbolic logical formulae is an important skill to obtain:\r\n\r\n- The plain English statements are easier to understand and are the kinds of things you would speak aloud or write down when discussing the mathematical ideas involved.\r\n- The symbolic logical formulae are what provide the precision needed to guide a proof of the statement being discussed—we will see strategies for proving statements involving quantifiers soon.\r\n\r\nThe following examples and exercise concern translating between plain English statements and purely symbolic logical formulae.\r\n</markdown>",
    "Q": "Q: How would you express the statement \"There exists an integer \\(k\\) such that \\(2k\\) is equal to \\(n\\)\" using quantifiers? ",
    "A": " A: The statement can be expressed as \\(\\exists k \\in \\mathbb{Z}, \\, n = 2k\\)."
  },
  {
    "page": 70,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n### Example 1.2.5\r\n\r\nRecall that an integer \\( n \\) is even if and only if it is divisible by 2. According to Definition 0.12, that is to say that ‘\\( n \\) is even’ means ‘\\( n = 2k \\) for some integer \\( k \\)’. Using quantifiers, we can express ‘\\( n \\) is even’ as ‘\\(\\exists k \\in \\mathbb{Z}, n = 2k\\)’.\r\n\r\nThe (false) proposition ‘every integer is even’ can then be written symbolically as follows. First introduce a variable \\( n \\) to refer to an integer; to say ‘every integer is even’ is to say ‘\\(\\forall n \\in \\mathbb{Z}, n \\) is even’, and so using the symbolic representation of ‘\\( n \\) is even’, we can express ‘every integer is even’ as \\(\\forall n \\in \\mathbb{Z}, \\exists k \\in \\mathbb{Z}, n = 2k\\).\r\n\r\n### Exercise 1.2.6\r\n\r\nFind logical formulae that represent each of the following English statements.\r\n\r\n(a) There is an integer that is divisible by every integer.\r\n\r\n(b) There is no greatest odd integer.\r\n\r\n(c) Between any two distinct rational numbers is a third distinct rational number.\r\n\r\n(d) If an integer has a rational square root, then that root is an integer.\r\n\r\n### Example 1.2.7\r\n\r\nConsider the following logical formula.\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, (a \\geq 0 \\Rightarrow \\exists b \\in \\mathbb{R}, a = b^2)\r\n\\]\r\n\r\nIf we translate this expression symbol-for-symbol, what it says is:\r\n\r\nFor every real number \\( a \\), if \\( a \\) is non-negative, then there exists a real number \\( b \\) such that \\( a = b^2 \\).\r\n\r\nRead in this way, it is not a particularly enlightening statement. However, we can distill the robotic nature of the symbol-for-symbol reading by thinking more carefully about what the statement *really* means.\r\n\r\nIndeed, to say ‘\\( a = b^2 \\) for some real number \\( b \\)’ is exactly to say that \\( a \\) has a real square root—after all, what is a square root of \\( a \\) if not a real number whose square is equal to \\( a \\)? This translation eliminates explicit reference to the bound variable \\( b \\), so that the statement now reads:\r\n\r\nFor every real number \\( a \\), if \\( a \\) is non-negative, then \\( a \\) has a real square root.\r\n</markdown>",
    "Q": "Q: How can we express the statement \"There exists an integer that is divisible by 3\" using logical quantifiers? ",
    "A": " A: The statement can be expressed as \\(\\exists n \\in \\mathbb{Z}, \\exists k \\in \\mathbb{Z}, n = 3k\\)."
  },
  {
    "page": 71,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\nWe’re getting closer. Next note that instead of the clunky expression ‘for every real number \\( a \\), if \\( a \\) is non-negative, then . . . ’, we could just say ‘for every non-negative real number \\( a \\), . . . ’.\r\n\r\n> For every non-negative real number \\( a \\), \\( a \\) has a real square root.\r\n\r\nFinally, we can eliminate the bound variable \\( a \\) by simply saying:\r\n\r\n> Every non-negative real number has a real square root.\r\n\r\nThis is now a meaningful expression that is much easier to understand than the logical formula we started with.\r\n\r\n### Exercise 1.2.8\r\nFind statements in plain English, involving as few variables as possible, that are represented by each of the following logical formulae. (The domains of discourse of the free variables are indicated in each case.)\r\n\r\n(a) \\(\\exists q \\in \\mathbb{Z}, a = qb\\) — free variables \\(a, b \\in \\mathbb{Z}\\)\r\n\r\n(b) \\(\\exists a \\in \\mathbb{Z}, \\exists b \\in \\mathbb{Z}, (b \\neq 0 \\land bx = a)\\) — free variable \\(x \\in \\mathbb{R}\\)\r\n\r\n(c) \\(\\forall d \\in \\mathbb{N}, [(\\exists q \\in \\mathbb{Z}, n = qd) \\Rightarrow (d = 1 \\lor d = n)]\\) — free variable \\(n \\in \\mathbb{N}\\)\r\n\r\n(d) \\(\\forall a \\in \\mathbb{R}, [a > 0 \\Rightarrow \\exists b \\in \\mathbb{R}, (b > 0 \\land a < b)]\\) — no free variables\r\n\r\nNow that we have a better understanding of how to translate between plain English statements and logical formulae, we are ready to give a precise mathematical treatment of quantifiers. Just like with logical operators in Section 1.1, quantifiers will be defined according to **introduction rules**, which tell us how to prove a quantified formula, and **elimination rules**, which tell us how to use an assumption that involves a quantifier.\r\n\r\n### Universal quantification (‘for all’, \\(\\forall\\))\r\n\r\nThe universal quantifier makes precise what we mean when we say ‘for all’, or ‘\\( p(x) \\) is always true no matter what value \\( x \\) takes’.\r\n</markdown>",
    "Q": "Q: How would you express the statement 'For every positive real number \\( x \\), there exists a positive real number \\( y \\) such that \\( y^2 = x \\)' using quantifiers and logical symbols? ",
    "A": " A: The statement can be expressed as \\( \\forall x \\in \\mathbb{R}, (x > 0 \\Rightarrow \\exists y \\in \\mathbb{R}, (y > 0 \\land y^2 = x)) \\)."
  },
  {
    "page": 72,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n### Definition 1.2.9\r\n\r\nThe **universal quantifier** is the quantifier \\(\\forall\\) (LaTeX code: `\\forall`); if \\(p(x)\\) is a logical formula with free variable \\(x\\) with range \\(X\\), then \\(\\forall x \\in X, p(x)\\) is the logical formula defined according to the following rules:\r\n\r\n- (\\(\\forall\\)I) If \\(p(x)\\) can be derived from the assumption that \\(x\\) is an arbitrary element of \\(X\\), then \\(\\forall x \\in X, p(x)\\);\r\n- (\\(\\forall\\)E) If \\(a \\in X\\) and \\(\\forall x \\in X, p(x)\\) is true, then \\(p(a)\\) is true.\r\n\r\nThe expression \\(\\forall x \\in X, p(x)\\) represents ‘for all \\(x \\in X, p(x)\\)’.\r\n\r\n\\[\r\n\\begin{array}{c}\r\n[x \\in X] \\\\\r\n\\downarrow \\\\\r\n\\frac{p(x)}{\\forall x \\in X, p(x)} \\quad \\frac{\\forall x \\in X, p(x)}{p(a)} \\quad a \\in X\r\n\\end{array}\r\n\\]\r\n\r\n### Strategy 1.2.10 (Proving universally quantified statements)\r\n\r\nTo prove a proposition of the form \\(\\forall x \\in X, p(x)\\), it suffices to prove \\(p(x)\\) for an arbitrary element \\(x \\in X\\)—in other words, prove \\(p(x)\\) whilst assuming nothing about the variable \\(x\\) other than that it is an element of \\(X\\).\r\n\r\nUseful phrases for introducing an arbitrary variable of a set \\(X\\) in a proof include ‘fix \\(x \\in X\\)’ or ‘let \\(x \\in X\\)’ or ‘take \\(x \\in X\\)’—more on this is discussed in [Appendix A.2](#).\r\n\r\nThe proofs of the following propositions illustrate how a proof of a universally quantified statement might look.\r\n\r\n### Proposition 1.2.11\r\n\r\nThe square of every odd integer is odd.\r\n\r\n**Proof**\r\n\r\nLet \\(n\\) be an odd integer. Then \\(n = 2k + 1\\) for some \\(k \\in \\mathbb{Z}\\) by the division theorem ([Theorem 0.18](#)), and so\r\n\r\n\\[\r\nn^2 = (2k + 1)^2 = 4k^2 + 4k + 1 = 2(2k^2 + 2k) + 1\r\n\\]\r\n\r\nSince \\(2k^2 + 2k \\in \\mathbb{Z}\\), we have that \\(n^2\\) is odd, as required.\r\n\r\nNote that in the proof of [Proposition 1.2.11](#), we did not assume anything about \\(n\\) other than that it is an odd integer.\r\n</markdown>",
    "Q": "Q: How can you prove the statement \\(\\forall n \\in \\mathbb{Z}, n^2 \\geq 0\\) using the universal quantifier strategy described in the context? ",
    "A": " A: Let \\(n\\) be an arbitrary integer. Then, \\(n^2 = n \\cdot n\\). Since the product of two integers is non-negative when both are either positive or negative, we have \\(n^2 \\geq 0\\). Thus, \\(\\forall n \\in \\mathbb{Z}, n^2 \\geq 0\\) is proven."
  },
  {
    "page": 73,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n### Proposition 1.2.12\r\n\r\nThe base-10 expansion of the square of every natural number ends in one of the digits 0, 1, 4, 5, 6 or 9.\r\n\r\n*Proof*  \r\nFix \\( n \\in \\mathbb{N} \\), and let\r\n\r\n\\[ n = d_r d_{r-1} \\ldots d_0 \\]\r\n\r\nbe its base-10 expansion. Write\r\n\r\n\\[ n = 10m + d_0 \\]\r\n\r\nwhere \\( m \\in \\mathbb{N} \\)—that is, \\( m \\) is the natural number obtained by removing the final digit from \\( n \\). Then\r\n\r\n\\[ n^2 = 100m^2 + 20md_0 + d_0^2 = 10m(10m + 2d_0) + d_0^2 \\]\r\n\r\nHence the final digit of \\( n^2 \\) is equal to the final digit of \\( d_0^2 \\). But the possible values of \\( d_0^2 \\) are\r\n\r\n\\[ 0 \\quad 1 \\quad 4 \\quad 9 \\quad 16 \\quad 25 \\quad 36 \\quad 49 \\quad 64 \\quad 81 \\]\r\n\r\nall of which end in one of the digits 0, 1, 4, 5, 6 or 9. □\r\n\r\n#### Exercise 1.2.13\r\nProve that every integer is rational.\r\n\r\n#### Exercise 1.2.14\r\nProve that every linear polynomial over \\( \\mathbb{Q} \\) has a rational root.\r\n\r\n#### Exercise 1.2.15\r\nProve that, for all real numbers \\( x \\) and \\( y \\), if \\( x \\) is irrational, then \\( x + y \\) and \\( x - y \\) are not both rational.\r\n\r\nBefore advancing too much further, beware of the following common error that arises when dealing with universal quantifiers.\r\n\r\n### Common error\r\n\r\nConsider the following (non-)proof of the proposition \\( \\forall n \\in \\mathbb{Z}, n^2 \\geq 0 \\).\r\n\r\n> Let \\( n \\) be an arbitrary integer, say \\( n = 17 \\). Then \\( 17^2 = 289 \\geq 0 \\), so the statement is true.\r\n\r\nThe error made here is that the *writer* has picked an arbitrary value of \\( n \\), not the *reader*. (In fact, the above argument actually proves \\( \\exists n \\in \\mathbb{Z}, n^2 \\geq 0 \\).)\r\n\r\nThe proof should make no assumptions about the value of \\( n \\) other than that it is an integer. Here is a correct proof:\r\n</markdown>",
    "Q": "Q: Given that the square of every natural number ends in one of the digits 0, 1, 4, 5, 6, or 9, what is the final digit of \\( n^2 \\) if \\( n \\) ends in the digit 3? ",
    "A": " A: If \\( n \\) ends in the digit 3, then the final digit of \\( n^2 \\) is \\( 9 \\) because \\( 3^2 = 9 \\)."
  },
  {
    "page": 74,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\nLet \\( n \\) be an arbitrary integer. Either \\( n \\geq 0 \\) or \\( n < 0 \\). If \\( n \\geq 0 \\) then \\( n^2 \\geq 0 \\), since the product of two nonnegative numbers is nonnegative; if \\( n < 0 \\) then \\( n^2 \\geq 0 \\), since the product of two negative numbers is positive.\r\n\r\nThe strategy suggested by the elimination rule for the universal quantifier is one that we use almost without thinking about it.\r\n\r\n### Strategy 1.2.16 (Assuming universally quantified statements)\r\nIf an assumption in a proof has the form \\(\\forall x \\in X, \\, p(x)\\), then we may assume that \\( p(a) \\) is true whenever \\( a \\) is an element of \\( X \\).\r\n\r\n### Existential quantification (‘there exists’, \\(\\exists\\))\r\n\r\n#### Definition 1.2.17\r\nThe existential quantifier is the quantifier \\(\\exists\\) (LaTeX code: `\\exists`) if \\( p(x) \\) is a logical formula with free variable \\( x \\) with range \\( X \\), then \\(\\exists x \\in X, \\, p(x)\\) is the logical formula defined according to the following rules:\r\n\r\n- (\\(\\exists\\)I) If \\( a \\in X \\) and \\( p(a) \\) is true, then \\(\\exists x \\in X, \\, p(x)\\);\r\n- (\\(\\exists\\)E) If \\(\\exists x \\in X, \\, p(x)\\) is true, and \\( q \\) can be derived from the assumption that \\( p(a) \\) is true for some fixed \\( a \\in X \\), then \\( q \\) is true.\r\n\r\nThe expression \\(\\exists x \\in X, \\, p(x)\\) represents ‘there exists \\( x \\in X \\) such that \\( p(x) \\)’.\r\n\r\n\\[\r\n\\begin{array}{c}\r\n[a \\in X], [p(a)] \\\\\r\n\\hline\r\n\\exists x \\in X, \\, p(x) \\\\\r\nq\r\n\\end{array}\r\n\\]\r\n\r\n### Strategy 1.2.18 (Proving existentially quantified statements)\r\nTo prove a proposition of the form \\(\\exists x \\in X, \\, p(x)\\), it suffices to prove \\( p(a) \\) for some specific element \\( a \\in X \\), which should be explicitly defined.\r\n\r\n#### Example 1.2.19\r\nWe prove that there is a natural number that is a perfect square and is one more than a perfect cube. That is, we prove\r\n\r\n\\[\r\n\\exists n \\in \\mathbb{N}, \\, \\left( \\exists k \\in \\mathbb{Z}, \\, n = k^2 \\right) \\land \\left( \\exists \\ell \\in \\mathbb{Z}, \\, n = \\ell^3 + 1 \\right)\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that there exists a natural number \\( n \\) which is both a perfect square and one more than a perfect cube. ",
    "A": " A: One such natural number is \\( n = 9 \\), because \\( 9 = 3^2 \\) (a perfect square) and \\( 9 = 2^3 + 1 \\) (one more than a perfect cube). Thus, we can conclude that \\( \\exists n \\in \\mathbb{N}, \\, n = k^2 \\land n = \\ell^3 + 1 \\) for \\( k = 3 \\) and \\( \\ell = 2 \\)."
  },
  {
    "page": 76,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\nSuppose \\( n^3 \\) is divisible by 3. Take \\( q \\in \\mathbb{Z} \\) such that \\( n^3 = 3q \\). Then\r\n\r\n\\[\r\n\\begin{align*}\r\n(n+1)^3 - 1 &= (n^3 + 3n^2 + 3n + 1) - 1 & \\text{expanding} \\\\\r\n&= n^3 + 3n^2 + 3n & \\text{simplifying} \\\\\r\n&= 3q + 3n^2 + 3n & \\text{since } n^3 = 3q \\\\\r\n&= 3(q + n^2 + n) & \\text{factorising}\r\n\\end{align*}\r\n\\]\r\n\r\nSince \\( q + n^2 + n \\in \\mathbb{Z} \\), we have proved that \\( (n+1)^3 - 1 \\) is divisible by 3, as required. □\r\n\r\n### Uniqueness\r\n\r\nThe concept of uniqueness arises whenever we want to use the word ‘the’. For example, in [Definition 0.6](#) we defined the base-\\( b \\) expansion of a natural number \\( n \\) to be the string \\( d_r d_{r-1} \\ldots d_1 d_0 \\) satisfying some properties. The issue with the word ‘the’ here is that we don’t know ahead of time whether a natural number \\( n \\) may have base-\\( b \\) expansions other than \\( d_r d_{r-1} \\ldots d_1 d_0 \\)—this fact actually requires proof. To prove this fact, we would need to assume that \\( e_s e_{s-1} \\ldots e_1 e_0 \\) were another base-\\( b \\) expansion of \\( n \\), and prove that the strings \\( d_r d_{r-1} \\ldots d_1 d_0 \\) and \\( e_s e_{s-1} \\ldots e_1 e_0 \\) are the same—this is done in [Theorem 7.3.51](#).\r\n\r\nUniqueness is typically coupled with existence, since we usually want to know if there is exactly one object satisfying a property. This motivates the definition of the unique existential quantifier, which encodes what we mean when we say ‘there is exactly one \\( x \\in X \\) such that \\( p(x) \\) is true’. The ‘existence’ part ensures that at least one \\( x \\in X \\) makes \\( p(x) \\) true; the ‘uniqueness’ part ensures that \\( x \\) is the only element of \\( X \\) making \\( p(x) \\) true.\r\n\r\n✦ **Definition 1.2.26**\r\n\r\nThe **unique existential quantifier** is the quantifier \\(\\exists!\\) ([\\(\\LaTeX\\) code: `\\exists!`]) defined such that \\(\\exists! x \\in X, p(x)\\) is shorthand for\r\n\r\n\\[\r\n(\\exists x \\in X, p(x)) \\land (\\forall a \\in X, \\forall b \\in X, [(p(a) \\land p(b)) \\Rightarrow a = b])\r\n\\]\r\n\r\n✐ **Example 1.2.27**\r\n\r\nEvery positive real number has a unique positive square root. We can write this symbolically as\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, (a > 0 \\Rightarrow \\exists! b \\in \\mathbb{R}, (b > 0 \\land b^2 = a))\r\n\\]\r\n\r\nReading this from left to right, this says: for every real number \\( a \\), if \\( a \\) is positive, then there exists a unique real number \\( b \\), which is positive and whose square is \\( a \\). ◁\r\n</markdown>",
    "Q": "Q: If \\( m^3 \\) is divisible by 3 and we express it as \\( m^3 = 3p \\) for some \\( p \\in \\mathbb{Z} \\), show that \\( (m+2)^3 - 8 \\) is also divisible by 3. ",
    "A": " A: We can expand \\( (m+2)^3 - 8 \\) as follows:\r\n\r\n\\[\r\n\\begin{align*}\r\n(m+2)^3 - 8 &= (m^3 + 6m^2 + 12m + 8) - 8 \\\\\r\n&= m^3 + 6m^2 + 12m \\\\\r\n&= 3p + 6m^2 + 12m \\\\\r\n&= 3(p + 2m^2 + 4m),\r\n\\end{align*}\r\n\\]\r\n\r\nwhich shows that \\( (m+2)^3 - 8 \\) is divisible by 3. Hence, we conclude that \\( (m+2)^3 - 8 \\equiv 0 \\mod 3 \\)."
  },
  {
    "page": 77,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n### Discussion 1.2.28\r\n\r\nExplain why [Definition 1.2.26](#) captures the notion of there being ‘exactly one’ element \\( x \\in X \\) making \\( p(x) \\) true. Can you think of any other ways that \\( \\exists! x \\in X, p(x) \\) could be defined?\r\n\r\n### Strategy 1.2.29 (Proving unique-existentially quantified statements)\r\n\r\nA proof of a statement of the form \\( \\exists! x \\in X, p(x) \\), consists of two parts:\r\n\r\n- **Existence** — prove that \\( \\exists x \\in X, p(x) \\) is true (e.g. using [Strategy 1.2.18](#));\r\n- **Uniqueness** — let \\( a, b \\in X \\), assume that \\( p(a) \\) and \\( p(b) \\) are true, and derive \\( a = b \\).\r\n\r\nAlternatively, prove existence to obtain a fixed \\( a \\in X \\) such that \\( p(a) \\) is true, and then prove \\( \\forall x \\in X, [p(x) \\Rightarrow x = a] \\).\r\n\r\n### Example 1.2.30\r\n\r\nWe prove [Example 1.2.27](#), namely that for each real \\( a > 0 \\) there is a unique \\( b > 0 \\) such that \\( b^2 = a \\). So first fix \\( a > 0 \\).\r\n\r\n- **(Existence)** The real number \\( \\sqrt{a} \\) is positive and satisfies \\( (\\sqrt{a})^2 = a \\) by definition. Its existence will be deferred to a later time, but an informal argument for its existence could be provided using ‘number line’ arguments as in Chapter 0.\r\n\r\n- **(Uniqueness)** Let \\( y, z > 0 \\) be real numbers such that \\( y^2 = a \\) and \\( z^2 = a \\). Then \\( y^2 = z^2 \\). Rearranging and factorising yields\r\n\r\n  \\[\r\n  (y - z)(y + z) = 0\r\n  \\]\r\n\r\n  so either \\( y - z = 0 \\) or \\( y + z = 0 \\). If \\( y + z = 0 \\) then \\( z = -y \\), and since \\( y > 0 \\), this means that \\( z < 0 \\). But this contradicts the assumption that \\( z > 0 \\). As such, it must be the case that \\( y - z = 0 \\), and hence \\( y = z \\), as required.\r\n\r\n### Exercise 1.2.31\r\n\r\nFor each of the propositions, write it out as a logical formula involving the \\( \\exists! \\) quantifier and then prove it, using the structure of the logical formula as a guide.\r\n\r\n(a) For each real number \\( a \\), the equation \\( x^2 + 2ax + a^2 = 0 \\) has exactly one real solution \\( x \\).\r\n\r\n(b) There is a unique real number \\( a \\) for which the equation \\( x^2 + a^2 = 0 \\) has a real solution \\( x \\).\r\n\r\n(c) There is a unique natural number with exactly one positive divisor.\r\n</markdown>",
    "Q": "Q: How can we formally express the statement that for each real number \\( a \\), the quadratic equation \\( x^2 + 2ax + a^2 = 0 \\) has exactly one real solution using the unique existence quantifier \\( \\exists! \\)? ",
    "A": " A: The statement can be expressed as \\( \\exists! x \\in \\mathbb{R}, \\, (x^2 + 2ax + a^2 = 0) \\)."
  },
  {
    "page": 78,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\nThe unique existential quantifier will play a large role when we study functions in [Section 3.1](#).\r\n\r\n## Quantifier alternation\r\n\r\nCompare the following two statements:\r\n\r\n(i) For every door, there is a key that can unlock it.\r\n\r\n(ii) There is a key that can unlock every door.\r\n\r\nLetting the variables \\( x \\) and \\( y \\) refer to doors and keys, respectively, and letting \\( p(x,y) \\) be the statement ‘door \\( x \\) can be unlocked by key \\( y \\)’, we can formulate these statements as:\r\n\r\n(i) \\(\\forall x, \\exists y, p(x,y)\\)\r\n\r\n(ii) \\(\\exists y, \\forall x, p(x,y)\\)\r\n\r\nThis is a typical ‘real-world’ example of what is known as **quantifier alternation**—the two statements differ only by the order of the front-loaded quantifiers, and yet they say very different things. Statement (i) requires every door to be unlockable, but the keys might be different for different doors; statement (ii), however, implies the existence of some kind of ‘master key’ that can unlock all the doors.\r\n\r\nHere’s another example with a more mathematical nature:\r\n\r\n### Exercise 1.2.32\r\nLet \\( p(x,y) \\) be the statement ‘\\( x+y \\) is even’.\r\n\r\n- Prove that \\(\\forall x \\in \\mathbb{Z}, \\exists y \\in \\mathbb{Z}, p(x,y)\\) is true.\r\n\r\n- Prove that \\(\\exists y \\in \\mathbb{Z}, \\forall x \\in \\mathbb{Z}, p(x,y)\\) is false.\r\n\r\nIn both of the foregoing examples, you might have noticed that the ‘\\(\\forall \\exists\\)’ statement says something *weaker* than the ‘\\(\\exists \\forall\\)’ statement—in some sense, it is easier to make a \\(\\forall \\exists\\) statement true than it is to make an \\(\\exists \\forall\\) statement true.\r\n\r\nThis idea is formalised in [Theorem 1.2.33](#) below, which despite its abstract nature, has an extremely simple proof.\r\n</markdown>",
    "Q": "Q: What does the difference in the order of quantifiers signify in the statements \\(\\forall x, \\exists y, p(x,y)\\) and \\(\\exists y, \\forall x, p(x,y)\\)? ",
    "A": " A: The order of quantifiers signifies different meanings: \\(\\forall x, \\exists y, p(x,y)\\) means for every door there is a potentially different key that can unlock it, while \\(\\exists y, \\forall x, p(x,y)\\) means there is a single key that can unlock every door, implying the existence of a 'master key'."
  },
  {
    "page": 79,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n### Theorem 1.2.33\r\n\r\nLet \\( p(x,y) \\) be a logical formula with free variables \\( x \\in X \\) and \\( y \\in Y \\). Then\r\n\r\n\\[\r\n\\exists y \\in Y, \\forall x \\in X, p(x,y) \\implies \\forall x \\in X, \\exists y \\in Y, p(x,y)\r\n\\]\r\n\r\n**Proof**\r\n\r\nSuppose \\(\\exists y \\in Y, \\forall x \\in X, p(x,y)\\) is true. We need to prove \\(\\forall x \\in X, \\exists y \\in Y, p(x,y)\\), so fix \\( a \\in X \\)—our goal is now to prove \\(\\exists y \\in Y, p(a,y)\\).\r\n\r\nUsing our assumption \\(\\exists y \\in Y, \\forall x \\in X, p(x,y)\\), we may choose \\( b \\in Y \\) such that \\(\\forall x, p(x,b)\\) is true. But then \\( p(a,b) \\) is true, so we have proved \\(\\exists y \\in Y, p(a,y)\\), as required. □\r\n\r\nStatements of the form \\(\\exists y \\in Y, \\forall x \\in X, p(x,y)\\) imply some kind of *uniformity*: a value of \\( y \\) making \\(\\forall x \\in X, p(x,y)\\) true can be thought of as a ‘one size fits all’ solution to the problem of proving \\( p(x,y) \\) for a given \\( x \\in X \\). Later in your studies, it is likely that you will encounter the word ‘uniform’ many times—it is precisely this notion of quantifier alternation that the word ‘uniform’ refers to.\r\n</markdown>",
    "Q": "Q: What does the term 'uniformity' refer to in the context of the logical formula \\(p(x,y)\\) and its quantifiers? ",
    "A": " A: The term 'uniformity' refers to the existence of a single value \\(y \\in Y\\) such that for all \\(x \\in X\\), \\(p(x,y)\\) holds true, representing a 'one size fits all' solution to the assertions in the logical formula."
  },
  {
    "page": 80,
    "title": "I Core Concepts/1 Logical Structure/1.2 Variables And Quantifiers",
    "content": "<markdown>\r\n## TL;DR — summary of [Section 1.2](#)\r\n\r\n### Variables and logical formulae\r\n\r\n**1.2.1** A variable is *free* if a value can be substituted for it; otherwise it is *bound*.\r\n\r\n**1.2.2** A *predicate* \\( p(x, y, z, \\ldots) \\) represents a statement involving some free variables \\( x, y, z, \\ldots \\) that becomes a proposition when values for the variables are substituted.\r\n\r\n**1.2.4** A *logical formula* is an expression built using predicates, logical operators and quantifiers.\r\n\r\n### Quantifiers\r\n\r\n**1.2.9** The *universal quantifier* (\\(\\forall\\)) represents ‘for all’. We prove \\(\\forall x \\in X, p(x)\\) by introducing a variable \\( x \\in X \\) and, assuming nothing about \\( x \\) other than that it is an element of \\( X \\), deriving \\( p(x) \\); we can use an assumption of the form \\(\\forall x \\in X, p(x)\\) by deducing \\( p(a) \\) whenever we know that \\( a \\in X \\).\r\n\r\n**1.2.17** The *existential quantifier* (\\(\\exists\\)) represents ‘there exists... such that...’. We prove \\(\\exists x \\in X, p(x)\\) by finding (with proof) an element \\( a \\in X \\) for which \\( p(a) \\) is true; we can use an assumption of the form \\(\\exists x \\in X, p(x)\\) by introducing a variable \\( a \\in X \\) and assuming that \\( p(a) \\) is true.\r\n\r\n**1.2.26** The *unique existential quantifier* (\\(\\exists!\\)) represents ‘there exists a unique... such that...’. We prove \\(\\exists! x \\in X, p(x)\\) in two parts: (1) Prove \\(\\exists x \\in X, p(x)\\); and (2) Let \\( a, b \\in X \\), assume that \\( p(a) \\) and \\( p(b) \\) are true, and derive \\( a = b \\).\r\n\r\n### Quantifier alternation\r\n\r\n**1.2.33** For any logical formula \\( p(x, y) \\), we have that \\(\\exists y \\in Y, \\forall x \\in X, p(x, y)\\) implies \\(\\forall x \\in X, \\exists y \\in Y, p(x, y)\\), but not necessarily vice versa.\r\n</markdown>",
    "Q": "Q: What is the difference between the universal quantifier (\\(\\forall\\)) and the existential quantifier (\\(\\exists\\)) in the context of logical formulas? ",
    "A": " A: The universal quantifier (\\(\\forall\\)) asserts that a predicate holds for all elements in a specified set, while the existential quantifier (\\(\\exists\\)) asserts that there is at least one element in a specified set for which the predicate holds true."
  },
  {
    "page": 81,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n# Section 1.3\r\n\r\n## Logical equivalence\r\n\r\nWe motivate the content of this section with an example.\r\n\r\n### Example 1.3.1\r\n\r\nConsider the following two logical formulae, where \\( P \\) denotes the set of all prime numbers.\r\n\r\n1. \\(\\forall n \\in P, (n > 2 \\Rightarrow \\exists k \\in \\mathbb{Z}, n = 2k + 1)\\);\r\n\r\n2. \\(\\neg \\exists n \\in P, (n > 2 \\land \\exists k \\in \\mathbb{Z}, n = 2k)\\).\r\n\r\nThe logical formula (1) translates to ‘every prime number greater than two is odd’, and the logical formula (2) translates to ‘there does not exist an even prime number greater than two’. These statements are evidently equivalent—they mean the same thing—but they suggest different proof strategies:\r\n\r\n1. Fix a prime number \\( n \\), assume that \\( n > 2 \\), and then prove that \\( n = 2k + 1 \\) for some \\( k \\in \\mathbb{Z} \\).\r\n\r\n2. Assume that there is some prime number \\( n \\) such that \\( n > 2 \\) and \\( n = 2k \\) for some \\( k \\in \\mathbb{Z} \\), and derive a contradiction.\r\n\r\nWhile statement (1) more directly translates the plain English statement ‘every prime number greater than two is odd’, it is the proof strategy suggested by (2) that is easier to use. Indeed, if \\( n \\) is a prime number such that \\( n > 2 \\) and \\( n = 2k \\) for some \\( k \\in \\mathbb{Z} \\), then 2 is a divisor of \\( n \\) other than 1 and \\( n \\) (since \\( 1 < 2 < n \\)), contradicting the assumption that \\( n \\) is prime.\r\n\r\nThe notion of **logical equivalence**, captures precisely the sense in which the logical formulae in (1) and (2) in Example 1.3.1 ‘mean the same thing’. Being able to transform a logical formula into a different (but equivalent) form allows us to identify a wider range of feasible proof strategies.\r\n\r\n### Definition 1.3.2\r\n\r\nLet \\( p \\) and \\( q \\) be logical formulae. We say that \\( p \\) and \\( q \\) are **logically equivalent**, and write \\( p \\equiv q \\) (\\LaTeX{} code: `\\equiv`), if \\( q \\) can be derived from \\( p \\) and \\( p \\) can be derived from \\( q \\).\r\n</markdown>",
    "Q": "Q: Demonstrate that the two logical formulae \\(\\forall n \\in P, (n \\leq 2 \\Rightarrow n = 2)\\) and \\(\\neg \\exists n \\in P, (n \\leq 2 \\land n \\neq 2)\\) are logically equivalent. ",
    "A": " A: Both statements express the idea that the only prime number that is less than or equal to 2 is 2 itself; thus, they imply that there does not exist a prime number less than or equal to 2 that is not 2, confirming their logical equivalence: \\(\\forall n \\in P, (n \\leq 2 \\Rightarrow n = 2) \\equiv \\neg \\exists n \\in P, (n \\leq 2 \\land n \\neq 2)\\)."
  },
  {
    "page": 82,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n## Logical equivalence of propositional formulae\r\n\r\nWhile [Definition 1.3.2](#) defines logical equivalence between arbitrary logical formulae, we will start by focusing our attention on logical equivalence between propositional formulae, like those we saw in [Section 1.1](#).\r\n\r\nFirst, let’s look at a couple of examples of what proofs of logical equivalence might look like. Be warned—they’re not very nice to read! But there is light at the end of the tunnel. After struggling through [Examples 1.3.3](#) and [1.3.4](#) and [Exercise 1.3.5](#), we will introduce a very quick and easy tool for proving propositional formulae are logically equivalent.\r\n\r\n### Example 1.3.3\r\nWe demonstrate that \\( p \\land (q \\lor r) \\equiv (p \\land q) \\lor (p \\land r) \\), where \\( p, q \\) and \\( r \\) are propositional variables.\r\n\r\n- First assume that \\( p \\land (q \\lor r) \\) is true. Then \\( p \\) is true and \\( q \\lor r \\) is true by definition of conjunction. By definition of disjunction, either \\( q \\) is true or \\( r \\) is true.\r\n  - If \\( q \\) is true, then \\( p \\land q \\) is true by definition of conjunction.\r\n  - If \\( r \\) is true, then \\( p \\land r \\) is true by definition of conjunction.\r\n\r\nIn both cases we have that \\( (p \\land q) \\lor (p \\land r) \\) is true by definition of disjunction.\r\n\r\n- Now assume that \\( (p \\land q) \\lor (p \\land r) \\) is true. Then either \\( p \\land q \\) is true or \\( p \\land r \\) is true, by definition of disjunction.\r\n  - If \\( p \\land q \\) is true, then \\( p \\) is true and \\( q \\) is true by definition of conjunction.\r\n  - If \\( p \\land r \\) is true, then \\( p \\) is true and \\( r \\) is true by definition of conjunction.\r\n\r\nIn both cases we have that \\( p \\) is true, and that \\( q \\lor r \\) is true by definition of disjunction. Hence \\( p \\land (q \\lor r) \\) is true by definition of conjunction.\r\n\r\nSince we can derive \\( (p \\land q) \\lor (p \\land r) \\) from \\( p \\land (q \\lor r) \\) and vice versa, it follows that\r\n\r\n\\[\r\np \\land (q \\lor r) \\equiv (p \\land q) \\lor (p \\land r)\r\n\\]\r\n\r\nas required.\r\n\r\n### Example 1.3.4\r\nWe prove that \\( p \\Rightarrow q \\equiv (\\neg p) \\lor q \\), where \\( p, q \\) and \\( r \\) are propositional variables.\r\n\r\n- First assume that \\( p \\Rightarrow q \\) is true. By the law of excluded middle ([Axiom 1.1.44](#)), either \\( p \\) is true or \\( \\neg p \\) is true—we derive \\( (\\neg p) \\lor q \\) in each case.\r\n  - If \\( p \\) is true, then since \\( p \\Rightarrow q \\) is true, it follows from (\\(\\Rightarrow\\)E) that \\( q \\) is true, and so \\( (\\neg p) \\lor q \\) is true by (∨I2);\r\n  - If \\( \\neg p \\) is true, then \\( (\\neg p) \\lor q \\) is true by (∨I1).\r\n</markdown>",
    "Q": "Q: Prove that the expression \\( (p \\lor q) \\land r \\equiv (p \\land r) \\lor (q \\land r) \\) is logically equivalent using a similar approach to Example 1.3.3.  \r\n",
    "A": "  \r\nA: To prove \\( (p \\lor q) \\land r \\equiv (p \\land r) \\lor (q \\land r) \\), we can show both implications. \r\n\r\n1. **Assume \\( (p \\lor q) \\land r \\) is true**: \r\n\r\n   This means that \\( r \\) is true and \\( p \\lor q \\) is also true. By the definition of disjunction, either \\( p \\) is true or \\( q \\) is true.\r\n   - If \\( p \\) is true, then \\( p \\land r \\) is true (since \\( r \\) is true).\r\n   - If \\( q \\) is true, then \\( q \\land r \\) is true (since \\( r \\) is true).\r\n\r\n   Therefore, in either case, \\( (p \\land r) \\lor (q \\land r) \\) is true. \r\n\r\n2. **Assume \\( (p \\land r) \\lor (q \\land r) \\) is true**: \r\n\r\n   This means either \\( p \\land r \\) is true or \\( q \\land r \\) is true.\r\n   - If \\( p \\land r \\) is true, then both \\( p \\) and \\( r \\) are true, hence \\( p \\lor q \\) is true (since \\( p \\) is true).\r\n   - If \\( q \\land r \\) is true, then both \\( q \\) and \\( r \\) are true, hence \\( p \\lor q \\) is true (since \\( q \\) is true).\r\n\r\n   Since \\( r \\) is true in both cases, \\( (p \\lor q) \\land r \\) is true.\r\n\r\nThus, we conclude that \r\n\\[\r\n(p \\lor q) \\land r \\equiv (p \\land r) \\lor (q \\land r)\r\n\\]\r\nas required."
  },
  {
    "page": 83,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\nIn both cases, we see that \\((\\neg p) \\lor q\\) is true.\r\n\r\n- Now assume that \\((\\neg p) \\lor q\\) is true. To prove that \\(p \\Rightarrow q\\) is true, it suffices by \\((\\Rightarrow I)\\) to assume that \\(p\\) is true and derive \\(q\\). So assume \\(p\\) is true. Since \\((\\neg p) \\lor q\\) is true, we have that either \\(\\neg p\\) is true or \\(q\\) is true.\r\n  - If \\(\\neg p\\) is true, then we obtain a contradiction from the assumption that \\(p\\) is true, and so \\(q\\) is true by the principle of explosion (Axiom 1.1.49).\r\n  - If \\(q\\) is true... well, then \\(q\\) is true—there is nothing more to prove!\r\n\r\nIn both cases we have that \\(q\\) is true. Hence \\(p \\Rightarrow q\\) is true.\r\n\r\nWe have derived \\((\\neg p) \\lor q\\) from \\(p \\Rightarrow q\\) and vice versa, and so the two formulae are logically equivalent.\r\n\r\n**Exercise 1.3.5**  \r\nLet \\(p, q\\) and \\(r\\) be propositional variables. Prove that the propositional formula \\((p \\lor q) \\Rightarrow r\\) is logically equivalent to \\((p \\Rightarrow r) \\land (q \\Rightarrow r)\\).\r\n\r\nWorking through the derivations each time we want to prove logical equivalence can become cumbersome even for small examples like Examples 1.3.3 and 1.3.4 and Exercise 1.3.5.\r\n\r\nThe following theorem reduces the problem of proving logical equivalence between propositional formulae to the purely algorithmic task of checking when the formulae are true and when they are false in a (relatively) small list of cases. We will streamline this process even further using truth tables (Definition 1.3.7).\r\n\r\n**Theorem 1.3.6**  \r\nTwo propositional formulae are logically equivalent if and only if their truth values are the same under any assignment of truth values to their constituent propositional variables.\r\n\r\n**Idea of proof**  \r\nA formal proof of this fact is slightly beyond our reach at this point, although we will be able to prove it formally by structural induction, introduced in Section 12.2.\r\n\r\nThe idea of the proof is that, since propositional formulae are built up from simpler propositional formulae using logical operators, the truth value of a more complex propositional formula is determined by the truth values of its simpler subformulae. If we keep ‘chasing’ these subformulae, we end up with just propositional variables.\r\n\r\nFor example, the truth value of \\((p \\Rightarrow r) \\land (q \\Rightarrow r)\\) is determined by the truth values of \\(p \\Rightarrow r\\) and \\(q \\Rightarrow r\\) according to the rules for the conjunction operator \\(\\land\\). In turn, the truth value of \\(p \\Rightarrow r\\) is determined by the truth values of \\(p\\) and \\(r\\) according to the implication.\r\n</markdown>",
    "Q": "Q: Prove the logical equivalence of the formulae \\((\\neg p) \\lor q\\) and \\(p \\Rightarrow q\\) using truth tables. ",
    "A": " A: To prove that \\((\\neg p) \\lor q\\) is logically equivalent to \\(p \\Rightarrow q\\), we can create a truth table:\r\n\r\n\\[\r\n\\begin{array}{|c|c|c|c|c|c|}\r\n\\hline\r\np & q & \\neg p & (\\neg p) \\lor q & p \\Rightarrow q \\\\\r\n\\hline\r\nT & T & F & T & T \\\\\r\nT & F & F & F & F \\\\\r\nF & T & T & T & T \\\\\r\nF & F & T & T & T \\\\\r\n\\hline\r\n\\end{array}\r\n\\]\r\n\r\nFrom the truth table, we observe that the columns for \\((\\neg p) \\lor q\\) and \\(p \\Rightarrow q\\) are identical, confirming their logical equivalence."
  },
  {
    "page": 84,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\nThe truth value of \\( q \\Rightarrow r \\) is determined by the truth values of \\( q \\) and \\( r \\) according to the implication operator again. It follows that the truth value of the whole propositional formula \\( (p \\Rightarrow r) \\land (q \\Rightarrow r) \\) is determined by the truth values of \\( p, q, r \\) according to the rules for \\(\\land\\) and \\(\\Rightarrow\\).\r\n\r\nIf some assignment of truth values to propositional variables makes one propositional formula true but another false, then it must be impossible to derive one from the other—otherwise we’d obtain a contradiction. Hence both propositional formulae must have the same truth values no matter what assignment of truth values is given to their constituent propositional variables.\r\n\r\nWe now develop a systematic way of checking the truth values of a propositional formula under each assignment of truth values to its constituent propositional variables.\r\n\r\n✦ **Definition 1.3.7**  \r\nThe **truth table** of a propositional formula is the table with one row for each possible assignment of truth values to its constituent propositional variables, and one column for each subformula (including the propositional variables and the propositional formula itself). The entries of the truth table are the truth values of the subformulae.\r\n\r\n✐ **Example 1.3.8**  \r\nThe following are the truth tables for \\(\\neg p\\), \\(p \\land q\\), \\(p \\lor q\\) and \\(p \\Rightarrow q\\).\r\n\r\n\\[\r\n\\begin{array}{cccc|ccc|ccc}\r\np & \\neg p & p & q & p \\land q & p & q & p \\lor q & p & q & p \\Rightarrow q \\\\\r\n\\hline\r\n\\checkmark & \\times & \\checkmark & \\checkmark & \\checkmark & \\checkmark & \\checkmark & \\checkmark & \\checkmark & \\checkmark & \\checkmark \\\\\r\n\\times & \\checkmark & \\checkmark & \\times & \\times & \\checkmark & \\times & \\checkmark & \\checkmark & \\times & \\times \\\\\r\n\\checkmark & \\times & \\times & \\checkmark & \\times & \\times & \\checkmark & \\checkmark & \\times & \\checkmark & \\checkmark \\\\\r\n\\times & \\checkmark & \\times & \\times & \\times & \\times & \\times & \\times & \\times & \\times & \\checkmark \\\\\r\n\\end{array}\r\n\\]\r\n\r\nIn Example 1.3.8 we have used the symbol \\(\\checkmark\\) (LaTeX code: \\texttt{\\textbackslash checkmark}) to mean ‘true’ and \\(\\times\\) (LaTeX code: \\texttt{\\textbackslash times}) to mean ‘false’. Some authors adopt other conventions, such as \\(T, F\\) or \\(\\top, \\bot\\) (LaTeX code: \\texttt{\\textbackslash top, \\textbackslash bot}) or 1, 0 or 0, 1—the possibilities are endless!\r\n\r\n✐ **Exercise 1.3.9**  \r\nUse the definitions of \\(\\land\\), \\(\\lor\\) and \\(\\Rightarrow\\) to justify the truth tables in Example 1.3.8.\r\n\r\nThe next example shows how the truth tables for the individual logical operators (as in Example 1.3.8) may be combined to form a truth table for a more complicated propositional formula that involves three propositional variables.\r\n</markdown>",
    "Q": "Q: How would you construct a truth table for the propositional formula \\( (p \\lor q) \\land (q \\Rightarrow r) \\)? ",
    "A": " A: To construct the truth table for \\( (p \\lor q) \\land (q \\Rightarrow r) \\), you would first identify all possible truth value assignments for the variables \\( p, q, r \\) (which are \\( \\text{T}, \\text{F} \\)). Then, calculate the values for the subformulas \\( p \\lor q \\) and \\( q \\Rightarrow r \\) for each assignment. Finally, combine these results using the \\(\\land\\) operator to get the truth values of the entire formula \\( (p \\lor q) \\land (q \\Rightarrow r) \\)."
  },
  {
    "page": 86,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n| \\( p \\) | \\( q \\) | \\( r \\) | \\( q \\lor r \\) | \\( p \\land (q \\lor r) \\) |\r\n|---------|---------|---------|---------|------------------|\r\n| ✓       | ✓       | ✓       | ✓       | ✓                |\r\n| ✓       | ✓       | ✗       | ✓       | ✓                |\r\n| ✓       | ✗       | ✓       | ✓       | ✓                |\r\n| ✓       | ✗       | ✗       | ✗       | ✗                |\r\n| ✗       | ✓       | ✓       | ✓       | ✗                |\r\n| ✗       | ✓       | ✗       | ✓       | ✗                |\r\n| ✗       | ✗       | ✓       | ✓       | ✗                |\r\n| ✗       | ✗       | ✗       | ✗       | ✗                |\r\n\r\nNote that the column for \\( p \\land (q \\lor r) \\) is identical to that of \\( (p \\land q) \\lor (p \\land r) \\) in Example 1.3.10. Hence the two formulae are logically equivalent.\r\n\r\nTo avoid having to write out two truth tables, it can be helpful to combine them into one. For example, the following truth table exhibits that \\( p \\land (q \\lor r) \\) is logically equivalent to \\( (p \\land q) \\lor (p \\land r) \\):\r\n\r\n| \\( p \\) | \\( q \\) | \\( r \\) | \\( q \\lor r \\) | \\( p \\land (q \\lor r) \\) | \\( p \\land q \\) | \\( p \\land r \\) | \\( (p \\land q) \\lor (p \\land r) \\) |\r\n|---------|---------|---------|---------|------------------|---------|---------|--------------------------|\r\n| ✓       | ✓       | ✓       | ✓       | ✓                | ✓       | ✓       | ✓                        |\r\n| ✓       | ✓       | ✗       | ✓       | ✓                | ✓       | ✗       | ✓                        |\r\n| ✓       | ✗       | ✓       | ✓       | ✓                | ✗       | ✓       | ✓                        |\r\n| ✓       | ✗       | ✗       | ✗       | ✗                | ✗       | ✗       | ✗                        |\r\n| ✗       | ✓       | ✓       | ✓       | ✗                | ✗       | ✗       | ✗                        |\r\n| ✗       | ✓       | ✗       | ✓       | ✗                | ✗       | ✗       | ✗                        |\r\n| ✗       | ✗       | ✓       | ✓       | ✗                | ✗       | ✗       | ✗                        |\r\n| ✗       | ✗       | ✗       | ✗       | ✗                | ✗       | ✗       | ✗                        |\r\n\r\nIn the following exercises, we use truth tables to repeat the proofs of logical equivalence from Example 1.3.4 and Exercise 1.3.5.\r\n\r\n### Exercise 1.3.13\r\nUse a truth table to prove that \\( p \\Rightarrow q \\equiv (\\neg p) \\lor q \\).\r\n\r\n### Exercise 1.3.14\r\nLet \\( p, q \\) and \\( r \\) be propositional variables. Use a truth table to prove that the propositional formula \\( (p \\lor q) \\Rightarrow r \\) is logically equivalent to \\( (p \\Rightarrow r) \\land (q \\Rightarrow r) \\).\r\n\r\n## Some proof strategies\r\n\r\nWe are now in good shape to use logical equivalence to derive some more sophisticated proof strategies.\r\n</markdown>",
    "Q": "Q: Prove that the expression \\( (p \\lor q) \\land r \\) is logically equivalent to \\( (p \\land r) \\lor (q \\land r) \\) using a truth table. ",
    "A": " A: \r\nThe truth table for \\( (p \\lor q) \\land r \\) and \\( (p \\land r) \\lor (q \\land r) \\) is as follows:\r\n\r\n\\[\r\n\\begin{array}{|c|c|c|c|c|c|c|}\r\n\\hline\r\np & q & r & (p \\lor q) \\land r & (p \\land r) & (q \\land r) & (p \\land r) \\lor (q \\land r) \\\\\r\n\\hline\r\n✓ & ✓ & ✓ & ✓ & ✓ & ✓ & ✓ \\\\\r\n✓ & ✓ & ✗ & ✗ & ✗ & ✗ & ✗ \\\\\r\n✓ & ✗ & ✓ & ✓ & ✓ & ✗ & ✓ \\\\\r\n✓ & ✗ & ✗ & ✗ & ✗ & ✗ & ✗ \\\\\r\n✗ & ✓ & ✓ & ✓ & ✗ & ✓ & ✓ \\\\\r\n✗ & ✓ & ✗ & ✗ & ✗ & ✗ & ✗ \\\\\r\n✗ & ✗ & ✓ & ✗ & ✗ & ✗ & ✗ \\\\\r\n✗ & ✗ & ✗ & ✗ & ✗ & ✗ & ✗ \\\\\r\n\\hline\r\n\\end{array}\r\n\\]\r\n\r\nSince both \\( (p \\lor q) \\land r \\) and \\( (p \\land r) \\lor (q \\land r) \\) yield identical truth values in every row, they are logically equivalent."
  },
  {
    "page": 87,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n### Theorem 1.3.15 (Law of double negation)\r\n\r\nLet \\( p \\) be a propositional variable. Then \\( p \\equiv \\neg\\neg p \\).\r\n\r\n**Proof**\r\n\r\nThe proof is almost trivialised using truth tables. Indeed, consider the following truth table.\r\n\r\n\\[\r\n\\begin{array}{c|c|c}\r\np & \\neg p & \\neg\\neg p \\\\\r\n\\hline\r\n\\checkmark & \\times & \\checkmark \\\\\r\n\\times & \\checkmark & \\times \\\\\r\n\\end{array}\r\n\\]\r\n\r\nThe columns for \\( p \\) and \\( \\neg\\neg p \\) are identical, and so \\( p \\equiv \\neg\\neg p \\).\r\n\r\nThe law of double negation is important because it suggests a second way that we can prove statements by contradiction. Indeed, it says that proving a proposition \\( p \\) is equivalent to proving \\( \\neg\\neg p \\), which amounts to assuming \\( \\neg p \\) and deriving a contradiction.\r\n\r\n### Strategy 1.3.16 (Proof by contradiction (indirect version))\r\n\r\nIn order to prove a proposition \\( p \\) is true, it suffices to assume that \\( p \\) is false and derive a contradiction.\r\n\r\nAt first sight, Strategy 1.3.16 looks very similar to Strategy 1.1.38, which we also termed proof by contradiction. But there is an important difference between the two:\r\n\r\n- **Strategy 1.1.38** says that to prove that a proposition is false, it suffices to assume that it is true and derive a contradiction;\r\n- **Strategy 1.3.16** says that to prove that a proposition is true, it suffices to assume that it is false and derive a contradiction.\r\n\r\nThe former is a direct proof technique, since it arises directly from the definition of the negation operator; the latter is an indirect proof technique, since it arises from a logical equivalence, namely the law of double negation.\r\n\r\n### Example 1.3.17\r\n\r\nWe prove that if \\( a, b \\) and \\( c \\) are non-negative real numbers satisfying \\( a^2 + b^2 = c^2 \\), then \\( a + b \\geq c \\).\r\n\r\nIndeed, let \\( a, b, c \\in \\mathbb{R} \\) with \\( a, b, c \\geq 0 \\), and assume that \\( a^2 + b^2 = c^2 \\). Towards a contradiction, assume that it is not the case that \\( a + b \\geq c \\). Then we must have \\( a + b < c \\). But then\r\n\r\n\\[\r\n(a + b)^2 = (a + b)(a + b) < (a + b)c < c \\cdot c = c^2\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( p \\) is a propositional variable, how can you show that \\( \\neg\\neg p \\) is logically equivalent to \\( p \\) using an example? ",
    "A": " A: You can show this using a truth table. For example, let \\( p \\) be 'It is raining'. The truth table would show that both \\( p \\) (It is raining) and \\( \\neg\\neg p \\) (It is not the case that it is not raining) have the same truth values, confirming \\( p \\equiv \\neg\\neg p \\)."
  },
  {
    "page": 88,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\nand so\r\n\r\n\\[ c^2 > (a+b)^2 = a^2 + 2ab + b^2 = c^2 + 2ab \\geq c^2 \\]\r\n\r\nThis implies that \\( c^2 > c^2 \\), which is a contradiction. So it must be the case that \\( a+b \\geq c \\), as required.\r\n\r\nThe next proof strategy we derive concerns proving implications.\r\n\r\n### Definition 1.3.18\r\nThe **contrapositive** of a proposition of the form \\( p \\Rightarrow q \\) is the proposition \\(\\neg q \\Rightarrow \\neg p\\).\r\n\r\n### Theorem 1.3.19 (Law of contraposition)\r\nLet \\( p \\) and \\( q \\) be propositional variables. Then \\( p \\Rightarrow q \\equiv (\\neg q) \\Rightarrow (\\neg p) \\).\r\n\r\n**Proof**  \r\nWe build the truth tables for \\( p \\Rightarrow q \\) and \\((\\neg q) \\Rightarrow (\\neg p)\\).\r\n\r\n\\[\r\n\\begin{array}{cccccc}\r\np & q & p \\Rightarrow q & \\neg q & \\neg p & (\\neg q) \\Rightarrow (\\neg p) \\\\\r\n\\hline\r\n\\text{T} & \\text{T} & \\text{T} & \\text{F} & \\text{F} & \\text{T} \\\\\r\n\\text{T} & \\text{F} & \\text{F} & \\text{T} & \\text{F} & \\text{F} \\\\\r\n\\text{F} & \\text{T} & \\text{T} & \\text{F} & \\text{T} & \\text{T} \\\\\r\n\\text{F} & \\text{F} & \\text{T} & \\text{T} & \\text{T} & \\text{T} \\\\\r\n\\end{array}\r\n\\]\r\n\r\nThe columns for \\( p \\Rightarrow q \\) and \\((\\neg q) \\Rightarrow (\\neg p)\\) are identical, so they are logically equivalent.\r\n\r\nTheorem 1.3.19 suggests the following proof strategy.\r\n\r\n### Strategy 1.3.20 (Proof by contraposition)\r\nIn order to prove a proposition of the form \\( p \\Rightarrow q \\), it suffices to assume that \\( q \\) is false and derive that \\( p \\) is false.\r\n\r\n### Example 1.3.21\r\nFix two natural numbers \\( m \\) and \\( n \\). We will prove that if \\( mn > 64 \\), then either \\( m > 8 \\) or \\( n > 8 \\).\r\n\r\nBy contraposition, it suffices to assume that it is not the case that \\( m > 8 \\) or \\( n > 8 \\), and derive that it is not the case that \\( mn > 64 \\).\r\n\r\nSo assume that neither \\( m > 8 \\) nor \\( n > 8 \\). Then \\( m \\leq 8 \\) and \\( n \\leq 8 \\), so that \\( mn \\leq 64 \\), as required.\r\n</markdown>",
    "Q": "Q: Given the theorem that states if \\( mn > 64 \\), then either \\( m > 8 \\) or \\( n > 8 \\), can you prove the contrapositive of this statement? ",
    "A": " A: To prove the contrapositive, assume \\( m \\leq 8 \\) and \\( n \\leq 8 \\). Then, we find \\( mn \\leq 8 \\times 8 = 64 \\), implying that \\( mn \\leq 64 \\) is true, thus proving the contrapositive: if \\( mn \\leq 64 \\), then it is not the case that \\( m > 8 \\) or \\( n > 8 \\)."
  },
  {
    "page": 89,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n### Exercise 1.3.22\r\n\r\nUse the law of contraposition to prove that \\( p \\leftrightarrow q \\equiv (p \\Rightarrow q) \\land ((\\neg p) \\Rightarrow (\\neg q)) \\), and use the proof technique that this equivalence suggests to prove that an integer is even if and only if its square is even.\r\n\r\nIt feels good to invoke impressive-sounding results like proof by contraposition, but in practice, the logical equivalence between any two different propositional formulae suggests a new proof technique, and not all of these techniques have names. And indeed, the proof strategy in the following exercise, while useful, has no slick-sounding name—at least, not one that would be widely understood.\r\n\r\n### Exercise 1.3.23\r\n\r\nProve that \\( p \\lor q \\equiv (\\neg p) \\Rightarrow q \\). Use this logical equivalence to suggest a new strategy for proving propositions of the form \\( p \\lor q \\), and use this strategy to prove that if two integers sum to an even number, then either both integers are even or both are odd.\r\n\r\n### Negation\r\n\r\nIn pure mathematics it is common to ask whether or not a certain property holds of a mathematical object. For example, in [Section 9.2](#), we will look at convergence of sequences of real numbers: to say that a sequence \\( x_0, x_1, x_2, \\ldots \\) of real numbers converges ([Definition 9.2.15](#)) is to say\r\n\r\n\\[\r\n\\exists a \\in \\mathbb{R}, \\forall \\varepsilon > 0 \\Rightarrow \\exists N \\in \\mathbb{N}, \\forall n \\in \\mathbb{N}, [n \\geq N \\Rightarrow |x_n - a| < \\varepsilon]\r\n\\]\r\n\r\nThis is already a relatively complicated logical formula. But what if we wanted to prove that a sequence does not converge? Simply assuming the logical formula above and deriving a contradiction might work sometimes, but it is not particularly enlightening.\r\n\r\nOur next goal is to develop a systematic method for negating complicated logical formulae. With this done, we will be able to negate the logical formula expressing ‘the sequence \\( x_0, x_1, x_2, \\ldots \\) converges’ as follows\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon > 0 \\land \\forall N \\in \\mathbb{N}, \\exists n \\in \\mathbb{N}, [n \\geq N \\land |x_n - a| \\geq \\varepsilon]\r\n\\]\r\n\r\nGranted, this is still a complicated expression, but when broken down element by element, it provides useful information about how it may be proved.\r\n\r\nThe rules for negating conjunctions and disjunctions are instances of de Morgan’s laws, which exhibit a kind of duality between \\(\\land\\) and \\(\\lor\\).\r\n</markdown>",
    "Q": "Q: Using the law of contraposition, how can you prove that if \\( n^2 \\) is odd, then \\( n \\) must also be odd? ",
    "A": " A: By contraposition, we can restate the statement as: if \\( n \\) is even, then \\( n^2 \\) is even. If \\( n \\) is even, we can express \\( n = 2k \\) for some integer \\( k \\). Then \\( n^2 = (2k)^2 = 4k^2 = 2(2k^2) \\), which is clearly even. Thus, the proposition is proven by contraposition."
  },
  {
    "page": 90,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n### Theorem 1.3.24 (de Morgan’s laws for logical operators)\r\n\r\nLet \\( p \\) and \\( q \\) be logical formulae. Then:\r\n\r\n(a) \\(\\neg(p \\land q) \\equiv (\\neg p) \\lor (\\neg q)\\); and\r\n\r\n(b) \\(\\neg(p \\lor q) \\equiv (\\neg p) \\land (\\neg q)\\).\r\n\r\n**Proof of (a)**  \r\nConsider the following truth table.\r\n\r\n\\[\r\n\\begin{array}{c|c|c|c|c|c|c}\r\np & q & p \\land q & \\neg(p \\land q) & \\neg p & \\neg q & (\\neg p) \\lor (\\neg q) \\\\\r\n\\hline\r\n\\checkmark & \\checkmark & \\checkmark & \\times & \\times & \\times & \\times \\\\\r\n\\checkmark & \\times & \\times & \\checkmark & \\times & \\checkmark & \\checkmark \\\\\r\n\\times & \\checkmark & \\times & \\checkmark & \\checkmark & \\times & \\checkmark \\\\\r\n\\times & \\times & \\times & \\checkmark & \\checkmark & \\checkmark & \\checkmark \\\\\r\n\\end{array}\r\n\\]\r\n\r\nThe columns for \\(\\neg(p \\land q)\\) and \\((\\neg p) \\lor (\\neg q)\\) are identical, so they are logically equivalent.\r\n\r\n### Exercise 1.3.25\r\n\r\nProve Theorem 1.3.24(b) thrice: once using the definition of logical equivalence directly (like we did in Examples 1.3.3 and 1.3.4 and Exercise 1.3.5), once using a truth table, and once using part (a) together with the law of double negation.\r\n\r\n### Example 1.3.26\r\n\r\nWe often use de Morgan’s laws for logical operators without thinking about it. For example to say that ‘neither 3 nor 7 is even’ is equivalent to saying ‘3 is odd and 7 is odd’. The former statement translates to\r\n\r\n\\[\r\n\\neg[(3 \\text{ is even}) \\lor (7 \\text{ is even})]\r\n\\]\r\n\r\nwhile the second statement translates to\r\n\r\n\\[\r\n[\\neg(3 \\text{ is even})] \\land [\\neg(7 \\text{ is even})]\r\n\\]\r\n\r\n### Exercise 1.3.27\r\n\r\nProve that \\(\\neg(p \\Rightarrow q) \\equiv p \\land (\\neg q)\\) twice, once using a truth table, and once using Exercise 1.3.13 together with de Morgan’s laws and the law of double negation.\r\n\r\nDe Morgan’s laws for logical operators generalise to statements about quantifiers, expressing a similar duality between \\(\\forall\\) and \\(\\exists\\) as we have between \\(\\land\\) and \\(\\lor\\).\r\n</markdown>",
    "Q": "Q: How can de Morgan's laws be applied to the negation of a universal quantifier? For example, express \\(\\neg(\\forall x, P(x))\\) in terms of existential quantifiers. ",
    "A": " A: According to de Morgan's laws for quantifiers, \\(\\neg(\\forall x, P(x))\\) is equivalent to \\(\\exists x, \\neg P(x)\\)."
  },
  {
    "page": 91,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n### Theorem 1.3.28 (de Morgan’s laws for quantifiers)\r\n\r\nLet \\( p(x) \\) be a logical formula with free variable \\( x \\) ranging over a set \\( X \\). Then:\r\n\r\n(a) \\(\\neg \\forall x \\in X, \\, p(x) \\equiv \\exists x \\in X, \\, \\neg p(x)\\); and\r\n\r\n(b) \\(\\neg \\exists x \\in X, \\, p(x) \\equiv \\forall x \\in X, \\, \\neg p(x)\\).\r\n\r\n**Proof**\r\n\r\nUnfortunately, since these logical formulae involve quantifiers, we do not have truth tables at our disposal, so we must assume each formula and derive the other.\r\n\r\nWe start by proving the equivalence in part (b), and then we derive (a) as a consequence.\r\n\r\n- Assume \\(\\neg \\exists x \\in X, \\, p(x)\\). To prove \\(\\forall x \\in X, \\, \\neg p(x)\\), fix some \\( x \\in X \\). If \\( p(x) \\) were true, then we’d have \\(\\exists x \\in X, \\, p(x)\\), which contradicts our main assumption; so we have \\(\\neg p(x)\\). But then \\(\\forall x \\in X, \\, \\neg p(x)\\) is true.\r\n\r\n- Assume \\(\\forall x \\in X, \\, \\neg p(x)\\). For the sake of contradiction, assume \\(\\exists x \\in X, \\, p(x)\\) were true. Then we obtain some \\( a \\in X \\) for which \\( p(a) \\) is true. But \\(\\neg p(a)\\) is true by the assumption that \\(\\forall x \\in X, \\, \\neg p(a)\\), so we obtain a contradiction. Hence \\(\\neg \\exists x \\in X, \\, p(x)\\) is true.\r\n\r\nThis proves that \\(\\neg \\exists x \\in X, \\, p(x) \\equiv \\forall x \\in X, \\, \\neg p(x)\\).\r\n\r\nNow (a) follows from (b) using the law of double negation ([Theorem 1.3.15](#)):\r\n\r\n\\[\r\n\\exists x \\in X, \\, \\neg p(x) \\equiv \\neg \\neg \\exists x \\in X, \\, \\neg p(x) \\overset{(b)}{\\equiv} \\neg \\forall x \\in X, \\, \\neg \\neg p(x) \\equiv \\neg \\forall x \\in X, \\, p(x)\r\n\\]\r\n\r\nas required.\r\n\r\nThe proof strategy suggested by the logical equivalence in Theorem 1.3.28(b) is so important that it has its own name.\r\n\r\n### Strategy 1.3.29 (Proof by counterexample)\r\n\r\nTo prove that a proposition of the form \\(\\forall x \\in X, \\, p(x)\\) is false, it suffices to find a single element \\( a \\in X \\) such that \\( p(a) \\) is false. The element \\( a \\) is called a **counterexample** to the proposition \\(\\forall x \\in X, \\, p(x)\\).\r\n\r\n### Example 1.3.30\r\n\r\nWe prove by counterexample that not every integer is divisible by a prime number. Indeed, let \\( x = 1 \\). The only integral factors of 1 are 1 and \\(-1\\), neither of which are prime, so that 1 is not divisible by any primes.\r\n\r\n### Exercise 1.3.31\r\n\r\nProve by counterexample that not every rational number can be expressed as \\(\\frac{a}{b}\\) where \\( a \\in \\mathbb{Z} \\) is even and \\( b \\in \\mathbb{Z} \\) is odd.\r\n</markdown>",
    "Q": "Q: Can you provide a counterexample to demonstrate that not every rational number can be expressed as \\(\\frac{a}{b}\\) where \\( a \\in \\mathbb{Z} \\) is even and \\( b \\in \\mathbb{Z} \\) is odd? ",
    "A": " A: Consider the rational number \\( \\frac{1}{2} \\). If we try to express \\( \\frac{1}{2} \\) as \\(\\frac{a}{b}\\) where \\( a \\) is even and \\( b \\) is odd, we cannot find any integers \\( a \\) and \\( b \\) such that all conditions are satisfied, since \\( a = 1 \\) (which is not even) and \\( b = 2 \\) (which is not odd). Thus, \\( \\frac{1}{2} \\) is a counterexample."
  },
  {
    "page": 92,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\nWe have now seen how to negate the logical operators ¬, ∧, ∨ and ⇒, as well as the quantifiers ∀ and ∃.\r\n\r\n### Definition 1.3.32\r\nA logical formula is **maximally negated** if the only instances of the negation operator ¬ appear immediately before a predicate (or other proposition not involving logical operators or quantifiers).\r\n\r\n### Example 1.3.33\r\nThe following propositional formula is maximally negated:\r\n\r\n\\[\r\n[p \\land (q \\Rightarrow (\\neg r))] \\Leftrightarrow (s \\land (\\neg t))\r\n\\]\r\n\r\nIndeed, all instances of ¬ appear immediately before propositional variables.\r\n\r\nHowever the following propositional formula is **not** maximally negated:\r\n\r\n\\[\r\n(\\neg \\neg q) \\Rightarrow q\r\n\\]\r\n\r\nHere the subformula ¬¬q contains a negation operator immediately before another negation operator (¬¬q). However by the law of double negation, this is equivalent to \\( q \\Rightarrow q \\), which is maximally negated trivially since there are no negation operators to speak of.\r\n\r\n### Exercise 1.3.34\r\nDetermine which of the following logical formulae are maximally negated.\r\n\r\n(a) \\(\\forall x \\in X, (\\neg p(x)) \\Rightarrow \\forall y \\in X, \\neg (r(x,y) \\land s(x,y))\\);\r\n\r\n(b) \\(\\forall x \\in X, (\\neg p(x)) \\Rightarrow \\exists y \\in X, (\\neg r(x,y)) \\lor (\\neg s(x,y))\\);\r\n\r\n(c) \\(\\forall x \\in \\mathbb{R}, [x > 1 \\Rightarrow (\\exists y \\in \\mathbb{R}, [x < y \\land \\neg (x^2 \\leq y)])]\\);\r\n\r\n(d) \\(\\neg \\exists x \\in \\mathbb{R}, [x > 1 \\land (\\forall y \\in \\mathbb{R}, [x < y \\Rightarrow x^2 \\leq y])]\\).\r\n\r\nThe following theorem allows us to replace logical formulae by maximally negated ones, which in turn suggests proof strategies that we can use for proving that complicated-looking propositions are **false**.\r\n\r\n### Theorem 1.3.35\r\nEvery logical formula (built using only the logical operators and quantifiers we have seen so far) is logically equivalent to a maximally negated logical formula.\r\n</markdown>",
    "Q": "Q: Given the logical formula \\( \\neg \\forall x \\in \\mathbb{R}, [x > 1 \\land (\\forall y \\in \\mathbb{R}, [x < y \\Rightarrow x^2 \\leq y])] \\), is this formula maximally negated or not? ",
    "A": " A: This formula is **not** maximally negated because the negation operator \\( \\neg \\) is applied to the universal quantifier \\( \\forall \\), rather than directly before a predicate."
  },
  {
    "page": 93,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n## Section 1.3. Logical equivalence\r\n\r\n### Idea of proof\r\n\r\nMuch like [Theorem 1.3.6](#), a precise proof of [Theorem 1.3.35](#) requires some form of induction argument, so instead we will give an idea of the proof.\r\n\r\nEvery logical formula we have seen so far is built from predicates using the logical operators \\(\\land, \\lor, \\Rightarrow\\) and \\(\\lnot\\) and the quantifiers \\(\\forall\\) and \\(\\exists\\)—indeed, the logical operator \\(\\Leftrightarrow\\) was defined in terms of \\(\\land\\) and \\(\\Rightarrow\\), and the quantifier \\(\\exists\\) was defined in terms of the quantifiers \\(\\forall\\) and \\(\\land\\) and the logical operators \\(\\land\\) and \\(\\Rightarrow\\).\r\n\r\nBut the results in this section allow us to push negations ‘inside’ each of these logical operators and quantifiers, as summarised in the following table.\r\n\r\n| Negation outside | Negation inside | Proof              |\r\n|------------------|-----------------|--------------------|\r\n| \\(\\lnot(p \\land q)\\) | \\((\\lnot p) \\lor (\\lnot q)\\) | Theorem 1.3.24(a) |\r\n| \\(\\lnot(p \\lor q)\\)  | \\((\\lnot p) \\land (\\lnot q)\\) | Theorem 1.3.24(b) |\r\n| \\(\\lnot(p \\Rightarrow q)\\) | \\(p \\land (\\lnot q)\\) | Exercise 1.3.27   |\r\n| \\(\\lnot(\\lnot p)\\) | \\(p\\) | Theorem 1.3.15       |\r\n| \\(\\lnot \\forall x \\in X, p(x)\\) | \\(\\exists x \\in X, \\lnot p(x)\\) | Theorem 1.3.28(a) |\r\n| \\(\\lnot \\exists x \\in X, p(x)\\) | \\(\\forall x \\in X, \\lnot p(x)\\) | Theorem 1.3.28(b) |\r\n\r\nRepeatedly applying these rules to a logical formula eventually yields a logically equivalent, maximally negated logical formula.\r\n\r\n### Example 1.3.36\r\n\r\nRecall the logical formula from page 71 expressing the assertion that a sequence \\(x_0, x_1, x_2, \\ldots\\) of real numbers converges:\r\n\r\n\\[\r\n\\exists a \\in \\mathbb{R}, \\forall \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\Rightarrow \\exists N \\in \\mathbb{N}, \\forall n \\in \\mathbb{N}, [n \\geq N \\Rightarrow |x_n - a| < \\varepsilon])\r\n\\]\r\n\r\nWe will maximally negate this to obtain a logical formula expressing the assertion that the sequence does not converge.\r\n\r\nLet’s start at the beginning. The negation of the formula we started with is:\r\n\r\n\\[\r\n\\lnot \\exists a \\in \\mathbb{R}, \\forall \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\Rightarrow \\exists N \\in \\mathbb{N}, \\forall n \\in \\mathbb{N}, [n \\geq N \\Rightarrow |x_n - a| < \\varepsilon])\r\n\\]\r\n\r\nThe key to maximally negating a logical formula is to ignore information that is not immediately relevant. Here, the expression that we are negating takes the form \\(\\lnot \\exists a \\in \\mathbb{R}, (\\text{stuff})\\). It doesn’t matter what the ‘stuff’ is just yet; all that matters is that we are negating an existentially quantified statement, and so de Morgan’s laws for quantifiers tells us that this is logically equivalent to \\(\\forall a \\in \\mathbb{R}, \\lnot(\\text{stuff})\\). We apply this rule and just re-write the ‘stuff’, to obtain:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\lnot \\forall \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\Rightarrow \\exists N \\in \\mathbb{N}, \\forall n \\in \\mathbb{N}, [n \\geq N \\Rightarrow |x_n - a| < \\varepsilon])\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the maximally negated form of the statement “For every real number \\(a\\), there exists a positive real number \\(\\varepsilon\\) such that for all natural numbers \\(N\\), there exists a natural number \\(n\\) such that \\(n \\geq N\\) implies \\(|x_n - a| < \\varepsilon\\)”? ",
    "A": " A: The maximally negated form is \\(\\exists a \\in \\mathbb{R}, \\forall \\varepsilon > 0, \\forall N \\in \\mathbb{N}, \\exists n \\in \\mathbb{N}, n \\geq N \\land |x_n - a| \\geq \\varepsilon\\)."
  },
  {
    "page": 94,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\nNow we are negating a universally quantified statement, ¬∀𝑎 ∈ ℝ, (stuff) which, by de Morgan’s laws for quantifiers, is equivalent to ∃𝑎 ∈ ℝ, ¬(stuff):\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon > 0, \\exists N \\in \\mathbb{N}, \\forall n \\in \\mathbb{N}, [n > N \\implies |x_n - a| < \\varepsilon]\r\n\\]\r\n\r\nAt this point, the statement being negated is of the form (stuff) ⇒ (junk), which by Exercise 1.3.27 negates to (stuff) ∧ ¬(junk). Here, ‘stuff’ is 𝜖 > 0 and ‘junk’ is ∃𝑁 ∈ ℕ, ∀𝑛 ∈ ℕ, [𝑛 > 𝑁 ⇒ |𝑥ₙ − 𝑎| < 𝜖]. So performing this negation yields:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\land \\neg \\exists N \\in \\mathbb{N}, \\forall n \\in \\mathbb{N}, [n > N \\implies |x_n - a| < \\varepsilon])\r\n\\]\r\n\r\nNow we are negating an existentially quantified formula again, so using de Morgan’s laws for quantifiers gives:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\land \\forall N \\in \\mathbb{N}, \\neg \\forall n \\in \\mathbb{N}, [n > N \\implies |x_n - a| < \\varepsilon])\r\n\\]\r\n\r\nThe formula being negated here is universally quantified, so using de Morgan’s laws for quantifiers again gives:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\land \\forall N \\in \\mathbb{N}, \\exists n \\in \\mathbb{N}, \\neg [n > N \\implies |x_n - a| < \\varepsilon])\r\n\\]\r\n\r\nWe’re almost there! The statement being negated here is an implication, so applying the rule ¬(𝑝 ⇒ 𝑞) ≡ 𝑝 ∧ (¬𝑞) again yields:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\land \\forall N \\in \\mathbb{N}, \\exists n \\in \\mathbb{N}, [n > N \\land \\neg (|x_n - a| < \\varepsilon)])\r\n\\]\r\n\r\nAt this point, strictly speaking, the formula is maximally negated, since the statement being negated does not involve any other logical operators or quantifiers. However, since ¬(|𝑥ₙ − 𝑎| < 𝜖) is equivalent to |𝑥ₙ − 𝑎| ≥ 𝜖, we can go one step further to obtain:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon \\in \\mathbb{R}, (\\varepsilon > 0 \\land \\forall N \\in \\mathbb{N}, \\exists n \\in \\mathbb{N}, [n > N \\land |x_n - a| \\geq \\varepsilon])\r\n\\]\r\n\r\nThis is as negated as we could ever dream of, and so we stop here.\r\n\r\n### Exercise 1.3.37\r\nFind a maximally negated propositional formula that is logically equivalent to ¬(𝑝 ⇔ 𝑞).\r\n\r\n### Exercise 1.3.38\r\nMaximally negate the following logical formula, then prove that it is true or prove that it is false.\r\n\r\n\\[\r\n\\exists x \\in \\mathbb{R}, [x > 1 \\land (\\forall y \\in \\mathbb{R}, [x < y \\implies x^2 \\leq y])]\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the maximally negated form of the statement \\( \\exists x \\in \\mathbb{R}, [x > 1 \\land (\\forall y \\in \\mathbb{R}, [x < y \\implies x^2 \\leq y])] \\) using de Morgan’s laws and how would you prove its truth or falsity?  \r\n",
    "A": "  \r\nA: The maximally negated form of the statement is given by:\r\n\r\n\\[\r\n\\forall x \\in \\mathbb{R}, [x \\leq 1 \\lor (\\exists y \\in \\mathbb{R}, [x \\geq y \\lor x^2 > y])]\r\n\\]\r\n\r\nTo prove the falsity of the original statement, consider \\( x = 2 \\). For any \\( y > 2 \\), we have \\( 2 < y \\) which implies \\( 2^2 = 4 \\leq y \\) is satisfied. However, if \\( x > 1 \\), then there is no \\( y \\) such that \\( x^2 \\leq y \\) holds for \\( y < x^2 \\). This contradiction implies that the original statement does not hold true for all \\( x > 1 \\). Thus, the original statement is false."
  },
  {
    "page": 95,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n## Tautologies\r\n\r\nThe final concept that we introduce in this chapter is that of a **tautology**, which can be thought of as the opposite of a contradiction. The word ‘tautology’ has other implications when used colloquially, but in the context of symbolic logic it has a precise definition.\r\n\r\n### Definition 1.3.39\r\nA **tautology** is a proposition or logical formula that is true, no matter how truth values are assigned to its component propositional variables and predicates.\r\n\r\nThe reason we are interested in tautologies is that tautologies can be used as assumptions at any point in a proof, for any reason.\r\n\r\n### Strategy 1.3.40 (Assuming tautologies)\r\nLet \\( p \\) be a proposition. Any tautology may be assumed in any proof of \\( p \\).\r\n\r\n### Example 1.3.41\r\nThe law of excluded middle (Axiom 1.1.44) says precisely that \\( p \\lor (\\neg p) \\) is a tautology. This means that when proving any result, we may split into cases based on whether a proposition is true or false, just as we did in Proposition 1.1.46.\r\n\r\n### Example 1.3.42\r\nThe formula \\( p \\Rightarrow (q \\Rightarrow p) \\) is a tautology.\r\n\r\nA direct proof of this fact is as follows. In order to prove \\( p \\Rightarrow (q \\Rightarrow p) \\) is true, it suffices to assume \\( p \\) and derive \\( q \\Rightarrow p \\). So assume \\( p \\). Now in order to prove \\( q \\Rightarrow p \\), it suffices to assume \\( q \\) and derive \\( p \\). So assume \\( q \\). But we’re already assuming that \\( p \\) is true! So \\( q \\Rightarrow p \\) is true, and hence \\( p \\Rightarrow (q \\Rightarrow p) \\) is true.\r\n\r\nA proof using truth tables is as follows:\r\n\r\n\\[\r\n\\begin{array}{c|c|c|c}\r\np & q & q \\Rightarrow p & p \\Rightarrow (q \\Rightarrow p) \\\\\r\n\\hline\r\n\\text{T} & \\text{T} & \\text{T} & \\text{T} \\\\\r\n\\text{T} & \\text{F} & \\text{T} & \\text{T} \\\\\r\n\\text{F} & \\text{T} & \\text{F} & \\text{T} \\\\\r\n\\text{F} & \\text{F} & \\text{T} & \\text{T} \\\\\r\n\\end{array}\r\n\\]\r\n\r\nWe see that \\( p \\Rightarrow (q \\Rightarrow p) \\) is true regardless of the truth values of \\( p \\) and \\( q \\).\r\n\r\n### Exercise 1.3.43\r\nProve that each of the following is a tautology:\r\n</markdown>",
    "Q": "Q: Prove that the statement \\( (p \\land q) \\lor (\\neg p) \\) is a tautology. ",
    "A": " A: To prove that \\( (p \\land q) \\lor (\\neg p) \\) is a tautology, we can use a truth table:\r\n\r\n\\[\r\n\\begin{array}{c|c|c|c}\r\np & q & p \\land q & (p \\land q) \\lor (\\neg p) \\\\\r\n\\hline\r\n\\text{T} & \\text{T} & \\text{T} & \\text{T} \\\\\r\n\\text{T} & \\text{F} & \\text{F} & \\text{F} \\\\\r\n\\text{F} & \\text{T} & \\text{F} & \\text{T} \\\\\r\n\\text{F} & \\text{F} & \\text{F} & \\text{T} \\\\\r\n\\end{array}\r\n\\]\r\n\r\nSince there exists a row where the statement evaluates to false (when \\( p \\) is true and \\( q \\) is false), the original assertion is incorrect. The correct answer indicates \\( (p \\land q) \\lor (\\neg p) \\) is not a tautology."
  },
  {
    "page": 96,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n(a) \\([(p \\Rightarrow q) \\land (q \\Rightarrow r)] \\Rightarrow (p \\Rightarrow r)\\);\r\n\r\n(b) \\([p \\Rightarrow (q \\Rightarrow r)] \\Rightarrow [(p \\Rightarrow q) \\Rightarrow (p \\Rightarrow r)]\\);\r\n\r\n(c) \\(\\exists y \\in Y, \\forall x \\in X, p(x,y) \\Rightarrow \\forall x \\in X, \\exists y \\in Y, p(x,y)\\);\r\n\r\n(d) \\([\\neg (p \\land q)] \\Leftrightarrow [(\\neg p) \\lor (\\neg q)]\\);\r\n\r\n(e) \\((\\neg \\forall x \\in X, p(x)) \\Leftrightarrow (\\exists x \\in X, \\neg p(x))\\).\r\n\r\nFor each, try to interpret what it means, and how it might be useful in a proof.\r\n\r\nYou may have noticed parallels between de Morgan’s laws for logical operators and quantifiers, and parts (d) and (e) of Exercise 1.3.43, respectively. They almost seem to say the same thing, except that in Exercise 1.3.43 we used ‘\\(\\Leftrightarrow\\)’ and in Theorems 1.3.24 and 1.3.28 we used ‘\\(\\equiv\\)’. There is an important difference, though: if \\(p\\) and \\(q\\) are logical formulae, then \\(p \\Rightarrow q\\) is itself a logical formula, which we may study as a mathematical object in its own right. However, \\(p \\equiv q\\) is not a logical formula: it is an assertion about logical formulae, namely that the logical formulae \\(p\\) and \\(q\\) are equivalent.\r\n\r\nThere is, nonetheless, a close relationship between \\(\\Leftrightarrow\\) and \\(\\equiv\\)—this relationship is summarised in the following theorem.\r\n\r\n### Theorem 1.3.44\r\nLet \\(p\\) and \\(q\\) be logical formulae.\r\n\r\n(a) \\(q\\) can be derived from \\(p\\) if and only if \\(p \\Rightarrow q\\) is a tautology;\r\n\r\n(b) \\(p \\equiv q\\) if and only if \\(p \\Leftrightarrow q\\) is a tautology.\r\n\r\n**Proof**\r\n\r\nFor (a), note that a derivation of \\(q\\) from \\(p\\) is sufficient to establish the truth of \\(p \\Rightarrow q\\) by the introduction rule for implication (\\(\\Rightarrow I\\)), and so if \\(q\\) can be derived from \\(p\\), then \\(p \\Rightarrow q\\) is a tautology. Conversely, if \\(p \\Rightarrow q\\) is a tautology, then \\(q\\) can be derived from \\(p\\) using the elimination rule for implication (\\(\\Rightarrow E\\)) together with the (tautological) assumption that \\(p \\Rightarrow q\\) is true.\r\n\r\nNow (b) follows from (a), since logical equivalence is defined in terms of derivation in each direction, and \\(\\Leftrightarrow\\) is simply the conjunction of two implications.\r\n</markdown>",
    "Q": "Q: How does Theorem 1.3.44 relate derivation to the concept of logical equivalence in propositional logic? ",
    "A": " A: Theorem 1.3.44 states that \\(q\\) can be derived from \\(p\\) if and only if \\(p \\Rightarrow q\\) is a tautology, and that \\(p \\equiv q\\) if and only if \\(p \\Leftrightarrow q\\) is a tautology, linking derivation to both implication and logical equivalence."
  },
  {
    "page": 97,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n## TL;DR — summary of Section 1.3\r\n\r\n### Logical equivalence\r\n\r\n**1.3.2** Two logical formulae are *logically equivalent* (written ≡) if each can be derived from the other.\r\n\r\n**1.3.7** The *truth table* of a propositional formula is a tabulation of its truth values under all assignments of truth values to its constituent propositional variables. Two propositional formulae are logically equivalent if and only if they have identical columns in a truth table.\r\n\r\n### Some specific logical equivalences\r\n\r\n**1.3.15** The double-negation of a proposition is equivalent to the original proposition. This gives rise to ‘indirect’ proof by contradiction: in order to prove that a proposition \\( p \\) is *true*, assume \\( p \\) is *false* and derive a contradiction.\r\n\r\n**1.3.18** The *contrapositive* of an implication \\( p \\Rightarrow q \\) is the implication \\( (\\neg q) \\Rightarrow (\\neg p) \\). Every implication is equivalent to its contrapositive, so in order to prove \\( p \\Rightarrow q \\), it suffices to assume that \\( q \\) is *false*, and derive that \\( p \\) is *false*.\r\n\r\n**1.3.24** De Morgan’s laws for logical operators say that \\( \\neg (p \\land q) \\equiv (\\neg p) \\lor (\\neg q) \\) and \\( \\neg (p \\lor q) \\equiv (\\neg p) \\land (\\neg q) \\).\r\n\r\n**1.3.27** The negation of \\( p \\Rightarrow q \\) is logically equivalent to \\( p \\land (\\neg q) \\), so in order to prove that \\( p \\Rightarrow q \\) is *false*, it suffices to prove that \\( p \\) is *true* but \\( q \\) is *false*.\r\n\r\n**1.3.28** De Morgan’s laws for quantifiers say that \\( \\neg \\forall x \\in X, p(x) \\equiv \\exists x \\in X, \\neg p(x) \\) and \\( \\neg \\exists x \\in X, p(x) \\equiv \\forall x \\in X, \\neg p(x) \\). The first of these suggests the strategy of *proof by counterexample*.\r\n\r\n### Maximal negation\r\n\r\n**1.3.32** A logical formula is *maximally negated* if it contains no negation operators (except, perhaps, immediately before a propositional variable or predicate).\r\n\r\n**1.3.35** Every logical formula built using the logical operators and quantifiers in this section is logically equivalent to a maximally negated one.\r\n</markdown>",
    "Q": "Q: If \\( p \\) is a proposition, what can we conclude about the double-negation of \\( p \\) in terms of logical equivalence?  \r\n",
    "A": " A: The double-negation of \\( p \\) is logically equivalent to \\( p \\) itself, which means \\( \\neg(\\neg p) \\equiv p \\)."
  },
  {
    "page": 98,
    "title": "I Core Concepts/1 Logical Structure/1.3 Logical Equivalence",
    "content": "<markdown>\r\n## Tautologies\r\n\r\n1.3.39 A *tautology* is a logical formula that is true no matter what assignment of truth values is given to its constituent propositional variables or what values are substituted for its free variables. Tautologies can be invoked as assumptions at any point in a proof.\r\n\r\n1.3.44 A proposition \\( p \\) can be derived from a proposition \\( q \\) if and only if \\( p \\Rightarrow q \\) is a tautology; and \\( p \\equiv q \\) if and only if \\( p \\leftrightarrow q \\) is a tautology.\r\n</markdown>",
    "Q": "Q: Given the propositions \\( p \\) and \\( q \\), if it is known that \\( p \\Rightarrow q \\) is a tautology, what can be concluded about the relationship between \\( p \\) and \\( q \\)? ",
    "A": " A: If \\( p \\Rightarrow q \\) is a tautology, it can be concluded that \\( p \\) can be derived from \\( q \\). This implies that whenever \\( p \\) is true, \\( q \\) must also be true."
  },
  {
    "page": 100,
    "title": "I Core Concepts/1 Logical Structure/1.E Chapter 1 Exercises",
    "content": "<markdown>\r\n1.7. \\((p \\land \\lnot q) \\lor (q \\land \\lnot p)\\)\r\n\r\n1.8. Find a statement in plain English, involving no variables at all, that is equivalent to the logical formula \\(\\forall a \\in \\mathbb{Q}, \\forall b \\in \\mathbb{Q}, (a < b \\Rightarrow \\exists c \\in \\mathbb{R}, [a < c < b \\land \\lnot (c \\in \\mathbb{Q})])\\). Then prove this statement, using the structure of the logical formula as a guide.\r\n\r\n1.9. Find a purely symbolic logical formula that is equivalent to the following statement, and then prove it: “No matter which integer you may choose, there will be an integer greater than it.”\r\n\r\n1.10. Let \\(X\\) be a set and let \\(p(x)\\) be a predicate. Find a logical formula representing the statement ‘there are exactly two elements \\(x \\in X\\) such that \\(p(x)\\) is true’. Use the structure of this logical formula to describe how a proof should be structured, and use this structure to prove that there are exactly two real numbers \\(x\\) such that \\(x^2 = 1\\).\r\n\r\n1.11. Prove that\r\n\r\n\\[\r\np \\iff q \\equiv (p \\Rightarrow q) \\land ((\\lnot p) \\Rightarrow (\\lnot q))\r\n\\]\r\n\r\nHow might this logical equivalence help you to prove statements of the form ‘\\(p\\) if and only if \\(q\\)’?\r\n\r\n1.12. Prove using truth tables that \\(p \\Rightarrow q \\not\\equiv q \\Rightarrow p\\). Give an example of propositions \\(p\\) and \\(q\\) such that \\(p \\Rightarrow q\\) is true but \\(q \\Rightarrow p\\) is false.\r\n\r\nIn Questions 1.13 to 1.16, find a logical formula whose column in a truth table is as shown.\r\n\r\n1.13.\r\n\r\n\\[\r\n\\begin{array}{cc|c}\r\np & q & \\\\\r\n\\hline\r\n\\checkmark & \\checkmark & \\times \\\\\r\n\\checkmark & \\times & \\checkmark \\\\\r\n\\times & \\checkmark & \\checkmark \\\\\r\n\\times & \\times & \\times \\\\\r\n\\end{array}\r\n\\]\r\n\r\n1.14.\r\n\r\n\\[\r\n\\begin{array}{cc|c}\r\np & q & \\\\\r\n\\hline\r\n\\checkmark & \\checkmark & \\checkmark \\\\\r\n\\checkmark & \\times & \\times \\\\\r\n\\times & \\checkmark & \\times \\\\\r\n\\times & \\times & \\checkmark \\\\\r\n\\end{array}\r\n\\]\r\n\r\n1.15.\r\n\r\n\\[\r\n\\begin{array}{ccc|c}\r\np & q & r & \\\\\r\n\\hline\r\n\\checkmark & \\checkmark & \\checkmark & \\checkmark \\\\\r\n\\checkmark & \\checkmark & \\times & \\times \\\\\r\n\\checkmark & \\times & \\checkmark & \\times \\\\\r\n\\checkmark & \\times & \\times & \\checkmark \\\\\r\n\\times & \\checkmark & \\checkmark & \\times \\\\\r\n\\times & \\checkmark & \\times & \\checkmark \\\\\r\n\\times & \\times & \\checkmark & \\checkmark \\\\\r\n\\times & \\times & \\times & \\checkmark \\\\\r\n\\end{array}\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the logical formula equivalent to the statement \"For any two rational numbers, one can find an irrational number between them\"? ",
    "A": " A: The logical formula equivalent to this statement is \\(\\forall a \\in \\mathbb{Q}, \\forall b \\in \\mathbb{Q}, (a < b \\Rightarrow \\exists c \\in \\mathbb{R}, [a < c < b \\land \\lnot (c \\in \\mathbb{Q})])\\)."
  },
  {
    "page": 101,
    "title": "I Core Concepts/1 Logical Structure/1.E Chapter 1 Exercises",
    "content": "<markdown>\r\n### Section 1.E. Chapter 1 exercises\r\n\r\n#### 1.16.\r\n\r\n| \\( p \\) | \\( q \\) | \\( r \\) |\r\n|--------|--------|--------|\r\n| ✓      | ✓      | ✓      |\r\n| ✓      | ✗      | ✗      |\r\n| ✗      | ✓      | ✗      |\r\n| ✗      | ✗      | ✗      |\r\n| ✗      | ✓      | ✓      |\r\n| ✓      | ✗      | ✗      |\r\n| ✗      | ✓      | ✓      |\r\n| ✗      | ✗      | ✗      |\r\n\r\n#### 1.17.\r\n\r\nA new logical operator \\( \\uparrow \\) is defined by the following rules:\r\n\r\n(i) If a contradiction can be derived from the assumption that \\( p \\) is true, then \\( p \\uparrow q \\) is true;\r\n\r\n(ii) If a contradiction can be derived from the assumption that \\( q \\) is true, then \\( p \\uparrow q \\) is true;\r\n\r\n(iii) If \\( r \\) is any proposition, and if \\( p \\uparrow q \\), \\( p \\) and \\( q \\) are all true, then \\( r \\) is true.\r\n\r\nThis question explores this curious new logical operator.\r\n\r\n(a) Prove that \\( p \\uparrow p \\equiv \\neg p \\), and deduce that \\( ((p \\uparrow p) \\uparrow (p \\uparrow p)) \\equiv p \\).\r\n\r\n(b) Prove that \\( p \\lor q \\equiv (p \\uparrow p) \\uparrow (q \\uparrow q) \\) and \\( p \\land q \\equiv (p \\uparrow q) \\uparrow (p \\uparrow q) \\).\r\n\r\n(c) Find a propositional formula using only the logical operator \\( \\uparrow \\) that is equivalent to \\( p \\Rightarrow q \\).\r\n\r\n#### 1.18.\r\n\r\nLet \\( X \\) be \\( \\mathbb{Z} \\) or \\( \\mathbb{Q} \\), and define a logical formula \\( p \\) by:\r\n\r\n\\[\r\n\\forall x \\in X, \\exists y \\in X, (x < y \\land [\\forall z \\in X, \\neg (x < z \\land z < y)])\r\n\\]\r\n\r\nWrite out \\( \\neg p \\) as a maximally negated logical formula. Prove that \\( p \\) is true when \\( X = \\mathbb{Z} \\), and \\( p \\) is false when \\( X = \\mathbb{Q} \\).\r\n\r\n#### 1.19.\r\n\r\nUse Definition 1.2.26 to write out a maximally negated logical formula that is equivalent to \\( \\neg \\exists! x \\in X, p(x) \\). Describe the strategy that this equivalence suggests for proving that there is not a unique \\( x \\in X \\) such that \\( p(x) \\) is true, and use this strategy to prove that, for all \\( a \\in \\mathbb{R} \\), if \\( a \\neq -1 \\) then there is not a unique \\( x \\in \\mathbb{R} \\) such that \\( x^4 - 2ax^2 + a^2 - 1 = 0 \\).\r\n\r\n#### 1.20.\r\n\r\nDefine a new quantifier \\( \\exists! \\) such that de Morgan’s laws for quantifiers (Theorem 1.3.28) hold with \\( \\forall \\) and \\( \\exists \\) replaced by \\( \\exists! \\) and \\( \\exists! \\), respectively.\r\n\r\n### True–False questions\r\n\r\nIn [Questions 1.21 to 1.30](#), determine (with proof) whether the statement is true or false.\r\n</markdown>",
    "Q": "Q: Given the logical operator \\( \\uparrow \\), prove that \\( p \\land q \\equiv (p \\uparrow q) \\uparrow (p \\uparrow q) \\) is equivalent to the statement that if either \\( p \\) or \\( q \\) is false, then \\( p \\land q \\) is false. What does this imply about the truth table of \\( p \\land q \\)?  \r\n",
    "A": "  \r\nA: The statement \\( p \\land q \\equiv (p \\uparrow q) \\uparrow (p \\uparrow q) \\) implies that \\( p \\land q \\) is true if and only if both \\( p \\) and \\( q \\) are true, and therefore the truth table for \\( p \\land q \\) will show that it is only true when both propositions are true, which is consistent with the definition of the logical \"and\" operation."
  },
  {
    "page": 102,
    "title": "I Core Concepts/1 Logical Structure/1.E Chapter 1 Exercises",
    "content": "<markdown>\r\n1.21. Every implication is logically equivalent to its contrapositive.\r\n\r\n1.22. Every implication is logically equivalent to its converse.\r\n\r\n1.23. Every propositional formula whose only logical operators are conjunctions and negations is logically equivalent to a propositional formula whose only logical operators are disjunctions and negations.\r\n\r\n1.24. Every propositional formula whose only logical operators are conjunctions is logically equivalent to a propositional formula whose only logical operators are disjunctions.\r\n\r\n1.25. The formulae \\( p \\land (q \\lor r) \\) and \\( (p \\land q) \\lor r \\) are logically equivalent.\r\n\r\n1.26. The formulae \\( p \\lor (q \\lor r) \\) and \\( (p \\lor q) \\land (p \\lor r) \\) are logically equivalent.\r\n\r\n1.27. The logical formulae \\( \\neg \\forall x \\in X, \\forall y \\in Y, p(x,y) \\) and \\( \\exists x \\in X, \\forall y \\in Y, p(x,y) \\) are logically equivalent.\r\n\r\n1.28. \\( \\neg \\forall x \\geq 0, \\exists y \\in \\mathbb{R}, y^2 = x \\) is logically equivalent to \\( \\forall x < 0, \\exists y \\notin \\mathbb{R}, y^2 \\neq x \\).\r\n\r\n1.29. \\( \\neg \\forall x \\geq 0, \\exists y \\in \\mathbb{R}, y^2 = x \\) is logically equivalent to \\( \\exists x \\geq 0, \\forall y \\in \\mathbb{R}, y^2 \\neq x \\).\r\n\r\n1.30. \\( \\neg \\forall x \\geq 0, \\exists y \\in \\mathbb{R}, y^2 = x \\) is logically equivalent to \\( \\exists x < 0, \\forall y \\in \\mathbb{R}, y^2 = x \\).\r\n\r\n### Always–Sometimes–Never questions\r\n\r\nIn [Questions 1.31 to 1.35](#), determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n1.31. Let \\( p \\) and \\( q \\) be propositions and assume that \\( p \\) is true. Then \\( p \\Rightarrow q \\) is true.\r\n\r\n1.32. Let \\( p \\) and \\( q \\) be propositions and assume that \\( p \\) is false. Then \\( p \\Rightarrow q \\) is true.\r\n\r\n1.33. Let \\( X \\) and \\( Y \\) be sets and let \\( p(x,y) \\) be a predicate with free variables \\( x \\in X \\) and \\( y \\in Y \\). Then the logical formulae \\( \\forall x \\in X, \\forall y \\in Y, p(x,y) \\) and \\( \\forall y \\in Y, \\forall x \\in X, p(x,y) \\) are logically equivalent.\r\n\r\n1.34. Let \\( X \\) and \\( Y \\) be sets and let \\( p(x,y) \\) be a predicate with free variables \\( x \\in X \\) and \\( y \\in Y \\). Then the logical formulae \\( \\forall x \\in X, \\exists y \\in Y, p(x,y) \\) and \\( \\exists y \\in Y, \\forall x \\in X, p(x,y) \\) are logically equivalent.\r\n\r\n1.35. Let \\( X \\) and \\( Y \\) be sets and let \\( p(x,y) \\) be a predicate with free variables \\( x \\in X \\) and \\( y \\in Y \\). Then the logical formulae \\( \\forall x \\in X, \\forall y \\in Y, p(x,y) \\) and \\( \\exists x \\in X, \\exists y \\in Y, \\neg p(x,y) \\) are logically equivalent.\r\n</markdown>",
    "Q": "Q: Is the statement \"The formulae \\( \\forall x \\in X, \\exists y \\in Y, p(x,y) \\) and \\( \\exists y \\in Y, \\forall x \\in X, p(x,y) \\) are logically equivalent\" always, sometimes, or never true? ",
    "A": " A: The statement is never true, as the quantifiers are ordered differently and generally yield different truth conditions."
  },
  {
    "page": 103,
    "title": "I Core Concepts/2 Sets",
    "content": "<markdown>\r\n# Chapter 2\r\n\r\n# Sets\r\n\r\nWe saw an informal definition of a *set* in [Chapter 0](#), but so far the only sets that we have seen are the number sets (\\(\\mathbb{N}\\), \\(\\mathbb{Z}\\) and so on).\r\n\r\nIn [Section 2.1](#), we will study sets in the abstract—in particular, the sets that we study are arbitrary collections of mathematical objects, not just numbers. This is essential for further study in pure mathematics, since most (if not all) areas of pure mathematics concern certain kinds of sets!\r\n\r\nIn [Section 2.2](#), we will then define some operations that allow us to form new sets out of old sets, and prove some identities of an algebraic nature that are closely related to the rules governing logical operators and quantifiers that we saw in [Chapter 1](#).\r\n</markdown>",
    "Q": "Q: What are some examples of operations that can be used to form new sets from existing sets? ",
    "A": " A: Some examples of operations that can be used to form new sets include union, intersection, and set difference."
  },
  {
    "page": 104,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n## Section 2.1\r\n\r\n# Sets\r\n\r\nWe begin by redefining the notion of a **set** with a notch more precision than we provided in Chapter 0. At their core, sets seem extremely simple—sets are just collections of objects—except that if not kept in check, this characterisation of a set leads to logical inconsistencies, such as the infamous *Russell’s paradox*.\r\n\r\nThese logical paradoxes can be overcome by restricting ourselves to working inside a universe \\(\\mathcal{U}\\), which we consider to be a set which is so big that it contains all of the mathematical objects that we want to talk about. This is a subtle issue, which is well beyond the scope of this section, but is discussed further in Section B.1.\r\n\r\n### Definition 2.1.1\r\n\r\nA **set** is a collection of **elements** from a specified **universe of discourse**. The collection of everything in the universe of discourse is called the **universal set**, denoted by \\(\\mathcal{U}\\) (LaTeX code: `\\mathcal{U}`).\r\n\r\nThe expression \\(x \\in X\\) (LaTeX code: `\\in`) denotes the statement that \\(x\\) is an element of \\(X\\); we write \\(x \\notin X\\) (LaTeX code: `\\not\\in`) to mean \\(\\neg (x \\in X)\\), that is that \\(x\\) is not an element of \\(X\\).\r\n\r\n### Example 2.1.2\r\n\r\nIn Chapter 0, we introduced five sets: the set \\(\\mathbb{N}\\) of natural numbers, the set \\(\\mathbb{Z}\\) of integers, the set \\(\\mathbb{Q}\\) of rational numbers, the set \\(\\mathbb{R}\\) of real numbers and the set \\(\\mathbb{C}\\) of complex numbers.\r\n\r\n### Exercise 2.1.3\r\n\r\nWhich of the following propositions are true, and which are false?\r\n\r\n- \\(\\frac{1}{2} \\in \\mathbb{Z}\\)\r\n- \\(\\frac{1}{2} \\in \\mathbb{Q}\\)\r\n- \\(Z \\in \\mathbb{Q}\\)\r\n- \\(Z \\in \\mathcal{U}\\)\r\n- \\(\\frac{1}{2} \\in \\mathcal{U}\\)\r\n\r\nWe will avoid referring explicitly to the universal set \\(\\mathcal{U}\\) whenever possible, but it will always be there in the background. This is convenient because we no longer need to worry about the domain of discourse of free variables (as we did in Definition 1.2.2), so that we can abbreviate ‘\\(\\forall x \\in \\mathcal{U}, p(x)\\)’ by ‘\\(\\forall x, p(x)\\)’, and ‘\\(\\exists x \\in \\mathcal{U}, p(x)\\)’ by ‘\\(\\exists x, p(x)\\)’.\r\n\r\nNote that under this convention:\r\n\r\n- \\(\\forall x \\in X, p(x)\\) is logically equivalent to \\(\\forall x, (x \\in X \\Rightarrow p(x))\\); and\r\n- \\(\\exists x \\in X, p(x)\\) is logically equivalent to \\(\\exists x, (x \\in X \\land p(x))\\).\r\n</markdown>",
    "Q": "Q: Given that \\(\\mathbb{Z}\\) is the set of integers, what can be concluded about the statement \\(\\sqrt{4} \\in \\mathbb{Z}\\)?  \r\n",
    "A": "  \r\nA: The statement \\(\\sqrt{4} \\in \\mathbb{Z}\\) is true because \\(\\sqrt{4} = 2\\), and \\(2\\) is an integer, thus \\(2 \\in \\mathbb{Z}\\)."
  },
  {
    "page": 105,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n## Specifying a set\r\n\r\nOne way of defining a set is simply to describe it in words, like we have done up to now. There are other, more concise ways of specifying sets, which also remove such ambiguity from the process.\r\n\r\n**Lists.** One way is simply to provide a list of the elements of the set. To specify that the list denotes a set, we enclose the list with {curly brackets} (LaTeX code: `\\{, \\}`). For example, the following is a specification of a set \\( X \\), whose elements are the natural numbers between 0 and 5 (inclusive):\r\n\r\n\\[ \r\nX = \\{0, 1, 2, 3, 4, 5\\} \r\n\\]\r\n\r\n**Implied lists.** Sometimes a list might be too long to write out—maybe even infinite—or the length of the list might depend on a variable. In these cases it will be convenient to use an implied list, in which some elements of the list are written, and the rest are left implicit by writing an ellipsis ‘…’ (LaTeX code: `\\dots`). For example, the statement\r\n\r\n\\[ \r\nX = \\{1, 4, 9, \\dots, n^2\\} \r\n\\]\r\n\r\nmeans that \\( X \\) is the set whose elements are all the square numbers from 1 to \\( n^2 \\), where \\( n \\) is some number. Implied lists can be ambiguous, since they rely on the reader’s ability to infer the pattern being followed, so use with caution!\r\n\r\n**Set-builder notation.** In general, implied lists can be ambiguous, so in practice they are avoided unless the implied list is very simple, such as a set of consecutive numbers like \\(\\{3, 4, \\dots, 9\\}\\). In fact, many sets can’t even be listed in this way.\r\n\r\nTo get around this, we can use **set-builder notation**, which is a means of specifying a set in terms of the properties its elements satisfy. Given a set \\( X \\), the set of elements of \\( X \\) satisfying some property \\( p(x) \\) is denoted\r\n\r\n\\[ \r\n\\{x \\in X \\mid p(x)\\} \r\n\\]\r\n\r\nThe bar ‘\\(\\mid\\)’ (LaTeX code: `\\mid`) separates the variable name from the formula that they make true—some authors use a colon instead (as in \\(\\{x \\in X : p(x)\\}\\)).\r\n\r\nThe set \\(\\{x \\in X \\mid p(x)\\}\\) is read aloud as ‘the set of \\( x \\in X \\) such that \\( p(x) \\)’, but beware—neither the bar ‘\\(\\mid\\)’ nor the colon ‘:’ mean ‘such that’ in other contexts.\r\n\r\n✎ **Example 2.1.4**  \r\nThe set of all even integers can be written in set-builder notation as\r\n\r\n\\[ \r\n\\{n \\in \\mathbb{Z} \\mid n \\text{ is even}\\} \r\n\\]\r\n</markdown>",
    "Q": "Q: How can the set of natural numbers less than 10 be specified using set-builder notation?  \r\n",
    "A": "  \r\nA: The set of natural numbers less than 10 can be specified as  \r\n\\[ \r\n\\{n \\in \\mathbb{N} \\mid n < 10\\} \r\n\\]  "
  },
  {
    "page": 106,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\nFor comparison, the set of all even natural numbers can be written as\r\n\r\n\\[\r\n\\{ n \\in \\mathbb{N} \\mid n \\text{ is even} \\} = \\{ 0, 2, 4, 6, \\ldots \\}\r\n\\]\r\n\r\nNote that \\(-6\\) is an element of the former set but not of the latter set, since \\(-6\\) is an integer but is not a natural number.\r\n\r\nNote moreover that the expression\r\n\r\n\\[\r\n\\{ n \\in \\mathbb{Q} \\mid n \\text{ is even} \\}\r\n\\]\r\n\r\nis meaningless, since we have not defined a notion of ‘evenness’ for rational numbers.\r\n\r\n### Strategy 2.1.5\r\nLet \\( X \\) be a set and let \\( p(x) \\) be a logical formula with free variable \\( x \\in X \\). In order to prove \\( a \\in \\{ x \\in X \\mid p(x) \\} \\), it suffices to prove \\( a \\in X \\) and that \\( p(a) \\) is true.\r\n\r\n### Exercise 2.1.6\r\nA **dyadic rational** is a rational number that can be expressed as an integer divided by a power of 2. Express the set of all dyadic rationals using set-builder notation.\r\n\r\nAn alternate form of set-builder notation uses an expression involving one or more variables to the left of the vertical bar, and the range of the variable(s) to the right. The elements of the set are then the values of the expression as the variable(s) vary as indicated—that is:\r\n\r\n\\[\r\n\\{ \\text{expr}(x) \\mid x \\in X \\} \\text{ is defined to mean } \\{ y \\mid \\exists x \\in X, y = \\text{expr}(x) \\}\r\n\\]\r\n\r\nwhere expr(x) is the expression in question.\r\n\r\n### Example 2.1.7\r\nThe expression \\(\\{ 3k + 2 \\mid k \\in \\mathbb{Z} \\}\\) denotes the set of all integers of the form \\(3k + 2\\), where \\(k \\in \\mathbb{Z}\\). It is shorthand for \\(\\{ n \\in \\mathbb{Z} \\mid \\exists k \\in \\mathbb{Z}, n = 3k + 2 \\}\\). In implied list notation, we could write this set as \\(\\{ \\ldots, -4, -1, 2, 5, 8, \\ldots \\}\\).\r\n\r\n### Exercise 2.1.8\r\nExpress the set of dyadic rationals (defined in Exercise 2.1.6) in this alternate form of set-builder notation.\r\n\r\nSet-builder notation is useful for defining sets based on the properties they satisfy, as in Definitions 2.1.9 and 2.1.11 below.\r\n\r\n### Definition 2.1.9\r\nLet \\( n \\in \\mathbb{N} \\). The set \\([n]\\) is defined by \\([n] = \\{ k \\in \\mathbb{N} \\mid 1 \\leq k \\leq n \\}\\).\r\n</markdown>",
    "Q": "Q: Write the set of all dyadic rationals using set-builder notation according to the definition provided in the context. ",
    "A": " A: The set of all dyadic rationals can be expressed as \r\n\r\n\\[\r\n\\{ \\frac{m}{2^n} \\mid m \\in \\mathbb{Z}, n \\in \\mathbb{N} \\}\r\n\\]"
  },
  {
    "page": 107,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n### Example 2.1.10\r\n\r\nIn implied list notation, \\([n] = \\{1, 2, \\ldots, n\\}\\). For example, \\([4] = \\{1, 2, 3, 4\\}\\). Note that \\([0]\\) has no elements (it is empty—see Definition 2.1.27), since there are no natural numbers \\(k\\) satisfying the inequality \\(1 \\leq k \\leq 0\\).\r\n\r\nWhile not particularly interesting yet, sets of the form \\([n]\\) will be fundamental throughout Chapter 8, as they are used to define the notion of a finite set, as well as the size of a finite set.\r\n\r\nIntervals are particular subsets of \\(\\mathbb{R}\\) that are ubiquitous in mathematics, particularly in analysis and topology.\r\n\r\n### Definition 2.1.11 (Intervals of the real line)\r\n\r\nLet \\(a, b \\in \\mathbb{R}\\). The open interval \\((a, b)\\), the closed interval \\([a, b]\\), and the half-open intervals \\([a, b)\\) and \\((a, b]\\) from \\(a\\) to \\(b\\) are defined by\r\n\r\n\\[\r\n(a, b) = \\{x \\in \\mathbb{R} \\mid a < x < b\\} \\quad (a, b] = \\{x \\in \\mathbb{R} \\mid a < x \\leq b\\}\r\n\\]\r\n\\[\r\n[a, b) = \\{x \\in \\mathbb{R} \\mid a \\leq x < b\\} \\quad [a, b] = \\{x \\in \\mathbb{R} \\mid a \\leq x \\leq b\\}\r\n\\]\r\n\r\nWe further define the unbounded intervals \\((-\\infty, a)\\), \\((-\\infty, a]\\), \\([a, \\infty)\\) and \\((a, \\infty)\\) (\\(\\LaTeX\\) code: \\texttt{\\textbackslash infty}) by\r\n\r\n\\[\r\n(-\\infty, a) = \\{x \\in \\mathbb{R} \\mid x < a\\} \\quad (a, \\infty) = \\{x \\in \\mathbb{R} \\mid x > a\\}\r\n\\]\r\n\\[\r\n(-\\infty, a] = \\{x \\in \\mathbb{R} \\mid x \\leq a\\} \\quad [a, \\infty) = \\{x \\in \\mathbb{R} \\mid x \\geq a\\}\r\n\\]\r\n\r\n### Example 2.1.12\r\n\r\nThe following illustration depicts the open interval \\((-2, 5)\\).\r\n\r\nThe hollow circles \\(\\circ\\) indicate that the endpoints are not included in the interval.\r\n\r\nBe warned that the use of the symbol \\(\\infty\\) is misleading, since it suggests that the symbol \\(\\infty\\) on its own has a specific meaning (or, worse, that it refers to a real number). It doesn’t—it is just a symbol that suggests unboundedness of the interval in question. A less misleading way of writing \\([a, \\infty)\\), for instance, might be \\([a, \\rightarrow)\\) or \\(\\mathbb{R}_{\\geq a}\\); however, \\([a, \\infty)\\) is standard, so it is what we will write.\r\n\r\n### Exercise 2.1.13\r\n\r\nFor each of the following illustrations, find the interval that it depicts. A filled circle \\(\\bullet\\) indicates that an end-point is included in the interval, whereas a hollow circle \\(\\circ\\) indicates that an end-point is not included in the interval.\r\n</markdown>",
    "Q": "Q: What is the difference between the open interval \\((a, b)\\) and the closed interval \\([a, b]\\)? ",
    "A": " A: The open interval \\((a, b)\\) does not include the endpoints \\(a\\) and \\(b\\), while the closed interval \\([a, b]\\) includes both endpoints \\(a\\) and \\(b\\). In set notation, \\((a, b) = \\{x \\in \\mathbb{R} \\mid a < x < b\\}\\) and \\([a, b] = \\{x \\in \\mathbb{R} \\mid a \\leq x \\leq b\\}\\)."
  },
  {
    "page": 108,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n## Subsets\r\n\r\nIt is often the case that everything that is also an element of one set is an element of another set. For example, every integer is a rational number; that is\r\n\r\n\\[\r\n\\forall n \\in \\mathbb{Z}, n \\in \\mathbb{Q}\r\n\\]\r\n\r\nWe can say this more concisely by saying that \\(\\mathbb{Z}\\) is a subset of \\(\\mathbb{Q}\\).\r\n\r\n### Definition 2.1.14\r\n\r\nLet \\(X\\) be a set. A **subset** of \\(X\\) is a set \\(U\\) such that\r\n\r\n\\[\r\n\\forall a, (a \\in U \\Rightarrow a \\in X)\r\n\\]\r\n\r\nWe write \\(U \\subseteq X\\) (LaTeX code: `\\subseteq`) for the assertion that \\(U\\) is a subset of \\(X\\).\r\n\r\nAdditionally, the notation \\(U \\nsubseteq X\\) (LaTeX code: `\\nsubseteq`) means that \\(U\\) is not a subset of \\(X\\), and the notation \\(U \\subsetneq X\\) (LaTeX code: `\\subsetneq`) means that \\(U\\) is a **proper subset** of \\(X\\), that is a subset of \\(X\\) that is not equal to \\(X\\).\r\n\r\n### Strategy 2.1.15 (Proving a subset containment)\r\n\r\nIn order to prove that a set \\(U\\) is a subset of a set \\(X\\), it suffices to take an arbitrary element \\(a \\in U\\) and prove that \\(a \\in X\\).\r\n\r\n### Example 2.1.16\r\n\r\nEvery set is a subset of itself—that is, \\(X \\subseteq X\\) for all sets \\(X\\). The proof of this is extremely simple: we must prove \\(\\forall x \\in X, x \\in X\\). But then this is trivial: let \\(x \\in X\\), then \\(x \\in X\\) by assumption. Done!\r\n</markdown>",
    "Q": "Q: If \\(U = \\{2, 4, 6\\}\\) and \\(X = \\{1, 2, 3, 4, 5, 6\\}\\), is \\(U\\) a subset of \\(X\\)? ",
    "A": " A: Yes, \\(U \\subseteq X\\) because every element of \\(U\\) is also an element of \\(X\\)."
  },
  {
    "page": 109,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n### Example 2.1.17\r\n\r\nLet \\( a, b, c, d \\in \\mathbb{R} \\) with \\( a < c < d < b \\). Then \\([c, d] \\subseteq (a, b)\\). Indeed, let \\( x \\in [c, d] \\). Then \\( c \\leq x \\leq d \\). But then\r\n\r\n\\[\r\na < c \\leq x \\leq d < b \\quad \\Rightarrow \\quad a < x < b\r\n\\]\r\n\r\nso that \\([c, d] \\subseteq (a, b)\\), as required.\r\n\r\n### Exercise 2.1.18\r\n\r\nLet \\( a, b, c, d \\in \\mathbb{R} \\) with \\( a < b \\) and \\( c < d \\). Prove that \\([a, b) \\subseteq (c, d]\\) if and only if \\( a > c \\) and \\( b \\leq d \\).\r\n\r\n### Example 2.1.19\r\n\r\nThe number sets from [Chapter 0](#) are related by the following chain of subset inclusions.\r\n\r\n\\[\r\n\\mathbb{N} \\subseteq \\mathbb{Z} \\subseteq \\mathbb{Q} \\subseteq \\mathbb{R} \\subseteq \\mathbb{C}\r\n\\]\r\n\r\nThe following proposition proves a property of subsethood known as *transitivity*—we’ll revisit this property in [Section 5.1](#).\r\n\r\n### Proposition 2.1.20\r\n\r\nLet \\( X, Y, Z \\) be sets. If \\( X \\subseteq Y \\) and \\( Y \\subseteq Z \\), then \\( X \\subseteq Z \\).\r\n\r\n**Proof**\r\n\r\nSuppose that \\( X \\subseteq Y \\) and \\( Y \\subseteq Z \\). We need to prove \\( X \\subseteq Z \\).\r\n\r\nSo let \\( a \\in X \\). Since \\( X \\subseteq Y \\), it follows from [Definition 2.1.14](#) that \\( a \\in Y \\); and since \\( Y \\subseteq Z \\), it follows again from [Definition 2.1.14](#) that \\( a \\in Z \\).\r\n\r\nHence \\( X \\subseteq Z \\), as required.\r\n\r\n## Set equality\r\n\r\nThis section is all about defining sets, comparing sets, and building new sets from old, and so to make much more progress, we first need to establish what we mean when we say that two sets are *equal*.\r\n\r\n### Discussion 2.1.21\r\n\r\nLet \\( X \\) and \\( Y \\) be sets. What should it mean to say that \\( X \\) and \\( Y \\) are equal? Try to provide a precise definition of equality of sets before reading on.\r\n\r\nThere are different possible notions of ‘sameness’ for sets: we might want to say that two sets \\( X \\) and \\( Y \\) are equal when they have quite literally the same definition; or we might want to say that \\( X \\) and \\( Y \\) are equal when they contain the same objects as elements. For instance, suppose \\( X \\) is ‘the set of all odd natural numbers’ and \\( Y \\) is ‘the set of\r\n</markdown>",
    "Q": "Q: Given the sets \\( A = [a, b) \\) and \\( C = [c, d] \\) under the condition \\( a < b \\) and \\( c < d \\), prove that \\( A \\subseteq C \\) if and only if \\( a \\geq c \\) and \\( b \\leq d \\). ",
    "A": " A: To prove \\( A \\subseteq C \\), we note that if \\( x \\in A \\), then \\( a \\leq x < b \\). For \\( A \\subseteq C \\), we require \\( c \\leq x \\leq d \\). Thus, if \\( x \\in A \\), then \\( a \\geq c \\) (to ensure \\( x \\) can take its minimal value) and \\( b \\leq d \\) (to ensure \\( x \\) can take its maximal value). Conversely, if \\( a \\geq c \\) and \\( b \\leq d \\), then every \\( x \\in A \\) satisfies \\( c \\leq a \\leq x < b \\leq d \\), ensuring \\( A \\subseteq C \\). Thus, \\( A \\subseteq C \\) if and only if \\( a \\geq c \\) and \\( b \\leq d \\)."
  },
  {
    "page": 110,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\nof all integers that are differences of consecutive perfect squares'—in this case, the first of these characterisations of equality might lead us to say \\(X \\neq Y\\), whereas the second would lead us to say \\(X = Y\\).\r\n\r\nClearly, we have to state our terms at some point. And that point is now.\r\n\r\n### Axiom 2.1.22 (Set extensionality)\r\nLet \\(X\\) and \\(Y\\) be sets. Then \\(X = Y\\) if and only if \\(\\forall a, (a \\in X \\iff a \\in Y)\\), or equivalently, if \\(X \\subseteq Y\\) and \\(Y \\subseteq X\\).\r\n\r\nThis characterisation of set equality suggests the following strategy for proving that two sets are equal.\r\n\r\n### Strategy 2.1.23 (Proof by double containment)\r\nIn order to prove that a set \\(X\\) is equal to a set \\(Y\\), it suffices to:\r\n\r\n- Prove \\(X \\subseteq Y\\), i.e. let \\(a \\in X\\) be an arbitrary element, and derive \\(a \\in Y\\); and then\r\n- Prove \\(X \\supseteq Y\\), i.e. let \\(a \\in Y\\) be an arbitrary element, and derive \\(a \\in X\\).\r\n\r\nWe often write ‘\\((\\subseteq)\\)’ and ‘\\((\\supseteq)\\)’ to indicate the direction of the containment being proved.\r\n\r\n### Example 2.1.24\r\nWe prove that \\(\\{x \\in \\mathbb{R} \\mid x^2 \\leq 1\\} = [-1, 1]\\) by double containment.\r\n\r\n- \\((\\subseteq)\\) Let \\(a \\in \\{x \\in \\mathbb{R} \\mid x^2 \\leq 1\\}\\). Then \\(a \\in \\mathbb{R}\\) and \\(a^2 \\leq 1\\), so that \\((1 - a)(1 + a) = 1 - a^2 \\geq 0\\). It follows that either:\r\n  - \\(1 - a \\geq 0\\) and \\(1 + a \\geq 0\\), in which case \\(a \\leq 1\\) and \\(a \\geq -1\\), so that \\(a \\in [-1, 1]\\).\r\n  - \\(1 - a \\leq 0\\) and \\(1 + a \\leq 0\\), in which case \\(a \\geq 1\\) and \\(a \\leq -1\\), which is a contradiction since \\(-1 < 1\\).\r\n\r\n  So we must have \\(a \\in [-1, 1]\\), as required.\r\n\r\n- \\((\\supseteq)\\) Let \\(a \\in [-1, 1]\\). Then \\(-1 \\leq a \\leq 1\\), so \\(|a| \\leq 1\\), and hence \\(a^2 = |a|^2 \\leq 1\\), so that \\(a \\in \\{x \\in \\mathbb{R} \\mid x^2 \\leq 1\\}\\), as required.\r\n\r\n### Exercise 2.1.25\r\nProve that \\(\\{x \\in \\mathbb{R} \\mid x^2 < x\\} = (0, 1)\\).\r\n\r\nThe set extensionality axiom has the consequence that sets are independent of the order in which their elements appear in list notation, and they are independent of how many\r\n</markdown>",
    "Q": "Q: Using the strategy of proof by double containment, prove that \\(\\{x \\in \\mathbb{R} \\mid x^2 \\leq 4\\} = [-2, 2]\\). ",
    "A": " A: To prove \\(\\{x \\in \\mathbb{R} \\mid x^2 \\leq 4\\} = [-2, 2]\\) by double containment:\r\n\r\n1. **(Subset)** Let \\(a \\in \\{x \\in \\mathbb{R} \\mid x^2 \\leq 4\\}\\). Thus \\(a^2 \\leq 4\\), which implies \\((2 - a)(2 + a) \\geq 0\\). This gives us two intervals:\r\n   - If \\(2 - a \\geq 0\\), then \\(a \\leq 2\\);\r\n   - If \\(2 + a \\geq 0\\), then \\(a \\geq -2\\).\r\n\r\n   So, \\(a \\in [-2, 2]\\).\r\n\r\n2. **(Superset)** Let \\(a \\in [-2, 2]\\). Then \\(-2 \\leq a \\leq 2\\). We have \\(a^2 \\leq 4\\) (since \\(a\\) is squared). Hence, \\(a \\in \\{x \\in \\mathbb{R} \\mid x^2 \\leq 4\\}\\).\r\n\r\nTherefore, we conclude that \\(\\{x \\in \\mathbb{R} \\mid x^2 \\leq 4\\} = [-2, 2]\\)."
  },
  {
    "page": 111,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\nExercise 2.1.26  \r\nProve by double containment that \\(\\{0, 1\\} = \\{1, 0\\}\\) and \\(\\{0, 0\\} = \\{0\\}\\).\r\n\r\n## Inhabitation and emptiness\r\n\r\nAnother fundamental example of a set is the **empty set**, which is the set with no elements. But we have to be slightly careful about how we use the word ‘the’, since it implies uniqueness, and we don’t know (yet) that two sets with no elements are necessarily equal. So first we will define what it means for a set to be empty, and then we’ll show that there is exactly one empty set.\r\n\r\n### Definition 2.1.27\r\nA set \\(X\\) is **inhabited** (or **nonempty**) if it has at least one element; otherwise, it is **empty**.\r\n\r\nThe assertion that \\(X\\) is inhabited is equivalent to the logical formula \\(\\exists a, a \\in X\\), and the assertion that \\(X\\) is empty is equivalent to the logical formula \\(\\neg \\exists a, a \\in X\\). This suggests the following strategy for proving that a set is inhabited, or that it is empty.\r\n\r\n### Strategy 2.1.28 (Proving that a set is inhabited or empty)\r\nIn order to prove a set \\(X\\) is inhabited, it suffices to exhibit an element. In order to prove a set \\(X\\) is empty, assume that \\(X\\) is inhabited—that is, that there is some element \\(a \\in X\\)—and derive a contradiction.\r\n\r\nIn other texts, the term **nonempty** is more common than **inhabited**, but there are reasons to prefer the latter. Indeed, the statement ‘\\(X\\) is non-empty’ translates more directly to \\(\\neg (\\neg \\exists a, a \\in X)\\), which has an unnecessary double-negative and suggests a proof of inhabitation by contradiction. For this reason, we use the term **inhabited** in this book.\r\n\r\nEmptiness may seem like a trivial condition—and it is—but owing to its canonicity, it arises all over the place.\r\n\r\n### Example 2.1.29\r\nThe set \\(\\{x \\in \\mathbb{R} \\mid x^2 = 2\\}\\) is inhabited since, for example, \\(\\sqrt{2} \\in \\mathbb{R}\\) and \\(\\sqrt{2}^2 = 2\\). However, the set \\(\\{x \\in \\mathbb{Q} \\mid x^2 = 2\\}\\) is empty since, if it were inhabited, then there would be a rational number \\(x\\) such that \\(x^2 = 2\\), contrary to Proposition 0.28.\r\n\r\n### Example 2.1.30\r\nWe observed in Example 2.1.10 that the set \\([0]\\) is empty; here’s a more formal proof.\r\n</markdown>",
    "Q": "Q: How can we prove that the set \\(\\{x \\in \\mathbb{Q} \\mid x^2 = 2\\}\\) is empty using the strategy for proving emptiness mentioned in the context?  \r\n",
    "A": "  \r\nA: To prove that the set \\(\\{x \\in \\mathbb{Q} \\mid x^2 = 2\\}\\) is empty, assume it is inhabited, meaning there exists some \\(a \\in \\mathbb{Q}\\) such that \\(a^2 = 2\\). Since \\(\\sqrt{2}\\) is not a rational number, this leads to a contradiction. Therefore, the set is empty."
  },
  {
    "page": 112,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\nTowards a contradiction, suppose \\([0]\\) is inhabited. Then there is some \\(k \\in \\mathbb{N}\\) such that \\(1 \\leq k \\leq 0\\). It follows that \\(1 \\leq 0\\), which contradicts the fact that \\(0 < 1\\). Hence \\([0]\\) is empty, after all.\r\n\r\n### Exercise 2.1.31\r\nLet \\(a, b \\in \\mathbb{R}\\). Prove that \\([a, b]\\) is empty if and only if \\(a > b\\), and that \\((a, b)\\) is empty if and only if \\(a \\geq b\\).\r\n\r\nThe next exercise is a logical technicality, which is counterintuitive for the same reason that makes the principle of explosion (Axiom 1.1.49) difficult to grasp. However, it is extremely useful for proving facts about the empty set, as we will see soon in Theorem 2.1.33.\r\n\r\n### Exercise 2.1.32\r\nLet \\(E\\) be an empty set and let \\(p(x)\\) be a predicate with one free variable \\(x\\) with domain of discourse \\(E\\). Show that the proposition \\(\\forall x \\in E, p(x)\\) is true, and that the proposition \\(\\exists x \\in E, p(x)\\) is false. What does the proposition \\(\\forall x \\in E, x \\neq x\\) mean in English? Is it true?\r\n\r\nThanks to the axiom of extensionality (Axiom 2.1.22), any two empty sets must be equal since they both contain the same elements—namely, no elements at all! This is made formal in the following theorem.\r\n\r\n### Theorem 2.1.33\r\nLet \\(E\\) and \\(E'\\) be sets. If \\(E\\) and \\(E'\\) are empty, then \\(E = E'\\).\r\n\r\n**Proof.** Suppose that \\(E\\) and \\(E'\\) are empty. The assertion that \\(E = E'\\) is equivalent to\r\n\r\n\\[\r\n(\\forall a \\in E, a \\in E') \\land (\\forall a \\in E', a \\in E)\r\n\\]\r\n\r\nBut \\(\\forall a \\in E, a \\in E'\\) and \\(\\forall a \\in E', a \\in E\\) are both true by Exercise 2.1.32 since \\(E\\) and \\(E'\\) are empty. So \\(E = E'\\), as claimed. □\r\n\r\nKnowing that there is one and only one empty set means that we may now make the following definition, without worrying about whether the word ‘the’ is problematic.\r\n\r\n### Definition 2.1.34\r\nThe **empty set** (also known as the **null set**) is the set with no elements, and is denoted by \\(\\emptyset\\) (LaTeX code: `\\varnothing`).\r\n\r\nSome authors write \\(\\{\\}\\) instead of \\(\\emptyset\\), since \\(\\{\\}\\) is simply the empty set expressed in list notation.\r\n</markdown>",
    "Q": "Q: What can we conclude about the truth value of the proposition \\(\\exists x \\in E, p(x)\\) when \\(E\\) is an empty set? ",
    "A": " A: The proposition \\(\\exists x \\in E, p(x)\\) is false when \\(E\\) is an empty set, because there are no elements in \\(E\\) to satisfy \\(p(x)\\)."
  },
  {
    "page": 113,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n## Exercise 2.1.35\r\nLet \\( X \\) be a set. Prove that \\( \\emptyset \\subseteq X \\).\r\n\r\n## Power sets\r\n\r\n### Definition 2.1.36\r\nLet \\( X \\) be a set. The **power set** of \\( X \\), written \\( \\mathcal{P}(X) \\) (\\(\\LaTeX\\) code: `\\mathcal{P}`), is the set of all subsets of \\( X \\).\r\n\r\n### Example 2.1.37\r\nThere are four subsets of \\(\\{1,2\\}\\), namely\r\n\r\n\\[\r\n\\emptyset, \\quad \\{1\\}, \\quad \\{2\\}, \\quad \\{1,2\\}\r\n\\]\r\n\r\nso \\( \\mathcal{P}(X) = \\{\\emptyset, \\{1\\}, \\{2\\}, \\{1,2\\}\\} \\).\r\n\r\n## Exercise 2.1.38\r\nWrite out the elements of \\( \\mathcal{P}(\\{1,2,3\\}) \\).\r\n\r\n## Exercise 2.1.39\r\nLet \\( X \\) be a set. Show that \\( \\emptyset \\in \\mathcal{P}(X) \\) and \\( X \\in \\mathcal{P}(X) \\).\r\n\r\n## Exercise 2.1.40\r\nWrite out the elements of \\( \\mathcal{P}(\\emptyset) \\), \\( \\mathcal{P}(\\mathcal{P}(\\emptyset)) \\) and \\( \\mathcal{P}(\\mathcal{P}(\\mathcal{P}(\\emptyset))) \\).\r\n\r\nPower sets are often a point of confusion because they bring the property of being a **subset** of one set to that of being an **element** of another, in the sense that for all sets \\( U \\) and \\( X \\) we have\r\n\r\n\\[\r\nU \\subseteq X \\quad \\iff \\quad U \\in \\mathcal{P}(X)\r\n\\]\r\n\r\nThis distinction looks easy to grasp, but when the sets \\( U \\) and \\( X \\) look alike, it’s easy to fall into various traps. Here’s a simple example.\r\n\r\n### Example 2.1.41\r\nIt is true that \\( \\emptyset \\subseteq \\emptyset \\), but false that \\( \\emptyset \\in \\emptyset \\). Indeed,\r\n\r\n- \\( \\emptyset \\subseteq \\emptyset \\) means \\(\\forall x \\in \\emptyset, x \\in \\emptyset\\); but propositions of the form \\(\\forall x \\in \\emptyset, p(x)\\) are always true, as discussed in Exercise 2.1.32.\r\n\r\n- The empty set has no elements; if \\( \\emptyset \\in \\emptyset \\) were true, it would mean that \\( \\emptyset \\) had an element (that element being \\( \\emptyset \\)). So it must be the case that \\( \\emptyset \\notin \\emptyset \\).\r\n</markdown>",
    "Q": "Q: How many elements are in the power set of a set with three elements, such as \\( \\{1,2,3\\} \\), and what is the power set's notation? ",
    "A": " A: The power set of \\( \\{1,2,3\\} \\), denoted \\( \\mathcal{P}(\\{1,2,3\\}) \\), contains \\( 2^3 = 8 \\) elements, which are \\( \\emptyset, \\{1\\}, \\{2\\}, \\{3\\}, \\{1,2\\}, \\{1,3\\}, \\{2,3\\}, \\{1,2,3\\} \\)."
  },
  {
    "page": 114,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\nThe following exercise is intended to help you overcome similar potential kinds of confusion by means of practice. Try to think precisely about what the definitions involved are.\r\n\r\n### Exercise 2.1.42\r\nDetermine, with proof, whether or not each of the following statements is true.\r\n\r\n(a) \\( \\mathcal{P}(\\emptyset) \\in \\mathcal{P}(\\mathcal{P}(\\emptyset)) \\);\r\n\r\n(b) \\( \\emptyset \\in \\{\\{\\emptyset\\}\\} \\);\r\n\r\n(c) \\(\\{\\emptyset\\} \\in \\{\\{\\emptyset\\}\\} \\);\r\n\r\n(d) \\( \\mathcal{P}(\\mathcal{P}(\\emptyset)) \\in \\{\\emptyset, \\{\\emptyset, \\{\\emptyset\\}\\}\\} \\).\r\n\r\nRepeat the exercise with all instances of ‘\\(\\in\\)’ replaced by ‘\\(\\subseteq\\)’.\r\n</markdown>",
    "Q": "Q: Is the statement \\( \\mathcal{P}(\\{ \\emptyset \\}) \\subseteq \\mathcal{P}(\\mathcal{P}(\\emptyset)) \\) true? Provide a proof to support your answer.  \r\n",
    "A": "  \r\nA: Yes, the statement \\( \\mathcal{P}(\\{ \\emptyset \\}) \\subseteq \\mathcal{P}(\\mathcal{P}(\\emptyset)) \\) is true. The power set \\( \\mathcal{P}(\\{ \\emptyset \\}) \\) contains the subsets \\( \\emptyset \\) and \\( \\{\\emptyset\\} \\). The power set \\( \\mathcal{P}(\\emptyset) \\) is \\( \\{\\emptyset\\} \\), so \\( \\mathcal{P}(\\mathcal{P}(\\emptyset)) = \\mathcal{P}(\\{\\emptyset\\}) = \\{\\emptyset, \\{\\emptyset\\}\\} \\). Both elements from \\( \\mathcal{P}(\\{ \\emptyset \\}) \\) are included in \\( \\mathcal{P}(\\mathcal{P}(\\emptyset)) \\), confirming the subset relation."
  },
  {
    "page": 115,
    "title": "I Core Concepts/2 Sets/2.1 Sets",
    "content": "<markdown>\r\n## TL;DR — summary of Section 2.1\r\n\r\n### Sets and subsets\r\n\r\n**2.1.1** A **set** is a collection of objects (called *elements*) from a fixed universe of discourse $\\mathcal{U}$; we write $x \\in X$ to mean that $x$ is an element of the set $X$. Sets can be specified by (explicitly or implicitly) listing their elements $\\{x_1, x_2, \\ldots, x_n, \\ldots \\}$, or by using *set-builder notation* $\\{x \\in X \\mid p(x)\\}$.\r\n\r\n**2.1.14** A set $U$ is a **subset** of a set $X$, written $U \\subseteq X$, if $\\forall a, (a \\in U \\Rightarrow a \\in X)$. To prove that $U \\subseteq X$, it suffices to introduce a variable $a$, assume that $a \\in U$, and derive $a \\in X$.\r\n\r\n**2.1.22** Sets $X$ and $Y$ are equal if and only if $\\forall a, (a \\in X \\Leftrightarrow a \\in Y)$. In order to prove that $X = Y$, it suffices to prove separately that $X \\subseteq Y$ and $Y \\subseteq X$—this method is called *double containment*.\r\n\r\n### Inhabitation and emptiness\r\n\r\n**2.1.27** A set $X$ is **inhabited** if it has at least one element; otherwise, it is **empty**.\r\n\r\n**2.1.33** There is a unique empty set, denoted by $\\varnothing$ or $\\{\\}$.\r\n\r\n### Power sets\r\n\r\n**2.1.36** The **power set** of a set $X$ is the set of all subsets of $X$.\r\n</markdown>",
    "Q": "Q: If $X = \\{1, 2, 3\\}$, what is the power set of $X$, denoted as $\\mathcal{P}(X)$? ",
    "A": " A: The power set of $X$ is $\\mathcal{P}(X) = \\{\\varnothing, \\{1\\}, \\{2\\}, \\{3\\}, \\{1, 2\\}, \\{1, 3\\}, \\{2, 3\\}, \\{1, 2, 3\\}\\}$."
  },
  {
    "page": 116,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n## Section 2.2\r\n\r\n# Set operations\r\n\r\nIn [Example 2.1.24](#) we noted that \\([0, \\infty)\\) is the set of all non-negative real numbers. What if we wanted to talk about the set of all non-negative rational numbers instead? It would be nice if there was some expression in terms of \\([0, \\infty)\\) and \\(\\mathbb{Q}\\) to denote this set.\r\n\r\nThis is where **set operations** come in—they allow us to use previously defined sets to introduce new sets.\r\n\r\n### Intersection (\\(\\cap\\))\r\n\r\nThe **intersection** of two sets is the set of things which are elements of both sets.\r\n\r\n#### Definition 2.2.1\r\nLet \\(X\\) and \\(Y\\) be sets. The (pairwise) intersection of \\(X\\) and \\(Y\\), denoted \\(X \\cap Y\\) (LaTeX code: `\\cap`), is defined by\r\n\r\n\\[ \r\nX \\cap Y = \\{ a \\mid a \\in X \\land a \\in Y \\} \r\n\\]\r\n\r\n#### Example 2.2.2\r\nBy definition of intersection, we have \\(x \\in [0, \\infty) \\cap \\mathbb{Q}\\) if and only if \\(x \\in [0, \\infty)\\) and \\(x \\in \\mathbb{Q}\\). Since \\(x \\in [0, \\infty)\\) if and only if \\(x\\) is a non-negative real number (see [Example 2.1.24](#)), it follows that \\([0, \\infty) \\cap \\mathbb{Q}\\) is the set of all non-negative rational numbers.\r\n\r\n#### Exercise 2.2.3\r\nProve that \\([0, \\infty) \\cap \\mathbb{Z} = \\mathbb{N}\\).\r\n\r\n#### Exercise 2.2.4\r\nWrite down the elements of the set\r\n\r\n\\[\r\n\\{0, 1, 4, 7\\} \\cap \\{1, 2, 3, 4, 5\\}\r\n\\]\r\n\r\n#### Exercise 2.2.5\r\nExpress \\([-2, 5) \\cap [4, 7)\\) as a single interval.\r\n\r\n#### Proposition 2.2.6\r\nLet \\(X\\) and \\(Y\\) be sets. Prove that \\(X \\subseteq Y\\) if and only if \\(X \\cap Y = X\\).\r\n\r\n**Proof**  \r\nSuppose that \\(X \\subseteq Y\\). We prove \\(X \\cap Y = X\\) by double containment.\r\n</markdown>",
    "Q": "Q: What is the intersection of the sets \\([0, 5)\\) and \\([3, 8)\\) expressed as a single interval?  \r\n",
    "A": "  \r\nA: The intersection of the sets \\([0, 5)\\) and \\([3, 8)\\) is \\([3, 5)\\)."
  },
  {
    "page": 117,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n- (⊆) Suppose \\( a \\in X \\cap Y \\). Then \\( a \\in X \\) and \\( a \\in Y \\) by definition of intersection, so in particular we have \\( a \\in X \\).\r\n\r\n- (⊇) Suppose \\( a \\in X \\). Then \\( a \\in Y \\) since \\( X \\subseteq Y \\), so that \\( a \\in X \\cap Y \\) by definition of intersection.\r\n\r\nConversely, suppose that \\( X \\cap Y = X \\). To prove that \\( X \\subseteq Y \\), let \\( a \\in X \\). Then \\( a \\in X \\cap Y \\) since \\( X = X \\cap Y \\), so that \\( a \\in Y \\) by definition of intersection, as required.\r\n\r\n✐ **Exercise 2.2.7**  \r\nLet \\( X \\) be a set. Prove that \\( X \\cap \\emptyset = \\emptyset \\).\r\n\r\n✦ **Definition 2.2.8**  \r\nLet \\( X \\) and \\( Y \\) be sets. We say \\( X \\) and \\( Y \\) are **disjoint** if \\( X \\cap Y \\) is empty.\r\n\r\n✎ **Example 2.2.9**  \r\nThe sets \\(\\{0, 2, 4\\}\\) and \\(\\{1, 3, 5\\}\\) are disjoint, since they have no elements in common.\r\n\r\n✐ **Exercise 2.2.10**  \r\nLet \\( a, b, c, d \\in \\mathbb{R} \\) with \\( a < b \\) and \\( c < d \\). Prove that the open intervals \\((a, b)\\) and \\((c, d)\\) are disjoint if and only if \\( b < c \\) or \\( d < a \\).\r\n\r\n**Union (∪)**\r\n\r\nThe **union** of two sets is the set of things which are elements of at least one of the sets.\r\n\r\n✦ **Definition 2.2.11**  \r\nLet \\( X \\) and \\( Y \\) be sets. The (pairwise) **union** of \\( X \\) and \\( Y \\), denoted \\( X \\cup Y \\) (LaTeX code: \\(\\cup\\)), is defined by\r\n\r\n\\[\r\nX \\cup Y = \\{ a \\mid a \\in X \\lor a \\in Y \\}\r\n\\]\r\n\r\n✎ **Example 2.2.12**  \r\nLet \\( E \\) be the set of even integers and \\( O \\) be the set of odd integers. Since every integer is either even or odd, \\( E \\cup O = \\mathbb{Z} \\). Note that \\( E \\cap O = \\emptyset \\), thus \\(\\{E, O\\}\\) is an example of a partition of \\(\\mathbb{Z}\\)—see Definition 5.2.21.\r\n\r\n✐ **Exercise 2.2.13**  \r\nWrite down the elements of the set\r\n\r\n\\[\r\n\\{0, 1, 4, 7\\} \\cup \\{1, 2, 3, 4, 5\\}\r\n\\]\r\n\r\n✐ **Exercise 2.2.14**  \r\nExpress \\([-2, 5) \\cup [4, 7)\\) as a single interval.\r\n</markdown>",
    "Q": "Q: If sets \\(A\\) and \\(B\\) are such that \\(A \\cup B = \\mathbb{Z}\\) and \\(A \\cap B = \\emptyset\\), what can we conclude about the relationship between the sets \\(A\\) and \\(B\\)? ",
    "A": " A: The sets \\(A\\) and \\(B\\) are disjoint and collectively exhaustive subsets of \\(\\mathbb{Z}\\) such that every integer belongs to either \\(A\\) or \\(B\\)."
  },
  {
    "page": 118,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\nThe union operation allows us to define the following class of sets that will be particularly useful for us when studying counting principles in [Section 8.1](#).\r\n\r\n**Exercise 2.2.15**  \r\nLet \\( X \\) and \\( Y \\) be sets. Prove that \\( X \\subseteq Y \\) if and only if \\( X \\cup Y = Y \\).\r\n\r\n**Example 2.2.16**  \r\nLet \\( X, Y, Z \\) be sets. We prove that \\( X \\cap (Y \\cup Z) = (X \\cap Y) \\cup (X \\cap Z) \\).\r\n\r\n- (\\(\\subseteq\\)) Let \\( x \\in X \\cap (Y \\cup Z) \\). Then \\( x \\in X \\), and either \\( x \\in Y \\) or \\( x \\in Z \\). If \\( x \\in Y \\) then \\( x \\in X \\cap Y \\), and if \\( x \\in Z \\) then \\( x \\in X \\cap Z \\). In either case, we have \\( x \\in (X \\cap Y) \\cup (X \\cap Z) \\).\r\n\r\n- (\\(\\supseteq\\)) Let \\( x \\in (X \\cap Y) \\cup (X \\cap Z) \\). Then either \\( x \\in X \\cap Y \\) or \\( x \\in X \\cap Z \\). In both cases we have \\( x \\in X \\) by definition of intersection. In the first case we have \\( x \\in Y \\), and in the second case we have \\( x \\in Z \\); in either case, we have \\( x \\in Y \\cup Z \\), so that \\( x \\in X \\cap (Y \\cup Z) \\).\r\n\r\n**Exercise 2.2.17**  \r\nLet \\( X, Y, Z \\) be sets. Prove that \\( X \\cup (Y \\cap Z) = (X \\cup Y) \\cap (X \\cup Z) \\).\r\n\r\n### Indexed families of sets\r\n\r\nWe will often have occasion to take the intersection or union not of just two sets, but of an arbitrary collection of sets (even of infinitely many sets). For example, we might want to know which real numbers are elements of \\([0, 1 + \\frac{1}{n}]\\) for each \\( n \\geq 1 \\), and which real numbers are elements of at least one of such sets.\r\n\r\nOur task now is therefore to generalise our pairwise notions of intersection and union to arbitrary collections of sets, called **indexed families of sets**.\r\n\r\n**Definition 2.2.18**  \r\nAn (indexed) family of sets is a specification of a set \\( X_i \\) for each element \\( i \\) of some indexing set \\( I \\). We write \\(\\{X_i \\mid i \\in I\\}\\) for the indexed family of sets.\r\n\r\n**Example 2.2.19**  \r\nThe sets \\([0, 1 + \\frac{1}{n}]\\) mentioned above assemble into an indexed family of sets, whose indexing set is \\(\\{n \\in \\mathbb{N} \\mid n \\geq 1\\}\\). We can abbreviate this family of sets by\r\n\r\n\\[\r\n\\{[0, 1 + \\frac{1}{n}] \\mid n \\geq 1\\}\r\n\\]\r\n\r\nObserve that we have left implicit the fact that the variable \\( n \\) is ranging over the natural numbers and just written ‘\\( n \\geq 1 \\)’ on the right of the vertical bar, rather than separately defining \\( I = \\{n \\in \\mathbb{N} \\mid n \\geq 1\\} \\) and writing \\(\\{[0, 1 + \\frac{1}{n}] \\mid n \\in I\\}\\).\r\n</markdown>",
    "Q": "Q: Prove that if \\( X \\) is a subset of \\( Y \\), then the union of \\( X \\) with any set \\( Z \\) is equal to the union of \\( Y \\) with \\( Z \\). That is, show that \\( X \\subseteq Y \\implies X \\cup Z = Y \\cup Z \\) for any set \\( Z \\).  \r\n",
    "A": "  \r\nA: If \\( X \\subseteq Y \\), then every element of \\( X \\) is also an element of \\( Y \\). Therefore, the union \\( X \\cup Z \\) will include all elements of \\( Y \\) and all elements of \\( Z \\), which exactly corresponds to the union \\( Y \\cup Z \\). Thus, we have \\( X \\cup Z = Y \\cup Z \\)."
  },
  {
    "page": 119,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n### Definition 2.2.20\r\n\r\nThe (indexed) intersection of an indexed family \\(\\{X_i \\mid i \\in I\\}\\) is defined by\r\n\r\n\\[\r\n\\bigcap_{i \\in I} X_i = \\{a \\mid \\forall i \\in I, a \\in X_i\\} \\quad (\\LaTeX \\text{ code: } \\backslash bigcap\\_ {i \\in I})\r\n\\]\r\n\r\nThe (indexed) union of \\(\\{X_i \\mid i \\in I\\}\\) is defined by\r\n\r\n\\[\r\n\\bigcup_{i \\in I} X_i = \\{a \\mid \\exists i \\in I, a \\in X_i\\} \\quad (\\LaTeX \\text{ code: } \\backslash bigcup\\_ {i \\in I})\r\n\\]\r\n\r\n### Example 2.2.21\r\n\r\nWe prove that the intersection of the half-open intervals \\([0, 1 + \\frac{1}{n})\\) for \\(n \\geq 1\\) is \\([0, 1]\\). We will use the notation \\(\\bigcap_{n \\geq 1}\\) as shorthand for \\(\\bigcap_{n \\in \\{x \\in \\mathbb{N} \\mid x \\geq 1\\}}\\).\r\n\r\n- (⊆) Let \\(x \\in \\bigcap_{n \\geq 1} [0, 1 + \\frac{1}{n})\\).\r\n\r\n  Then \\(x \\in [0, 1 + \\frac{1}{n})\\) for all \\(n \\geq 1\\). In particular, \\(x \\geq 0\\).\r\n\r\n  To see that \\(x \\leq 1\\), assume that \\(x > 1\\)—we will derive a contradiction. Since \\(x > 1\\), we have \\(x - 1 > 0\\). Let \\(N \\geq 1\\) be some natural number greater or equal to \\(\\frac{1}{x-1}\\), so that \\(\\frac{1}{N} \\leq x - 1\\). Then \\(x \\geq 1 + \\frac{1}{N}\\), and hence \\(x \\notin [0, 1 + \\frac{1}{N})\\), contradicting the assumption that \\(x \\in [0, 1 + \\frac{1}{n})\\) for all \\(n \\geq 1\\).\r\n\r\n  So we must have \\(x \\leq 1\\) after all, and hence \\(x \\in [0, 1]\\).\r\n\r\n- (⊇) Let \\(x \\in [0, 1]\\).\r\n\r\n  To prove that \\(x \\in \\bigcap_{n \\geq 1} [0, 1 + \\frac{1}{n})\\), we need to show that \\(x \\in [0, 1 + \\frac{1}{n})\\) for all \\(n \\geq 1\\). So fix \\(n \\geq 1\\). Since \\(x \\in [0, 1]\\), we have \\(x \\geq 0\\) and \\(x \\leq 1 < 1 + \\frac{1}{n}\\), so that \\(x \\in [0, 1 + \\frac{1}{n})\\), as required.\r\n\r\nHence \\(\\bigcap_{n \\geq 1} [0, 1 + \\frac{1}{n}) = [0, 1]\\) by double containment.\r\n\r\n### Exercise 2.2.22\r\n\r\nExpress \\(\\bigcup_{n \\geq 1} [0, 1 - \\frac{1}{n})\\) as an interval.\r\n\r\n### Exercise 2.2.23\r\n\r\nProve that \\(\\bigcap_{n \\in \\mathbb{N}} [n] = \\emptyset\\) and \\(\\bigcup_{n \\in \\mathbb{N}} [n] = \\{k \\in \\mathbb{N} \\mid k \\geq 1\\}\\).\r\n\r\nIndexed intersections and unions generalise their pairwise counterparts, as the following exercise proves.\r\n</markdown>",
    "Q": "Q: What is the indexed union of the intervals \\([0, 1 - \\frac{1}{n})\\) for \\(n \\geq 1\\) expressed as an interval? ",
    "A": " A: The indexed union is given by \\(\\bigcup_{n \\geq 1} [0, 1 - \\frac{1}{n}) = [0, 1)\\)."
  },
  {
    "page": 120,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n### Exercise 2.2.24\r\nLet \\( X_1 \\) and \\( X_2 \\) be sets. Prove that\r\n\r\n\\[\r\nX_1 \\cap X_2 = \\bigcap_{k \\in [2]} X_k \\quad \\text{and} \\quad X_1 \\cup X_2 = \\bigcup_{k \\in [2]} X_k\r\n\\]\r\n\r\n### Exercise 2.2.25\r\nFind a family of sets \\(\\{X_n \\mid n \\in \\mathbb{N}\\}\\) such that:\r\n\r\n(i) \\(\\bigcup_{n \\in \\mathbb{N}} X_n = \\mathbb{N}\\);\r\n\r\n(ii) \\(\\bigcap_{n \\in \\mathbb{N}} X_n = \\emptyset\\); and\r\n\r\n(iii) \\(X_i \\cap X_j \\neq \\emptyset\\) for all \\(i, j \\in \\mathbb{N}\\).\r\n\r\n### Relative complement (\\(\\setminus\\))\r\n\r\n#### Definition 2.2.26\r\nLet \\(X\\) and \\(Y\\) be sets. The **relative complement** of \\(Y\\) in \\(X\\), denoted \\(X \\setminus Y\\) (LaTeX code: `\\setminus`), is defined by\r\n\r\n\\[\r\nX \\setminus Y = \\{x \\in X \\mid x \\notin Y\\}\r\n\\]\r\n\r\nThe operation \\(\\setminus\\) is also known as the **set difference** operation. Some authors write \\(Y - X\\) instead of \\(Y \\setminus X\\).\r\n\r\n#### Example 2.2.27\r\nLet \\(E\\) be the set of all even integers. Then \\(n \\in \\mathbb{Z} \\setminus E\\) if and only if \\(n\\) is an integer and \\(n\\) is not an even integer; that is, if and only if \\(n\\) is odd. Thus \\(\\mathbb{Z} \\setminus E\\) is the set of all odd integers.\r\n\r\nMoreover, \\(n \\in \\mathbb{N} \\setminus E\\) if and only if \\(n\\) is a natural number and \\(n\\) is not an even integer. Since the even integers which are natural numbers are precisely the even natural numbers, \\(\\mathbb{N} \\setminus E\\) is precisely the set of all odd natural numbers.\r\n\r\n### Exercise 2.2.28\r\nWrite down the elements of the set\r\n\r\n\\[\r\n\\{0, 1, 4, 7\\} \\setminus \\{1, 2, 3, 4, 5\\}\r\n\\]\r\n</markdown>",
    "Q": "Q: Given sets \\( A = \\{0, 1, 4, 7\\} \\) and \\( B = \\{1, 2, 3, 4, 5\\} \\), find the relative complement \\( A \\setminus B \\) and demonstrate whether the result is a subset of either set. ",
    "A": " A: The relative complement is given by \r\n\r\n\\[\r\nA \\setminus B = \\{0, 1, 4, 7\\} \\setminus \\{1, 2, 3, 4, 5\\} = \\{0, 7\\}.\r\n\\]\r\n\r\nThe result \\( \\{0, 7\\} \\) is not a subset of \\( B \\) but is a subset of \\( A \\)."
  },
  {
    "page": 121,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n### Exercise 2.2.29\r\nExpress \\([-2,5) \\setminus [4,7)\\) and \\([4,7) \\setminus [-2,5)\\) as intervals.\r\n\r\n### Exercise 2.2.30\r\nLet \\(X\\) and \\(Y\\) be sets. Prove that \\(Y \\setminus (Y \\setminus X) = X \\cap Y\\), and deduce that \\(X \\subseteq Y\\) if and only if \\(Y \\setminus (Y \\setminus X) = X\\).\r\n\r\n### Comparison with logical operators and quantifiers\r\n\r\nThe astute reader will have noticed some similarities between set operations and the logical operators and quantifiers that we saw in Chapter 1.\r\n\r\nIndeed, this can be summarised in the following table. In each row, the expressions in both columns are equivalent, where \\(p\\) denotes ‘\\(a \\in X\\)’, \\(q\\) denotes ‘\\(a \\in Y\\)’, and \\(r(i)\\) denotes ‘\\(a \\in X_i\\)’.\r\n\r\n| sets                | logic         |\r\n|---------------------|---------------|\r\n| \\(a \\notin X\\)      | \\(\\neg p\\)    |\r\n| \\(a \\in X \\cap Y\\)  | \\(p \\land q\\) |\r\n| \\(a \\in X \\cup Y\\)  | \\(p \\lor q\\)  |\r\n| \\(a \\in \\bigcap_{i \\in I} X_i\\) | \\(\\forall i \\in I, r(i)\\) |\r\n| \\(a \\in \\bigcup_{i \\in I} X_i\\) | \\(\\exists i \\in I, r(i)\\) |\r\n| \\(a \\in X \\setminus Y\\) | \\(p \\land (\\neg q)\\) |\r\n\r\nThis translation between logic and set theory does not stop there; in fact, as the following theorem shows, De Morgan’s laws for the logical operators (Theorem 1.3.24) and for quantifiers (Theorem 1.3.28) also carry over to the set operations of union and intersection.\r\n\r\n### Theorem 2.2.31 (De Morgan’s laws for sets)\r\nGiven sets \\(A, X, Y\\) and a family \\(\\{X_i \\mid i \\in I\\}\\), we have\r\n\r\n(a) \\(A \\setminus (X \\cup Y) = (A \\setminus X) \\cap (A \\setminus Y)\\);\r\n\r\n(b) \\(A \\setminus (X \\cap Y) = (A \\setminus X) \\cup (A \\setminus Y)\\);\r\n\r\n(c) \\(A \\setminus \\bigcup_{i \\in I} X_i = \\bigcap_{i \\in I} (A \\setminus X_i)\\);\r\n\r\n(d) \\(A \\setminus \\bigcap_{i \\in I} X_i = \\bigcup_{i \\in I} (A \\setminus X_i)\\).\r\n</markdown>",
    "Q": "Q: What is the result of \\([-2,5) \\cap [4,7)\\) expressed as an interval? ",
    "A": " A: The result is \\([4,5)\\)."
  },
  {
    "page": 122,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n**Proof of (a)**  \r\nLet \\( a \\) be arbitrary. By definition of union and relative complement, the assertion that \\( a \\in A \\setminus (X \\cup Y) \\) is equivalent to the logical formula\r\n\r\n\\[ a \\in A \\land \\neg (a \\in X \\lor a \\in Y) \\]\r\n\r\nBy de Morgan’s laws for logical operators, this is equivalent to\r\n\r\n\\[ a \\in A \\land (a \\notin X \\land a \\notin Y) \\]\r\n\r\nwhich, in turn, is equivalent to\r\n\r\n\\[ a \\in A \\land a \\notin X \\land (a \\in A \\land a \\notin Y) \\]\r\n\r\nBut then by definition of intersection and relative complement, this is equivalent to\r\n\r\n\\[ a \\in (A \\setminus X) \\cap (A \\setminus Y) \\]\r\n\r\nHence \\( A \\setminus (X \\cup Y) = (A \\setminus X) \\cap (A \\setminus Y) \\), as required. □\r\n\r\n**Exercise 2.2.32**  \r\nComplete the proof of de Morgan’s laws for sets.\r\n\r\n**Product (\\(\\times\\))**\r\n\r\n✦ **Definition 2.2.33**  \r\nLet \\( X \\) and \\( Y \\) be sets. The (pairwise) cartesian product of \\( X \\) and \\( Y \\) is the set \\( X \\times Y \\) (LaTeX code: \\times) defined by\r\n\r\n\\[ X \\times Y = \\{(a, b) \\mid a \\in X \\land b \\in Y\\} \\]\r\n\r\nThe elements \\((a, b) \\in X \\times Y\\) are called **ordered pairs**, whose defining property is that, for all \\( a, x \\in X \\) and all \\( b, y \\in Y \\), we have \\((a, b) = (x, y)\\) if and only if \\( a = x \\) and \\( b = y \\).\r\n\r\n✐ **Example 2.2.34**  \r\nIf you have ever taken calculus, you will probably be familiar with the set \\(\\mathbb{R} \\times \\mathbb{R}\\).\r\n\r\n\\[ \\mathbb{R} \\times \\mathbb{R} = \\{(x, y) \\mid x, y \\in \\mathbb{R}\\} \\]\r\n\r\nFormally, this is the set of ordered pairs of real numbers. Geometrically, if we interpret \\(\\mathbb{R}\\) as an infinite line, the set \\(\\mathbb{R} \\times \\mathbb{R}\\) is the (real) plane: an element \\((x, y) \\in \\mathbb{R} \\times \\mathbb{R}\\) describes the point in the plane with coordinates \\((x, y)\\).\r\n\r\nWe can investigate this further. For example, the following set:\r\n\r\n\\[ \\mathbb{R} \\times \\{0\\} = \\{(x, 0) \\mid x \\in \\mathbb{R}\\} \\]\r\n</markdown>",
    "Q": "Q: How can we express the Cartesian product of two sets \\( A \\) and \\( B \\) in terms of their elements, and what does it imply about the nature of ordered pairs?  \r\n",
    "A": "  \r\nA: The Cartesian product \\( A \\times B \\) is defined as \\( A \\times B = \\{(a, b) \\mid a \\in A \\land b \\in B\\} \\), which implies that the ordered pair \\((a, b)\\) is uniquely determined by the first element \\( a \\) from set \\( A \\) and the second element \\( b \\) from set \\( B\\)."
  },
  {
    "page": 123,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\nis precisely the x-axis. We can describe graphs as subsets of \\(\\mathbb{R} \\times \\mathbb{R}\\). Indeed, the graph of \\(y = x^2\\) is given by\r\n\r\n\\[ \r\nG = \\{ (x, y) \\in \\mathbb{R} \\times \\mathbb{R} \\mid y = x^2 \\} = \\{ (x, x^2) \\mid x \\in \\mathbb{R} \\} \\subseteq \\mathbb{R} \\times \\mathbb{R} \r\n\\]\r\n\r\n### Exercise 2.2.35\r\nWrite down the elements of the set \\(\\{1, 2\\} \\times \\{3, 4, 5\\}\\).\r\n\r\n### Exercise 2.2.36\r\nLet \\(X\\) be a set. Prove that \\(X \\times \\emptyset = \\emptyset\\).\r\n\r\n### Exercise 2.2.37\r\nLet \\(X, Y\\) and \\(Z\\) be sets. Under what conditions is it true that \\(X \\times Y = Y \\times X\\)? Under what conditions is it true that \\((X \\times Y) \\times Z = X \\times (Y \\times Z)\\)?\r\n\r\nWe might have occasion to take cartesian products of more than two sets. For example, whatever the set \\(\\mathbb{R} \\times \\mathbb{R} \\times \\mathbb{R}\\) is, its elements should be ordered triples \\((a, b, c)\\) consisting of elements \\(a, b, c \\in \\mathbb{R}\\). This is where the following definition comes in handy.\r\n\r\n### Definition 2.2.38\r\nLet \\(n \\in \\mathbb{N}\\) and let \\(X_1, X_2, \\ldots, X_n\\) be sets. The (n-fold) cartesian product of \\(X_1, X_2, \\ldots, X_n\\) is the set \\(\\prod_{k=1}^n X_k\\) defined by\r\n\r\n\\[\r\n\\prod_{k=1}^n X_k = \\{ (a_1, a_2, \\ldots, a_n) \\mid a_k \\in X_k \\text{ for all } 1 \\leq k \\leq n \\}\r\n\\]\r\n\r\nThe elements \\((a_1, a_2, \\ldots, a_n) \\in \\prod_{k=1}^n X_k\\) are called ordered k-tuples, whose defining property is that, for all \\(1 \\leq k \\leq n\\) and all \\(a_k, b_k \\in X_k\\), we have \\((a_1, a_2, \\ldots, a_n) = (b_1, b_2, \\ldots, b_n)\\) if and only if \\(a_k = b_k\\) for all \\(1 \\leq k \\leq n\\).\r\n\r\nGiven a set \\(X\\), write \\(X^n\\) to denote the set \\(\\prod_{k=1}^n X\\). We might on occasion also write\r\n\r\n\\[\r\nX_1 \\times X_2 \\times \\cdots \\times X_n = \\prod_{k=1}^n X_k\r\n\\]\r\n\r\n### Example 2.2.39\r\nIn Exercise 2.2.37 you might have noticed that the sets \\((X \\times Y) \\times Z\\) and \\(X \\times (Y \\times Z)\\) are not always equal—Definition 2.2.38 introduces a third potentially non-equal cartesian product of \\(X, Y\\) and \\(Z\\). For example, consider when \\(X = Y = Z = \\mathbb{R}\\). Then\r\n</markdown>",
    "Q": "Q: What is the ordered pair representation of the cartesian product \\(\\{1, 2\\} \\times \\{3, 4, 5\\}\\)? ",
    "A": " A: The ordered pair representation of the cartesian product is \\(\\{(1, 3), (1, 4), (1, 5), (2, 3), (2, 4), (2, 5)\\}\\)."
  },
  {
    "page": 124,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n- The elements of \\( (\\mathbb{R} \\times \\mathbb{R}) \\times \\mathbb{R} \\) are ordered pairs \\(((a, b), c)\\), where \\((a, b)\\) is itself an ordered pair of real numbers and \\(c\\) is a real number.\r\n\r\n- The elements of \\(\\mathbb{R} \\times (\\mathbb{R} \\times \\mathbb{R})\\) are ordered pairs \\((a, (b, c))\\), where \\(a\\) is a real number and \\((b, c)\\) is an ordered pair of real numbers.\r\n\r\n- The elements of \\(\\mathbb{R} \\times \\mathbb{R} \\times \\mathbb{R} ( = \\mathbb{R}^3)\\) are ordered triples \\((a, b, c)\\), where \\(a, b\\) and \\(c\\) are real numbers.\r\n\r\nSo, although these three sets appear to be the same, zooming in closely on the definitions reveals that there are subtle differences between them. A sense in which they are the same is that there are bijections between them—the notion of a bijection will be introduced in [Section 3.2](#).\r\n</markdown>",
    "Q": "Q: Are the sets \\( (\\mathbb{R} \\times \\mathbb{R}) \\times \\mathbb{R} \\), \\( \\mathbb{R} \\times (\\mathbb{R} \\times \\mathbb{R}) \\), and \\( \\mathbb{R}^3 \\) equivalent in terms of cardinality? ",
    "A": " A: Yes, they are equivalent in terms of cardinality as there exist bijections between these three sets."
  },
  {
    "page": 125,
    "title": "I Core Concepts/2 Sets/2.2 Set Operations",
    "content": "<markdown>\r\n## TL;DR — summary of Section 2.2\r\n\r\n### Binary set operations\r\n\r\n**2.2.1** The *intersection* of sets \\( X \\) and \\( Y \\) is \\( X \\cap Y = \\{ a \\mid a \\in X \\land a \\in Y \\} \\).\r\n\r\n**2.2.11** The *union* of sets \\( X \\) and \\( Y \\) is \\( X \\cup Y = \\{ a \\mid a \\in X \\lor a \\in Y \\} \\).\r\n\r\n**2.2.26** The *relative complement* of a set \\( X \\) in a set \\( Y \\) is \\( Y \\setminus X = \\{ a \\mid a \\in X \\land a \\notin Y \\} \\).\r\n\r\n**2.2.33** The *cartesian product* of sets \\( X \\) and \\( Y \\) is \\( X \\times Y = \\{ (a, b) \\mid a \\in X \\land b \\in Y \\} \\), where \\( (a, b) \\) is an *ordered pair*.\r\n\r\n### Indexed set operations\r\n\r\n**2.2.18** An *indexed family* of sets \\( \\{ X_i \\mid i \\in I \\} \\) is a specification of a set \\( X_i \\) for each element \\( i \\) of some *indexing set* \\( I \\).\r\n\r\n**2.2.20** The *indexed intersection* of a family \\( \\{ X_i \\mid i \\in I \\} \\) is \\( \\bigcap_{i \\in I} X_i = \\{ a \\mid \\forall i \\in I, a \\in X_i \\} \\);  \r\nthe *indexed union* of the family is \\( \\bigcup_{i \\in I} X_i = \\{ a \\mid \\exists i \\in I, a \\in X_i \\} \\).\r\n\r\n**2.2.38** The *n-fold cartesian product* of an \\([n]\\)-indexed family \\( \\{ X_i \\mid i \\in [n] \\} \\) is the set  \r\n\\[\r\n\\prod_{k=1}^{n} X_k = \\{ (a_1, \\ldots, a_n) \\mid a_k \\in X_k \\text{ for all } k \\in [n] \\},\r\n\\]\r\nwhere \\( (a_1, \\ldots, a_n) \\) is an *ordered n-tuple*.\r\n</markdown>",
    "Q": "Q: Given two sets \\( A = \\{1, 2, 3\\} \\) and \\( B = \\{2, 3, 4\\} \\), find the intersection and the union of sets \\( A \\) and \\( B \\). ",
    "A": " A: The intersection \\( A \\cap B = \\{2, 3\\} \\) and the union \\( A \\cup B = \\{1, 2, 3, 4\\} \\)."
  },
  {
    "page": 126,
    "title": "I Core Concepts/2 Sets/2.E Chapter 2 Exercises",
    "content": "<markdown>\r\n## Chapter 2 exercises\r\n\r\n### Sets\r\n\r\n**2.1.** Express the following sets in the indicated form of notation.\r\n\r\n(a) \\(\\{ n \\in \\mathbb{Z} \\mid n^2 < 20 \\}\\) in list notation;\r\n\r\n(b) \\(\\{ 4k + 3 \\mid k \\in \\mathbb{N} \\}\\) in implied list notation;\r\n\r\n(c) The set of all odd multiples of six in set-builder notation;\r\n\r\n(d) The set \\(\\{ 1, 2, 5, 10, 17, \\ldots, n^2 + 1, \\ldots \\}\\) in set-builder notation.\r\n\r\n**2.2.** Find sets \\(X_n\\) for each \\(n \\in \\mathbb{N}\\) such that \\(X_{n+1} \\nsubseteq X_n\\) for all \\(n \\in \\mathbb{N}\\). Can any of the sets \\(X_n\\) be empty?\r\n\r\n**2.3.** Express the set \\(\\mathcal{P}(\\{\\emptyset, \\{\\emptyset\\}, \\{\\{\\emptyset\\}\\}\\})\\) in list notation.\r\n\r\n**2.4.** Let \\(X\\) be a set and let \\(U, V \\subseteq X\\). Prove that \\(U\\) and \\(V\\) are disjoint if and only if \\(U \\subseteq X \\setminus V\\).\r\n\r\n**2.5.** For each of the following statements, determine whether or not it is true for all sets \\(A\\) and \\(X\\), and prove your claim.\r\n\r\n(a) If \\(X \\setminus A = \\emptyset\\), then \\(X = A\\).\r\n\r\n(b) If \\(X \\setminus A = X\\), then \\(A = \\emptyset\\).\r\n\r\n(c) If \\(X \\setminus A = A\\), then \\(A = \\emptyset\\).\r\n\r\n(d) \\(X \\setminus (X \\setminus A) = A\\).\r\n\r\n**2.6.** For each of the following statements, determine whether it is true for all sets \\(X, Y\\), false for all sets \\(X, Y\\), or true for some choices of \\(X\\) and \\(Y\\) and false for others.\r\n\r\n(a) \\(\\mathcal{P}(X \\cup Y) = \\mathcal{P}(X) \\cup \\mathcal{P}(Y)\\)\r\n\r\n(b) \\(\\mathcal{P}(X \\cap Y) = \\mathcal{P}(X) \\cap \\mathcal{P}(Y)\\)\r\n\r\n(c) \\(\\mathcal{P}(X \\times Y) = \\mathcal{P}(X) \\times \\mathcal{P}(Y)\\)\r\n\r\n(d) \\(\\mathcal{P}(X \\setminus Y) = \\mathcal{P}(X) \\setminus \\mathcal{P}(Y)\\)\r\n\r\n**2.7.** Let \\(F\\) be a set whose elements are all sets. Prove that if \\(\\forall A \\in F, \\, \\forall x \\in A, \\, x \\in F\\), then \\(F \\subseteq \\mathcal{P}(F)\\).\r\n\r\nQuestions 2.8 to 2.13 concern the *symmetric difference* of sets, defined below.\r\n</markdown>",
    "Q": "Q: What is the list notation for the set of all integers \\( n \\) such that \\( n^2 < 20 \\)? ",
    "A": " A: The list notation for the set is \\(\\{ -4, -3, -2, -1, 0, 1, 2, 3, 4 \\}\\)."
  },
  {
    "page": 127,
    "title": "I Core Concepts/2 Sets/2.E Chapter 2 Exercises",
    "content": "<markdown>\r\n### Definition 2.E.1\r\n\r\nThe **symmetric difference** of sets \\( X \\) and \\( Y \\) is the set \\( X \\triangle Y \\) (LaTeX code: \\texttt{\\textbackslash triangle}) defined by\r\n\r\n\\[\r\nX \\triangle Y = \\{ a \\mid a \\in X \\text{ or } a \\in Y \\text{ but not both} \\}\r\n\\]\r\n\r\n2.8. Prove that \\( X \\triangle Y = (X \\setminus Y) \\cup (Y \\setminus X) = (X \\cup Y) \\setminus (X \\cap Y) \\) for all sets \\( X \\) and \\( Y \\).\r\n\r\n2.9. Let \\( X \\) be a set. Prove that \\( X \\triangle X = \\emptyset \\) and \\( X \\triangle \\emptyset = X \\).\r\n\r\n2.10. Let \\( X \\) and \\( Y \\) be sets. Prove that \\( X = Y \\) if and only if \\( X \\triangle Y = \\emptyset \\).\r\n\r\n2.11. Prove that sets \\( X \\) and \\( Y \\) are disjoint if and only if \\( X \\triangle Y = X \\cup Y \\).\r\n\r\n2.12. Prove that \\( X \\triangle (Y \\triangle Z) = (X \\triangle Y) \\triangle Z \\) for all sets \\( X, Y \\) and \\( Z \\).\r\n\r\n2.13. Prove that \\( X \\cap (Y \\triangle Z) = (X \\cap Y) \\triangle (X \\cap Z) \\) for all sets \\( X, Y \\) and \\( Z \\).\r\n\r\n### Definition 2.E.2\r\n\r\nA subset \\( U \\subseteq \\mathbb{R} \\) is **open** if, for all \\( a \\in U \\), there exists \\( \\delta > 0 \\) such that \\( (a - \\delta, a + \\delta) \\subseteq U \\).\r\n\r\nIn Questions 2.14 to 2.17 you will prove some elementary facts about open subsets of \\( \\mathbb{R} \\).\r\n\r\n2.14. For each of the following subsets of \\( \\mathbb{R} \\), determine (with proof) whether it is open:\r\n\r\n- (a) \\( \\emptyset \\);\r\n- (b) \\( (0, 1) \\);\r\n- (c) \\( [0, 1] \\);\r\n- (d) \\( \\mathbb{Z} \\);\r\n- (e) \\( \\mathbb{R} \\setminus \\mathbb{Z} \\);\r\n- (f) \\( \\mathbb{Q} \\).\r\n\r\n2.15. Prove that a subset \\( U \\subseteq \\mathbb{R} \\) is open if and only if, for all \\( a \\in U \\), there exist \\( u, v \\in \\mathbb{R} \\) such that \\( u < a < v \\) and \\( (u, v) \\subseteq U \\).\r\n\r\n2.16. In this question you will prove that the intersection of finitely many open sets is open, but the intersection of infinitely many open sets might not be open.\r\n\r\n- (a) Let \\( n \\geq 1 \\) and suppose \\( U_1, U_2, \\ldots, U_n \\) are open subsets of \\( \\mathbb{R} \\). Prove that the intersection \\( U_1 \\cap U_2 \\cap \\cdots \\cap U_n \\) is open.\r\n\r\n- (b) Prove that \\( (0, 1 + \\frac{1}{n}) \\) is open for all \\( n \\geq 1 \\), but that \\( \\bigcap_{n \\geq 1} (0, 1 + \\frac{1}{n}) \\) is not open.\r\n\r\n2.17. Prove that a subset \\( U \\subseteq \\mathbb{R} \\) is open if and only if it can be expressed as a union of open intervals—more precisely, \\( U \\subseteq \\mathbb{R} \\) is open if and only if, for some indexing set \\( I \\), there exist real numbers \\( a_i, b_i \\) for each \\( i \\in I \\), such that \\( U = \\bigcup_{i \\in I} (a_i, b_i) \\).\r\n\r\n2.18. Let \\( \\{ A_n \\mid n \\in \\mathbb{N} \\} \\) and \\( \\{ B_n \\mid n \\in \\mathbb{N} \\} \\) be families of sets such that, for all \\( i \\in \\mathbb{N} \\), there exists some \\( j \\geq i \\) such that \\( B_j \\subseteq A_i \\). Prove that \\( \\bigcap_{n \\in \\mathbb{N}} A_n = \\bigcap_{n \\in \\mathbb{N}} B_n \\).\r\n</markdown>",
    "Q": "Q: Show that if \\( X \\) and \\( Y \\) are disjoint sets, then what is the symmetric difference \\( X \\triangle Y \\)? \r\n",
    "A": " \r\nA: Since \\( X \\) and \\( Y \\) are disjoint, we have \\( X \\cap Y = \\emptyset \\). Thus, the symmetric difference is:\r\n\\[\r\nX \\triangle Y = (X \\setminus Y) \\cup (Y \\setminus X) = X \\cup Y.\r\n\\]"
  },
  {
    "page": 128,
    "title": "I Core Concepts/2 Sets/2.E Chapter 2 Exercises",
    "content": "<markdown>\r\n### True–False questions\r\n\r\nIn [Questions 2.19 to 2.24](#), determine (with proof) whether the statement is true or false.\r\n\r\n2.19. If \\( E \\) is a set and \\(\\neg \\forall x, x \\in E\\), then \\( E = \\emptyset \\).\r\n\r\n2.20. If \\( E \\) is a set and \\(\\forall x, \\neg x \\in E\\), then \\( E = \\emptyset \\).\r\n\r\n2.21. \\(\\{1, 2, 3\\} = \\{1, 2, 1, 3, 2, 1\\}\\)\r\n\r\n2.22. \\(\\emptyset \\in \\emptyset\\)\r\n\r\n2.23. \\(\\emptyset \\in \\{\\emptyset\\}\\)\r\n\r\n2.24. \\(\\emptyset \\in \\{\\{\\emptyset\\}\\}\\).\r\n\r\n### Always–Sometimes–Never questions\r\n\r\nIn [Questions 2.25 to 2.40](#), determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n2.25. Let \\( a \\) and \\( b \\) be arbitrary objects. Then \\(\\{a, b\\} = \\{b, a\\}\\).\r\n\r\n2.26. Let \\( a, b \\) and \\( c \\) be arbitrary objects. Then \\(\\{a, b\\} = \\{a, c\\}\\).\r\n\r\n2.27. Let \\( X \\) and \\( Y \\) be sets and suppose there is some \\( a \\) such that \\( a \\in X \\iff a \\in Y \\). Then \\( X = Y \\).\r\n\r\n2.28. Let \\( X \\) and \\( Y \\) be sets and suppose there is some \\( a \\) such that \\( a \\in X \\) but \\( a \\notin Y \\). Then \\( X = Y \\).\r\n\r\n2.29. Let \\( X \\) and \\( Y \\) be sets with \\( X \\neq Y \\). Then \\(\\forall a, a \\in X \\Rightarrow a \\notin Y\\).\r\n\r\n2.30. Let \\( X \\) and \\( Y \\) be sets with \\( X \\cap Y = \\emptyset \\). Then \\(\\forall a, a \\in X \\Rightarrow a \\notin Y\\).\r\n\r\n2.31. Let \\( X \\) and \\( Y \\) be sets with \\( X \\neq Y \\). Then \\(\\exists a, a \\in X \\land a \\notin Y\\).\r\n\r\n2.32. Let \\( X \\) and \\( Y \\) be sets of sets and suppose that \\( X \\subseteq Y \\). Then \\( X \\subseteq Y \\).\r\n\r\n2.33. Let \\( X \\) be a set. Then \\(\\emptyset \\in \\mathcal{P}(X)\\).\r\n\r\n2.34. Let \\( X \\) be a set. Then \\(\\{\\emptyset\\} \\in \\mathcal{P}(X)\\).\r\n\r\n2.35. Let \\( X \\) be a set. Then \\(\\{\\emptyset, X\\} \\subseteq \\mathcal{P}(X)\\).\r\n\r\n2.36. Let \\( X \\) and \\( Y \\) be sets such that \\(\\mathcal{P}(X) = \\mathcal{P}(Y)\\). Then \\( X = Y \\).\r\n\r\n2.37. Let \\( X \\) and \\( Y \\) be sets such that \\( X \\setminus Y = \\emptyset \\). Then \\( X = Y \\).\r\n\r\n2.38. Let \\( X, Y \\) and \\( Z \\) be sets such that \\( X \\setminus Y = Z \\) and \\( Y \\subseteq Z \\). Then \\( X = Y \\cup Z \\).\r\n\r\n2.39. Let \\( X \\) and \\( Y \\) be sets. Then \\( X \\cup Y = X \\cap Y \\).\r\n</markdown>",
    "Q": "Q: If \\( X \\) and \\( Y \\) are sets such that \\( X \\cap Y = \\emptyset \\), does it follow that \\( X \\) and \\( Y \\) must be distinct sets? ",
    "A": " A: No, it does not follow that \\( X \\) and \\( Y \\) must be distinct; for example, if \\( X = \\emptyset \\) and \\( Y = \\emptyset \\), then \\( X \\cap Y = \\emptyset \\) yet \\( X = Y \\)."
  },
  {
    "page": 129,
    "title": "I Core Concepts/2 Sets/2.E Chapter 2 Exercises",
    "content": "<markdown>\r\n2.40. Let \\( X \\) be a set and let \\( A \\subseteq X \\). Then \\( A \\in X \\).\r\n</markdown>",
    "Q": "Q: If \\( A \\subseteq X \\), does it imply that the power set \\( \\mathcal{P}(X) \\) contains \\( A \\)? ",
    "A": " A: Yes, since \\( A \\subseteq X \\), it follows that \\( A \\in \\mathcal{P}(X) \\)."
  },
  {
    "page": 131,
    "title": "I Core Concepts/3 Functions",
    "content": "<markdown>\r\n# Chapter 3\r\n\r\n## Functions\r\n\r\nIf sets are the bread of mathematics, then functions are the butter. As we will see in subsequent chapters of this book, functions are central in almost every area of mathematical study: they allow us to transform elements of one set into elements of another, to define ‘infinity’, and to capture real-world notions such as probability and randomness in the abstract.\r\n\r\nIt is likely (but not assumed) that you have seen functions before, such as real-valued functions in calculus or linear transformations in linear algebra. However, we will study functions in the abstract; the ‘inputs’ and ‘outputs’ of our functions need not be numbers, vectors or points in space; they can be anything at all—in fact, the inputs or outputs to our functions might themselves be functions!\r\n\r\nWe introduce the notion of a function abstractly in Section 3.1. Much of our time will be spent developing basic notions involving functions, including graphs, composition, images and preimages.\r\n\r\nWe will zoom in on two properties in particular in Section 3.2, namely injectivity and surjectivity. These properties allow us to compare the sizes of sets we will use them extensively in Chapters 8 and 10 for doing exactly that.\r\n</markdown>",
    "Q": "Q: Define injectivity and surjectivity of a function and explain their significance in comparing the sizes of sets. ",
    "A": " A: A function \\( f: A \\to B \\) is called injective (or one-to-one) if for every \\( a_1, a_2 \\in A \\), \\( f(a_1) = f(a_2) \\) implies \\( a_1 = a_2 \\). It is surjective (or onto) if for every \\( b \\in B \\), there exists at least one \\( a \\in A \\) such that \\( f(a) = b \\). The significance of these properties lies in their ability to determine whether a function can be reversed (injectivity) and whether all elements in the codomain are accounted for (surjectivity), which are essential for comparing the sizes of the sets involved."
  },
  {
    "page": 132,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n## Section 3.1\r\n\r\n# Functions\r\n\r\nOne way of studying interactions between sets is by studying *functions* between them, which we will define informally in [Definition 3.1.1](#). Functions are mathematical objects which assign to each element of one set exactly one element of another. Almost every branch of mathematics studies functions, be it directly or indirectly, and almost every application of mathematics arises from a translation of the abstract notion of a function to the real world. Just one example of this is the theory of computation—functions provide precisely the language necessary to describe the deterministic input-output behaviour of algorithms.\r\n\r\nYou might have come across the notion of a function before now. In schools, functions are often introduced as being like *machines*—they have inputs and outputs, and on a given input they always return the same output. For instance, there is a function which takes integers as inputs and gives integers as outputs, which on the input \\( x \\) returns the integer \\( x + 3 \\).\r\n\r\nThis characterisation of functions, however, is clearly not precise enough for the purposes of mathematical proof. A next approximation to a precise definition of a function might look something like this:\r\n\r\n### Definition 3.1.1\r\n\r\nA function \\( f \\) from a set \\( X \\) to a set \\( Y \\) is a specification of elements \\( f(x) \\in Y \\) for \\( x \\in X \\), such that\r\n\r\n\\[\r\n\\forall x \\in X, \\exists! y \\in Y, y = f(x)\r\n\\]\r\n\r\nGiven \\( x \\in X \\), the (unique!) element \\( f(x) \\in Y \\) is called the *value* of \\( f \\) at \\( x \\).\r\n\r\nThe set \\( X \\) is called the *domain* (or *source*) of \\( f \\), and \\( Y \\) is called the *codomain* (or *target*) of \\( f \\). We write \\( f : X \\rightarrow Y \\) (\\LaTeX{} code: \\( f : X \\to Y \\)) to denote the assertion that \\( f \\) is a function with domain \\( X \\) and codomain \\( Y \\).\r\n\r\nThis is better—we’re now talking about sets, and not mysterious ‘machines’.\r\n\r\nMoreover, this definition establishes a close relationship between functions and the \\(\\exists!\\) quantifier: indeed, to say that \\( f \\) assigns to each element of \\( X \\) a unique element of \\( Y \\) is to say precisely that\r\n\r\n\\[\r\n\\forall x \\in X, \\exists! y \\in Y, y = f(x)\r\n\\]\r\n\r\nConversely, any true proposition of the form \\(\\forall x \\in X, \\exists! y \\in Y, p(x,y)\\) defines a function.\r\n</markdown>",
    "Q": "Q: What is the relationship between the domain and codomain of a function \\( f : X \\to Y \\) according to the definition provided? ",
    "A": " A: The domain \\( X \\) is the set of inputs for the function, while the codomain \\( Y \\) is the set of potential outputs. Each element in \\( X \\) is assigned exactly one element in \\( Y \\) by the function \\( f \\)."
  },
  {
    "page": 133,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Section 3.1. Functions\r\n\r\n\\( f : X \\to Y \\): the function \\( f \\) assigns to each \\( x \\in X \\) the unique \\( y \\in Y \\) such that \\( p(x,y) \\) is true. In other words, \\(\\forall x \\in X, p(x, f(x))\\) is true!\r\n\r\nWe can use this to generate some examples of functions.\r\n\r\n#### Example 3.1.2\r\nExample 1.2.27 said that every positive real number has a unique positive square root; we proved this in Example 1.2.30. What this means is that there is a function\r\n\r\n\\[\r\nr : \\mathbb{R}^{>0} \\to \\mathbb{R}^{>0} \\quad \\text{where} \\quad \\mathbb{R}^{>0} = \\{x \\in \\mathbb{R} \\mid x > 0\\}\r\n\\]\r\n\r\ndefined by letting \\( r(x) \\) be the (unique) positive square root of \\( x \\), for each \\( x \\in \\mathbb{R}^{>0} \\). That is, we have a function \\( r \\) defined by \\( r(x) = \\sqrt{x} \\).\r\n\r\n#### Exercise 3.1.3\r\nRecall Exercise 1.2.31. Which of the statements (a), (b) or (c) is of the form \\(\\forall x \\in X, \\exists! y \\in Y, p(x,y)\\)? For each statement of this form, determine the domain and codomain of the corresponding function, and write an expression defining this function.\r\n\r\n### Specifying a function\r\n\r\nJust like with sets, there are many ways to specify a function \\( f : X \\to Y \\), but when we do so, we must be careful that what we write really *does* define a function!\r\n\r\nThis correctness of specification is known as *well-definedness*, and ultimately amounts to verifying that the condition \\(\\forall x \\in X, \\exists! y \\in Y, f(x) = y\\) holds for the specification of \\( f \\). Namely *totality*, *existence* and *uniqueness*:\r\n\r\n- **Totality.** A value \\( f(x) \\) should be specified for each \\( x \\in X \\)—this corresponds to the ‘\\(\\forall x \\in X\\)’ quantifier in the definition of functions.\r\n\r\n- **Existence.** For each \\( x \\in X \\), the specified value \\( f(x) \\) should actually exist, and should be an element of \\( Y \\)—this corresponds to the *existence* part of the ‘\\(\\exists! y \\in Y\\)’ quantifier in the definition of functions.\r\n\r\n- **Uniqueness.** For each \\( x \\in X \\), the specified value \\( f(x) \\) should refer to only one element of \\( Y \\)—this corresponds to the *uniqueness* part of the ‘\\(\\exists! y \\in Y\\)’ quantifier in the definition of functions.\r\n\r\nWhen specifying a function, you should justify each of these components of well-definedness unless they are extremely obvious. You will probably find that, in most cases, the only component in need of justification is uniqueness, but keep all three in mind.\r\n</markdown>",
    "Q": "Q: Given the function \\( f : \\mathbb{R}^{>0} \\to \\mathbb{R}^{>0} \\) defined by \\( f(x) = \\frac{1}{x} \\), verify whether it satisfies the well-definedness conditions of totality, existence, and uniqueness for all \\( x \\in \\mathbb{R}^{>0} \\). ",
    "A": " A: For the function \\( f(x) = \\frac{1}{x} \\): \r\n\r\n1. **Totality:** For every \\( x \\in \\mathbb{R}^{>0} \\), \\( f(x) \\) is specified and is \\( \\frac{1}{x} \\), which is well-defined for all \\( x > 0\\).\r\n2. **Existence:** Since \\( x > 0 \\) implies \\( \\frac{1}{x} > 0 \\), \\( f(x) \\) is always an element of \\( \\mathbb{R}^{>0} \\).\r\n3. **Uniqueness:** For each \\( x \\in \\mathbb{R}^{>0} \\), the value \\( f(x) = \\frac{1}{x} \\) is unique because there is only one positive number that satisfies this equation for each positive \\( x\\).\r\n\r\nThus, the function \\( f \\) is well-defined."
  },
  {
    "page": 134,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Lists\r\n\r\nIf \\( X \\) is finite, then we can specify a function \\( f : X \\to Y \\) by simply listing the values of \\( f \\) at all possible elements \\( x \\in X \\). For example, we can define a function\r\n\r\n\\[\r\nf : \\{1, 2, 3\\} \\to \\{\\text{red, yellow, green, blue, purple}\\}\r\n\\]\r\n\r\nby declaring\r\n\r\n\\[\r\nf(1) = \\text{red}, \\quad f(2) = \\text{purple}, \\quad f(3) = \\text{green}\r\n\\]\r\n\r\nNote that the function is at this point completely specified: we know its values at all elements of the domain \\(\\{1, 2, 3\\}\\). It doesn’t matter that some of the elements of the codomain (yellow and blue) are unaccounted for—all that matters is that each element of the domain is associated with exactly one element of the codomain.\r\n\r\nUnfortunately, most of the sets that we work with will be infinite, or of an unspecified finite size; in these cases, simply writing a list of values isn’t sufficient. Fortunately for us, there are other ways of specifying functions.\r\n\r\n### Formulae\r\n\r\nIn many cases, particularly when the domain \\( X \\) and codomain \\( Y \\) are number sets, we can define a function by giving a formula for the value of \\( f(x) \\) for each \\( x \\in X \\). For example, we can define a function \\( f : \\mathbb{R} \\to \\mathbb{R} \\) by letting\r\n\r\n\\[\r\nf(x) = x^2 + 3 \\quad \\text{for all } x \\in \\mathbb{R}\r\n\\]\r\n\r\n### By cases\r\n\r\nIt will at times be convenient to define a function using different specifications for different elements of the domain. A very simple example is the absolute value function \\(|\\cdot| : \\mathbb{R} \\to \\mathbb{R}\\), defined for \\( x \\in \\mathbb{R} \\)\r\n\r\n\\[\r\n|x| = \r\n\\begin{cases} \r\nx & \\text{if } x \\geq 0 \\\\\r\n-x & \\text{if } x \\leq 0 \r\n\\end{cases}\r\n\\]\r\n\r\nHere we have split into two cases based on the conditions \\( x \\geq 0 \\) and \\( x \\leq 0 \\).\r\n\r\nWhen specifying a function \\( f : X \\to Y \\) by cases, it is important that the conditions be:\r\n\r\n- **exhaustive**: given \\( x \\in X \\), at least one of the conditions on \\( X \\) must hold; and\r\n- **compatible**: if any \\( x \\in X \\) satisfies more than one condition, the specified value must be the same no matter which condition is picked.\r\n\r\nFor the absolute value function defined above, these conditions are satisfied. Indeed, for \\( x \\in \\mathbb{R} \\), it is certainly the case that \\( x \\geq 0 \\) or \\( x \\leq 0 \\), so the conditions are exhaustive. Moreover, given \\( x \\in \\mathbb{R} \\), if both \\( x \\geq 0 \\) and \\( x \\leq 0 \\), then \\( x = 0 \\)—so we need to check that the specification yields the same value when \\( x = 0 \\) regardless of which condition we pick. The \\( x \\geq 0 \\) condition yields the value 0, and the \\( x \\leq 0 \\) condition yields the value \\(-0\\), which is equal to 0—so the conditions are compatible. We could have used\r\n</markdown>",
    "Q": "Q: How can we define a piecewise function for \\( f : \\mathbb{R} \\to \\mathbb{R} \\) which outputs \\( 2x \\) when \\( x < 1 \\) and \\( 3 \\) when \\( x \\geq 1 \\)? ",
    "A": " A: The function can be defined as follows: \r\n\r\n\\[\r\nf(x) = \r\n\\begin{cases} \r\n2x & \\text{if } x < 1 \\\\\r\n3 & \\text{if } x \\geq 1 \r\n\\end{cases}\r\n\\]"
  },
  {
    "page": 135,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Section 3.1. Functions\r\n\r\n\\( x < 0 \\) instead of \\( x \\leq 0 \\); in this case the conditions are *mutually exclusive*, so certainly compatible because they do not overlap.\r\n\r\n**Algorithms.** You might, on first exposure to functions, have been taught to think of a function as a *machine* which, when given an *input*, produces an *output*. This 'machine' is defined by saying what the possible inputs and outputs are, and then providing a list of instructions (an *algorithm*) for the machine to follow, which on any input produces an output—and, moreover, if fed the same input, the machine always produces the same output.\r\n\r\nFor example, we might instruct a machine to take rational numbers as inputs and give rational numbers as outputs, and to follow the following sequence of steps on a given input\r\n\r\nmultiply by 2 \\(\\rightarrow\\) add 5 \\(\\rightarrow\\) square the result \\(\\rightarrow\\) divide by 6\r\n\r\nThis 'machine' defines a function \\( M : \\mathbb{Q} \\rightarrow \\mathbb{Q} \\) which, in equation form, is specified by\r\n\r\n\\[\r\nM(x) = \\frac{(2x + 5)^2}{6} \\quad \\text{for all } x \\in \\mathbb{Q}\r\n\\]\r\n\r\nIn our more formal set-up, therefore, we can define a function \\( M : I \\rightarrow O \\) by specifying:\r\n\r\n- a set \\( I \\) of all *inputs*;\r\n- a set \\( O \\) of potential *outputs*; and\r\n- a deterministic[^a] algorithm which describes how an input \\( x \\in I \\) is transformed into an output \\( M(x) \\in O \\).\r\n\r\nThat is, the domain is the set \\( I \\) of all possible 'inputs', the codomain is a set \\( O \\) containing all the possible 'outputs', and the function \\( M \\) is a rule specifying how an input is associated with the corresponding output.\r\n\r\nFor now, we will use algorithmic specifications of functions only sparingly—this is because it is much harder to make formal what is meant by an 'algorithm', and it is important to check that a given algorithm is deterministic.\r\n\r\n### Function equality\r\n\r\nIn [Section 2.1](#) we discussed how there may be many different possible ways of characterising equality of sets. This matter was resolved by declaring that two sets are equal if and only if they have the same elements (this was [Axiom 2.1.22](#)).\r\n\r\n[^a]: The word 'deterministic' just means that the algorithm always produces the same output on a single input.\r\n</markdown>",
    "Q": "Q: Given that the function \\( M(x) = \\frac{(2x + 5)^2}{6} \\) is defined for all \\( x \\in \\mathbb{Q} \\), what is the output of \\( M(3) \\)? ",
    "A": " A: The output is \\( M(3) = \\frac{(2(3) + 5)^2}{6} = \\frac{(6 + 5)^2}{6} = \\frac{11^2}{6} = \\frac{121}{6} \\)."
  },
  {
    "page": 136,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\nA similar matter arises for functions. For example, consider the function \\( f : \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( f(x) = 2x \\) for all \\( x \\in \\mathbb{R} \\), and the function \\( g : \\mathbb{R} \\to \\mathbb{R} \\), defined by letting \\( g(x) \\) be the result of taking \\( x \\), multiplying it by three, dividing the result by four, dividing the result by six, and then multiplying the result by sixteen. It so happens that \\( g(x) = 2x \\) for all \\( x \\in \\mathbb{R} \\) as well, but that is not how \\( g \\) is defined; moreover, if \\( f \\) and \\( g \\) were implemented as algorithms, then it would take longer to compute the values of \\( g \\) than it would take to compute the values of \\( f \\).\r\n\r\nShould we consider \\( f \\) and \\( g \\) to be *equal*? If we are only interested in whether \\( f \\) and \\( g \\) have the same values on each argument, then the answer should be ‘yes’; if we are interested in the algorithmic behaviour of \\( f \\) and \\( g \\), then the answer should be ‘no’.\r\n\r\nWe resolve this dilemma with the following axiom. By adopting this axiom, we are stating that the functions \\( f \\) and \\( g \\) discussed above are equal.\r\n\r\n### Axiom 3.1.4 (Function extensionality)\r\nLet \\( f : X \\to Y \\) and \\( g : A \\to B \\) be functions. Then \\( f = g \\) if and only if the following conditions hold:\r\n\r\n(i) \\( X = A \\) and \\( Y = B \\); and\r\n\r\n(ii) \\( f(x) = g(x) \\) for all \\( x \\in X \\).\r\n\r\n### Strategy 3.1.5 (Proving two functions are equal)\r\nGiven functions \\( f, g : X \\to Y \\) with the same domain and codomain, in order to prove that \\( f = g \\), it suffices to prove that \\( f(x) = g(x) \\) for all \\( x \\in X \\).\r\n\r\nA consequence of Axiom 3.1.4 is that, for fixed sets \\( X \\) and \\( Y \\), a function \\( X \\to Y \\) is uniquely determined by its input-output pairs. This set is called the *graph* of the function; the proof of the equivalence between functions and their graphs is the content of Theorem 3.1.9.\r\n\r\n### Definition 3.1.6\r\nLet \\( f : X \\to Y \\) be a function. The *graph* of \\( f \\) is the subset \\( \\mathrm{Gr}(f) \\subseteq X \\times Y \\) defined by\r\n\r\n\\[\r\n\\mathrm{Gr}(f) = \\{ (x, f(x)) \\mid x \\in X \\} = \\{ (x, y) \\in X \\times Y \\mid y = f(x) \\}\r\n\\]\r\n\r\n### Example 3.1.7\r\nGiven a (sufficiently well-behaved) function \\( f : \\mathbb{R} \\to \\mathbb{R} \\), we can represent \\( \\mathrm{Gr}(f) \\subseteq \\mathbb{R} \\times \\mathbb{R} \\) by plotting it on a pair of axes using Cartesian coordinates in the usual way. For\r\n</markdown>",
    "Q": "Q: If we have two functions \\( f: \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( f(x) = 3x + 2 \\) and \\( g: \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( g(x) = 3(x + \\frac{2}{3}) - 2 \\), do \\( f \\) and \\( g \\) satisfy the conditions of Axiom 3.1.4 for being equal functions? ",
    "A": " A: Yes, since \\( g(x) = 3x + 2 \\) simplifies to \\( f(x) \\) for all \\( x \\in \\mathbb{R} \\), and both have the same domain and codomain, they satisfy the conditions of Axiom 3.1.4 and thus are equal functions."
  },
  {
    "page": 137,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\nexample, if \\( f \\) is defined by \\( f(x) = \\frac{x}{2} \\) for all \\( x \\in \\mathbb{R} \\), then its graph\r\n\r\n\\[\r\n\\text{Gr}(f) = \\left\\{ \\left( x, \\frac{x}{2} \\right) \\mid x \\in \\mathbb{R} \\right\\}\r\n\\]\r\n\r\ncan be represented by graph plot in Figure 3.1.\r\n\r\n![Graph of the function \\( f : \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( f(x) = \\frac{x}{2} \\) for all \\( x \\in \\mathbb{R} \\)](image.png)\r\n\r\n**Exercise 3.1.8**  \r\nFind a function \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) whose graph is equal to the set\r\n\r\n\\[\r\n\\{ \\ldots, (-2, -5), (-1, -2), (0, 1), (1, 4), (2, 7), (3, 10), \\ldots \\}\r\n\\]\r\n\r\nTheorem 3.1.9 below provides a way of verifying that a function is well-defined by characterising their graphs.\r\n\r\n**Theorem 3.1.9**  \r\nLet \\( X \\) and \\( Y \\) be sets. A subset \\( G \\subseteq X \\times Y \\) is the graph of a function if and only if\r\n\r\n\\[\r\n\\forall x \\in X, \\exists! y \\in Y, (x, y) \\in G\r\n\\]\r\n\r\n**Proof**  \r\n(\\(\\Rightarrow\\)). Suppose \\( G \\subseteq X \\times Y \\) is the graph of a function, say \\( G = \\text{Gr}(f) \\) for some \\( f : X \\to Y \\).\r\n</markdown>",
    "Q": "Q: Find a function \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) that fits the points given in the graph set \\( \\{ \\ldots, (-2, -5), (-1, -2), (0, 1), (1, 4), (2, 7), (3, 10), \\ldots \\} \\) and express it in the form of an equation. ",
    "A": " A: The function can be derived from the pattern in the output values: \\( f(x) = 3x + 1 \\) for \\( x \\in \\mathbb{Z} \\)."
  },
  {
    "page": 138,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\nThen for each \\( x \\in X \\), it follows from well-definedness of \\( f \\) that \\( f(x) \\) is the unique element \\( y \\in Y \\) for which \\( (x,y) \\in G \\). That is, \\( (x, f(x)) \\in G \\), and if \\( y \\in Y \\) with \\( (x,y) \\in G \\), then \\( y = f(x) \\).\r\n\r\n(\\(\\Leftarrow\\)). Suppose \\( G \\subseteq X \\times Y \\) satisfies \\(\\forall x \\in X, \\exists! y \\in Y, (x,y) \\in G\\). Define a function \\( f : X \\to Y \\) by, for each \\( x \\in X \\), defining the value \\( f(x) \\) to be the unique element \\( y \\in Y \\) for which \\( (x,y) \\in G \\). Well-definedness of \\( f \\) is then immediate from our assumption of the existence and uniqueness of such a value of \\( y \\) for each \\( x \\in X \\).\r\n\r\n✏️ **Example 3.1.10**  \r\nThe set \\( G \\) defined by\r\n\r\n\\[ G = \\{(1, \\text{red}), (2, \\text{red}), (3, \\text{green})\\} \\]\r\n\r\nis the graph of a function \\( f : \\{1,2,3\\} \\to \\{\\text{red, green, blue}\\} \\). The function \\( f \\) is defined by\r\n\r\n\\[ f(1) = \\text{red}, \\quad f(2) = \\text{red}, \\quad f(3) = \\text{green} \\]\r\n\r\nHowever, \\( G \\) is not the graph of a function \\( \\{1,2,3,4\\} \\to \\{\\text{red, green, blue}\\} \\), since \\( G \\) contains no elements of the form \\( (4,y) \\) for \\( y \\in \\{\\text{red, green, blue}\\} \\). Moreover, the set \\( G' \\) defined by\r\n\r\n\\[ G' = \\{(1, \\text{red}), (2, \\text{red}), (2, \\text{blue}), (3, \\text{green})\\} \\]\r\n\r\ndoes not define the graph of a function \\( \\{1,2,3\\} \\to \\{\\text{red, green, blue}\\} \\), since there is not a *unique* element of the form \\( (2,y) \\) in \\( G' \\)—rather, there are two of them!\r\n\r\n✏️ **Exercise 3.1.11**  \r\nFor each of the following specifications of sets \\( X, Y, G \\), determine whether or not \\( G \\) is the graph of a function from \\( X \\) to \\( Y \\).\r\n\r\n(a) \\( X = \\mathbb{R}, Y = \\mathbb{R}, G = \\{(a, a^2) \\mid a \\in \\mathbb{R}\\} \\);\r\n\r\n(b) \\( X = \\mathbb{R}, Y = \\mathbb{R}, G = \\{(a^2, a) \\mid a \\in \\mathbb{R}\\} \\);\r\n\r\n(c) \\( X = \\mathbb{R}^{\\geq 0}, Y = \\mathbb{R}^{\\geq 0}, G = \\{(a^2, a) \\mid a \\in \\mathbb{R}^{\\geq 0}\\}, \\text{ where } \\mathbb{R}^{\\geq 0} = \\{x \\in \\mathbb{R} \\mid x \\geq 0\\} \\);\r\n\r\n(d) \\( X = \\mathbb{Q}, Y = \\mathbb{Q}, G = \\{(x,y) \\in \\mathbb{Q} \\times \\mathbb{Q} \\mid xy = 1\\} \\).\r\n\r\n(e) \\( X = \\mathbb{Q}, Y = \\mathbb{Q}, G = \\{(a,a) \\mid a \\in \\mathbb{Z}\\} \\);\r\n\r\n❖ **Aside**  \r\nIn light of Theorem 3.1.9, some people choose to define functions \\( X \\to Y \\) as particular subsets of \\( X \\times Y \\)—that is, they identify functions with their graphs. This is particularly useful when studying the logical foundations of mathematics. We avoid this practice here, because it is not conceptually necessary, and it would preclude other possible ways of encoding functions.\r\n\r\nWe will now look at some more examples (and non-examples) of functions.\r\n</markdown>",
    "Q": "Q: In the context of the function \\( f : X \\to Y \\) defined by a set \\( G \\), under what conditions can we conclude that \\( G \\) is the graph of a function? ",
    "A": " A: A set \\( G \\) is the graph of a function from \\( X \\) to \\( Y \\) if for every \\( x \\in X \\), there exists a unique \\( y \\in Y \\) such that \\( (x,y) \\in G \\)."
  },
  {
    "page": 139,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Example 3.1.12\r\n\r\nExample 1.2.27 gives a prime example of a function: it says that for every positive real number \\( a \\) there is a unique positive real number \\( b \\) such that \\( b^2 = a \\). This unique \\( b \\) is precisely the positive square root \\(\\sqrt{a}\\) of \\( a \\). Writing \\(\\mathbb{R}^{>0}\\) for the set of positive real numbers, we have thus established that taking the positive square root defines a function \\(\\mathbb{R}^{>0} \\to \\mathbb{R}^{>0}\\).\r\n\r\nThere is a class of functions called **identity functions** that, despite being very simple, are so important that we will give them a numbered definition!\r\n\r\n### Definition 3.1.13\r\n\r\nLet \\( X \\) be a set. The **identity function** on \\( X \\) is the function \\(\\mathrm{id}_X : X \\to X\\) defined by \\(\\mathrm{id}_X(x) = x\\) for all \\( x \\in X \\).\r\n\r\nYou should convince yourself that the specification of \\(\\mathrm{id}_X\\) given in Definition 3.1.13 is well-defined.\r\n\r\nAnother interesting example of a function is the **empty function**, which is useful in coming up with counterexamples and proving combinatorial identities (see Section 8.1).\r\n\r\n### Definition 3.1.14\r\n\r\nLet \\( X \\) be a set. The **empty function** with codomain \\( X \\) is the (unique!) function \\(\\emptyset \\to X\\). It has no values, since there are no elements of its domain.\r\n\r\nAgain, you should convince yourself that this specification is well-defined. Conceptually, convincing yourself of this is not easy; but writing down the proof of well-definedness is extremely easy—you will find that there is simply nothing to prove!\r\n\r\n### Example 3.1.15\r\n\r\nDefine \\( f : \\mathbb{R} \\to \\mathbb{R} \\) by the equation \\( f(x)^2 = x \\) for all \\( x \\in \\mathbb{R} \\). This is not well-defined for a few reasons. First, if \\( x < 0 \\) then there is no real number \\( y \\) such that \\( y^2 = x \\), so for \\( x < 0 \\) there are no possible values of \\( f(x) \\) in the codomain of \\( f \\), so **existence** fails. Second, if \\( x > 0 \\) then there are in fact two real numbers \\( y \\) such that \\( y^2 = x \\), namely the positive square root \\(\\sqrt{x}\\) and the negative square root \\(-\\sqrt{x}\\). The specification of \\( f \\) does not indicate which of these values to take, so **uniqueness** fails.\r\n\r\nNotice that the function \\( r : \\mathbb{R}^{>0} \\to \\mathbb{R}^{>0} \\) from Example 3.1.2 is (well-)defined by the equation \\( r(x)^2 = x \\) for all \\( x \\in \\mathbb{R}^{>0} \\). This illustrates why it is very important to specify the domain and codomain when defining a function.\r\n\r\n### Exercise 3.1.16\r\n\r\nWhich of the following specifications of functions are well-defined?\r\n</markdown>",
    "Q": "Q: Why is the function \\( f : \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( f(x)^2 = x \\) not considered well-defined? ",
    "A": " A: The function \\( f \\) is not well-defined because it fails the condition of existence for \\( x < 0 \\) (no real \\( y \\) satisfies \\( y^2 = x \\)) and fails the condition of uniqueness for \\( x > 0 \\) (two possible values, \\(\\sqrt{x}\\) and \\(-\\sqrt{x}\\), satisfy \\( y^2 = x \\))."
  },
  {
    "page": 140,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n(a) \\( g : \\mathbb{Q} \\to \\mathbb{Q} \\) defined by the equation \\((x+1)g(x) = 1\\) for all \\( x \\in \\mathbb{Q} \\);\r\n\r\n(b) \\( h : \\mathbb{N} \\to \\mathbb{Q} \\) defined by \\((x+1)h(x) = 1\\) for all \\( x \\in \\mathbb{N} \\);\r\n\r\n(c) \\( k : \\mathbb{N} \\to \\mathbb{N} \\) defined by \\((x+1)k(x) = 1\\) for all \\( x \\in \\mathbb{N} \\);\r\n\r\n(d) \\( \\ell : \\mathbb{N} \\to \\mathbb{N} \\) defined by \\(\\ell(x) = \\ell(x)\\) for all \\( x \\in \\mathbb{N} \\).\r\n\r\n### Exercise 3.1.17\r\nFind a condition on sets \\( X \\) and \\( Y \\) such that the specification of a function \\( i : X \\cup Y \\to \\{0, 1\\} \\) given by\r\n\r\n\\[\r\ni(z) = \r\n\\begin{cases} \r\n0 & \\text{if } z \\in X \\\\\r\n1 & \\text{if } z \\in Y \r\n\\end{cases}\r\n\\]\r\n\r\nto be well-defined.\r\n\r\n### Composition of functions\r\n\r\nIn our section on sets, we talked about various operations that can be performed on sets—union, intersection, and so on. There are also operations on functions, by far the most important of which is **composition**. To understand how composition works, let’s revisit the algorithmically defined function \\( M : \\mathbb{Q} \\to \\mathbb{Q} \\) from page 117:\r\n\r\nmultiply by 2 \\(\\to\\) add 5 \\(\\to\\) square the result \\(\\to\\) divide by 6\r\n\r\nThe function \\( M \\) is, in some sense, a **sequence** of functions, performed one-by-one until the desired result is reached. This is precisely **composition of functions**.\r\n\r\n### Definition 3.1.18\r\nGiven functions \\( f : X \\to Y \\) and \\( g : Y \\to Z \\), their **composite** \\( g \\circ f \\) (LaTeX code: `g \\circ f`) (read ‘\\( g \\) composed with \\( f \\)’ or ‘\\( g \\) after \\( f \\)’ or even just ‘\\( g \\) \\( f \\)’) is the function \\( g \\circ f : X \\to Z \\) defined by\r\n\r\n\\[\r\n(g \\circ f)(x) = g(f(x)) \\text{ for all } x \\in X\r\n\\]\r\n\r\nIntuitively, \\( g \\circ f \\) is the function resulting from first applying \\( f \\), and then applying \\( g \\), to the given input.\r\n\r\n### Common error\r\nFunction composition is in some sense written ‘backwards’: in the expression \\( g \\circ f \\), the function which is applied **first** is written **last**—there is a good reason for this: the\r\n</markdown>",
    "Q": "Q: What is the result of composing the functions \\( g \\) and \\( h \\) as defined in the context, such that \\( g \\circ h : \\mathbb{N} \\to \\mathbb{Q} \\) is well-defined? ",
    "A": " A: The composition \\( (g \\circ h)(x) = g(h(x)) = g\\left(\\frac{1}{x+1}\\right) = \\frac{1}{\\frac{1}{x+1}+1} = \\frac{x+1}{x+2} \\) for all \\( x \\in \\mathbb{N} \\)."
  },
  {
    "page": 141,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Example 3.1.19\r\n\r\nThe function \\( M \\) from page 117 can be defined as the composite\r\n\r\n\\[ M = ((k \\circ h \\circ g) \\circ f \\]\r\n\r\nwhere\r\n\r\n- \\( f : \\mathbb{Q} \\to \\mathbb{Q} \\) is defined by \\( f(x) = 2x \\) for all \\( x \\in \\mathbb{Q} \\);\r\n- \\( g : \\mathbb{Q} \\to \\mathbb{Q} \\) is defined by \\( g(x) = x + 5 \\) for all \\( x \\in \\mathbb{Q} \\);\r\n- \\( h : \\mathbb{Q} \\to \\mathbb{Q} \\) is defined by \\( h(x) = x^2 \\) for all \\( x \\in \\mathbb{Q} \\);\r\n- \\( k : \\mathbb{Q} \\to \\mathbb{Q} \\) is defined by \\( k(x) = \\frac{x}{6} \\) for all \\( x \\in \\mathbb{Q} \\).\r\n\r\n### Exercise 3.1.20\r\n\r\nLet \\( f, g, h, k : \\mathbb{Q} \\to \\mathbb{Q} \\) be as in Example 3.1.19. Compute equations defining the following composites:\r\n\r\n(a) \\( f \\circ g \\);\r\n\r\n(b) \\( g \\circ f \\);\r\n\r\n(c) \\( ((f \\circ g) \\circ h) \\circ k \\);\r\n\r\n(d) \\( f \\circ (g \\circ (h \\circ k)) \\);\r\n\r\n(e) \\( (g \\circ g) \\circ (g \\circ g) \\).\r\n\r\n### Example 3.1.21\r\n\r\nLet \\( f : X \\to Y \\) be any function. Then\r\n\r\n\\[ \\text{id}_Y \\circ f = f = f \\circ \\text{id}_X \\]\r\n\r\nTo see this, let \\( x \\in X \\). Then\r\n\r\n\\[\r\n\\begin{align*}\r\n(\\text{id}_Y \\circ f)(x) &= \\text{id}_Y(f(x)) & \\text{by definition of composition} \\\\\r\n&= f(x) & \\text{by definition of } \\text{id}_Y \\\\\r\n&= f(\\text{id}_X(x)) & \\text{by definition of } \\text{id}_X \\\\\r\n&= (f \\circ \\text{id}_X)(x) & \\text{by definition of composition}\r\n\\end{align*}\r\n\\]\r\n\r\nEquality of the three functions in question follows.\r\n</markdown>",
    "Q": "Q: Compute \\( (h \\circ f)(2) \\) given the functions \\( f \\) and \\( h \\) defined in Example 3.1.19. ",
    "A": " A: To compute \\( (h \\circ f)(2) \\), first evaluate \\( f(2) = 2 \\cdot 2 = 4 \\) and then \\( h(4) = 4^2 = 16 \\). Thus, \\( (h \\circ f)(2) = 16 \\)."
  },
  {
    "page": 142,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Exercise 3.1.22\r\n\r\nProve that composition of functions is **associative**, that is, if \\( f : X \\to Y \\), \\( g : Y \\to Z \\) and \\( h : Z \\to W \\) are functions, then\r\n\r\n\\[\r\nh \\circ (g \\circ f) = (h \\circ g) \\circ f : X \\to W\r\n\\]\r\n\r\nAs a consequence of associativity, when we want to compose more than two functions, it doesn’t matter what order we compose the functions in. As such, we can just write \\( h \\circ g \\circ f \\).\r\n\r\n### Exercise 3.1.23\r\n\r\nLet \\( f : X \\to Y \\) and \\( g : Z \\to W \\) be functions, and suppose that \\( Y \\subseteq Z \\). Note that there is a function \\( h : X \\to W \\) defined by \\( h(x) = g(f(x)) \\) for all \\( x \\in X \\). Write \\( h \\) as a composite of functions involving \\( f \\) and \\( g \\).\r\n\r\n## Characteristic functions\r\n\r\nA class of functions that are particularly useful for proving results about sets are **characteristic functions**.\r\n\r\n### Definition 3.1.24\r\n\r\nLet \\( X \\) be a set and let \\( U \\subseteq X \\). The **characteristic function** of \\( U \\) in \\( X \\) is the function \\( \\chi_U : X \\to \\{0, 1\\} \\) (LaTeX code: `\\chi_{U}`) defined by\r\n\r\n\\[\r\n\\chi_U(a) = \r\n\\begin{cases} \r\n1 & \\text{if } a \\in U \\\\\r\n0 & \\text{if } a \\notin U \r\n\\end{cases}\r\n\\]\r\n\r\n### Example 3.1.25\r\n\r\nConsider the subset \\( U = \\{1, 3, 5\\} \\subseteq [6] \\). Then the values of the characteristic function \\( \\chi_U : [6] \\to \\{0, 1\\} \\) are given by\r\n\r\n\\[\r\n\\begin{align*}\r\n\\chi_U(1) &= 1 \\\\\r\n\\chi_U(2) &= 0 \\\\\r\n\\chi_U(3) &= 1 \\\\\r\n\\chi_U(4) &= 0 \\\\\r\n\\chi_U(5) &= 1 \\\\\r\n\\chi_U(6) &= 0 \\\\\r\n\\end{align*}\r\n\\]\r\n\r\n### Theorem 3.1.26\r\n\r\nLet \\( X \\) be a set and let \\( U, V \\subseteq X \\). Then \\( U = V \\) if and only if \\( \\chi_U = \\chi_V \\).\r\n\r\n**Proof**\r\n</markdown>",
    "Q": "Q: If \\( f : X \\to Y \\), \\( g : Y \\to Z \\), and \\( h : Z \\to W \\) are functions, can we define a new function \\( k : X \\to W \\) such that \\( k(x) = h(g(f(x))) \\) in terms of the composition of functions? ",
    "A": " A: Yes, we can define \\( k \\) as \\( k = h \\circ g \\circ f \\), which utilizes the associative property of function composition."
  },
  {
    "page": 144,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Exercise 3.1.29\r\n\r\nProve parts (b) and (c) of [Theorem 3.1.28](#).\r\n\r\nTheorem 3.1.28 can be used in conjunction with [Strategy 3.1.27](#) to prove set theoretic identities using their characteristic functions.\r\n\r\n### Example 3.1.30\r\n\r\nIn [Example 2.2.16](#) we proved that \\( X \\cap (Y \\cup Z) = (X \\cap Y) \\cup (X \\cap Z) \\) for all sets \\( X, Y \\) and \\( Z \\). We prove this again using characteristic functions, considering \\( X, Y \\) and \\( Z \\) as subsets of a universal set \\( U \\).\r\n\r\nSo let \\( a \\in U \\). Then\r\n\r\n\\[\r\n\\begin{align*}\r\n\\chi_{X \\cap (Y \\cup Z)}(a) &= \\chi_X(a) \\chi_{Y \\cup Z}(a) & \\text{by Theorem 3.1.28(a)} \\\\\r\n&= \\chi_X(a) (\\chi_Y(a) + \\chi_Z(a) - \\chi_Y(a) \\chi_Z(a)) & \\text{by Theorem 3.1.28(b)} \\\\\r\n&= \\chi_X(a) \\chi_Y(a) + \\chi_X(a) \\chi_Z(a) - \\chi_X(a) \\chi_Y(a) \\chi_Z(a) & \\text{rearranging} \\\\\r\n&= \\chi_X(a) \\chi_Y(a) + \\chi_X(a) \\chi_Z(a) - \\chi_X(a)^2 \\chi_Y(a) \\chi_Z(a) & \\text{since } \\chi_X(a)^2 = \\chi_X(a) \\\\\r\n&= \\chi_{X \\cap Y}(a) + \\chi_{X \\cap Z}(a) - \\chi_{X \\cap Y}(a) \\chi_{X \\cap Z}(a) & \\text{by Theorem 3.1.28(a)} \\\\\r\n&= \\chi_{(X \\cap Y) \\cup (X \\cap Z)}(a) & \\text{by Theorem 3.1.28(b)}\r\n\\end{align*}\r\n\\]\r\n\r\nUsing [Strategy 3.1.27](#), it follows that \\( X \\cap (Y \\cup Z) = (X \\cap Y) \\cup (X \\cap Z) \\).\r\n\r\n### Exercise 3.1.31\r\n\r\nUse characteristic functions to prove de Morgan’s laws for pairwise unions and intersections ([Theorem 2.2.31](#)).\r\n\r\n### Images and Preimages\r\n\r\n#### Definition 3.1.32\r\n\r\nLet \\( f : X \\to Y \\) be a function and let \\( U \\subseteq X \\). The **image of** \\( U \\) **under** \\( f \\) is the subset \\( f[U] \\subseteq Y \\) (also written \\( f_*(U) \\) or even just \\( f(U) \\)) is defined by\r\n\r\n\\[\r\nf[U] = \\{ f(x) \\mid x \\in U \\} = \\{ y \\in Y \\mid \\exists x \\in U, y = f(x) \\}\r\n\\]\r\n\r\nThat is, \\( f[U] \\) is the set of values that the function \\( f \\) takes when given inputs from \\( U \\).\r\n\r\nThe **image of** \\( f \\) is the image of the entire domain, i.e. the set \\( f[X] \\).\r\n\r\n#### Example 3.1.33\r\n\r\nLet \\( f : \\mathbb{R} \\to \\mathbb{R} \\) be defined by \\( f(x) = x^2 \\). The image of \\( f \\) is the set \\( \\mathbb{R}^{\\geq 0} \\) of all nonnegative real numbers. Let’s prove this:\r\n</markdown>",
    "Q": "Q: Let \\( f : \\mathbb{R} \\to \\mathbb{R} \\) be defined by \\( f(x) = x^2 \\). What is the image of the set \\( U = [-1, 1] \\) under the function \\( f \\)? ",
    "A": " A: The image of the set \\( U = [-1, 1] \\) under the function \\( f \\) is the set \\( f[U] = [0, 1] \\)."
  },
  {
    "page": 145,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n- \\( f[\\mathbb{R}] \\subseteq \\mathbb{R}^{\\geq 0} \\). Let \\( y \\in f[\\mathbb{R}] \\). Then \\( y = x^2 \\) for some \\( x \\in \\mathbb{R} \\). But \\( x^2 \\geq 0 \\), so we must have \\( y \\in \\mathbb{R}^{\\geq 0} \\), as required.\r\n\r\n- \\( \\mathbb{R}^{\\geq 0} \\subseteq f[\\mathbb{R}] \\). Let \\( y \\in \\mathbb{R}^{\\geq 0} \\). Then \\(\\sqrt{y} \\in \\mathbb{R}\\), and \\( y = (\\sqrt{y})^2 = f(\\sqrt{y}) \\). Hence \\( y \\in f[\\mathbb{R}] \\), as required.\r\n\r\nWe have shown by double containment that \\( f[\\mathbb{R}] = \\mathbb{R}^{\\geq 0} \\).\r\n\r\n### Exercise 3.1.34\r\nFor each of the following functions \\( f \\) and subsets \\( U \\) of their domain, describe the image \\( f[U] \\).\r\n\r\n(a) \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) defined by \\( f(n) = 3n \\), with \\( U = \\mathbb{N} \\);\r\n\r\n(b) \\( f : X \\to X \\times X \\times X \\) (where \\( X \\) is any set) defined by \\( f(x) = (x, x) \\) with \\( U = X \\);\r\n\r\n(c) \\( f : \\{a, b, c\\} \\to \\{1, 2, 3\\} \\) defined by \\( f(a) = 1 \\), \\( f(b) = 3 \\) and \\( f(c) = 1 \\), with \\( U = \\{a, b, c\\} \\).\r\n\r\n### Exercise 3.1.35\r\nProve that \\( f[\\emptyset] = \\emptyset \\) for all functions \\( f \\).\r\n\r\n### Example 3.1.36\r\nLet \\( f : X \\to Y \\) be a function and let \\( U, V \\subseteq X \\). Then \\( f[U \\cap V] \\subseteq f[U] \\cap f[V] \\). To see this, let \\( y \\in f[U \\cap V] \\). Then \\( y = f(x) \\) for some \\( x \\in U \\cap V \\). By definition of intersection, \\( x \\in U \\) and \\( x \\in V \\). Since \\( x \\in U \\) and \\( y = f(x) \\), we have \\( y \\in f[U] \\); likewise, since \\( x \\in V \\), we have \\( y \\in f[V] \\). But then by definition of intersection, we have \\( y \\in f[U] \\cap f[V] \\).\r\n\r\n### Exercise 3.1.37\r\nLet \\( f : X \\to Y \\) be a function and let \\( U, V \\subseteq X \\). We saw in Example 3.1.36 that \\( f[U \\cap V] \\subseteq f[U] \\cap f[V] \\). Determine which of the following is true, and for each, provide a proof of its truth or falsity:\r\n\r\n(a) \\( f[U] \\cap f[V] \\subseteq f[U \\cap V] \\);\r\n\r\n(b) \\( f[U \\cup V] \\subseteq f[U] \\cup f[V] \\);\r\n\r\n(c) \\( f[U] \\cup f[V] \\subseteq f[U \\cup V] \\).\r\n</markdown>",
    "Q": "Q: If \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) is defined by \\( f(n) = 3n \\), describe the image \\( f[\\mathbb{Z}] \\) and show that it is a subset of \\( f[\\mathbb{N}] \\). ",
    "A": " A: The image \\( f[\\mathbb{Z}] = \\{3n \\mid n \\in \\mathbb{Z}\\} = \\mathbb{Z} \\) (the set of all integers) since \\( n \\) can take any integer value. The image \\( f[\\mathbb{N}] = \\{3n \\mid n \\in \\mathbb{N}\\} = 3\\mathbb{N} \\) (the set of positive multiples of 3), which is a subset of \\( f[\\mathbb{Z}] \\) because every positive integer can also be represented as \\( 3n \\) for some \\( n \\in \\mathbb{Z} \\)."
  },
  {
    "page": 146,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n### Definition 3.1.38\r\n\r\nLet \\( f : X \\to Y \\) be a function and let \\( V \\subseteq Y \\). The **preimage of \\( V \\) under \\( f \\)** is the subset \\( f^{-1}[V] \\) (LaTeX code: `f^{-1}`) (also written \\( f^*(V) \\) (LaTeX code: `f^*`), or just \\( f^{-1}(V) \\)) is defined by\r\n\r\n\\[\r\nf^{-1}[V] = \\{ x \\in X \\mid f(x) \\in V \\} = \\{ x \\in X \\mid \\exists y \\in V, f(x) = y \\}\r\n\\]\r\n\r\nThat is, \\( f^{-1}[V] \\) is the set of all the elements of its domain \\( X \\) that the function \\( f \\) sends to elements of \\( V \\).\r\n\r\n### Example 3.1.39\r\n\r\nLet \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) be the function defined by \\( f(x) = x^2 \\) for all \\( x \\in X \\). Then\r\n\r\n- \\( f^{-1}[\\{1, 4, 9\\}] = \\{-3, -2, -1, 1, 2, 3\\} \\);\r\n- \\( f^{-1}[\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}] = \\{-3, -2, -1, 1, 2, 3\\} \\) too, since the other elements of \\([9]\\) are not perfect squares, and hence not of the form \\( f(x) \\) for \\( x \\in \\mathbb{Z} \\);\r\n- \\( f^{-1}[\\mathbb{N}] = \\mathbb{Z} \\), since for any \\( x \\in \\mathbb{Z} \\) we have \\( f(x) \\geq 0 \\), so that \\( f(x) \\in \\mathbb{N} \\).\r\n\r\n### Example 3.1.40\r\n\r\nLet \\( f : X \\to Y \\) be a function, let \\( U \\subseteq X \\) and let \\( V \\subseteq Y \\). Then \\( f[U] \\subseteq V \\) if and only if \\( U \\subseteq f^{-1}[V] \\). The proof is as follows.\r\n\r\n(⇒). Suppose \\( f[U] \\subseteq V \\); we’ll prove \\( U \\subseteq f^{-1}[V] \\). So fix \\( x \\in U \\). Then \\( f(x) \\in f[U] \\) by definition of image. But then \\( f(x) \\in V \\) by our assumption that \\( f[U] \\subseteq V \\), and so \\( x \\in f^{-1}[V] \\) by definition of preimage. Since \\( x \\) was arbitrarily chosen from \\( U \\), it follows that \\( U \\subseteq f^{-1}[V] \\).\r\n\r\n(⇐). Suppose \\( U \\subseteq f^{-1}[V] \\); we’ll prove \\( f[U] \\subseteq V \\). So fix \\( y \\in f[U] \\). Then \\( y = f(x) \\) for some \\( x \\in U \\) by definition of image. But then \\( x \\in f^{-1}[V] \\) by our assumption that \\( U \\subseteq f^{-1}[V] \\), and so \\( f(x) \\in V \\) by definition of preimage. But \\( y = f(x) \\), so \\( y \\in V \\), and since \\( y \\) was arbitrarily chosen, it follows that \\( f[U] \\subseteq V \\).\r\n\r\nThe following exercise demonstrates that preimages interact very nicely with the basic set operations (intersection, union and relative complement):\r\n\r\n### Exercise 3.1.41\r\n\r\nLet \\( f : X \\to Y \\) be a function. Prove that \\( f^{-1}[\\emptyset] = \\emptyset \\) and \\( f^{-1}[Y] = X \\).\r\n\r\n### Exercise 3.1.42\r\n\r\nLet \\( X \\) be a set. Prove that every function \\( f : X \\to \\{0, 1\\} \\) is the characteristic function of the subset \\( f^{-1}[\\{1\\}] \\subseteq X \\).\r\n</markdown>",
    "Q": "Q: If \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) is defined by \\( f(x) = x^2 \\), what is the preimage of the set \\( V = \\{0\\} \\) under \\( f \\)?   \r\n",
    "A": "  \r\nA: The preimage \\( f^{-1}[\\{0\\}] \\) is the set \\( \\{0\\} \\), since \\( f(0) = 0^2 = 0 \\) and no other integer \\( x \\) satisfies \\( f(x) = 0 \\)."
  },
  {
    "page": 147,
    "title": "I Core Concepts/3 Functions/3.1 Functions",
    "content": "<markdown>\r\n## TL;DR — summary of Section 3.1\r\n\r\n### Functions and graphs\r\n\r\n**3.1.1** A *function* \\( f \\) from a set \\( X \\) (called the *domain*) to a set \\( Y \\) (called the *codomain*) assigns to each \\( x \\in X \\) a unique element \\( f(x) \\in Y \\); we write \\( f : X \\to Y \\) to mean that \\( f \\) is a function from \\( X \\) to \\( Y \\).\r\n\r\n**3.1.4** Two functions are equal if and only if they have the same domain and codomain and the same values at all arguments.\r\n\r\n**3.1.6** The *graph* of a function \\( f : X \\to Y \\) is \\( \\text{Gr}(f) = \\{(x, f(x)) \\mid x \\in X\\} \\subseteq X \\times Y \\). Two functions \\( f, g : X \\to Y \\) are equal if and only if they have the same graph.\r\n\r\n### Composition of functions\r\n\r\n**3.1.18** The *composite* of \\( f : X \\to Y \\) and \\( g : Y \\to Z \\) is the function \\( g \\circ f : X \\to Z \\) defined by \\( (g \\circ f)(x) = g(f(x)) \\) for all \\( x \\in X \\).\r\n\r\n### Characteristic functions\r\n\r\n**3.1.24** The *characteristic function* of a subset \\( U \\subseteq X \\) is the function \\( \\chi_U : X \\to \\{0, 1\\} \\) defined by, for each \\( a \\in X \\), letting \\( \\chi_U(a) = 1 \\) if \\( a \\in U \\), and \\( \\chi_U(a) = 0 \\) otherwise.\r\n\r\n**3.1.26** Two subsets of a fixed set are equal if and only if they have equal characteristic functions.\r\n\r\n**3.1.28** The characteristic functions of intersections, unions and relative complements of subsets \\( U, V \\subseteq X \\) can be expressed in terms of \\( \\chi_U \\) and \\( \\chi_V \\) using arithmetic operations; this gives us another way of proving set identities.\r\n\r\n### Images and preimages\r\n\r\n**3.1.32** The *image* of a subset \\( U \\subseteq X \\) under a function \\( f : X \\to Y \\) is the subset \\( f[U] = \\{f(x) \\mid x \\in U\\} \\subseteq Y \\). The *image* of \\( f \\) is the subset \\( f[X] \\subseteq Y \\).\r\n\r\n**3.1.38** The *preimage* of a subset \\( V \\subseteq Y \\) under a function \\( f : X \\to Y \\) is the subset \\( f^{-1}[V] = \\{x \\in X \\mid f(x) \\in Y\\} \\subseteq X \\).\r\n</markdown>",
    "Q": "Q: If \\( f: X \\to Y \\) is a function defined by \\( f(x) = 2x + 3 \\) for all \\( x \\in X \\) and \\( U = \\{1, 2, 3\\} \\), what is the image \\( f[U] \\)? ",
    "A": " A: The image \\( f[U] = \\{f(1), f(2), f(3)\\} = \\{5, 7, 9\\} \\)."
  },
  {
    "page": 149,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\nIt is a property of this function—called *injectivity*—that allows us to deduce that there are more dots than stars.\r\n\r\nIntuitively, a function \\( f : X \\to Y \\) is injective if it puts the elements of \\( X \\) in one-to-one correspondence with the elements of a subset of \\( Y \\)—just like how the stars are in one-to-one correspondence with a subset of the dots in the example above.\r\n\r\n### Definition 3.2.1\r\nA function \\( f : X \\to Y \\) is **injective** (or one-to-one) if\r\n\r\n\\[\r\n\\forall a, b \\in X, f(a) = f(b) \\Rightarrow a = b\r\n\\]\r\n\r\nAn injective function is said to be an **injection**.\r\n\r\n### Strategy 3.2.2 (Proving a function is injective)\r\nIn order to prove that a function \\( f : X \\to Y \\) is injective, it suffices to fix \\( a, b \\in X \\), assume that \\( f(a) = f(b) \\), and then derive \\( a = b \\).\r\n\r\nBy contraposition, \\( f : X \\to Y \\) being injective is equivalent to saying, for all \\( a, b \\in X \\), if \\( a \\neq b \\), then \\( f(a) \\neq f(b) \\). This is usually less useful for proving that a function is injective, but it does provide a good intuition—it says that \\( f \\) sends distinct inputs to distinct outputs.\r\n\r\nThe following is a very simple example from elementary arithmetic:\r\n\r\n### Example 3.2.3\r\nDefine \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) by letting \\( f(x) = 2n + 1 \\) for all \\( n \\in \\mathbb{Z} \\). We’ll prove that \\( f \\) is injective. Fix \\( m, n \\in \\mathbb{Z} \\), and assume that \\( f(m) = f(n) \\). By definition of \\( f \\), we have \\( 2m + 1 = 2n + 1 \\). Subtracting 1 yields \\( 2m = 2n \\), and dividing by 2 yields \\( m = n \\). Hence \\( f \\) is injective. \r\n\r\nThe following example is slightly more sophisticated.\r\n\r\n### Proposition 3.2.4\r\nLet \\( f : X \\to Y \\) and \\( g : Y \\to Z \\) be functions. If \\( f \\) and \\( g \\) are injective, then \\( g \\circ f \\) is injective.\r\n\r\n**Proof**\r\n\r\nSuppose that \\( f \\) and \\( g \\) are injective and let \\( a, b \\in X \\). We need to prove that\r\n\r\n\\[\r\n(g \\circ f)(a) = (g \\circ f)(b) \\Rightarrow a = b\r\n\\]\r\n\r\nSo assume \\( (g \\circ f)(a) = (g \\circ f)(b) \\). By definition of function composition, this implies that \\( g(f(a)) = g(f(b)) \\). By injectivity of \\( g \\), we have \\( f(a) = f(b) \\); and by injectivity of \\( f \\), we have \\( a = b \\).\r\n\\end{proof}\r\n</markdown>",
    "Q": "Q: If the function \\( f : \\mathbb{Z} \\to \\mathbb{Z} \\) is defined by \\( f(x) = 3x + 2 \\), prove that \\( f \\) is injective. ",
    "A": " A: To prove that \\( f \\) is injective, we assume \\( f(m) = f(n) \\). Then \\( 3m + 2 = 3n + 2 \\). Subtracting 2 gives \\( 3m = 3n \\). Dividing by 3 yields \\( m = n \\). Thus, \\( f \\) is injective."
  },
  {
    "page": 150,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Exercise 3.2.5\r\nLet \\( f : X \\to Y \\) and \\( g : Y \\to Z \\) be functions. Prove that if \\( g \\circ f \\) is injective, then \\( f \\) is injective.\r\n\r\n### Exercise 3.2.6\r\nWrite out what it means to say a function \\( f : X \\to Y \\) is not injective, and say how you would prove that a given function is not injective. Give an example of a function which is not injective, and use your proof technique to write a proof that it is not injective.\r\n\r\n### Exercise 3.2.7\r\nFor each of the following functions, determine whether it is injective or not injective.\r\n\r\n- \\( f : \\mathbb{N} \\to \\mathbb{Z} \\), defined by \\( f(n) = n^2 \\) for all \\( n \\in \\mathbb{N} \\).\r\n- \\( g : \\mathbb{Z} \\to \\mathbb{N} \\), defined by \\( g(n) = n^2 \\) for all \\( n \\in \\mathbb{Z} \\).\r\n- \\( h : \\mathbb{N} \\times \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\), defined by \\( h(x,y,z) = 2^x \\cdot 3^y \\cdot 5^z \\) for all \\( x,y,z \\in \\mathbb{N} \\).\r\n\r\n### Exercise 3.2.8\r\nLet \\( a, b \\in \\mathbb{R} \\) with \\( b \\neq 0 \\), and define \\( f : \\mathbb{R} \\to \\mathbb{R} \\) by \\( f(t) = a + bt \\) for all \\( t \\in \\mathbb{R} \\). Prove that \\( f \\) is injective.\r\n\r\n## Surjectivity\r\n\r\nLet’s revisit the rows of dots and stars that we saw earlier. Beforehand, we made our idea that there are more dots than stars formal by proving the existence of an injection \\( f : S \\to D \\) from the set \\( S \\) of stars to the set \\( D \\) of dots.\r\n\r\nHowever, we could have drawn the same conclusion instead from defining a function \\( D \\to S \\), which in some sense covers the stars with dots—that is, every star is paired up with at least one dot.\r\n\r\nThis property is called surjectivity—a function \\( f : X \\to Y \\) is surjective if every element of \\( Y \\) is a value of \\( f \\). This is made precise in [Definition 3.2.9](#).\r\n</markdown>",
    "Q": "Q: If \\( f : X \\to Y \\) is not injective, what can be said about the composition \\( g \\circ f \\) for any function \\( g : Y \\to Z \\)? ",
    "A": " A: If \\( f \\) is not injective, it is possible for \\( g \\circ f \\) to be injective, but we cannot conclude \\( g \\circ f \\) is injective without additional information about \\( g \\)."
  },
  {
    "page": 151,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Definition 3.2.9\r\nA function \\( f : X \\to Y \\) is **surjective** (or onto) if\r\n\r\n\\[\r\n\\forall y \\in Y, \\ \\exists x \\in X, \\ f(x) = y\r\n\\]\r\n\r\nA surjective function is said to be a **surjection**.\r\n\r\n### Strategy 3.2.10\r\nTo prove that a function \\( f : X \\to Y \\) is surjective, it suffices to take an arbitrary element \\( y \\in Y \\) and, in terms of \\( y \\), find an element \\( x \\in X \\) such that \\( f(x) = y \\).\r\n\r\nIn order to find \\( x \\), it is often useful to start from the equation \\( f(x) = y \\) and derive some possible values of \\( x \\). But be careful—in order to complete the proof, it is necessary to verify that the equation \\( f(x) = y \\) is true for the chosen value of \\( x \\).\r\n\r\n### Example 3.2.11\r\nFix \\( n \\in \\mathbb{N} \\) with \\( n > 0 \\), and define a function \\( r : \\mathbb{Z} \\to \\{0, 1, \\ldots, n-1\\} \\) by letting \\( r(a) \\) be the remainder of \\( a \\) when divided by \\( n \\) (see Theorem 0.18). This function is surjective, since for each \\( k \\in \\{0, 1, \\ldots, n-1\\} \\) we have \\( r(k) = k \\).\r\n\r\n### Exercise 3.2.12\r\nFor each of the following pairs of sets \\( (X, Y) \\), determine whether the function \\( f : X \\to Y \\) defined by \\( f(x) = 2x + 1 \\) is surjective.\r\n\r\n(a) \\( X = \\mathbb{Z} \\) and \\( Y = \\{x \\in \\mathbb{Z} \\mid x \\text{ is odd}\\} \\);\r\n\r\n(b) \\( X = \\mathbb{Z} \\) and \\( Y = \\mathbb{Z} \\);\r\n\r\n(c) \\( X = \\mathbb{Q} \\) and \\( Y = \\mathbb{Q} \\);\r\n\r\n(d) \\( X = \\mathbb{R} \\) and \\( Y = \\mathbb{R} \\).\r\n\r\n### Exercise 3.2.13\r\nLet \\( f : X \\to Y \\) be a function. Find a subset \\( V \\subseteq Y \\) and a surjection \\( g : X \\to V \\) agreeing with \\( f \\) (that is, such that \\( g(x) = f(x) \\) for all \\( x \\in X \\)).\r\n\r\n### Exercise 3.2.14\r\nLet \\( f : X \\to Y \\) be a function. Prove that \\( f \\) is surjective if and only if \\( Y = f[X] \\).\r\n\r\n### Exercise 3.2.15\r\nLet \\( f : X \\to Y \\) be a function. Prove that there is a set \\( Z \\) and functions\r\n\r\n\\[\r\np : X \\to Z \\quad \\text{and} \\quad i : Z \\to Y\r\n\\]\r\n\r\nsuch that \\( p \\) is surjective, \\( i \\) is injective, and \\( f = i \\circ p \\).\r\n</markdown>",
    "Q": "Q: For the function \\( f : \\mathbb{Z} \\to \\{x \\in \\mathbb{Z} \\mid x \\text{ is odd}\\} \\) defined by \\( f(x) = 2x + 1 \\), demonstrate that it is surjective by showing that for any odd integer \\( y \\), there exists an integer \\( x \\) such that \\( f(x) = y \\). ",
    "A": " A: Let \\( y \\) be an arbitrary odd integer. We can express \\( y \\) as \\( y = 2k + 1 \\) for some integer \\( k \\). Setting \\( x = k \\), we have \\( f(x) = 2k + 1 = y \\). Therefore, for every odd integer \\( y \\), we can find an integer \\( x \\) (specifically \\( x = \\frac{y - 1}{2} \\)) such that \\( f(x) = y\\), proving that \\( f \\) is surjective."
  },
  {
    "page": 152,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Exercise 3.2.16\r\nLet \\( f : X \\to \\mathcal{P}(X) \\) be a function. By considering the set \\( B = \\{ x \\in X \\mid x \\not\\in f(x) \\} \\), prove that \\( f \\) is not surjective.\r\n\r\n## Bijectivity\r\n\r\nBijective functions formalise the idea of putting sets into one-to-one correspondence—each element of one set is paired with exactly one element of another.\r\n\r\n✦ **Definition 3.2.17**  \r\nA function \\( f : X \\to Y \\) is **bijective** if it is injective and surjective. A bijective function is said to be a **bijection**.\r\n\r\n❖ **Proof tip**  \r\nTo prove that a function \\( f \\) is bijective, prove that it is injective and surjective.\r\n\r\n✐ **Example 3.2.18**  \r\nLet \\( D \\subseteq \\mathbb{Q} \\) be the set of **dyadic rational numbers**, that is\r\n\r\n\\[\r\nD = \\left\\{ x \\in \\mathbb{Q} \\mid x = \\frac{a}{2^n} \\text{ for some } a \\in \\mathbb{Z} \\text{ and } n \\in \\mathbb{N} \\right\\}\r\n\\]\r\n\r\nLet \\( k \\in \\mathbb{N} \\), and define \\( f : D \\to D \\) by \\( f(x) = \\frac{x}{2^k} \\). We will prove that \\( f \\) is a bijection.\r\n\r\n- **(Injectivity)** Fix \\( x, y \\in D \\) and suppose that \\( f(x) = f(y) \\). Then \\( \\frac{x}{2^k} = \\frac{y}{2^k} \\), so that \\( x = y \\), as required.\r\n\r\n- **(Surjectivity)** Fix \\( y \\in D \\). We need to find \\( x \\in D \\) such that \\( f(x) = y \\). Well certainly if \\( 2^k y \\in D \\) then we have\r\n\r\n  \\[\r\n  f(2^k y) = \\frac{2^k y}{2^k} = y\r\n  \\]\r\n\r\n  so it suffices to prove that \\( 2^k y \\in D \\). Since \\( y \\in D \\), we must have \\( y = \\frac{a}{2^n} \\) for some \\( n \\in \\mathbb{N} \\).\r\n\r\n  - If \\( k \\leq n \\) then \\( n - k \\in \\mathbb{N} \\) and so \\( 2^k y = \\frac{a}{2^{n-k}} \\in D \\).\r\n  - If \\( k > n \\) then \\( k - n > 0 \\) and \\( 2^k y = 2^{k-n} a \\in \\mathbb{Z} \\); but \\( \\mathbb{Z} \\subseteq D \\) since if \\( a \\in \\mathbb{Z} \\) then \\( a = \\frac{a}{2^0} \\).\r\n\r\n  So again we have \\( 2^k y \\in D \\).\r\n\r\nIn both cases we have \\( 2^k y \\in D \\); and \\( f(2^k y) = y \\), so that \\( f \\) is surjective.\r\n\r\nSince \\( f \\) is both injective and surjective, it is bijective.\r\n\r\n✎ **Exercise 3.2.19**  \r\nLet \\( X \\) be a set. Prove that the identity function \\( \\text{id}_X : X \\to X \\) is a bijection.\r\n\r\n✎ **Exercise 3.2.20**  \r\nLet \\( f : X \\to Y \\) and \\( g : Y \\to Z \\) be bijections. Prove that \\( g \\circ f \\) is a bijection.\r\n</markdown>",
    "Q": "Q: Given a function \\( f : X \\to \\mathcal{P}(X) \\) and the set \\( B = \\{ x \\in X \\mid x \\not\\in f(x) \\} \\), how can you show that there exists an element in \\( B \\) that cannot be an image of any element in \\( X \\) under \\( f \\)? ",
    "A": " A: Consider any element \\( b \\in B \\). By definition of \\( B \\), we have \\( b \\not\\in f(b) \\). Thus, there cannot be a \\( x \\in X \\) such that \\( f(x) = b \\), establishing that \\( f \\) is not surjective."
  },
  {
    "page": 153,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n## Inverses\r\n\r\nOur next goal is to characterise injections, surjections and bijections in terms of other functions, called inverses.\r\n\r\nRecall [Definition 3.2.1](#), which says that a function \\( f : X \\to Y \\) is injective if, for all \\( a, b \\in X \\), if \\( f(a) = f(b) \\) then \\( a = b \\).\r\n\r\n### Exercise 3.2.21\r\nLet \\( f : X \\to Y \\) be a function. Prove that \\( f \\) is injective if and only if\r\n\r\n\\[\r\n\\forall y \\in f[X], \\exists! x \\in X, y = f(x)\r\n\\]\r\n\r\nThinking back to [Section 3.1](#), you might notice that this means that the logical formula ‘\\( y = f(x) \\)’ defines a function \\( f[X] \\to X \\)—specifically, if \\( f \\) is injective then there is a function \\( g : f[X] \\to X \\) which is (well-)defined by specifying \\( x = g(f(x)) \\) for all \\( x \\in X \\). Thinking of \\( f \\) as an encoding function, we then have that \\( g \\) is the corresponding decoding function—decoding is possible by injectivity of \\( f \\). (If \\( f \\) were not injective then distinct elements of \\( X \\) might have the same encoding, in which case we’re stuck if we try to decode them!)\r\n\r\n### Exercise 3.2.22\r\nDefine a function \\( e : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) by \\( e(m,n) = 2^m \\cdot 3^n \\). Prove that \\( e \\) is injective. We can think of \\( e \\) as encoding pairs of natural numbers as single natural numbers—for example, the pair \\( (4, 1) \\) is encoded as \\( 2^4 \\cdot 3^1 = 48 \\). For each of the following natural numbers \\( k \\), find the pairs of natural numbers encoded by \\( e \\) as \\( k \\):\r\n\r\n\\[\r\n1 \\quad 24 \\quad 7776 \\quad 59049 \\quad 396718580736\r\n\\]\r\n\r\nIn [Exercise 3.2.22](#), we were able to decode any natural number of the form \\( 2^m \\cdot 3^n \\) for \\( m, n \\in \\mathbb{N} \\). This process of decoding yields a function\r\n\r\n\\[\r\nd : \\{k \\in \\mathbb{N} \\mid k = 2^m \\cdot 3^n \\text{ for some } m, n \\in \\mathbb{N}\\} \\to \\mathbb{N} \\times \\mathbb{N}\r\n\\]\r\n\r\nWhat would happen if we tried to decode a natural number not of the form \\( 2^m \\cdot 3^n \\) for \\( m, n \\in \\mathbb{N} \\), say 5 or 100? Well… it doesn’t really matter! All we need to be true is that \\( d(e(m,n)) = (m,n) \\) for all \\( (m,n) \\in \\mathbb{N} \\times \\mathbb{N} \\); the value of \\( d \\) on other natural numbers is irrelevant.\r\n\r\n### Definition 3.2.23\r\nLet \\( f : X \\to Y \\) be a function. A left inverse (or post-inverse) for \\( f \\) is a function \\( g : Y \\to X \\) such that \\( g \\circ f = \\text{id}_X \\).\r\n</markdown>",
    "Q": "Q: Given a function \\( f : X \\to Y \\) that is injective, if \\( g : Y \\to X \\) is a left inverse of \\( f \\), what can be concluded about \\( g \\) in terms of injectivity and surjectivity? ",
    "A": " A: Since \\( g \\) is a left inverse of \\( f \\), it must also be injective. However, \\( g \\) is not necessarily surjective because it may not cover all elements in \\( Y \\) if \\( f \\) is not surjective."
  },
  {
    "page": 154,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Example 3.2.24\r\n\r\nLet \\( e : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) be as in Exercise 3.2.22. Define a function \\( d : \\mathbb{N} \\to \\mathbb{N} \\times \\mathbb{N} \\) by\r\n\r\n\\[\r\nd(k) = \r\n\\begin{cases} \r\n(m, n) & \\text{if } k = 2^m \\cdot 3^n \\text{ for some } m, n \\in \\mathbb{N} \\\\\r\n(0, 0) & \\text{otherwise}\r\n\\end{cases}\r\n\\]\r\n\r\nNote that \\( d \\) is well-defined by the fundamental theorem of arithmetic (Theorem 7.2.12). Moreover, given \\( m, n \\in \\mathbb{N} \\), we have\r\n\r\n\\[\r\nd(e(m, n)) = d(2^m \\cdot 3^n) = (m, n)\r\n\\]\r\n\r\nand so \\( d \\) is a left inverse for \\( e \\).\r\n\r\n### Exercise 3.2.25\r\n\r\nLet \\( f : X \\to Y \\) be a function. Prove that if \\( f \\) has a left inverse, then \\( f \\) is injective.\r\n\r\nExercise 3.2.25 gives us a new strategy for proving that a function is injective.\r\n\r\n### Strategy 3.2.26 (Proving a function is injective by finding a left inverse)\r\n\r\nIn order to prove that a function \\( f : X \\to Y \\) is injective, it suffices to find a function \\( g : Y \\to X \\) such that \\( g(f(x)) = x \\) for all \\( x \\in X \\).\r\n\r\nIt would be convenient if the converse to Exercise 3.2.25 were true—and it is, provided that we impose the condition that the domain of the function be inhabited.\r\n\r\n### Proposition 3.2.27\r\n\r\nLet \\( f : X \\to Y \\) be a function. If \\( f \\) is injective and \\( X \\) is inhabited, then \\( f \\) has a left inverse.\r\n\r\n**Proof**\r\n\r\nSuppose that \\( f \\) is injective and \\( X \\) is inhabited. Fix \\( x_0 \\in X \\)—note that this element exists since \\( X \\) is inhabited—and define \\( g : Y \\to X \\) as follows.\r\n\r\n\\[\r\ng(y) = \r\n\\begin{cases} \r\nx & \\text{if } y = f(x) \\text{ for some } x \\in X \\\\\r\nx_0 & \\text{otherwise}\r\n\\end{cases}\r\n\\]\r\n\r\nThe only part of the specification of \\( g \\) that might cause it to fail to be well-defined is the case when \\( y = f(x) \\) for some \\( x \\in X \\). The reason why \\( g \\) is well-defined is precisely injectivity of \\( f \\): if \\( y = f(x) \\) for some \\( x \\in X \\), then the value of \\( x \\in X \\) for which \\( y = f(x) \\) is unique. (Indeed, if \\( a \\in X \\) satisfied \\( y = f(a) \\), then we’d have \\( a = x \\) by injectivity of \\( f \\).)\r\n\r\nSo \\( g \\) is indeed well-defined. To see that \\( g \\) is a left inverse for \\( f \\), let \\( x \\in X \\). Letting \\( y = f(x) \\), we see that \\( y \\) falls into the first case in the specification of \\( g \\), so that \\( g(f(x)) = g(y) = a \\) for the value of \\( a \\in X \\) for which \\( y = f(a) \\)—but as noted above, we have \\( a = x \\) by injectivity of \\( f \\).\r\n\\end{proof}\r\n</markdown>",
    "Q": "Q: If \\( f : X \\to Y \\) is an injective function and \\( y \\in Y \\), what determines the value of \\( g(y) \\) according to the definition provided in Proposition 3.2.27? ",
    "A": " A: The value of \\( g(y) \\) is determined by the condition that \\( g(y) = x \\) if \\( y = f(x) \\) for some \\( x \\in X \\), and \\( g(y) = x_0 \\) (a fixed element of \\( X \\)) otherwise."
  },
  {
    "page": 155,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Exercise 3.2.28\r\n\r\nLet \\( f : X \\to Y \\) be a function with left inverse \\( g : Y \\to X \\). Prove that \\( g \\) is a surjection.\r\n\r\nWe established a relationship between injections and left inverses in Exercise 3.2.25 and proposition 3.2.27, so it might come as no surprise that there is a relationship between surjections and **right inverses**.\r\n\r\n### Definition 3.2.29\r\n\r\nLet \\( f : X \\to Y \\) be a function. A **right inverse** (or **pre-inverse**) for \\( f \\) is a function \\( g : Y \\to X \\) such that \\( f \\circ g = \\text{id}_Y \\).\r\n\r\n### Example 3.2.30\r\n\r\nDefine \\( f : \\mathbb{R} \\to \\mathbb{R}^{\\geq 0} \\) by \\( f(x) = x^2 \\). Note that \\( f \\) is surjective, since for each \\( y \\in \\mathbb{R}^{\\geq 0} \\) we have \\( \\sqrt{y} \\in \\mathbb{R} \\) and \\( f(\\sqrt{y}) = y \\). However \\( f \\) is not injective; for instance\r\n\r\n\\[\r\nf(-1) = 1 = f(1)\r\n\\]\r\n\r\nHere are three right inverses for \\( f \\):\r\n\r\n- The positive square root function \\( g : \\mathbb{R}^{\\geq 0} \\to \\mathbb{R} \\) defined by \\( g(y) = \\sqrt{y} \\) for all \\( y \\in \\mathbb{R}^{\\geq 0} \\). Indeed, for each \\( y \\in \\mathbb{R}^{\\geq 0} \\) we have\r\n\r\n  \\[\r\n  f(g(y)) = f(\\sqrt{y}) = (\\sqrt{y})^2 = y\r\n  \\]\r\n\r\n- The negative square root function \\( h : \\mathbb{R}^{\\geq 0} \\to \\mathbb{R} \\) defined by \\( h(y) = -\\sqrt{y} \\) for all \\( y \\in \\mathbb{R}^{\\geq 0} \\). Indeed, for each \\( y \\in \\mathbb{R}^{\\geq 0} \\) we have\r\n\r\n  \\[\r\n  f(h(y)) = f(-\\sqrt{y}) = (-\\sqrt{y})^2 = y\r\n  \\]\r\n\r\n- The function \\( k : \\mathbb{R}^{\\geq 0} \\to \\mathbb{R} \\) defined by\r\n\r\n  \\[\r\n  k(y) = \r\n  \\begin{cases} \r\n  \\sqrt{y} & \\text{if } 2n \\leq y < 2n + 1 \\text{ for some } n \\in \\mathbb{N} \\\\\r\n  -\\sqrt{y} & \\text{otherwise}\r\n  \\end{cases}\r\n  \\]\r\n\r\n  Note that \\( k \\) is well-defined, and again \\( f(k(y)) = y \\) for all \\( y \\in \\mathbb{R}^{\\geq 0} \\) since no matter what value \\( k(y) \\) takes, it is equal to either \\( \\sqrt{y} \\) or \\(-\\sqrt{y}\\).\r\n\r\nThere are many more right inverses for \\( f \\)—in fact, there are infinitely many more!\r\n\r\n### Exercise 3.2.31\r\n\r\nLet \\( f : X \\to Y \\) be a function. Prove that if \\( f \\) has a right inverse, then \\( f \\) is surjective.\r\n\r\n### Strategy 3.2.32 (Proving a function is surjective by finding a right inverse)\r\n\r\nIn order to prove that a function \\( f : X \\to Y \\) is surjective, it suffices to find a function \\( g : Y \\to X \\) such that \\( f(g(y)) = y \\) for all \\( y \\in Y \\).\r\n</markdown>",
    "Q": "Q: If \\( f : X \\to Y \\) has a surjection \\( h : Y \\to Z \\), and we know \\( f \\) has a right inverse \\( g \\), what can we conclude about \\( h \\circ f \\) in terms of surjectivity? ",
    "A": " A: The composition \\( h \\circ f : X \\to Z \\) is surjective, as \\( h \\) is a surjection and \\( f \\) is surjective due to the existence of the right inverse \\( g \\)."
  },
  {
    "page": 156,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n## Interlude: the axiom of choice\r\n\r\nIt would be convenient if the converse to Exercise 3.2.31 were true—that is, if \\( f : X \\to Y \\) is surjective, then it has a right inverse. Let’s examine what a proof of this fact would entail. The fact that \\( f : X \\to Y \\) is surjective can be expressed as\r\n\r\n\\[\r\n\\forall y \\in Y, \\exists x \\in X, f(x) = y\r\n\\]\r\n\r\nA right inverse would be a function \\( g : Y \\to X \\), so by Definition 3.1.1, it must satisfy the following condition\r\n\r\n\\[\r\n\\forall y \\in Y, \\exists! x \\in X, g(y) = x\r\n\\]\r\n\r\nThe temptation is therefore to construct \\( g : Y \\to X \\) as follows. Let \\( y \\in Y \\). By definition of surjectivity, there exists some \\( x \\in X \\) such that \\( f(x) = y \\)—define \\( g(y) \\) to be such an element \\( x \\). Then we have \\( f(g(y)) = f(x) = y \\), as required.\r\n\r\nThere is an extremely subtle—but important—issue with this construction.\r\n\r\nBy choosing \\( g(y) \\) to be a fixed element of \\( X \\) such that \\( f(x) = y \\), we are assuming ahead of time that there is a mechanism for choosing, for each \\( y \\in Y \\), a unique element of \\( f^{-1}[\\{y\\}] \\) to be the value of \\( g(y) \\). In other words we are assuming that some statement \\( R(x,y) \\) satisfies the property\r\n\r\n\\[\r\n\\forall y \\in Y, \\exists! x \\in X, [x \\in f^{-1}[\\{y\\}] \\land R(x,y)]\r\n\\]\r\n\r\nBut by Definition 3.1.1, this assumption is saying exactly that there exists a function \\( Y \\to X \\) that associates to each \\( y \\in Y \\) an element \\( x \\in X \\) such that \\( f(x) = y \\).\r\n\r\nTo state this in plainer terms: we tried to prove that there exists a right inverse for \\( f \\) by assuming that there exists a right inverse for \\( f \\). Evidently, this is not a valid proof strategy.\r\n\r\nSurprisingly, it turns out that neither the assumption that every surjection has a right inverse, nor the assumption that there exists a surjection with no right inverse, leads to a contradiction. As such, the assertion that every surjection has a right inverse is *provably unprovable*, although the proof that it is unprovable is far beyond the scope of this textbook.\r\n\r\nNonetheless, the construction of a right inverse that we gave above didn’t *feel* like we were abusing the fabric of mathematics and logic.\r\n\r\nThe essence of the proof is that if a statement of the form \\( \\forall a \\in A, \\exists b \\in B, p(a,b) \\) is true, then we should be able to define a function \\( h : A \\to B \\) such that \\( p(a,h(a)) \\) is true for all \\( a \\in A \\): the function \\( h \\) ‘chooses’ for each \\( a \\in A \\) a particular element \\( b = h(a) \\in B \\) such that \\( p(a,b) \\) is true.\r\n</markdown>",
    "Q": "Q: Given a surjective function \\( f : X \\to Y \\), explain why the existence of a right inverse \\( g : Y \\to X \\) cannot be guaranteed without the Axiom of Choice. ",
    "A": " A: The existence of a right inverse \\( g \\) implies a specific way to select a unique \\( x \\in X \\) for each \\( y \\in Y \\) such that \\( f(x) = y \\). Without the Axiom of Choice, we cannot assume there is a function that makes this selection possible, leading to the conclusion that the assumption of the existence of a right inverse may not hold."
  },
  {
    "page": 157,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\nWhat makes this possible is to **axiom of choice**, stated precisely below.\r\n\r\n### Axiom 3.2.33 (Axiom of choice)\r\nLet \\(\\{X_i \\mid i \\in I\\}\\) be a family of inhabited sets. Then there is a function \\(h : I \\to \\bigcup_{i \\in I} X_i\\) such that \\(h(i) \\in X_i\\) for each \\(i \\in I\\).\r\n\r\nThere are reasons to keep track of the axiom of choice:\r\n\r\n- The axiom of choice is perhaps the strangest assumption that we make—most of the other axioms that we have stated have been ‘evidently true’, but this is not the case for the axiom of choice;\r\n- There are fields of mathematics which require the translation of results about sets into results about other kinds of objects—knowing whether the axiom of choice is necessary to prove a result tells us whether this is possible;\r\n- The axiom of choice is highly non-constructive: if a proof of a result that does not use the axiom of choice is available, it usually provides more information than a proof of the same result that does use the axiom of choice.\r\n\r\nWith this in mind, when we need to invoke the axiom of choice to prove a result, we will mark the result with the letters AC. This can be freely ignored on first reading, but readers may find it useful when using this book as a reference at a later date.\r\n\r\n### Proposition \\(^{AC}\\) 3.2.34\r\nLet \\(X\\) and \\(Y\\) be sets and let \\(p(x,y)\\) be a logical formula with free variables \\(x \\in X\\) and \\(y \\in Y\\). If \\(\\forall x \\in X, \\, \\forall y \\in Y, \\, p(x,y)\\) is true, then there exists a function \\(h : X \\to Y\\) such that \\(\\forall x \\in X, \\, p(x,h(x))\\) is true.\r\n\r\n**Proof**  \r\nFor each \\(a \\in X\\), define \\(Y_a = \\{b \\in Y \\mid p(a,b)\\}\\). Note that \\(Y_a\\) is inhabited for each \\(a \\in X\\) by the assumption that \\(\\forall x \\in X, \\, \\exists y \\in Y, \\, p(x,y)\\) is true. Since \\(Y_a \\subseteq Y\\) for each \\(a \\in X\\), by the axiom of choice there exists a function \\(h : X \\to Y\\) such that \\(h(a) \\in Y_a\\) for all \\(a \\in X\\). But then \\(p(a,h(a))\\) is true for each \\(a \\in X\\) by definition of the sets \\(Y_a\\).\r\n\r\nIn light of Proposition 3.2.34, the axiom of choice manifests itself in proofs as the following proof strategy.\r\n\r\n### Strategy \\(^{AC}\\) 3.2.35 (Making choices)\r\nIf an assumption in a proof has the form \\(\\forall x \\in X, \\, \\exists y \\in Y, \\, p(x,y)\\), then we may make a choice, for each \\(a \\in A\\), of a particular element \\(b = b_a \\in B\\) for which \\(p(a,b)\\) is true.\r\n</markdown>",
    "Q": "Q: Given the application of the axiom of choice in Proposition \\(^{AC}\\) 3.2.34, what can we conclude if \\(\\forall x \\in X, \\, \\exists y \\in Y, \\, p(x,y)\\) holds true? ",
    "A": " A: If \\(\\forall x \\in X, \\, \\exists y \\in Y, \\, p(x,y)\\) holds true, we can conclude that there exists a function \\(h : X \\to Y\\) such that \\(\\forall x \\in X, \\, p(x,h(x))\\) is true, as guaranteed by the axiom of choice."
  },
  {
    "page": 158,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n## Back to inverses\r\n\r\nWe now return to the converse of Exercise 3.2.31.\r\n\r\n### Proposition 3.2.36\r\nEvery surjection has a right inverse.\r\n\r\n**Proof**  \r\nLet \\( f : X \\to Y \\) be a surjection, and define \\( g : Y \\to X \\) as follows. Given \\( y \\in Y \\), define \\( g(y) \\) to be a particular choice of \\( x \\in X \\) such that \\( f(x) = y \\)—note that there exists such an element \\( x \\in X \\) since \\( f \\) is surjective, so \\( g \\) exists by Strategy 3.2.35. Then by definition of \\( g \\) we have \\( f(g(y)) = y \\) for all \\( y \\in Y \\), so that \\( g \\) is a surjection. □\r\n\r\nIt seems logical that we might be able to classify bijections as being those functions which have a left inverse and a right inverse. We can actually say something stronger—the left and right inverse can be taken to be the same function! (In fact, Proposition 3.2.42 establishes that they are necessarily the same function.)\r\n\r\n### Definition 3.2.37\r\nLet \\( f : X \\to Y \\) be a function. A (two-sided) inverse for \\( f \\) is a function \\( g : Y \\to X \\) which is both a left inverse and a right inverse for \\( f \\).\r\n\r\nIt is customary to simply say ‘inverse’ rather than ‘two-sided inverse’.\r\n\r\n### Example 3.2.38\r\nLet \\( D \\) be the set of dyadic rational numbers, as defined in Example 3.2.18. There, we defined a function \\( f : D \\to D \\) defined by \\( f(x) = \\frac{x}{2^k} \\) for all \\( x \\in D \\), where \\( k \\) is some fixed natural number. We find an inverse for \\( f \\).\r\n\r\nDefine \\( g : D \\to D \\) by \\( g(x) = 2^k x \\). Then\r\n\r\n- \\( g \\) is a left inverse for \\( f \\). To see this, note that for all \\( x \\in D \\) we have\r\n  \\[\r\n  g(f(x)) = g\\left(\\frac{x}{2^k}\\right) = 2^k \\cdot \\frac{x}{2^k} = x\r\n  \\]\r\n\r\n- \\( g \\) is a right inverse for \\( f \\). To see this, note that for all \\( y \\in D \\) we have\r\n  \\[\r\n  f(g(y)) = f(2^k y) = \\frac{2^k y}{2^k} = y\r\n  \\]\r\n\r\nSince \\( g \\) is a left inverse for \\( f \\) and a right inverse for \\( f \\), it is a two-sided inverse for \\( f \\).\r\n</markdown>",
    "Q": "Q: If \\( f : D \\to D \\) is defined by \\( f(x) = \\frac{x}{2^k} \\) for all \\( x \\in D \\) and \\( k \\) is a fixed natural number, what is the formula for the two-sided inverse \\( g \\) of \\( f \\)? ",
    "A": " A: The two-sided inverse \\( g \\) of \\( f \\) is given by \\( g(x) = 2^k x \\) for all \\( x \\in D \\)."
  },
  {
    "page": 159,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Exercise 3.2.39\r\n\r\nThe following functions have two-sided inverses. For each, find its inverse and prove that it is indeed an inverse.\r\n\r\n(a) \\( f : \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( f(x) = \\frac{2x+1}{3} \\).\r\n\r\n(b) \\( g : \\mathcal{P}(\\mathbb{N}) \\to \\mathcal{P}(\\mathbb{N}) \\) defined by \\( g(X) = \\mathbb{N} \\setminus X \\).\r\n\r\n(c) \\( h : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) defined by \\( h(m, n) = 2^m(2n+1) - 1 \\) for all \\( m, n \\in \\mathbb{N} \\).\r\n\r\nIn light of the correspondences between injections and left inverses, and surjections and right inverses, it may be unsurprising that there is a correspondence between bijections and two-sided inverses.\r\n\r\n### Exercise 3.2.40\r\n\r\nLet \\( f : X \\to Y \\) be a function. Then \\( f \\) is bijective if and only if \\( f \\) has an inverse.\r\n\r\n### Strategy 3.2.41 (Proving a function is bijective by finding an inverse)\r\n\r\nIn order to prove that a function \\( f : X \\to Y \\) is bijective, it suffices to find a function \\( g : Y \\to X \\) such that \\( g(f(x)) = x \\) for all \\( x \\in X \\) and \\( f(g(y)) = y \\) for all \\( y \\in Y \\).\r\n\r\nWhen proving a function \\( f : X \\to Y \\) is bijective by finding an inverse \\( g : Y \\to X \\), it is important to check that \\( g \\) is both a left inverse and a right inverse for \\( f \\). If you only prove that \\( g \\) is a left inverse for \\( f \\), for example, then you have only proved that \\( f \\) is injective!\r\n\r\nIt turns out that if a function has both a left and a right inverse, then they must be equal. This is the content of the following proposition.\r\n\r\n### Proposition 3.2.42\r\n\r\nLet \\( f : X \\to Y \\) be a function and suppose \\( \\ell : Y \\to X \\) is a left inverse for \\( f \\) and \\( r : Y \\to X \\) is a right inverse for \\( f \\). Then \\( \\ell = r \\).\r\n\r\n**Proof**\r\n\r\nThe proof is deceptively simple:\r\n\r\n\\[\r\n\\begin{align*}\r\n\\ell &= \\ell \\circ \\text{id}_Y & \\text{by definition of identity functions} \\\\\r\n&= \\ell \\circ (f \\circ r) & \\text{since } r \\text{ is a right inverse for } f \\\\\r\n&= (\\ell \\circ f) \\circ r & \\text{by Exercise 3.1.22} \\\\\r\n&= \\text{id}_X \\circ r & \\text{since } \\ell \\text{ is a left inverse for } f \\\\\r\n&= r & \\text{by definition of identity functions}\r\n\\end{align*}\r\n\\]\r\n</markdown>",
    "Q": "Q: Given a function \\( f : \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( f(x) = 3x - 1 \\), find its inverse and verify that it is indeed an inverse. ",
    "A": " A: The inverse function is \\( f^{-1}(y) = \\frac{y + 1}{3} \\). To verify, we check: \r\n\\[\r\nf(f^{-1}(y)) = f\\left(\\frac{y + 1}{3}\\right) = 3\\left(\\frac{y + 1}{3}\\right) - 1 = y + 1 - 1 = y \r\n\\]\r\nand \r\n\\[\r\nf^{-1}(f(x)) = f^{-1}(3x - 1) = \\frac{(3x - 1) + 1}{3} = \\frac{3x}{3} = x.\r\n\\]\r\nThus, \\( f^{-1} \\) is indeed the inverse of \\( f \\)."
  },
  {
    "page": 160,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\nThere is some intuition behind why the left and right inverses of a function \\( f : X \\to Y \\) should be equal if they both exist.\r\n\r\n- A left inverse \\(\\ell : Y \\to X\\) exists only if \\( f \\) is injective. It looks at each element \\( y \\in Y \\) and, if it is in the image of \\( f \\), returns the (unique) value \\( x \\in X \\) for which \\( f(x) = y \\).\r\n\r\n- A right inverse \\( r : Y \\to X \\) exists only if \\( f \\) is surjective. It looks at each element \\( y \\in Y \\) and picks out one of the (possibly many) values \\( x \\in X \\) for which \\( f(x) = y \\).\r\n\r\nWhen \\( f \\) is a bijection, every element of \\( Y \\) is in the image of \\( f \\) (by surjectivity), and is a value of \\( f \\) at a unique element of \\( X \\) (by injectivity), and so the left and right inverses are forced to return the same value on each input—hence they are equal.\r\n\r\nIt follows from [Proposition 3.2.42](#) that, for any function \\( f : X \\to Y \\), any two inverses for \\( f \\) are equal—that is, every bijective function has a **unique** inverse!\r\n\r\n✦ **Notation 3.2.43**  \r\nLet \\( f : X \\to Y \\) be a function. Write \\( f^{-1} : Y \\to X \\) to denote the (unique) inverse for \\( f \\), if it exists.\r\n\r\n✣ **Proposition 3.2.44**  \r\nLet \\( f : X \\to Y \\) be a bijection. A function \\( g : Y \\to X \\) is a left inverse for \\( f \\) if and only if it is a right inverse for \\( f \\).\r\n\r\n**Proof**  \r\nWe will prove the two directions separately.\r\n\r\n- (\\( \\Rightarrow \\)) Suppose \\( g : Y \\to X \\) is a left inverse for \\( f \\)—that is, \\( g(f(x)) = x \\) for all \\( x \\in X \\). We prove that \\( f(g(y)) = y \\) for all \\( y \\in Y \\), thus establishing that \\( g \\) is a right inverse for \\( f \\). So let \\( y \\in Y \\). Since \\( f \\) is a bijection, it is in particular a surjection, so there exists \\( x \\in X \\) such that \\( y = f(x) \\). But then\r\n  \\[\r\n  \\begin{align*}\r\n  f(g(y)) &= f(g(f(x))) & \\text{since } y = f(x) \\\\\r\n  &= f(x) & \\text{since } g(f(x)) = x \\\\\r\n  &= y & \\text{since } y = f(x)\r\n  \\end{align*}\r\n  \\]\r\n  So indeed \\( g \\) is a right inverse for \\( f \\).\r\n\r\n- (\\( \\Leftarrow \\)) Suppose \\( g : Y \\to X \\) is a right inverse for \\( f \\)—that is, \\( f(g(y)) = y \\) for all \\( y \\in Y \\). We prove that \\( g(f(x)) = x \\) for all \\( x \\in X \\), thus establishing that \\( g \\) is a left inverse for \\( f \\). So let \\( x \\in X \\). Letting \\( y = f(x) \\), we have \\( f(g(y)) = y \\) since \\( g \\) is a right inverse for \\( f \\). This says precisely that \\( f(g(f(x))) = f(x) \\), since \\( y = f(x) \\). By injectivity of \\( f \\), we have \\( g(f(x)) = x \\), as required.\r\n\r\n✎ **Exercise 3.2.45**  \r\nLet \\( f : X \\to Y \\) be a bijection. Prove that \\( f^{-1} : Y \\to X \\) is a bijection.\r\n</markdown>",
    "Q": "Q: If \\( f : X \\to Y \\) is a bijection and \\( g : Y \\to X \\) is defined as \\( g = f^{-1} \\), what can we conclude about the composition \\( f \\circ g \\) and \\( g \\circ f \\)? ",
    "A": " A: We can conclude that \\( f \\circ g = \\text{id}_Y \\) and \\( g \\circ f = \\text{id}_X \\), where \\( \\text{id}_Y \\) and \\( \\text{id}_X \\) are the identity functions on \\( Y \\) and \\( X \\), respectively."
  },
  {
    "page": 161,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n### Exercise 3.2.46\r\n\r\nLet \\( f : X \\to Y \\) and \\( g : Y \\to Z \\) be bijections. Prove that \\( g \\circ f : X \\to Z \\) is a bijection, and write an expression for its inverse in terms of \\( f^{-1} \\) and \\( g^{-1} \\).\r\n\r\n### Exercise 3.2.47\r\n\r\nLet \\( f : X \\to A \\) and \\( g : Y \\to B \\) be bijections. Prove that there is a bijection \\( X \\times Y \\to A \\times B \\), and describe its inverse.\r\n\r\nAt the beginning of this section we motivated the definitions of injections, surjections and bijections by using them to compare two quantities (of dots and stars)—however, as you might have noticed, we have not yet actually proved that this intuition aligns with reality. For example, how do we know that if there is an injection \\( f : X \\to Y \\) then \\( Y \\) has at least as many elements as \\( X \\)?\r\n\r\nAnswering this seemingly simple question is surprisingly difficult and has different answers depending on whether the sets involved are finite or infinite. In fact, the words ‘finite’, ‘infinite’ and ‘size’ are themselves defined in terms of injections, surjections and bijections! We therefore leave this task to future sections.\r\n\r\nIn [Section 6.1](#), we define what it means for a set to be finite and what the size of a finite set is ([Definition 6.1.1](#)), and then prove that the sizes of finite sets can be compared by finding an injection, surjection or bijection between them [Theorem 6.1.7](#).\r\n\r\nComparing the sizes of infinite sets, and even defining what ‘size’ means for infinite sets, is another can of worms entirely and leads to some fascinating mathematics. For example, we can prove some counterintuitive results, such as the set \\(\\mathbb{N}\\) of natural numbers and the set \\(\\mathbb{Q}\\) of rational numbers have the same size. The journey down this rabbit hole begins in [Chapter 10](#).\r\n</markdown>",
    "Q": "Q: If \\( f: X \\to Y \\) is an injection and \\( g: Y \\to Z \\) is a surjection, what can be inferred about the relationship between the cardinalities of sets \\( X \\), \\( Y \\), and \\( Z \\)? ",
    "A": " A: Since \\( f \\) is an injection, we can infer that the cardinality of \\( Y \\) is at least that of \\( X \\) (i.e., \\( |Y| \\geq |X| \\)). Since \\( g \\) is a surjection, it implies that the cardinality of \\( Z \\) is less than or equal to that of \\( Y \\) (i.e., \\( |Z| \\leq |Y| \\)). Thus, we can conclude \\( |Z| \\leq |Y| \\geq |X| \\)."
  },
  {
    "page": 162,
    "title": "I Core Concepts/3 Functions/3.2 Injections And Surjections",
    "content": "<markdown>\r\n## TL;DR — summary of [Section 3.2](#)\r\n\r\n### Injections, surjections and bijections\r\n\r\n**3.2.1** A function \\( f : X \\to Y \\) is **injective** if, for all \\( a, b \\in X \\), if \\( f(a) = f(b) \\), then \\( a = b \\); this is equivalent to saying that distinct elements of \\( X \\) are mapped by \\( f \\) to distinct elements of \\( Y \\).\r\n\r\n**3.2.9** A function \\( f : X \\to Y \\) is **surjective** if, for all \\( y \\in Y \\), there exists \\( x \\in X \\) such that \\( f(x) = y \\); this is equivalent to saying that the image of \\( f \\) is its entire codomain.\r\n\r\n**3.2.17** A function \\( f : X \\to Y \\) is **bijective** if it is both injective and surjective.\r\n\r\n### Inverses\r\n\r\n**3.2.23** A **left inverse** for a function \\( f : X \\to Y \\) is a function \\( g : Y \\to X \\) such that \\( g \\circ f = \\text{id}_X \\). If \\( f \\) has a left inverse, then it is injective; conversely, if \\( f \\) is injected and \\( X \\) is inhabited, then \\( f \\) has a left inverse.\r\n\r\n**3.2.29** A **right inverse** for a function \\( f : X \\to Y \\) is a function \\( g : Y \\to X \\) such that \\( f \\circ g = \\text{id}_Y \\). If \\( f \\) has a right inverse, then it is surjective; conversely, assuming the axiom of choice, if \\( f \\) is surjective, then it has a right inverse.\r\n\r\n**3.2.37** An **inverse** for a function \\( f : X \\to Y \\) is a function \\( g : Y \\to X \\) that is both a left inverse and a right inverse for \\( f \\). A function \\( f \\) is bijective if and only if it has an inverse.\r\n\r\n**3.2.42** If a function \\( f : X \\to Y \\) has both a left and a right inverse, then they are equal; in particular, every bijection has a unique inverse, denoted by \\( f^{-1} : Y \\to X \\).\r\n</markdown>",
    "Q": "Q: If a function \\( f: X \\to Y \\) is injective, what can be said about its left inverse \\( g: Y \\to X \\) in terms of the elements in \\( X \\)? ",
    "A": " A: If \\( f \\) is injective, then for all \\( a, b \\in X \\), if \\( g(f(a)) = g(f(b)) \\), it must follow that \\( a = b \\)."
  },
  {
    "page": 164,
    "title": "I Core Concepts/3 Functions/3.E Chapter 3 Exercises",
    "content": "<markdown>\r\nwhere log denotes the natural logarithm function and \\( c \\) is an arbitrary real constant. Prove that it is actually the case that\r\n\r\n\\[\r\n\\int \\frac{1}{x} \\, dx = \\log(|x|) + a \\chi_U(x) + b \\chi_V(x)\r\n\\]\r\n\r\nwhere \\( a \\) and \\( b \\) are arbitrary real constants, and \\( U \\) and \\( V \\) are particular (inhabited) subsets of \\( \\mathbb{R} \\setminus \\{0\\} \\) that you should determine.\r\n\r\n## Images and preimages\r\n\r\nIn Questions 3.11 to 3.14, find the image \\( f[U] \\) of the subset \\( U \\) of the domain of the function \\( f \\) described in the question.\r\n\r\n3.11. \\( f : \\mathbb{R} \\to \\mathbb{R}; \\ f(x) = \\sqrt{1 + x^2} \\) for all \\( x \\in \\mathbb{R}; \\ U = \\mathbb{R}. \\)\r\n\r\n3.12. \\( f : \\mathbb{Z} \\times \\mathbb{Z} \\to \\mathbb{Z}; \\ f(a, b) = a + 2b \\) for all \\( (a, b) \\in \\mathbb{Z} \\times \\mathbb{Z}; \\ U = \\{1\\} \\times \\mathbb{Z}. \\)\r\n\r\n3.13. \\( f : \\mathbb{N} \\to \\mathcal{P}(\\mathbb{N}); \\ f(0) = \\emptyset \\) and \\( f(n + 1) = f(n) \\cup \\{n\\} \\) for all \\( n \\in \\mathbb{N}; \\ U = \\mathbb{N}. \\)\r\n\r\n3.14. \\( f : \\mathbb{R}^R \\to \\mathbb{R}^R \\) (where \\( \\mathbb{R}^R \\) is the set of all functions \\( \\mathbb{R} \\to \\mathbb{R} \\); \\( f(h)(x) = h(|x|) \\) for all \\( h \\in \\mathbb{R}^R \\) and all \\( x \\in \\mathbb{R}; \\ U = \\mathbb{R}^R. \\)\r\n\r\nIn Questions 3.15 to 3.17, find the preimage \\( f^{-1}[V] \\) of the subset \\( V \\) of the codomain of the function \\( f \\) described in the question.\r\n\r\n3.15. \\( f : \\mathbb{R} \\to \\mathbb{R}; \\ f(x) = \\sqrt{1 + x^2} \\) for all \\( x \\in \\mathbb{R}; \\ V = (-5, 5]. \\)\r\n\r\n3.16. \\( f : \\mathbb{Z} \\times \\mathbb{Z} \\to \\mathbb{Z}; \\ f(a, b) = a + 2b \\) for all \\( (a, b) \\in \\mathbb{Z} \\times \\mathbb{Z}; \\ V = \\{n \\in \\mathbb{Z} \\mid n \\text{ is odd}\\}. \\)\r\n\r\n3.17. \\( f : \\mathcal{P}(\\mathbb{N}) \\times \\mathcal{P}(\\mathbb{N}) \\to \\mathcal{P}(\\mathbb{N}); \\ f(A, B) = A \\cap B \\) for all \\( (A, B) \\in \\mathcal{P}(\\mathbb{N}) \\times \\mathcal{P}(\\mathbb{N}); \\ V = \\{\\emptyset\\}. \\)\r\n\r\n3.18. Let \\( f : X \\to Y \\) be a function. For each of the following statements, either prove it is true or find a counterexample.\r\n\r\n(a) \\( U \\subseteq f^{-1}[f[U]] \\) for all \\( U \\subseteq X; \\)\r\n\r\n(b) \\( f^{-1}[f[U]] \\subseteq U \\) for all \\( U \\subseteq X; \\)\r\n\r\n(c) \\( V \\subseteq f[f^{-1}[V]] \\) for all \\( V \\subseteq Y; \\)\r\n\r\n(d) \\( f[f^{-1}[V]] \\subseteq V \\) for all \\( V \\subseteq Y. \\)\r\n\r\n3.19. Let \\( f : X \\to Y \\) be a function, let \\( A \\) be a set, and let \\( p : X \\to A \\) and \\( i : A \\to Y \\) be functions such that the following conditions hold:\r\n\r\n(i) \\( i \\) is injective;\r\n\r\n(ii) \\( i \\circ p = f; \\) and\r\n\r\n(iii) If \\( q : X \\to B \\) and \\( j : B \\to Y \\) are functions such that \\( j \\) is injective and \\( j \\circ q = f, \\) then there is a unique function \\( u : A \\to B \\) such that \\( j \\circ u = i. \\)\r\n</markdown>",
    "Q": "Q: Given the function \\( f(x) = \\frac{1}{x} \\), find the preimage \\( f^{-1}[V] \\) where \\( V = \\{y \\in \\mathbb{R} \\mid y > 0\\} \\). ",
    "A": " A: The preimage \\( f^{-1}[V] \\) is \\( \\{x \\in \\mathbb{R} \\setminus \\{0\\} \\mid x > 0\\} = (0, \\infty) \\)."
  },
  {
    "page": 165,
    "title": "I Core Concepts/3 Functions/3.E Chapter 3 Exercises",
    "content": "<markdown>\r\nProve that there is a unique bijection \\( \\nu : A \\to f[X] \\) such that \\( i(a) = \\nu(a) \\) for all \\( a \\in f[X] \\).\r\n\r\n### 3.20.\r\nLet \\( f : X \\to Y \\) be a function and let \\( U, V \\subseteq Y \\). Prove that:\r\n\r\n(a) \\( f^{-1}[U \\cap V] = f^{-1}[U] \\cap f^{-1}[V] \\);\r\n\r\n(b) \\( f^{-1}[U \\cup V] = f^{-1}[U] \\cup f^{-1}[V] \\); and\r\n\r\n(c) \\( f^{-1}[Y \\setminus U] = X \\setminus f^{-1}[U] \\).\r\n\r\nThus preimages preserve the basic set operations.\r\n\r\n### 3.21.\r\nLet \\( f : X \\to Y \\) and \\( g : Y \\to Z \\) be functions.\r\n\r\n(a) Prove that \\( (g \\circ f)[U] = g[f[U]] \\) for all \\( U \\subseteq X \\);\r\n\r\n(b) Prove that \\( (g \\circ f)^{-1}[W] = f^{-1}[g^{-1}[W]] \\) for all \\( W \\subseteq Z \\).\r\n\r\n## Injections, surjections and bijections\r\n\r\n### 3.22.\r\n(a) Prove that, for all functions \\( f : X \\to Y \\) and \\( g : Y \\to Z \\), if \\( g \\circ f \\) is bijective, then \\( f \\) is injective and \\( g \\) is surjective.\r\n\r\n(b) Find an example of a function \\( f : X \\to Y \\) and a function \\( g : Y \\to Z \\) such that \\( g \\circ f \\) is bijective, \\( f \\) is not surjective and \\( g \\) is not injective.\r\n\r\n### 3.23.\r\nFor each of the following pairs \\( (U, V) \\) of subsets of \\( \\mathbb{R} \\), determine whether the specification ‘\\( f(x) = x^2 - 4x + 7 \\) for all \\( x \\in U \\)’ defines a function \\( f : U \\to V \\) and, if it does, determine whether \\( f \\) is injective and whether \\( f \\) is surjective.\r\n\r\n(a) \\( U = \\mathbb{R} \\) and \\( V = \\mathbb{R} \\);\r\n\r\n(b) \\( U = (1, 4) \\) and \\( V = [3, 7) \\);\r\n\r\n(c) \\( U = [3, 4) \\) and \\( V = [4, 7) \\);\r\n\r\n(d) \\( U = (3, 4] \\) and \\( V = [4, 7) \\);\r\n\r\n(e) \\( U = [2, \\infty) \\) and \\( V = [3, \\infty) \\);\r\n\r\n(f) \\( U = [2, \\infty) \\) and \\( V = \\mathbb{R} \\).\r\n\r\n### 3.24.\r\nFor each of the following pairs of sets \\( X \\) and \\( Y \\), find (with proof) a bijection \\( f : X \\to Y \\).\r\n\r\n(a) \\( X = \\mathbb{Z} \\) and \\( Y = \\mathbb{N} \\);\r\n\r\n(b) \\( X = \\mathbb{R} \\) and \\( Y = (-1, 1) \\);\r\n\r\n(c) \\( X = [0, 1] \\) and \\( Y = (0, 1) \\);\r\n\r\n(d) \\( X = [a, b] \\) and \\( Y = (c, d) \\), where \\( a, b, c, d \\in \\mathbb{R} \\) with \\( a < b \\) and \\( c < d \\).\r\n</markdown>",
    "Q": "Q: Given a function \\( f: X \\to Y \\) and subsets \\( U, V \\subseteq Y \\), if \\( U \\) and \\( V \\) are non-empty, what can we say about the relationship between \\( f^{-1}[U \\cap V] \\) and \\( f^{-1}[U] \\cap f^{-1}[V] \\)? ",
    "A": " A: We can say that \\( f^{-1}[U \\cap V] = f^{-1}[U] \\cap f^{-1}[V] \\)."
  },
  {
    "page": 166,
    "title": "I Core Concepts/3 Functions/3.E Chapter 3 Exercises",
    "content": "<markdown>\r\n3.25. Prove that the function \\( f : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) defined by \\( f(a,b) = \\left( \\frac{a + b + 1}{2} \\right) + b \\) for all \\( (a,b) \\in \\mathbb{N} \\times \\mathbb{N} \\) is a bijection.\r\n\r\n3.26. Let \\( e : X \\to X \\) be a function such that \\( e \\circ e = e \\). Prove that there exist a set \\( Y \\) and functions \\( f : X \\to Y \\) and \\( g : Y \\to X \\) such that \\( g \\circ f = e \\) and \\( f \\circ g = \\text{id}_Y \\).\r\n\r\n**True–False questions**\r\n\r\nIn Questions 3.27 to 3.34, determine (with proof) whether the statement is true or false.\r\n\r\n3.27. The set \\( G = \\{(x,y) \\in \\mathbb{R} \\times \\mathbb{R} \\mid x^2 = y^2\\} \\) is the graph of a function.\r\n\r\n3.28. The set \\( G = \\{(x,y) \\in \\mathbb{Z} \\times \\mathbb{N} \\mid x^2 = y^2\\} \\) is the graph of a function.\r\n\r\n3.29. Every function with empty domain has an empty codomain.\r\n\r\n3.30. Every function with empty codomain has an empty domain.\r\n\r\n3.31. The image of a function is a subset of its domain.\r\n\r\n3.32. Given a function \\( f : X \\to Y \\), the assignment \\( V \\mapsto f^{-1}[V] \\) defines a function \\( \\mathcal{P}(Y) \\to \\mathcal{P}(X) \\).\r\n\r\n3.33. Let \\( f, g \\) and \\( h \\) be composable functions. If \\( h \\circ g \\circ f \\) is injective, then \\( g \\) is injective.\r\n\r\n3.34. Every left inverse is surjective and every right inverse is injective.\r\n\r\n**Always–Sometimes–Never questions**\r\n\r\nIn Questions 3.35 to 3.46, determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n3.35. Let \\( f : X \\to Y \\) be a function and let \\( U \\subseteq X \\). Then there is a function \\( g : U \\to Y \\) defined by \\( g(x) = f(x) \\) for all \\( x \\in U \\).\r\n\r\n3.36. Let \\( f : X \\to Y \\) be a function and let \\( V \\subseteq Y \\). Then there is a function \\( g : X \\to V \\) defined by \\( g(x) = f(x) \\) for all \\( x \\in X \\).\r\n\r\n3.37. Let \\( X \\) be a set. Then there is a unique function \\( X \\to \\{0\\} \\).\r\n\r\n3.38. Let \\( X \\) be a set. Then there is a unique function \\( X \\to \\emptyset \\).\r\n\r\n3.39. Let \\( X \\) and \\( Y \\) be sets and let \\( G \\subseteq X \\times Y \\). Then \\( G \\) is the graph of a function \\( f : X \\to Y \\).\r\n\r\n3.40. Let \\( f : \\{1, 2, 3\\} \\to \\{1, 2\\} \\), let \\( G = \\text{Gr}(f) \\) and let \\( G' = \\{(y,x) \\mid (x,y) \\in G\\} \\). Then \\( G' \\) is the graph of a function \\( \\{1, 2\\} \\to \\{1, 2, 3\\} \\).\r\n</markdown>",
    "Q": "Q: Given the function \\( f : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) defined by \\( f(a,b) = \\left( \\frac{a + b + 1}{2} \\right) + b \\), what is the image of \\( f \\) when \\( a = 0 \\) and \\( b = n \\) for \\( n \\in \\mathbb{N} \\)? ",
    "A": " A: The image of \\( f \\) when \\( a = 0 \\) and \\( b = n \\) is \\( \\frac{n + 1}{2} + n \\) which simplifies to \\( \\frac{n + 1 + 2n}{2} = \\frac{3n + 1}{2} \\)."
  },
  {
    "page": 167,
    "title": "I Core Concepts/3 Functions/3.E Chapter 3 Exercises",
    "content": "<markdown>\r\n3.41. Let \\( f : X \\to Y \\) be a function and let \\( U \\subseteq X \\) be inhabited. Then \\( f[U] \\) is inhabited.\r\n\r\n3.42. Let \\( f : X \\to Y \\) be a function and let \\( V \\subseteq Y \\) be inhabited. Then \\( f^{-1}[V] \\) is inhabited.\r\n\r\n3.43. Let \\( f : \\{1, 2\\} \\to \\{1, 2, 3\\} \\) be a function. Then \\( f \\) is injective.\r\n\r\n3.44. Let \\( f : \\{1, 2\\} \\to \\{1, 2, 3\\} \\) be a function. Then \\( f \\) is surjective.\r\n\r\n3.45. Let \\( a, b, c, d \\in \\mathbb{R} \\) and define \\( f : \\mathbb{R}^2 \\to \\mathbb{R}^2 \\) by \\( f(x, y) = (ax + by, cx + dy) \\) for all \\( (x, y) \\in \\mathbb{R}^2 \\). Then \\( f \\) is injective if and only if \\( f \\) is surjective.\r\n\r\n3.46. Let \\( U, V \\subseteq \\mathbb{R} \\) and suppose that \\( x^2 \\in V \\) for all \\( x \\in U \\). The function \\( f : U \\to V \\) defined by \\( f(x) = x^2 \\) is injective.\r\n</markdown>",
    "Q": "Q: If \\( U \\subseteq \\mathbb{R} \\) is an interval containing both positive and negative values, is the function \\( f : U \\to \\mathbb{R} \\) defined by \\( f(x) = x^2 \\) injective? ",
    "A": " A: No, the function \\( f(x) = x^2 \\) is not injective on \\( U \\) since it maps both \\( x \\) and \\( -x \\) to the same value for \\( x \\neq 0 \\)."
  },
  {
    "page": 171,
    "title": "I Core Concepts/4 Mathematical Induction/4.1 Peano'S Axioms",
    "content": "<markdown>\r\nof natural numbers we use, since any two notions are essentially the same. We will not worry about the specifics here—that task is left to Section B.2: a particular notion of natural numbers is defined in Construction B.2.5, and the fact that all notions of natural numbers are ‘essentially the same’ is made precise and proved in Theorem B.2.8.\r\n\r\nWe can define all the concepts involving natural numbers that we are familiar with, and prove all the properties that we take for granted, just from the element \\( z \\in \\mathbb{N} \\) and the successor function \\( s : \\mathbb{N} \\to \\mathbb{N} \\).\r\n\r\nFor instance, we define ‘0’ to mean \\( z \\), define ‘1’ to mean \\( s(z) \\), define ‘2’ to mean \\( s(s(z)) \\), and so on. Thus ‘12’ is defined to mean\r\n\r\n\\[\r\ns(s(s(s(s(s(s(s(s(s(s(s(z))))))))))))\r\n\\]\r\n\r\nFrom now on, then, let’s write 0 instead of \\( z \\) for the zero element of \\( \\mathbb{N} \\). It would be nice if we could write ‘\\( n + 1 \\)’ instead of \\( s(n) \\), but we must first define what ‘\\(+\\)’ means. In order to do this, we need a way of defining expressions involving natural numbers; this is what the recursion theorem allows us to do.\r\n\r\n### Theorem 4.1.2 (Recursion theorem)\r\nLet \\( X \\) be a set. For all \\( a \\in X \\) and all \\( h : \\mathbb{N} \\times X \\to X \\), there is a unique function \\( f : \\mathbb{N} \\to X \\) such that \\( f(0) = a \\) and \\( f(s(n)) = h(n, f(n)) \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n**Proof**  \r\nLet \\( a \\in X \\) and \\( h : \\mathbb{N} \\times X \\to X \\). We prove existence and uniqueness of \\( f \\) separately.\r\n\r\n- Define \\( f : \\mathbb{N} \\to X \\) by specifying \\( f(0) = a \\) and \\( f(s(n)) = h(n, f(n)) \\). Since \\( h \\) is a function and \\( s \\) is injective, existence and uniqueness of \\( x \\in X \\) such that \\( f(n) = x \\) is guaranteed, provided that \\( f(n) \\) is defined, so we need only verify totality.\r\n\r\nSo let \\( D = \\{ n \\in \\mathbb{N} \\mid f(n) \\text{ is defined} \\} \\). Then:\r\n\r\n- \\( 0 \\in D \\), since \\( f(0) \\) is defined to be equal to \\( a \\).\r\n- Let \\( n \\in \\mathbb{N} \\) and suppose \\( n \\in D \\). Then \\( f(n) \\) is defined and \\( f(s(n)) = h(n, f(n)) \\), so that \\( f(s(n)) \\) is defined, and hence \\( s(n) \\in D \\).\r\n\r\nBy condition (iii) of Definition 4.1.1, we have \\( \\mathbb{N} \\subseteq D \\), so that \\( f(n) \\) is defined for all \\( n \\in \\mathbb{N} \\), as required.\r\n\r\n- To see that \\( f \\) is unique, suppose \\( g : \\mathbb{N} \\to X \\) were another function such that \\( g(0) = a \\) and \\( g(s(n)) = h(n, g(n)) \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\nTo see that \\( f = g \\), let \\( E = \\{ n \\in \\mathbb{N} \\mid f(n) = g(n) \\} \\). Then\r\n\r\n- \\( 0 \\in E \\), since \\( f(0) = a = g(0) \\).\r\n</markdown>",
    "Q": "Q: How can we express the number \\( 5 \\) using the successor function \\( s \\) and the zero element \\( 0 \\)? ",
    "A": " A: The number \\( 5 \\) can be expressed as \\( s(s(s(s(s(0))))) \\)."
  },
  {
    "page": 172,
    "title": "I Core Concepts/4 Mathematical Induction/4.1 Peano'S Axioms",
    "content": "<markdown>\r\n⋄ Let \\( n \\in \\mathbb{N} \\) and suppose that \\( n \\in E \\). Then \\( f(n) = g(n) \\), and so\r\n\r\n\\[\r\nf(s(n)) = h(n, f(n)) = h(n, g(n)) = g(s(n))\r\n\\]\r\n\r\nand so \\( s(n) \\in E \\).\r\n\r\nAgain, condition (iii) of [Definition 4.1.1](#) is satisfied, so that \\( \\mathbb{N} \\subseteq E \\). It follows that \\( f(n) = g(n) \\) for all \\( n \\in \\mathbb{N} \\), and so \\( f = g \\).\r\n\r\nThus we have established the existence and uniqueness of a function \\( f : \\mathbb{N} \\to X \\) such that \\( f(0) = a \\) and \\( f(s(n)) = h(n, f(n)) \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\nThe recursion theorem allows us to define expressions involving natural numbers by recursion; this is [Strategy 4.1.3](#).\r\n\r\n✶ **Strategy 4.1.3 (Definition by recursion)**\r\n\r\nIn order to specify a function \\( f : \\mathbb{N} \\to X \\), it suffices to define \\( f(0) \\) and, for given \\( n \\in \\mathbb{N} \\), assume that \\( f(n) \\) has been defined, and define \\( f(s(n)) \\) in terms of \\( n \\) and \\( f(n) \\).\r\n\r\n✎ **Example 4.1.4**\r\n\r\nWe can use recursion to define addition on the natural numbers as follows.\r\n\r\nFor fixed \\( m \\in \\mathbb{N} \\), we can define a function \\( \\text{add}_m : \\mathbb{N} \\to \\mathbb{N} \\) by recursion by:\r\n\r\n\\[\r\n\\text{add}_m(0) = m \\quad \\text{and} \\quad \\text{add}_m(s(n)) = s(\\text{add}_m(n)) \\quad \\text{for all } n \\in \\mathbb{N}\r\n\\]\r\n\r\nIn more familiar notation, for \\( m, n \\in \\mathbb{N} \\), define the expression ‘\\( m + n \\)’ to mean \\( \\text{add}_m(n) \\). Another way of expressing the recursive definition of \\( \\text{add}_m(n) \\) is to say that, for each \\( m \\in \\mathbb{N} \\), we are defining \\( m + n \\) by recursion on \\( n \\) as follows:\r\n\r\n\\[\r\nm + 0 = m \\quad \\text{and} \\quad m + s(n) = s(m + n) \\quad \\text{for all } n \\in \\mathbb{N}\r\n\\]\r\n\r\nWe can use the recursive definition of addition to prove familiar equations between numbers. The following proposition is a proof that \\( 2 + 2 = 4 \\). This may seem silly, but notice that the expression ‘\\( 2 + 2 = 4 \\)’ is actually shorthand for the following:\r\n\r\n\\[\r\n\\text{add}_{s(s(0))}(s(s(0))) = s(s(s(s(0))))\r\n\\]\r\n\r\nWe must therefore be careful to apply the definitions in its proof.\r\n\r\n✶ **Proposition 4.1.5**\r\n\r\n\\( 2 + 2 = 4 \\)\r\n</markdown>",
    "Q": "Q: Using the recursive addition function \\( \\text{add}_m(n) \\), what is the result of \\( \\text{add}_2(3) \\)? ",
    "A": " A: The result of \\( \\text{add}_2(3) \\) is \\( 5 \\). \r\n\r\n\\( \\text{add}_2(0) = 2 \\)\r\n\r\n\\( \\text{add}_2(s(0)) = s(\\text{add}_2(0)) = s(2) = 3 \\)\r\n\r\n\\( \\text{add}_2(s(s(0))) = s(\\text{add}_2(s(0))) = s(3) = 4 \\)\r\n\r\n\\( \\text{add}_2(s(s(s(0)))) = s(\\text{add}_2(s(s(0)))) = s(4) = 5 \\)"
  },
  {
    "page": 173,
    "title": "I Core Concepts/4 Mathematical Induction/4.1 Peano'S Axioms",
    "content": "<markdown>\r\n**Proof**\r\n\r\nWe use the recursive definition of addition.\r\n\r\n\\[\r\n\\begin{align*}\r\n2 + 2 &= 2 + s(1) & \\text{since } 2 = s(1) \\\\\r\n&= s(2 + 1) & \\text{by definition of } + \\\\\r\n&= s(2 + s(0)) & \\text{since } 1 = s(0) \\\\\r\n&= s(s(2 + 0)) & \\text{by definition of } + \\\\\r\n&= s(s(2)) & \\text{by definition of } + \\\\\r\n&= s(3) & \\text{since } 3 = s(2) \\\\\r\n&= 4 & \\text{since } 4 = s(3)\r\n\\end{align*}\r\n\\]\r\n\r\nas required.\r\n\r\nThe following result allows us to drop the notation ‘\\(s(n)\\)’ and just write ‘\\(n + 1\\)’ instead.\r\n\r\n**Proposition 4.1.6**\r\n\r\nFor all \\(n \\in \\mathbb{N}\\), we have \\(s(n) = n + 1\\).\r\n\r\n**Proof**\r\n\r\nLet \\(n \\in \\mathbb{N}\\). Then by the recursive definition of addition we have\r\n\r\n\\[\r\nn + 1 = n + s(0) = s(n + 0) = s(n)\r\n\\]\r\n\r\nas required.\r\n\r\nIn light of Proposition 4.1.6, we will now abandon the notation \\(s(n)\\), and write \\(n + 1\\) instead.\r\n\r\nWe can define the arithmetic operations of multiplication and exponentiation by recursion, too.\r\n\r\n**Example 4.1.7**\r\n\r\nFix \\(m \\in \\mathbb{N}\\). Define \\(m \\cdot n\\) for all \\(n \\in \\mathbb{N}\\) by recursion on \\(n\\) as follows:\r\n\r\n\\[\r\nm \\cdot 0 = 0 \\quad \\text{and} \\quad m \\cdot (n + 1) = (m \\cdot n) + m \\text{ for all } n \\in \\mathbb{N}\r\n\\]\r\n\r\nFormally, what we have done is define a function \\(\\text{mult}_m : \\mathbb{N} \\to \\mathbb{N}\\) recursively by \\(\\text{mult}_m(z) = z\\) and \\(\\text{mult}_m(s(n)) = \\text{add}_{\\text{mult}_m(n)}(m)\\) for all \\(n \\in \\mathbb{N}\\). But the definition we provided is easier to understand.\r\n\r\n**Proposition 4.1.8**\r\n\r\n\\(2 \\cdot 2 = 4\\)\r\n\r\n**Proof**\r\n</markdown>",
    "Q": "Q: What is the recursive definition of multiplication for a natural number \\(m\\) as described in the context? ",
    "A": " A: The recursive definition of multiplication for a natural number \\(m\\) is given by \\(m \\cdot 0 = 0\\) and \\(m \\cdot (n + 1) = (m \\cdot n) + m\\) for all \\(n \\in \\mathbb{N}\\)."
  },
  {
    "page": 174,
    "title": "I Core Concepts/4 Mathematical Induction/4.1 Peano'S Axioms",
    "content": "<markdown>\r\nWe use the recursive definitions of addition and recursion.\r\n\r\n\\[\r\n\\begin{align*}\r\n2 \\cdot 2 &= 2 \\cdot (1 + 1) & \\text{since } 2 = 1 + 1 \\\\\r\n&= (2 \\cdot 1) + 2 & \\text{by definition of } \\cdot \\\\\r\n&= (2 \\cdot (0 + 1)) + 2 & \\text{since } 1 = 0 + 1 \\\\\r\n&= ((2 \\cdot 0) + 2) + 2 & \\text{by definition of } \\cdot \\\\\r\n&= (0 + 2) + 2 & \\text{by definition of } \\cdot \\\\\r\n&= (0 + (1 + 1)) + 2 & \\text{since } 2 = 1 + 1 \\\\\r\n&= ((0 + 1) + 1) + 2 & \\text{by definition of } + \\\\\r\n&= (1 + 1) + 2 & \\text{since } 1 = 0 + 1 \\\\\r\n&= 2 + 2 & \\text{since } 2 = 1 + 1 \\\\\r\n&= 4 & \\text{by Proposition 4.1.5}\r\n\\end{align*}\r\n\\]\r\n\r\nas required.\r\n\r\n### Exercise 4.1.9\r\n\r\nGiven \\( m \\in \\mathbb{N} \\), define \\( m^n \\) for all \\( n \\in \\mathbb{N} \\) by recursion on \\( n \\), and prove that \\( 2^2 = 4 \\) using the recursive definitions of exponentiation, multiplication and addition.\r\n\r\nWe could spend the rest of our lives doing long computations involving recursively defined arithmetic operations, so at this point we will stop, and return to taking for granted the facts that we know about arithmetic operations.\r\n\r\nThere are, however, a few more notions that we need to define by recursion so that we can use them in our proofs later.\r\n\r\n### Definition 4.1.10\r\n\r\nGiven \\( n \\in \\mathbb{N} \\), the **sum** of \\( n \\) real numbers \\( a_1, a_2, \\ldots, a_n \\) is the real number \\( \\sum_{k=1}^{n} a_k \\) defined by recursion on \\( n \\in \\mathbb{N} \\) by\r\n\r\n\\[\r\n\\sum_{k=1}^{0} a_k = 0 \\quad \\text{and} \\quad \\sum_{k=1}^{n+1} a_k = \\left( \\sum_{k=1}^{n} a_k \\right) + a_{n+1} \\quad \\text{for all } n \\in \\mathbb{N}\r\n\\]\r\n\r\n### Definition 4.1.11\r\n\r\nGiven \\( n \\in \\mathbb{N} \\), the **product** of \\( n \\) real numbers \\( a_1, a_2, \\ldots, a_n \\) is the real number \\( \\prod_{k=1}^{n} a_k \\) defined by recursion on \\( n \\in \\mathbb{N} \\) by\r\n\r\n\\[\r\n\\prod_{k=1}^{0} a_k = 1 \\quad \\text{and} \\quad \\prod_{k=1}^{n+1} a_k = \\left( \\prod_{k=1}^{n} a_k \\right) \\cdot a_{n+1} \\quad \\text{for all } n \\in \\mathbb{N}\r\n\\]\r\n</markdown>",
    "Q": "Q: Using the recursive definition of addition, calculate the sum of the first three natural numbers, \\( \\sum_{k=1}^{3} k \\), and show your steps. ",
    "A": " A: \r\nTo calculate \\( \\sum_{k=1}^{3} k \\), we use the recursive definition of addition:\r\n\r\n\\[\r\n\\sum_{k=1}^{0} k = 0 \r\n\\]\r\n\r\n\\[\r\n\\sum_{k=1}^{1} k = \\left( \\sum_{k=1}^{0} k \\right) + 1 = 0 + 1 = 1\r\n\\]\r\n\r\n\\[\r\n\\sum_{k=1}^{2} k = \\left( \\sum_{k=1}^{1} k \\right) + 2 = 1 + 2 = 3\r\n\\]\r\n\r\n\\[\r\n\\sum_{k=1}^{3} k = \\left( \\sum_{k=1}^{2} k \\right) + 3 = 3 + 3 = 6\r\n\\]\r\n\r\nThus, \\( \\sum_{k=1}^{3} k = 6 \\)."
  },
  {
    "page": 175,
    "title": "I Core Concepts/4 Mathematical Induction/4.1 Peano'S Axioms",
    "content": "<markdown>\r\n### Example 4.1.12\r\n\r\nLet \\( x_i = i^2 \\) for each \\( i \\in \\mathbb{N} \\). Then\r\n\r\n\\[\r\n\\sum_{i=1}^{5} x_i = 1 + 4 + 9 + 16 + 25 = 55\r\n\\]\r\n\r\nand\r\n\r\n\\[\r\n\\prod_{i=1}^{5} x_i = 1 \\cdot 4 \\cdot 9 \\cdot 16 \\cdot 25 = 14400\r\n\\]\r\n\r\n### Exercise 4.1.13\r\n\r\nLet \\( x_1, x_2 \\in \\mathbb{R} \\). Working strictly from the definitions of indexed sum and indexed product, prove that\r\n\r\n\\[\r\n\\sum_{i=1}^{2} x_i = x_1 + x_2 \\quad \\text{and} \\quad \\prod_{i=1}^{2} x_i = x_1 \\cdot x_2\r\n\\]\r\n\r\n## Binomials and factorials\r\n\r\n### Definition 4.1.14 (to be redefined in Definition 8.1.10)\r\n\r\nLet \\( n \\in \\mathbb{N} \\). The **factorial** of \\( n \\), written \\( n! \\), is defined recursively by\r\n\r\n\\[\r\n0! = 1 \\quad \\text{and} \\quad (n+1)! = (n+1) \\cdot n! \\quad \\text{for all } n \\geq 0\r\n\\]\r\n\r\nPut another way, we have\r\n\r\n\\[\r\nn! = \\prod_{i=1}^{n} i\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\)—recall Definition 4.1.11 to see why these definitions are really just two ways of wording the same thing.\r\n\r\n### Definition 4.1.15 (to be redefined in Definition 8.1.4)\r\n\r\nLet \\( n, k \\in \\mathbb{N} \\). The **binomial coefficient** \\(\\binom{n}{k}\\) (LaTeX code: `\\binom{n}{k}`) (read ‘n choose k’) is defined by recursion on \\( n \\) and on \\( k \\) by\r\n\r\n\\[\r\n\\binom{n}{0} = 1, \\quad \\binom{0}{k+1} = 0, \\quad \\binom{n+1}{k+1} = \\binom{n}{k} + \\binom{n}{k+1}\r\n\\]\r\n\r\nThis definition gives rise to an algorithm for computing binomial coefficients: they fit into a diagram known as **Pascal’s triangle**, with each binomial coefficient computed as the sum of the two lying above it (with zeroes omitted):\r\n</markdown>",
    "Q": "Q: If \\( n = 4 \\), what is the value of \\( \\binom{4}{2} \\) using the binomial coefficient definition provided? ",
    "A": " A: Using the recursive definition, \\( \\binom{4}{2} = \\binom{3}{2} + \\binom{3}{3} \\). We have \\( \\binom{3}{2} = 3 \\) and \\( \\binom{3}{3} = 1 \\), thus \\( \\binom{4}{2} = 3 + 1 = 4 \\)."
  },
  {
    "page": 176,
    "title": "I Core Concepts/4 Mathematical Induction/4.1 Peano'S Axioms",
    "content": "<markdown>\r\n\\[\r\n\\begin{array}{cccccc}\r\n& & & \\binom{0}{0} & & \\\\\r\n& & \\binom{1}{0} & & \\binom{1}{1} & \\\\\r\n& \\binom{2}{0} & & \\binom{2}{1} & & \\binom{2}{2} \\\\\r\n\\binom{3}{0} & & \\binom{3}{1} & & \\binom{3}{2} & & \\binom{3}{3} \\\\\r\n& \\binom{4}{0} & & \\binom{4}{1} & & \\binom{4}{2} & & \\binom{4}{3} & & \\binom{4}{4} \\\\\r\n& & \\binom{5}{0} & & \\binom{5}{1} & & \\binom{5}{2} & & \\binom{5}{3} & & \\binom{5}{4} & & \\binom{5}{5} \\\\\r\n& & \\vdots & & \\vdots & & \\vdots & & \\vdots & & \\vdots & & \\vdots \\\\\r\n\\end{array}\r\n\\]\r\n\r\n\\[\r\n\\begin{array}{cccccc}\r\n1 & & & & & \\\\\r\n1 & 1 & & & & \\\\\r\n1 & 2 & 1 & & & \\\\\r\n1 & 3 & 3 & 1 & & \\\\\r\n1 & 4 & 6 & 4 & 1 & \\\\\r\n1 & 5 & 10 & 10 & 5 & 1 \\\\\r\n\\vdots & & \\vdots & & \\vdots & & \\vdots \\\\\r\n\\end{array}\r\n\\]\r\n\r\n**Exercise 4.1.16**  \r\nWrite down the next two rows of Pascal’s triangle.\r\n</markdown>",
    "Q": "Q: What is the sum of the first two numbers in the next row of Pascal's triangle following the row for \\( n=5 \\)? ",
    "A": " A: The sum of the first two numbers in the next row (for \\( n=6 \\)) of Pascal's triangle is \\( 1 + 6 = 7 \\)."
  },
  {
    "page": 177,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\n## Section 4.2\r\n### Weak induction\r\n\r\nJust as recursion exploited the structure of the natural numbers to *define expressions* involving natural numbers, induction exploits the very same structure to *prove results* about natural numbers.\r\n\r\n#### Theorem 4.2.1 (Weak induction principle)\r\nLet \\( p(n) \\) be a logical formula with free variable \\( n \\in \\mathbb{N} \\), and let \\( n_0 \\in \\mathbb{N} \\). If\r\n\r\n(i) \\( p(n_0) \\) is true; and\r\n\r\n(ii) For all \\( n \\geq n_0 \\), if \\( p(n) \\) is true, then \\( p(n+1) \\) is true;\r\n\r\nthen \\( p(n) \\) is true for all \\( n \\geq n_0 \\).\r\n\r\n**Proof**\r\n\r\nDefine \\( X = \\{ n \\in \\mathbb{N} \\mid p(n_0 + n) \\text{ is true} \\} \\); that is, given a natural number \\( n \\), we have \\( n \\in X \\) if and only if \\( p(n_0 + n) \\) is true. Then\r\n\r\n- \\( 0 \\in X \\), since \\( n_0 + 0 = n_0 \\) and \\( p(n_0) \\) is true by (i).\r\n\r\n- Let \\( n \\in \\mathbb{N} \\) and assume \\( n \\in X \\). Then \\( p(n_0 + n) \\) is true. Since \\( n_0 + n \\geq n_0 \\) and \\( p(n_0 + n) \\) is true, we have \\( p(n_0 + n + 1) \\) is true by (ii). But then \\( n + 1 \\in X \\).\r\n\r\nSo by Definition 4.1.1(iii) we have \\( \\mathbb{N} \\subseteq X \\). Hence \\( p(n_0 + n) \\) is true for all \\( n \\in \\mathbb{N} \\). But this is equivalent to saying that \\( p(n) \\) is true for all \\( n \\geq n_0 \\).\r\n\r\n#### Strategy 4.2.2 (Proof by (weak) induction)\r\nIn order to prove a proposition of the form \\( \\forall n \\geq n_0, p(n) \\), it suffices to prove that:\r\n\r\n- \\( p(n_0) \\) is true; and\r\n\r\n- For all \\( n \\geq n_0 \\), if \\( p(n) \\) is true, then \\( p(n+1) \\) is true.\r\n\r\nSome terminology has evolved for proofs by induction:\r\n\r\n- The proof of \\( p(n_0) \\) is called the **base case**;\r\n\r\n- The proof of \\( \\forall n \\geq n_0, (p(n) \\Rightarrow p(n+1)) \\) is called the **induction step**;\r\n\r\n- In the induction step, the assumption \\( p(n) \\) is called the **induction hypothesis**;\r\n\r\n- In the induction step, the proposition \\( p(n+1) \\) is called the **induction goal**.\r\n</markdown>",
    "Q": "Q: Given the weak induction principle, if we let \\( p(n) \\) be the statement \"The sum of the first \\( n \\) natural numbers is \\( \\frac{n(n+1)}{2} \\)\", how would you prove this statement for all \\( n \\geq 1 \\)? ",
    "A": " A: To prove that \\( p(n) \\) is true for all \\( n \\geq 1 \\), we first verify the base case: for \\( n = 1 \\), \\( p(1) \\) states that the sum is \\( \\frac{1(1+1)}{2} = 1 \\), which is true. For the induction step, assume \\( p(k) \\) is true for some \\( k \\geq 1 \\), i.e., the sum of the first \\( k \\) natural numbers is \\( \\frac{k(k+1)}{2} \\). Then for \\( k + 1 \\): \r\n\r\n\\[\r\np(k+1): \\quad \\text{Sum of the first } (k+1) \\text{ natural numbers} = \\frac{k(k+1)}{2} + (k + 1) = \\frac{k(k+1) + 2(k + 1)}{2} = \\frac{(k+1)(k + 2)}{2}.\r\n\\]\r\n\r\nThus, \\( p(k+1) \\) is true and by induction, \\( p(n) \\) holds for all \\( n \\geq 1 \\)."
  },
  {
    "page": 178,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nThe following diagram illustrates the weak induction principle.\r\n\r\nTo interpret this diagram:\r\n\r\n- The shaded diamond represents the base case \\( p(n_0) \\);\r\n- The square represents the induction hypothesis \\( p(n) \\);\r\n- The dashed circle represents the induction goal \\( p(n+1) \\);\r\n- The arrow represents the implication we must prove in the induction step.\r\n\r\nWe will use analogous diagrams to illustrate the other induction principles in this section.\r\n\r\n### Proposition 4.2.3\r\nLet \\( n \\in \\mathbb{N} \\). Then \r\n\r\n\\[\r\n\\sum_{k=1}^{n} k = \\frac{n(n+1)}{2}\r\n\\]\r\n\r\n**Proof**\r\n\r\nWe proceed by induction on \\( n \\geq 0 \\).\r\n\r\n- **(Base case)** We need to prove \r\n\r\n\\[\r\n\\sum_{k=1}^{0} k = \\frac{0(0+1)}{2}.\r\n\\]\r\n\r\nThis is true, since \r\n\r\n\\[\r\n\\frac{0(0+1)}{2} = 0,\r\n\\]\r\n\r\nand \r\n\r\n\\[\r\n\\sum_{k=1}^{0} k = 0\r\n\\]\r\n\r\nby Definition 4.1.10.\r\n\r\n- **(Induction step)** Let \\( n \\geq 0 \\) and suppose that \r\n\r\n\\[\r\n\\sum_{k=1}^{n} k = \\frac{n(n+1)}{2};\r\n\\]\r\n\r\nthis is the induction hypothesis.\r\n\r\nWe need to prove that \r\n\r\n\\[\r\n\\sum_{k=1}^{n+1} k = \\frac{(n+1)(n+2)}{2};\r\n\\]\r\n\r\nthis is the induction goal.\r\n</markdown>",
    "Q": "Q: If the induction hypothesis is true for \\( n=3 \\), that is, \r\n\r\n\\[\r\n\\sum_{k=1}^{3} k = \\frac{3(3+1)}{2},\r\n\\]\r\n\r\nwhat must we show to complete the induction step for \\( n=4 \\)? ",
    "A": " A: We must show that \r\n\r\n\\[\r\n\\sum_{k=1}^{4} k = \\frac{4(4+1)}{2}.\r\n\\]\r\n\r\nUsing the induction hypothesis, this can be expressed as \r\n\r\n\\[\r\n\\sum_{k=1}^{3} k + 4 = \\frac{3(3+1)}{2} + 4 = \\frac{3(4)}{2} + \\frac{8}{2} = \\frac{12}{2} = \\frac{4(5)}{2}. \r\n\\]"
  },
  {
    "page": 179,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nWe proceed by calculation:\r\n\r\n\\[\r\n\\sum_{k=1}^{n+1} k = \\left( \\sum_{k=1}^{n} k \\right) + (n+1) \\quad \\text{by Definition 4.1.10}\r\n\\]\r\n\r\n\\[\r\n= \\frac{n(n+1)}{2} + (n+1) \\quad \\text{by induction hypothesis}\r\n\\]\r\n\r\n\\[\r\n= (n+1) \\left( \\frac{n}{2} + 1 \\right) \\quad \\text{factorising}\r\n\\]\r\n\r\n\\[\r\n= \\frac{(n+1)(n+2)}{2} \\quad \\text{rearranging}\r\n\\]\r\n\r\nThe result follows by induction. □\r\n\r\nBefore moving on, let’s reflect on the proof of Proposition 4.2.3 to highlight some effective ways of writing a proof by induction.\r\n\r\n- We began the proof by indicating that it was a proof by induction. While it is clear in this section that most proofs will be by induction, that will not always be the case, so it is good practice to indicate the proof strategy at hand.\r\n\r\n- The base case and induction step are clearly labelled in the proof. This is not strictly necessary from a mathematical perspective, but it helps the reader to navigate the proof and to identify what the goal is at each step.\r\n\r\n- We began the induction step by writing, ‘Let \\( n \\geq n_0 \\) and suppose that [… induction hypothesis goes here…]’. This is typically how your induction step should begin, since the proposition being proved in the induction step is of the form \\( \\forall n \\geq n_0, (p(n) \\Rightarrow \\cdots) \\).\r\n\r\n- Before proving anything in the base case or induction step, we wrote out what it was that we were trying to prove in that part of the proof. This is helpful because it helps to remind us (and the person reading the proof) what we are aiming to achieve.\r\n\r\nLook out for these features in the proof of the next proposition, which is also by induction on \\( n \\geq 0 \\).\r\n\r\n### Proposition 4.2.4\r\nThe natural number \\( n^3 - n \\) is divisible by 3 for all \\( n \\in \\mathbb{N} \\).\r\n\r\n**Proof**  \r\nWe proceed by induction on \\( n \\geq 0 \\).\r\n\r\n- **(Base case)** We need to prove that \\( 0^3 - 0 \\) is divisible by 3. Well\r\n\r\n  \\[\r\n  0^3 - 0 = 0 = 3 \\times 0\r\n  \\]\r\n\r\n  so \\( 0^3 - 0 \\) is divisible by 3.\r\n</markdown>",
    "Q": "Q: What is the base case for proving that \\( n^3 - n \\) is divisible by 3 using mathematical induction? ",
    "A": " A: The base case is proving that \\( 0^3 - 0 \\) is divisible by 3, which simplifies to \\( 0 = 3 \\times 0 \\), confirming that it is divisible by 3."
  },
  {
    "page": 180,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\n- **(Induction step)** Let \\( n \\in \\mathbb{N} \\) and suppose that \\( n^3 - n \\) is divisible by 3. Then \\( n^3 - n = 3k \\) for some \\( k \\in \\mathbb{Z} \\).\r\n\r\nWe need to prove that \\( (n+1)^3 - (n+1) \\) is divisible by 3; in other words, we need to find some natural number \\( \\ell \\) such that\r\n\r\n\\[\r\n(n+1)^3 - (n+1) = 3\\ell\r\n\\]\r\n\r\nWe proceed by computation.\r\n\r\n\\[\r\n\\begin{align*}\r\n(n+1)^3 - (n+1) &= (n^3 + 3n^2 + 3n + 1) - n - 1 & \\text{expand brackets} \\\\\r\n&= n^3 - n + 3n^2 + 3n + 1 - 1 & \\text{rearrange terms} \\\\\r\n&= n^3 - n + 3n^2 + 3n & \\text{since } 1 - 1 = 0 \\\\\r\n&= 3k + 3n^2 + 3n & \\text{by induction hypothesis} \\\\\r\n&= 3(k + n^2 + n) & \\text{factorise}\r\n\\end{align*}\r\n\\]\r\n\r\nThus we have expressed \\( (n+1)^3 - (n+1) \\) in the form \\( 3\\ell \\) for some \\( \\ell \\in \\mathbb{Z} \\); specifically, \\( \\ell = k + n^2 + n \\).\r\n\r\nThe result follows by induction.\r\n\r\n📌 **Exercise 4.2.5**\r\n\r\nProve by induction that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} 2^k = 2^{n+1} - 1\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\nThe following proposition has a proof by induction in which the base case is not zero.\r\n\r\n✣ **Proposition 4.2.6**\r\n\r\nFor all \\( n \\geq 4 \\), we have \\( 3n < 2^n \\).\r\n\r\n**Proof**\r\n\r\nWe proceed by induction on \\( n \\geq 4 \\).\r\n\r\n- **(Base case)** \\( p(4) \\) is the statement \\( 3 \\cdot 4 < 2^4 \\). This is true, since \\( 12 < 16 \\).\r\n\r\n- **(Induction step)** Suppose \\( n \\geq 4 \\) and that \\( 3n < 2^n \\). We want to prove \\( 3(n+1) < 2^{n+1} \\).\r\n\r\n  Well,\r\n\r\n  \\[\r\n  \\begin{align*}\r\n  3(n+1) &= 3n + 3 & \\text{expanding} \\\\\r\n  &< 2^n + 3 & \\text{by induction hypothesis} \\\\\r\n  &< 2^n + 2^4 & \\text{since } 3 < 16 = 2^4 \\\\\r\n  &\\leq 2^n + 2^n & \\text{since } n \\geq 4 \\\\\r\n  &= 2 \\cdot 2^n & \\text{simplifying} \\\\\r\n  &= 2^{n+1} & \\text{simplifying}\r\n  \\end{align*}\r\n  \\]\r\n</markdown>",
    "Q": "Q: Prove by induction that \\( 3(n+1) < 2^{n+1} \\) holds for \\( n \\geq 4 \\) using the induction hypothesis \\( 3n < 2^n \\). ",
    "A": " A: Start with \\( 3(n+1) = 3n + 3 < 2^n + 3 \\). Since \\( n \\geq 4 \\), \\( 3 < 16 = 2^4\\), thus \\( 2^n + 3 < 2^n + 2^4 \\leq 2^n + 2^n = 2 \\cdot 2^n = 2^{n+1} \\). Hence, \\( 3(n+1) < 2^{n+1} \\)."
  },
  {
    "page": 181,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nSo we have proved \\(3(n+1) < 2^{n+1}\\), as required.\r\n\r\nThe result follows by induction.\r\n\r\nNote that the proof in Proposition 4.2.6 says nothing about the truth or falsity of \\(p(n)\\) for \\(n = 0, 1, 2, 3\\). In order to assert that these cases are false, you need to show them individually; indeed:\r\n\r\n- \\(3 \\times 0 = 0\\) and \\(2^0 = 1\\), hence \\(p(0)\\) is true;\r\n- \\(3 \\times 1 = 3\\) and \\(2^1 = 2\\), hence \\(p(1)\\) is false;\r\n- \\(3 \\times 2 = 6\\) and \\(2^2 = 4\\), hence \\(p(2)\\) is false;\r\n- \\(3 \\times 3 = 9\\) and \\(2^3 = 8\\), hence \\(p(3)\\) is false.\r\n\r\nSo we deduce that \\(p(n)\\) is true when \\(n = 0\\) or \\(n \\geq 4\\), and false when \\(n \\in \\{1, 2, 3\\}\\).\r\n\r\nSometimes a ‘proof’ by induction might appear to be complete nonsense. The following is a classic example of a ‘fail by induction’:\r\n\r\n### Example 4.2.7\r\n\r\nThe following argument supposedly proves that every horse is the same colour.\r\n\r\n- **(Base case)** Suppose there is just one horse. This horse is the same colour as itself, so the base case is immediate.\r\n\r\n- **(Induction step)** Suppose that every collection of \\(n\\) horses is the same colour. Let \\(X\\) be a set of \\(n+1\\) horses. Removing the first horse from \\(X\\), we see that the last \\(n\\) horses are the same colour by the induction hypothesis. Removing the last horse from \\(X\\), we see that the first \\(n\\) horses are the same colour. Hence all the horses in \\(X\\) are the same colour.\r\n\r\nBy induction, we’re done.\r\n\r\n### Exercise 4.2.8\r\n\r\nWrite down the statement \\(p(n)\\) that Example 4.2.7 attempted to prove for all \\(n \\geq 1\\). Convince yourself that the proof of the base case is correct, then write down—with quantifiers—exactly the proposition that the induction step is meant to prove. Explain why the argument in the induction step failed to prove this proposition.\r\n\r\nThere are several ways to avoid situations like that of Example 4.2.7 by simply putting more thought into writing the proof. Some tips are:\r\n\r\n- State \\(p(n)\\) explicitly. In the statement ‘all horses are the same colour’ it is not clear exactly what the induction variable is. However, we could have said:\r\n</markdown>",
    "Q": "Q: What is the correct statement \\(p(n)\\) that the example concerning horses attempts to prove for all \\(n \\geq 1\\), and explain how the induction step fails? ",
    "A": " A: The statement \\(p(n)\\) is \"In any group of \\(n\\) horses, all horses are the same colour.\" The induction step fails because it assumes that if we have \\(n+1\\) horses, removing one horse still retains at least one horse of each color, which is valid in small groups (where \\(n \\geq 2\\)). However, for \\(n = 1\\), removing either horse leaves no comparison, and thus the argument does not hold. Hence the induction step does not apply when transitioning from \\(n = 1\\) to \\(n = 2\\)."
  },
  {
    "page": 182,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nLet \\( p(n) \\) be the statement ‘every set of \\( n \\) horses has the same colour’.\r\n\r\n- Refer explicitly to the base case \\( n_0 \\) in the induction step. In Example 4.2.7, our induction hypothesis simply stated ‘assume every set of \\( n \\) horses has the same colour’. Had we instead said:\r\n\r\n  Let \\( n \\geq 1 \\) and assume every set of \\( n \\) horses has the same colour.\r\n\r\n  We may have spotted the error in what was to come.\r\n\r\nWhat follows are a couple more examples of proofs by weak induction.\r\n\r\n### Proposition 4.2.9\r\n\r\nFor all \\( n \\in \\mathbb{N} \\), we have\r\n\r\n\\[\r\n\\sum_{k=0}^{n} k^3 = \\left( \\sum_{k=0}^{n} k \\right)^2.\r\n\\]\r\n\r\n**Proof**\r\n\r\nWe proved in Proposition 4.2.6 that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} k = \\frac{n(n+1)}{2}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\), thus it suffices to prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} k^3 = \\frac{n^2(n+1)^2}{4}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\nWe proceed by induction on \\( n \\geq 0 \\).\r\n\r\n- **(Base case)** We need to prove that \\( 0^3 = \\frac{0^2(0+1)^2}{4} \\). This is true since both sides of the equation are equal to 0.\r\n\r\n- **(Induction step)** Fix \\( n \\in \\mathbb{N} \\) and suppose that\r\n\r\n  \\[\r\n  \\sum_{k=0}^{n} k^3 = \\frac{n^2(n+1)^2}{4}.\r\n  \\]\r\n\r\n  We need to prove\r\n</markdown>",
    "Q": "Q: What is the value of \\( \\sum_{k=0}^{1} k^3 \\) and how does it relate to the proposition stated in the context? ",
    "A": " A: For \\( n = 1 \\), we have \\( \\sum_{k=0}^{1} k^3 = 0^3 + 1^3 = 0 + 1 = 1 \\). According to the proposition, \\( \\sum_{k=0}^{1} k^3 \\) should equal \\( \\frac{1^2(1+1)^2}{4} = \\frac{1 \\cdot 2^2}{4} = \\frac{4}{4} = 1 \\), which is consistent with the statement."
  },
  {
    "page": 184,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nThis is true, since\r\n\r\n\\[\r\n\\sum_{k=0}^{n+1} (a + kd)\r\n\\]\r\n\r\n\\[\r\n= \\sum_{k=0}^{n} (a + kd) + (a + (n+1)d) \\quad \\text{by definition of sum}\r\n\\]\r\n\r\n\\[\r\n= \\frac{(n+1)(2a + nd)}{2} + (a + (n+1)d) \\quad \\text{by induction hypothesis}\r\n\\]\r\n\r\n\\[\r\n= \\frac{(n+1)(2a + nd) + 2a + 2(n+1)d}{2} \\quad \\text{(algebra)}\r\n\\]\r\n\r\n\\[\r\n= \\frac{(n+1) \\cdot 2a + (n+1) \\cdot nd + 2a + 2(n+1)d}{2} \\quad \\text{(algebra)}\r\n\\]\r\n\r\n\\[\r\n= \\frac{2a(n+1+1) + (n+1)(nd + 2d)}{2} \\quad \\text{(algebra)}\r\n\\]\r\n\r\n\\[\r\n= \\frac{2a(n+2) + (n+1)(n+2)d}{2} \\quad \\text{(algebra)}\r\n\\]\r\n\r\n\\[\r\n= \\frac{(n+2)(2a + (n+1)d)}{2} \\quad \\text{(algebra)}\r\n\\]\r\n\r\nBy induction, the result follows.\r\n\r\nThe following exercises generalise Exercise 4.2.5 to prove the correctness of a formula for the sum of a geometric progression of real numbers.\r\n\r\n**Exercise 4.2.11**  \r\nLet \\( a, r \\in \\mathbb{R} \\) with \\( r \\neq 1 \\). Then\r\n\r\n\\[\r\n\\sum_{k=0}^{n} ar^k = \\frac{a(1 - r^{n+1})}{1 - r}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\nSo far in this section most of the results that we have proved by induction have concerned numbers, and particularly identities involving natural numbers. But the scope of proof by induction is not limited to such results—the next exercise, for example, concerns sets and bijections.\r\n\r\n**Exercise 4.2.12**  \r\nLet \\( n \\in \\mathbb{N} \\) and let \\( \\{X_k \\mid 1 \\leq k \\leq n\\} \\) be a family of sets. Prove by induction on \\( n \\) that there is a bijection\r\n\r\n\\[\r\n\\prod_{k=1}^{n+1} X_k \\to \\left( \\prod_{k=1}^{n} X_k \\right) \\times X_n.\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove by induction that for any \\( n \\in \\mathbb{N} \\), the sum of the first \\( n \\) terms of a geometric series can be expressed as \r\n\r\n\\[\r\nS_n = \\sum_{k=0}^{n} ar^k = \\frac{a(1 - r^{n+1})}{1 - r}\r\n\\]\r\n\r\nusing the hypothesis that the formula holds for \\( n \\). ",
    "A": " A: The base case \\( n=0 \\) holds as \\( S_0 = a = \\frac{a(1 - r)}{1 - r} \\). Assume true for \\( n \\); for \\( n+1 \\):\r\n\r\n\\[\r\nS_{n+1} = S_n + ar^n = \\frac{a(1 - r^{n+1})}{1 - r} + ar^n = \\frac{a(1 - r^{n+1}) + ar^n(1 - r)}{1 - r} \r\n\\]\r\n\r\nwhich simplifies to \r\n\r\n\\[\r\n\\frac{a(1 - r^{n+2})}{1 - r}.\r\n\\]\r\n\r\nThus, by induction, the formula is proven."
  },
  {
    "page": 185,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\n## Binomials and factorials\r\n\r\nProof by induction turns out to be a very useful way of proving facts about binomial coefficients \\(\\binom{n}{k}\\) and factorials \\(n!\\).\r\n\r\n### Example 4.2.13\r\n\r\nWe prove that\r\n\r\n\\[\r\n\\sum_{i=0}^{n} \\binom{n}{i} = 2^n\r\n\\]\r\n\r\nby induction on \\(n\\).\r\n\r\n- **(Base case)** We need to prove \\(\\binom{0}{0} = 1\\) and \\(2^0 = 1\\). These are both true by the definitions of binomial coefficients and exponents.\r\n\r\n- **(Induction step)** Fix \\(n \\geq 0\\) and suppose that\r\n\r\n\\[\r\n\\sum_{i=0}^{n} \\binom{n}{i} = 2^n\r\n\\]\r\n\r\nWe need to prove\r\n\r\n\\[\r\n\\sum_{i=0}^{n+1} \\binom{n+1}{i} = 2^{n+1}\r\n\\]\r\n\r\nThis is true, since\r\n\r\n\\[\r\n\\sum_{i=0}^{n+1} \\binom{n+1}{i} = \\binom{n+1}{0} + \\sum_{i=1}^{n+1} \\binom{n+1}{i} \\quad \\text{splitting the sum}\r\n\\]\r\n\r\n\\[\r\n= 1 + \\sum_{j=0}^{n} \\binom{n+1}{j+1} \\quad \\text{letting } j = i - 1\r\n\\]\r\n\r\n\\[\r\n= 1 + \\sum_{j=0}^{n} \\left( \\binom{n}{j} + \\binom{n}{j+1} \\right) \\quad \\text{by Definition 4.1.15}\r\n\\]\r\n\r\n\\[\r\n= 1 + \\sum_{j=0}^{n} \\binom{n}{j} + \\sum_{j=0}^{n} \\binom{n}{j+1} \\quad \\text{separating the sums}\r\n\\]\r\n\r\nNow \\(\\sum_{j=0}^{n} \\binom{n}{j} = 2^n\\) by the induction hypothesis. Moreover, reindexing the sum using \\(k = j + 1\\) yields\r\n\r\n\\[\r\n\\sum_{j=0}^{n} \\binom{n}{j+1} = \\sum_{k=1}^{n+1} \\binom{n}{k} = \\sum_{k=1}^{n} \\binom{n}{k} + \\binom{n}{n+1}\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that \\(\\sum_{i=0}^{n} \\binom{n}{i} = 2^n\\) using induction on \\(n\\) and explain the significance of the base case in the proof. ",
    "A": " A: To prove \\(\\sum_{i=0}^{n} \\binom{n}{i} = 2^n\\) by induction on \\(n\\), we first establish the base case for \\(n=0\\): \\(\\binom{0}{0} = 1\\) and \\(2^0 = 1\\), which are both true. This validates our base case, establishing that the statement holds for \\(n=0\\). Then, for the induction step, assuming it holds for \\(n\\), we prove it for \\(n+1\\) using the identity \\(\\binom{n+1}{i} = \\binom{n}{i} + \\binom{n}{i-1}\\). Thus, we conclude that the statement is true for all non-negative integers \\(n\\)."
  },
  {
    "page": 186,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nBy the induction hypothesis, we have\r\n\r\n\\[\r\n\\sum_{k=1}^{n} \\binom{n}{k} = \\sum_{k=0}^{n} \\binom{n}{k} - \\binom{n}{0} = 2^n - 1\r\n\\]\r\n\r\nand \\(\\binom{n}{n+1} = 0\\), so that\r\n\r\n\\[\r\n\\sum_{j=0}^{n} \\binom{n}{j+1} = 2^n - 1.\r\n\\]\r\n\r\nPutting this together, we have\r\n\r\n\\[\r\n1 + \\sum_{j=0}^{n} \\binom{n}{j} + \\sum_{j=0}^{n} \\binom{n}{j+1} = 1 + 2^n + (2^n - 1)\r\n\\]\r\n\r\n\\[\r\n= 2 \\cdot 2^n\r\n\\]\r\n\r\n\\[\r\n= 2^{n+1}\r\n\\]\r\n\r\nso the induction step is finished.\r\n\r\nBy induction, we’re done.\r\n\r\n---\r\n\r\n### Theorem 4.2.14\r\n\r\nLet \\( n, k \\in \\mathbb{N} \\). Then\r\n\r\n\\[\r\n\\binom{n}{k} = \r\n\\begin{cases} \r\n\\frac{n!}{k!(n-k)!} & \\text{if } k \\leq n \\\\ \r\n0 & \\text{if } k > n \r\n\\end{cases}\r\n\\]\r\n\r\n**Proof**\r\n\r\nWe proceed by induction on \\( n \\).\r\n\r\n- **(Base case)** When \\( n = 0 \\), we need to prove that \\(\\binom{0}{k} = \\frac{0!}{k!(0-k)!}\\) for all \\( k \\leq 0 \\), and that \\(\\binom{0}{k} = 0\\) for all \\( k > 0 \\).\r\n\r\n  If \\( k \\leq 0 \\) then \\( k = 0 \\), since \\( k \\in \\mathbb{N} \\). Hence we need to prove\r\n\r\n  \\[\r\n  \\binom{0}{0} = \\frac{0!}{0!0!}\r\n  \\]\r\n\r\n  But this is true since \\(\\binom{0}{0} = 1\\) and \\(\\frac{0!}{0!0!} = \\frac{1}{1 \\times 1} = 1\\).\r\n\r\n  If \\( k > 0 \\) then \\(\\binom{0}{k} = 0\\) by Definition 4.1.15.\r\n\r\n- **(Induction step)** Fix \\( n \\in \\mathbb{N} \\) and suppose that \\(\\binom{n}{k} = \\frac{n!}{k!(n-k)!}\\) for all \\( k \\leq n \\) and \\(\\binom{n}{k} = 0\\) for all \\( k > n \\).\r\n\r\n  We need to prove that, for all \\( k \\leq n+1 \\), we have\r\n\r\n  \\[\r\n  \\binom{n+1}{k} = \\frac{(n+1)!}{k!(n+1-k)!}\r\n  \\]\r\n</markdown>",
    "Q": "Q: Given the induction proof for the binomial coefficient, what can we conclude about the value of \\(\\binom{n+1}{n+1}\\)? ",
    "A": " A: We conclude that \\(\\binom{n+1}{n+1} = 1\\) since it corresponds to the case where \\(k = n+1\\) and by definition \\(\\binom{n+1}{k} = \\frac{(n+1)!}{(n+1)!(0)!} = 1\\)."
  },
  {
    "page": 188,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nso that \r\n\r\n\\[\r\n\\binom{n+1}{\\ell+1} = \\frac{(n+1)!}{(\\ell+1)!(n-\\ell)!}.\r\n\\]\r\n\r\nNow we’re done; indeed,\r\n\r\n\\[\r\n\\frac{(n+1)!}{(\\ell+1)!(n-\\ell)!} = \\frac{(n+1)!}{k!(n+1-k)!}\r\n\\]\r\n\r\nsince \\( k = \\ell + 1 \\).\r\n\r\n(iii) If \\( k = n+1 \\), then\r\n\r\n\\[\r\n\\binom{n+1}{k} = \\binom{n+1}{n+1} \\quad \\text{since } k = n+1\r\n\\]\r\n\r\n\\[\r\n= \\binom{n}{n} + \\binom{n}{n+1} \\quad \\text{by Definition 4.1.15}\r\n\\]\r\n\r\n\\[\r\n= \\frac{n!}{n!0!} + 0 \\quad \\text{by induction hypothesis}\r\n\\]\r\n\r\n\\[\r\n= 1\r\n\\]\r\n\r\nand \r\n\r\n\\[\r\n\\frac{(n+1)!}{(n+1)!0!} = 1,\r\n\\]\r\n\r\nso again the two quantities are equal.\r\n\r\n(iv) If \\( k > n+1 \\), then \\( k = \\ell + 1 \\) for some \\( \\ell > n \\), and so by Definition 4.1.15 and the induction hypothesis we have\r\n\r\n\\[\r\n\\binom{n+1}{k} = \\binom{n+1}{\\ell+1} \\overset{\\text{IH}}{=} \\binom{n}{\\ell} + \\binom{n}{\\ell+1} = 0 + 0 = 0\r\n\\]\r\n\r\nOn first reading, this proof is long and confusing, especially in the induction step where we are required to split into four cases. We will give a much simpler proof in Section 8.1 (see Theorem 8.1.42), where we prove the statement combinatorially by putting the elements of two sets in one-to-one correspondence.\r\n\r\nWe can use Theorem 4.2.14 to prove useful identities involving binomial coefficients.\r\n\r\n✏️ **Example 4.2.15**\r\n\r\nLet \\( n, k, \\ell \\in \\mathbb{N} \\) with \\( \\ell \\leq k \\leq n \\) then\r\n\r\n\\[\r\n\\binom{n}{k} \\binom{k}{\\ell} = \\binom{n}{\\ell} \\binom{n-\\ell}{k-\\ell}\r\n\\]\r\n</markdown>",
    "Q": "Q: What identity involving binomial coefficients can be established based on the given relationship, and how can it be expressed in factorial notation?  \r\n",
    "A": "  \r\nA: The identity can be expressed as  \r\n\r\n\\[\r\n\\binom{n}{k} \\binom{k}{\\ell} = \\frac{n!}{k!(n-k)!} \\cdot \\frac{k!}{\\ell!(k-\\ell)!} = \\frac{n!}{\\ell!(n-k)!(k-\\ell)!} = \\binom{n}{\\ell} \\binom{n-\\ell}{k-\\ell}.\r\n\\]"
  },
  {
    "page": 189,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nIndeed:\r\n\r\n\\[\r\n\\binom{n}{k} \\binom{k}{\\ell} = \\frac{n!}{k!(n-k)!} \\cdot \\frac{k!}{\\ell!(k-\\ell)!} \\quad \\text{by Theorem 4.2.14}\r\n\\]\r\n\r\n\\[\r\n= \\frac{n!k!}{k!\\ell!(n-k)!(k-\\ell)!} \\quad \\text{combine fractions}\r\n\\]\r\n\r\n\\[\r\n= \\frac{n!}{\\ell!(n-k)!(k-\\ell)!} \\quad \\text{cancel } k!\r\n\\]\r\n\r\n\\[\r\n= \\frac{n!(n-\\ell)!}{\\ell!(n-k)!(k-\\ell)!(n-\\ell)!} \\quad \\text{multiply by } \\frac{(n-\\ell)!}{(n-\\ell)!}\r\n\\]\r\n\r\n\\[\r\n= \\frac{n!}{\\ell!(n-\\ell)!} \\cdot \\frac{(n-\\ell)!}{(k-\\ell)!(n-k)!} \\quad \\text{separate fractions}\r\n\\]\r\n\r\n\\[\r\n= \\frac{n!}{\\ell!(n-\\ell)!} \\cdot \\frac{(n-\\ell)!}{(k-\\ell)!((n-\\ell)-(k-\\ell))!} \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n= \\binom{n}{\\ell} \\binom{n-\\ell}{k-\\ell} \\quad \\text{by Theorem 4.2.14}\r\n\\]\r\n\r\n**Exercise 4.2.16**\r\n\r\nProve that \\(\\binom{n}{k} = \\binom{n}{n-k}\\) for all \\(n, k \\in \\mathbb{N}\\) with \\(k \\leq n\\).\r\n\r\nA very useful application of binomial coefficients in elementary algebra is the binomial theorem.\r\n\r\n**Theorem 4.2.17 (Binomial theorem)**\r\n\r\nLet \\(n \\in \\mathbb{N}\\) and \\(x, y \\in \\mathbb{R}\\). Then\r\n\r\n\\[\r\n(x+y)^n = \\sum_{k=0}^{n} \\binom{n}{k} x^k y^{n-k}\r\n\\]\r\n\r\n*Proof*\r\n\r\nIn the case when \\(y = 0\\) we have \\(y^{n-k} = 0\\) for all \\(k < n\\), and so the equation reduces to\r\n\r\n\\[\r\nx^n = x^n y^{n-n}\r\n\\]\r\n\r\nwhich is true, since \\(y^0 = 1\\). So for the rest of the proof, we will assume that \\(y \\neq 0\\).\r\n\r\nWe will now reduce to the case when \\(y = 1\\); and extend to arbitrary \\(y \\neq 0\\) afterwards.\r\n\r\nWe prove \\((1+x)^n = \\sum_{k=0}^{n} \\binom{n}{k} x^k\\) by induction on \\(n\\).\r\n</markdown>",
    "Q": "Q: Prove that \\(\\binom{n}{k} = \\binom{n}{n-k}\\) using the definition of binomial coefficients and properties of factorials. ",
    "A": " A: The proof starts from the definition of binomial coefficients: \r\n\\[\r\n\\binom{n}{k} = \\frac{n!}{k!(n-k)!} \\quad \\text{and} \\quad \\binom{n}{n-k} = \\frac{n!}{(n-k)!(k)!}.\r\n\\]\r\nSince \\((n-k)! = (n-k)! \\) and both expressions share the same numerator \\(n!\\), we have:\r\n\\[\r\n\\binom{n}{k} = \\frac{n!}{k!(n-k)!} = \\frac{n!}{(n-k)!k!} = \\binom{n}{n-k},\r\n\\]\r\nwhich shows that \\(\\binom{n}{k} = \\binom{n}{n-k}\\) for all \\(n, k \\in \\mathbb{N}\\) with \\(k \\leq n\\)."
  },
  {
    "page": 190,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\n- **(Base case)** \\((1+x)^0 = 1\\) and \\(\\binom{0}{0}x^0 = 1 \\cdot 1 = 1\\), so the statement is true when \\(n = 0\\).\r\n- **(Induction step)** Fix \\(n \\in \\mathbb{N}\\) and suppose that\r\n\r\n  \\[\r\n  (1+x)^n = \\sum_{k=0}^{n} \\binom{n}{k} x^k\r\n  \\]\r\n\r\n  We need to show that \\((1+x)^{n+1} = \\sum_{k=0}^{n+1} \\binom{n+1}{k} x^k\\). Well,\r\n\r\n  \\[\r\n  \\begin{align*}\r\n  (1+x)^{n+1} &= (1+x)(1+x)^n & \\text{by laws of indices} \\\\\r\n  &= (1+x) \\cdot \\sum_{k=0}^{n} \\binom{n}{k} x^k & \\text{by induction hypothesis} \\\\\r\n  &= \\sum_{k=0}^{n} \\binom{n}{k} x^k + x \\cdot \\sum_{k=0}^{n} \\binom{n}{k} x^k & \\text{by expanding } (x+1) \\\\\r\n  &= \\sum_{k=0}^{n} \\binom{n}{k} x^k + \\sum_{k=0}^{n} \\binom{n}{k} x^{k+1} & \\text{distributing } x \\\\\r\n  &= \\sum_{k=0}^{n} \\binom{n}{k} x^k + \\sum_{k=1}^{n+1} \\binom{n}{k-1} x^k & k \\to k-1 \\text{ in second sum} \\\\\r\n  &= \\left( \\binom{n}{0} x^0 + \\sum_{k=1}^{n} \\left( \\binom{n}{k} + \\binom{n}{k-1} \\right) x^k + \\binom{n}{n} x^{n+1} \\right) & \\text{splitting the sums} \\\\\r\n  &= \\left( \\binom{n}{0} x^0 + \\sum_{k=1}^{n} \\binom{n+1}{k} x^k + \\binom{n}{n} x^{n+1} \\right) & \\text{by Definition 4.1.15} \\\\\r\n  &= \\left( \\binom{n+1}{0} x^0 + \\sum_{k=1}^{n} \\binom{n+1}{k} x^k + \\binom{n+1}{n+1} x^{n+1} \\right) & \\text{see } (\\ast) \\text{ below} \\\\\r\n  &= \\sum_{k=0}^{n+1} \\binom{n+1}{k} x^k\r\n  \\end{align*}\r\n  \\]\r\n\r\n  The step labelled \\((\\ast)\\) holds because\r\n\r\n  \\[\r\n  \\binom{n}{0} = 1 = \\binom{n+1}{0} \\quad \\text{and} \\quad \\binom{n}{n} = 1 = \\binom{n+1}{n+1}\r\n  \\]\r\n\r\n  By induction, we’ve shown that \\((1+x)^n = \\sum_{i=0}^{n} \\binom{n}{k} x^k\\) for all \\(n \\in \\mathbb{N}\\).\r\n\r\n  When \\(y \\neq 0\\) is not necessarily equal to 1, we have that\r\n\r\n  \\[\r\n  (x+y)^n = y^n \\cdot \\left( 1 + \\frac{x}{y} \\right)^n = y^n \\cdot \\sum_{k=0}^{n} \\binom{n}{k} \\left( \\frac{x}{y} \\right)^k = \\sum_{k=0}^{n} \\binom{n}{k} x^k y^{n-k}\r\n  \\]\r\n</markdown>",
    "Q": "Q: Prove by induction that for any \\( n \\in \\mathbb{N} \\), the identity \\((1+x)^n = \\sum_{k=0}^{n} \\binom{n}{k} x^k\\) holds true. ",
    "A": " A: The base case is true for \\( n = 0 \\) as \\((1+x)^0 = 1\\) equals \\(\\sum_{k=0}^{0} \\binom{0}{k} x^k = 1\\). For the induction step, assume it holds for \\( n \\). Then, expanding \\((1+x)(1+x)^n\\) leads to \\((1+x)^{n+1} = \\sum_{k=0}^{n+1} \\binom{n+1}{k} x^k\\) proving the statement for \\( n+1 \\). Thus, by induction, the identity holds for all \\( n \\in \\mathbb{N} \\)."
  },
  {
    "page": 191,
    "title": "I Core Concepts/4 Mathematical Induction/4.2 Weak Induction",
    "content": "<markdown>\r\nThe middle equation follows by what we just proved; the leftmost and rightmost equations are simple algebraic rearrangements.\r\n\r\n### Example 4.2.18\r\n\r\nIn Example 4.2.13 we saw that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} \\binom{n}{k} = 2^n\r\n\\]\r\n\r\nThis follows quickly from the binomial theorem, since\r\n\r\n\\[\r\n2^n = (1+1)^n = \\sum_{k=0}^{n} \\binom{n}{k} \\cdot 1^k \\cdot 1^{n-k} = \\sum_{k=0}^{n} \\binom{n}{k}\r\n\\]\r\n\r\nLikewise, in Exercise 4.2.19 you proved that the alternating sum of binomial coefficients is zero; that is, for \\( n \\in \\mathbb{N} \\), we have\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0\r\n\\]\r\n\r\nThe proof is greatly simplified by applying the binomial theorem. Indeed, by the binomial theorem, we have\r\n\r\n\\[\r\n0 = 0^n = (-1+1)^n = \\sum_{k=0}^{n} \\binom{n}{k} (-1)^k 1^{n-k} = \\sum_{k=0}^{n} (-1)^k \\binom{n}{k}\r\n\\]\r\n\r\nBoth of these identities can be proved much more elegantly, quickly and easily using enumerative combinatorics. This will be the topic covered in Section 8.1.\r\n\r\n### Exercise 4.2.19\r\n\r\nUse the binomial theorem to prove that\r\n\r\n\\[\r\n\\sum_{i=0}^{n} (-1)^i \\binom{n}{i} = 0\r\n\\]\r\n</markdown>",
    "Q": "Q: How can we use combinatorial arguments to interpret the identity \\(\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0\\)? ",
    "A": " A: This identity can be interpreted in combinatorial terms as counting the number of ways to choose an even number of items versus an odd number of items from a set of \\(n\\) elements; the counts are equal, leading to a net result of zero."
  },
  {
    "page": 192,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\n## Section 4.3\r\n# Strong induction\r\n\r\nConsider the following example, which we will attempt to prove by induction.\r\n\r\n### Example 4.3.1\r\nDefine a sequence recursively by\r\n\r\n\\[\r\nb_0 = 1 \\quad \\text{and} \\quad b_{n+1} = 1 + \\sum_{k=0}^{n} b_k \\quad \\text{for all } n \\in \\mathbb{N}\r\n\\]\r\n\r\nWe will attempt to prove by induction that \\( b_n = 2^n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n- **(Base case)** By definition of the sequence we have \\( b_0 = 1 = 2^0 \\). So far so good.\r\n\r\n- **(Induction step)** Fix \\( n \\in \\mathbb{N} \\), and suppose that \\( b_n = 2^n \\). We need to show that \\( b_{n+1} = 2^{n+1} \\).\r\n\r\n  Well, \r\n\r\n  \\[\r\n  b_{n+1} = 1 + \\sum_{k=0}^{n} b_k = \\ldots \\text{ uh oh.}\r\n  \\]\r\n\r\nHere’s what went wrong. If we could replace each \\( b_k \\) by \\( 2^k \\) in the sum, then we’d be able to complete the proof. However we cannot justify this substitution: our induction hypothesis only gives us information about \\( b_n \\), not about a general term \\( b_k \\) for \\( k < n \\).\r\n\r\nThe strong induction principle looks much like the weak induction principle, except that its induction hypothesis is more powerful. Despite its name, strong induction is no stronger than weak induction; the two principles are equivalent. In fact, we’ll prove the strong induction principle by *weak induction*!\r\n\r\n### Theorem 4.3.2 (Strong induction principle)\r\nLet \\( p(n) \\) be a logical formula with free variable \\( n \\in \\mathbb{N} \\) and let \\( n_0 \\in \\mathbb{N} \\). If\r\n\r\n(i) \\( p(n_0) \\) is true; and\r\n\r\n(ii) For all \\( n \\geq n_0 \\), if \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\), then \\( p(n+1) \\) is true;\r\n\r\nthen \\( p(n) \\) is true for all \\( n \\geq n_0 \\).\r\n\r\n**Proof**\r\n\r\nFor each \\( n \\geq n_0 \\), let \\( q(n) \\) be the assertion that \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\).\r\n\r\nNotice that \\( q(n) \\) implies \\( p(n) \\) for all \\( n \\geq n_0 \\), since given \\( n \\geq n_0 \\), if \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\), then in particular \\( p(k) \\) is true when \\( k = n \\).\r\n</markdown>",
    "Q": "Q: Using strong induction, prove that for all \\( n \\in \\mathbb{N} \\), \\( b_n = 2^n \\) where \\( b_0 = 1 \\) and \\( b_{n+1} = 1 + \\sum_{k=0}^{n} b_k \\). ",
    "A": " A: For the base case, \\( b_0 = 1 = 2^0 \\) holds. Assume \\( b_k = 2^k \\) for all \\( k \\) such that \\( 0 \\leq k \\leq n \\). Then, \\( b_{n+1} = 1 + \\sum_{k=0}^{n} b_k = 1 + \\sum_{k=0}^{n} 2^k = 1 + (2^{n+1} - 1) = 2^{n+1} \\). Thus, by strong induction, \\( b_n = 2^n \\) for all \\( n \\in \\mathbb{N} \\)."
  },
  {
    "page": 193,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\nSo it suffices to prove \\( q(n) \\) is true for all \\( n \\geq n_0 \\). We do so by weak induction.\r\n\r\n- **(Base case)** \\( q(n_0) \\) is equivalent to \\( p(n_0) \\), since the only natural number \\( k \\) with \\( n_0 \\leq k \\leq n_0 \\) is \\( n_0 \\) itself; hence \\( q(n_0) \\) is true by condition (i).\r\n\r\n- **(Induction step)** Let \\( n \\geq n_0 \\) and suppose \\( q(n) \\) is true. Then \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\).\r\n\r\n  We need to prove that \\( q(n+1) \\) is true—that is, that \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n+1 \\).\r\n  But we know \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\)—this is the induction hypothesis—and then \\( p(n+1) \\) is true by condition (ii). So we have that \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n+1 \\) after all.\r\n\r\nBy induction, \\( q(n) \\) is true for all \\( n \\geq n_0 \\). Hence \\( p(n) \\) is true for all \\( n \\geq n_0 \\).\r\n\r\n❖ **Strategy 4.3.3 (Proof by strong induction)**\r\n\r\nIn order to prove a proposition of the form \\( \\forall n \\geq n_0, p(n) \\), it suffices to prove that:\r\n\r\n- **(Base case)** \\( p(n_0) \\) is true; and\r\n\r\n- **(Induction step)** For all \\( n \\geq n_0 \\), if \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\), then \\( p(n+1) \\) is true.\r\n\r\nLike with weak induction, we can illustrate how strong induction works diagrammatically. The induction hypothesis, represented by the large square, now encompasses \\( p(k) \\) for all \\( n_0 \\leq k \\leq n \\), where \\( p(n_0) \\) is the base case.\r\n\r\nObserve that the only difference from weak induction is the induction hypothesis.\r\n\r\n- **Weak induction step:** Fix \\( n \\geq n_0 \\), \\(\\boxed{\\text{assume } p(n) \\text{ is true}}\\), derive \\( p(n+1) \\);\r\n\r\n- **Strong induction step:** Fix \\( n \\geq n_0 \\), \\(\\boxed{\\text{assume } p(k) \\text{ is true for all } n_0 \\leq k \\leq n}\\), derive \\( p(n+1) \\).\r\n\r\nWe now use strong induction to complete the proof of Example 4.3.1.\r\n</markdown>",
    "Q": "Q: In the context of induction, how does strong induction differ from weak induction when proving a statement for all \\( n \\geq n_0 \\)? ",
    "A": " A: Strong induction assumes that \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\) in the induction step, while weak induction assumes \\( p(n) \\) is true for a specific \\( n \\) and uses that to prove \\( p(n+1) \\)."
  },
  {
    "page": 194,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\n### Example 4.3.4 (Example 4.3.1 revisited)\r\n\r\nDefine a sequence recursively by\r\n\r\n\\[ \r\nb_0 = 1 \\quad \\text{and} \\quad b_{n+1} = 1 + \\sum_{k=0}^{n} b_k \\quad \\text{for all } n \\in \\mathbb{N} \r\n\\]\r\n\r\nWe will prove by strong induction that \\( b_n = 2^n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n- **(Base case)** By definition of the sequence we have \\( b_0 = 1 = 2^0 \\).\r\n\r\n- **(Induction step)** Fix \\( n \\in \\mathbb{N} \\), and suppose that \\( b_k = 2^k \\) for all \\( k \\leq n \\). We need to show that \\( b_{n+1} = 2^{n+1} \\). This is true, since\r\n\r\n  \\[\r\n  b_{n+1} = 1 + \\sum_{k=0}^{n} b_k \\quad \\text{by the recursive formula for } b_{n+1}\r\n  \\]\r\n\r\n  \\[\r\n  = 1 + \\sum_{k=0}^{n} 2^k \\quad \\text{by the induction hypothesis}\r\n  \\]\r\n\r\n  \\[\r\n  = 1 + (2^{n+1} - 1) \\quad \\text{by Exercise 4.2.5}\r\n  \\]\r\n\r\n  \\[\r\n  = 2^{n+1}\r\n  \\]\r\n\r\nBy induction, it follows that \\( b_n = 2^n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\nThe following theorem adapts the strong induction principle to proofs where we need to refer to a *fixed* number of previous steps in our induction step.\r\n\r\n### Theorem 4.3.5 (Strong induction principle (multiple base cases))\r\n\r\nLet \\( p(n) \\) be a logical formula with free variable \\( n \\in \\mathbb{N} \\) and let \\( n_0 < n_1 \\in \\mathbb{N} \\). If\r\n\r\n(i) \\( p(n_0), p(n_0 + 1), \\ldots, p(n_1) \\) are all true; and\r\n\r\n(ii) For all \\( n \\geq n_1 \\), if \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\), then \\( p(n+1) \\) is true;\r\n\r\nthen \\( p(n) \\) is true for all \\( n \\geq n_0 \\).\r\n\r\n**Proof**\r\n\r\nThe fact that \\( p(n) \\) is true for all \\( n \\geq n_0 \\) follows from strong induction. Indeed:\r\n\r\n- **(Base case)** \\( p(n_0) \\) is true by (i);\r\n\r\n- **(Induction step)** Fix \\( n \\geq n_0 \\) and assume \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\). Then:\r\n\r\n  - If \\( n < n_1 \\), then \\( n + 1 \\leq n_1 \\), so that \\( p(n) \\) is true by (i);\r\n</markdown>",
    "Q": "Q: Prove that \\( b_2 = 2^2 \\) using the recursive definition of the sequence \\( b_n \\). ",
    "A": " A: To prove \\( b_2 = 2^2 \\), we calculate \\( b_1 \\) and then \\( b_2 \\):\r\n\r\n1. From the base case, \\( b_0 = 1 \\).\r\n2. For \\( n = 0 \\), \\( b_1 = 1 + \\sum_{k=0}^{0} b_k = 1 + b_0 = 1 + 1 = 2 \\).\r\n3. For \\( n = 1 \\), \\( b_2 = 1 + \\sum_{k=0}^{1} b_k = 1 + (b_0 + b_1) = 1 + (1 + 2) = 4 \\).\r\n\r\nThus, \\( b_2 = 4 = 2^2 \\). Therefore, \\( b_2 = 2^2 \\) is verified."
  },
  {
    "page": 195,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\nIf \\( n \\geq n_1 \\), then \\( p(n+1) \\) is true by (ii).\r\n\r\nIn both cases we see that \\( p(n+1) \\) is true, as required.\r\n\r\nThus by strong induction, we have that \\( p(n) \\) is true for all \\( n \\geq n_0 \\).\r\n\r\n### Strategy 4.3.6 (Proof by strong induction with multiple base cases)\r\nIn order to prove a statement of the form \\(\\forall n \\geq n_0, p(n)\\), it suffices to prove that:\r\n\r\n- **(Base cases)** \\( p(k) \\) for all \\( k \\in \\{n_0, n_0 + 1, \\ldots, n_1\\} \\), where \\( n_1 > n_0 \\); and\r\n- **(Induction step)** For all \\( n \\geq n_1 \\), if \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\), then \\( p(n+1) \\) is true.\r\n\r\nThis kind of strong induction differs from the usual kind in two main ways:\r\n\r\n- There are multiple base cases \\( p(n_0), p(n_0 + 1), \\ldots, p(n_1) \\), not just one.\r\n\r\n- The induction step refers to both the least base case \\( n_0 \\) and the greatest base case \\( n_1 \\): the variable \\( n \\) in the induction step is taken to be greater than or equal to \\( n_1 \\), while the induction hypothesis assumes \\( p(k) \\) for all \\( n_0 \\leq k \\leq n \\).\r\n\r\nThe following diagram illustrates how strong induction with multiple base cases works.\r\n\r\nNote the difference in quantification of variables in the induction step between regular strong induction and strong induction with multiple base cases:\r\n\r\n- **One base case.** Fix \\( n \\geq n_0 \\) and assume \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\).\r\n\r\n- **Multiple base cases.** Fix \\( n \\geq n_1 \\) and assume \\( p(k) \\) is true for all \\( n_0 \\leq k \\leq n \\).\r\n\r\nGetting the quantification of the variables \\( n \\) and \\( k \\) in the strong induction step is crucial, since the quantification affects what may be assumed about \\( n \\) and \\( k \\).\r\n\r\nThe need for multiple base cases often arises when proving results about recursively defined sequences, where the definition of a general term depends on the values of a fixed number of previous terms.\r\n</markdown>",
    "Q": "Q: What is the main difference between strong induction with one base case and strong induction with multiple base cases? ",
    "A": " A: The main difference is that strong induction with multiple base cases requires proving \\( p(k) \\) for all base cases \\( k \\) in the set \\(\\{n_0, n_0 + 1, \\ldots, n_1\\}\\), while one base case only requires proving \\( p(n_0) \\). Additionally, the induction step in multiple base cases refers to the variable \\( n \\) being greater than or equal to \\( n_1 \\), while the traditional approach uses just one base case."
  },
  {
    "page": 196,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\n### Example 4.3.7\r\n\r\nDefine the sequence\r\n\r\n\\[ a_0 = 0, \\quad a_1 = 1, \\quad a_n = 3a_{n-1} - 2a_{n-2} \\text{ for all } n \\geq 2 \\]\r\n\r\nWe find and prove a general formula for \\( a_n \\) in terms of \\( n \\). Writing out the first few terms in the sequence establishes a pattern that we might attempt to prove:\r\n\r\n\\[\r\n\\begin{array}{c|cccccccc}\r\nn & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\\\\r\n\\hline\r\na_n & 0 & 1 & 3 & 7 & 15 & 31 & 63 & 127 & 255 \\\\\r\n\\end{array}\r\n\\]\r\n\r\nIt appears that \\( a_n = 2^n - 1 \\) for all \\( n \\geq 0 \\). We prove this by strong induction, taking the cases \\( n = 0 \\) and \\( n = 1 \\) as our base cases.\r\n\r\n- **(Base cases)** By definition of the sequence, we have:\r\n  - \\( a_0 = 0 = 2^0 - 1 \\); and\r\n  - \\( a_1 = 1 = 2^1 - 1 \\);\r\n\r\n  so the claim is true when \\( n = 0 \\) and \\( n = 1 \\).\r\n\r\n- **(Induction step)** Fix \\( n \\geq 1 \\) and assume that \\( a_k = 2^k - 1 \\) for all \\( 0 \\leq k \\leq n \\). We need to prove that \\( a_{n+1} = 2^{n+1} - 1 \\).\r\n\r\n  Well since \\( n \\geq 1 \\), we have \\( n+1 \\geq 2 \\), so we can apply the recursive formula to \\( a_{n+1} \\). Thus\r\n\r\n  \\[\r\n  \\begin{align*}\r\n  a_{n+1} &= 3a_n - 2a_{n-1} & \\text{by definition of } a_{n+1} \\\\\r\n  &= 3(2^n - 1) - 2(2^{n-1} - 1) & \\text{by induction hypothesis} \\\\\r\n  &= 3 \\cdot 2^n - 3 - 2 \\cdot 2^{n-1} + 2 & \\text{expanding} \\\\\r\n  &= 3 \\cdot 2^n - 3 - 2^n + 2 & \\text{using laws of indices} \\\\\r\n  &= 2 \\cdot 2^n - 1 & \\text{simplifying} \\\\\r\n  &= 2^{n+1} - 1 & \\text{using laws of indices}\r\n  \\end{align*}\r\n  \\]\r\n\r\nSo the result follows by induction.\r\n\r\nThe following exercises have proofs by strong induction with multiple base cases.\r\n\r\n### Exercise 4.3.8\r\n\r\nDefine a sequence recursively by \\( a_0 = 4, \\, a_1 = 9 \\) and \\( a_n = 5a_{n-1} - 6a_{n-2} \\) for all \\( n \\geq 2 \\). Prove that \\( a_n = 3 \\cdot 2^n + 3^n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n### Exercise 4.3.9\r\n\r\nThe **Tribonacci sequence** is the sequence \\( t_0, t_1, t_2, \\ldots \\) defined by\r\n\r\n\\[ t_0 = 0, \\quad t_1 = 0, \\quad t_2 = 1, \\quad t_n = t_{n-1} + t_{n-2} + t_{n-3} \\text{ for all } n \\geq 3 \\]\r\n</markdown>",
    "Q": "Q: Prove the formula for the sequence defined by \\( b_n = 7b_{n-1} - 10b_{n-2} \\) with initial values \\( b_0 = 2 \\) and \\( b_1 = 5 \\) for all \\( n \\geq 2 \\) to show that \\( b_n = 3 \\cdot 2^n + 2 \\cdot 3^n \\) for all \\( n \\in \\mathbb{N} \\). ",
    "A": " A: The proof follows by strong induction; the base cases yield \\( b_0 = 2 = 3 \\cdot 2^0 + 2 \\cdot 3^0 \\) and \\( b_1 = 5 = 3 \\cdot 2^1 + 2 \\cdot 3^1 \\); assuming it holds for \\( n \\) implies \\( b_{n+1} = 7(3 \\cdot 2^n + 2 \\cdot 3^n) - 10(3 \\cdot 2^{n-1} + 2 \\cdot 3^{n-1}) = 3 \\cdot 2^{n+1} + 2 \\cdot 3^{n+1} \\)."
  },
  {
    "page": 197,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\n## Section 4.3. Strong induction\r\n\r\nProve that \\( t_n \\leq 2^{n-3} \\) for all \\( n \\geq 3 \\).\r\n\r\n### Exercise 4.3.10\r\n\r\nThe Frobenius coin problem asks when a given amount of money can be obtained from coins of given denominations. For example, a value of 7 dubloons cannot be obtained using only 3 dubloon and 5 dubloon coins, but for all \\( n \\geq 8 \\), a value of \\( n \\) dubloons can be obtained using only 3 dubloon and 5 dubloon coins. Prove this.\r\n\r\n## Well-ordering principle\r\n\r\nThe underlying reason why we can perform induction and recursion on the natural numbers is because of the way they are ordered. Specifically, the natural numbers satisfy the **well-ordering principle**: if a set of natural numbers has at least one element, then it has a least element. This sets the natural numbers apart from the other number sets; for example, \\(\\mathbb{Z}\\) has no least element, since if \\( a \\in \\mathbb{Z} \\) then \\( a - 1 \\in \\mathbb{Z} \\) and \\( a - 1 < a \\).\r\n\r\n### Theorem 4.3.11 (Well-ordering principle)\r\n\r\nLet \\( X \\) be a set of natural numbers. If \\( X \\) is inhabited, then \\( X \\) has a least element.\r\n\r\n**Idea of proof**\r\n\r\nUnder the assumption that \\( X \\) is a set of natural numbers, the proposition we want to prove has the form \\( p \\Rightarrow q \\). Namely\r\n\r\n\\[ \r\nX \\text{ is inhabited } \\Rightarrow X \\text{ has a least element} \r\n\\]\r\n\r\nAssuming \\( X \\) is inhabited doesn’t really give us much to work with, so let’s try the contrapositive:\r\n\r\n\\[ \r\nX \\text{ has no least element } \\Rightarrow X \\text{ is empty} \r\n\\]\r\n\r\nThe assumption that \\( X \\) has no least element *does* give us something to work with. Under this assumption we need to deduce that \\( X \\) is empty.\r\n\r\nWe will do this by ‘forcing \\( X \\) up’ by strong induction. Certainly \\( 0 \\notin X \\), otherwise it would be the least element. If none of the numbers \\( 0, 1, \\ldots, n \\) are elements of \\( X \\) then neither can \\( n + 1 \\) be, since if it were then it would be the least element of \\( X \\). Let’s make this argument formal.\r\n\r\n**Proof**\r\n\r\nLet \\( X \\) be a set of natural numbers containing no least element. We prove by strong induction that \\( n \\notin X \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n- **(Base case)** \\( 0 \\notin X \\) since if \\( 0 \\in X \\) then 0 must be the least element of \\( X \\), as it is the least natural number.\r\n</markdown>",
    "Q": "Q: Using the well-ordering principle, can you explain why the set \\( X = \\{ n \\in \\mathbb{N} : n \\text{ cannot be expressed as a sum of non-negative multiples of 3 and 5} \\} \\) has a least element?  \r\n",
    "A": "  \r\nA: By the well-ordering principle, since \\( X \\) is a set of natural numbers and is non-empty, it must contain a least element. If \\( X \\) were to have no least element, it would contradict the well-ordering principle, thus confirming that despite some values being unattainable, \\( X \\) must contain at least one smallest value, proving that \\( X \\) is inhabited."
  },
  {
    "page": 198,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\n- **(Induction step)** Suppose \\( k \\notin X \\) for all \\( 0 \\leq k \\leq n \\). If \\( n + 1 \\in X \\) then \\( n + 1 \\) is the least element of \\( X \\); indeed, if \\( \\ell < n + 1 \\) then \\( 0 \\leq \\ell \\leq n \\), so \\( \\ell \\notin X \\) by the induction hypothesis. This contradicts the assumption that \\( X \\) has no least element, so \\( n + 1 \\notin X \\).\r\n\r\nBy strong induction, \\( n \\notin X \\) for each \\( n \\in \\mathbb{N} \\). Since \\( X \\) is a set of natural numbers, and it contains no natural numbers, it follows that \\( X \\) is empty.\r\n\r\nThe following proof that \\( \\sqrt{2} \\) is irrational is a classic application of the well-ordering principle.\r\n\r\n✣ **Proposition 4.3.12**  \r\nThe number \\( \\sqrt{2} \\) is irrational.\r\n\r\nTo prove **Proposition 4.3.12** we will use the following lemma, which uses the well-ordering principle to prove that fractions can be ‘cancelled to lowest terms’.\r\n\r\n✣ **Lemma 4.3.13**  \r\nLet \\( q \\) be a positive rational number. There is a pair of nonzero natural numbers \\( a, b \\) such that \\( q = \\frac{a}{b} \\) and such that the only natural number which divides both \\( a \\) and \\( b \\) is 1.\r\n\r\n*Proof*  \r\nFirst note that we can express \\( q \\) as the ratio of two nonzero natural numbers, since \\( q \\) is a positive rational number. By the well-ordering principle, there is a *least* natural number \\( a \\) such that \\( q = \\frac{a}{b} \\) for some positive \\( b \\in \\mathbb{N} \\).\r\n\r\nSuppose that some natural number \\( d \\) other than 1 divides both \\( a \\) and \\( b \\). Note that \\( d \\neq 0 \\), since if \\( d = 0 \\) then that would imply \\( a = 0 \\). Since \\( d \\neq 1 \\), it follows that \\( d \\geq 2 \\).\r\n\r\nSince \\( d \\) divides \\( a \\) and \\( b \\), there exist natural numbers \\( a', b' \\) such that \\( a = a'd \\) and \\( b = b'd \\). Moreover, \\( a', b' > 0 \\) since \\( a, b, d > 0 \\). It follows that\r\n\r\n\\[\r\nq = \\frac{a}{b} = \\frac{a'd}{b'd} = \\frac{a'}{b'}\r\n\\]\r\n\r\nBut \\( d \\geq 2 \\), and hence\r\n\r\n\\[\r\na' = \\frac{a}{d} \\leq \\frac{a}{2} < a\r\n\\]\r\n\r\ncontradicting minimality of \\( a \\). Hence our assumption that some natural number \\( d \\) other than 1 divides both \\( a \\) and \\( b \\) was false—it follows that the only natural number dividing both \\( a \\) and \\( b \\) is 1.\r\n\r\nWe are now ready to prove that \\( \\sqrt{2} \\) is irrational.\r\n\r\n*Proof of Proposition 4.3.12*  \r\nSuppose \\( \\sqrt{2} \\) is rational. Since \\( \\sqrt{2} > 0 \\), this means that we can write\r\n\r\n\\[\r\n\\sqrt{2} = \\frac{a}{b}\r\n\\]\r\n</markdown>",
    "Q": "Q: How can we use the well-ordering principle to show that if \\( \\sqrt{3} \\) is expressed as a fraction \\( \\frac{a}{b} \\) in lowest terms, the only natural number that can divide both \\( a \\) and \\( b \\) is 1? ",
    "A": " A: By the well-ordering principle, there exists a least natural number \\( a \\) such that \\( \\sqrt{3} = \\frac{a}{b} \\) with \\( b \\in \\mathbb{N} \\). If any natural number \\( d > 1 \\) divides both \\( a \\) and \\( b \\), we can express \\( a \\) and \\( b \\) as \\( a = a'd \\) and \\( b = b'd \\) (where \\( a', b' > 0 \\)), leading to a contradiction as \\( a' < a \\) violates the minimality of \\( a \\). Hence, \\( d \\) must equal 1."
  },
  {
    "page": 199,
    "title": "I Core Concepts/4 Mathematical Induction/4.3 Strong Induction",
    "content": "<markdown>\r\nwhere \\( a \\) and \\( b \\) are both positive natural numbers. By Lemma 4.3.13, we may assume that the only natural number dividing \\( a \\) and \\( b \\) is 1.\r\n\r\nMultiplying the equation \\(\\sqrt{2} = \\frac{a}{b}\\) and squaring yields\r\n\r\n\\[ a^2 = 2b^2 \\]\r\n\r\nHence \\( a^2 \\) is even. By Proposition 1.1.46, \\( a \\) is even, so we can write \\( a = 2c \\) for some \\( c > 0 \\). Then \\( a^2 = (2c)^2 = 4c^2 \\), and hence\r\n\r\n\\[ 4c^2 = 2b^2 \\]\r\n\r\nDividing by 2 yields\r\n\r\n\\[ 2c^2 = b^2 \\]\r\n\r\nand hence \\( b^2 \\) is even. By Proposition 1.1.46 again, \\( b \\) is even.\r\n\r\nBut if \\( a \\) and \\( b \\) are both even, the natural number 2 divides both \\( a \\) and \\( b \\). This contradicts the fact that the only natural number dividing both \\( a \\) and \\( b \\) is 1. Hence our assumption that \\(\\sqrt{2}\\) is rational is incorrect, and \\(\\sqrt{2}\\) is irrational.\r\n\r\n❖ **Writing tip**\r\n\r\nIn the proof of Proposition 4.3.12 we could have separately proved that \\( a^2 \\) being even implies \\( a \\) is even, and that \\( b^2 \\) being even implies \\( b \\) is even. This would have required us to repeat the same proof twice, which is somewhat tedious! Proving auxiliary results separately (as in Lemma 4.3.13) and then quoting them in later theorems can improve the readability of the main proof, particularly when the auxiliary results are particularly technical. Doing so also helps emphasise the important steps.\r\n\r\n✎ **Exercise 4.3.14**\r\n\r\nWhat goes wrong in the proof of Proposition 4.3.12 if we try instead to prove that \\(\\sqrt{4}\\) is irrational?\r\n\r\n✎ **Exercise 4.3.15**\r\n\r\nProve that \\(\\sqrt{3}\\) is irrational.\r\n</markdown>",
    "Q": "Q: If \\( c \\) is a positive natural number such that \\( a = 2c \\) and we proceed with the proof structure described for \\(\\sqrt{2}\\), what would be the resulting equation after substituting \\( a \\) into \\( a^2 = 2b^2 \\) and dividing both sides by 2? ",
    "A": " A: The resulting equation would be \\( 2c^2 = b^2 \\)."
  },
  {
    "page": 200,
    "title": "I Core Concepts/4 Mathematical Induction/4.E Chapter 4 Exercises",
    "content": "<markdown>\r\n## Chapter 4 exercises\r\n\r\n### Recursive definitions\r\n\r\nIn Questions 4.1 to 4.5, use the recursive definitions of addition, multiplication and exponentiation directly to prove the desired equation.\r\n\r\n4.1. \\(1 + 3 = 4\\)\r\n\r\n4.2. \\(0 + 5 = 5\\)\r\n\r\n4.3. \\(2 \\cdot 3 = 6\\)\r\n\r\n4.4. \\(0 \\cdot 5 = 0\\)\r\n\r\n4.5. \\(2^3 = 8\\)\r\n\r\n4.6. Give a recursive definition of new quantifiers \\(\\exists^n\\) for \\(n \\in \\mathbb{N}\\), where given a set \\(X\\) and a predicate \\(p(x)\\), the logical formula \\(\\exists^n x \\in X, \\, p(x)\\) means ‘there are exactly \\(n\\) elements \\(x \\in X\\) such that \\(p(x)\\) is true’. That is, define \\(\\exists^0\\), and then define \\(\\exists^{n+1}\\) in terms of \\(\\exists^n\\).\r\n\r\n4.7. Use the recursive definition of binomial coefficients ([Definition 4.1.15](#)) to prove directly that \\(\\binom{4}{2} = 6\\).\r\n\r\n4.8. (a) Find the number of trailing 0s in the decimal expansion of \\(41!\\).\r\n\r\n(b) Find the number of trailing 0s in the binary expansion of \\(41!\\).\r\n\r\n4.9. Let \\(N\\) be a set, let \\(z \\in N\\) and let \\(s : N \\to N\\). Prove that \\((N, z, s)\\) is a notion of natural numbers (in the sense of [Definition 4.1.1](#)) if and only if, for every set \\(X\\), every element \\(a \\in X\\) and every function \\(f : X \\to X\\), there is a unique function \\(h : N \\to X\\) such that \\(h(z) = a\\) and \\(h \\circ f = s \\circ h\\).\r\n\r\n### Proofs by induction\r\n\r\n4.10. Find all natural numbers \\(n\\) such that \\(n^5 < 5^n\\).\r\n\r\n4.11. Prove that \\((1 + x)^{123 \\, 456 \\, 789} \\geq 1 + 123 \\, 456 \\, 789 \\cdot x\\) for all real \\(x \\geq -1\\).\r\n\r\n4.12. Let \\(a \\in \\mathbb{N}\\) and assume that the last digit in the decimal expansion of \\(a\\) is 6. Prove that the last digit in the decimal expansion of \\(a^n\\) is 6 for all \\(n \\geq 1\\).\r\n</markdown>",
    "Q": "Q: Using the recursive definition of multiplication, prove that \\(3 \\cdot 4 = 12\\).  \r\n",
    "A": "  \r\nA: To prove \\(3 \\cdot 4 = 12\\) using the recursive definition of multiplication, we define \\(a \\cdot 0 = 0\\) and \\(a \\cdot (b + 1) = a \\cdot b + a\\). Thus, we have:  \r\n\\[\r\n3 \\cdot 4 = 3 \\cdot (3 + 1) = 3 \\cdot 3 + 3\r\n\\]  \r\nCalculating \\(3 \\cdot 3\\) using the same definition, we find:  \r\n\\[\r\n3 \\cdot 3 = 3 \\cdot (2 + 1) = 3 \\cdot 2 + 3\r\n\\]  \r\nContinuing, we find:  \r\n\\[\r\n3 \\cdot 2 = 3 \\cdot (1 + 1) = 3 \\cdot 1 + 3\r\n\\]  \r\nAnd:  \r\n\\[\r\n3 \\cdot 1 = 3 \\cdot (0 + 1) = 3 \\cdot 0 + 3 = 0 + 3 = 3\r\n\\]  \r\nThus, \\(3 \\cdot 2 = 3 + 3 = 6\\), and then:  \r\n\\[\r\n3 \\cdot 3 = 6 + 3 = 9, \\quad \\text{and finally } 3 \\cdot 4 = 9 + 3 = 12.\r\n\\]  \r\nTherefore, \\(3 \\cdot 4 = 12\\) is proven."
  },
  {
    "page": 201,
    "title": "I Core Concepts/4 Mathematical Induction/4.E Chapter 4 Exercises",
    "content": "<markdown>\r\n### Section 4.E. Chapter 4 exercises\r\n\r\n**4.13.** Let \\( a, b \\in \\mathbb{R} \\), and let \\( a_0, a_1, a_2, \\ldots \\) be a sequence such that \\( a_0 = a, a_1 = b \\) and \r\n\r\n\\[\r\na_n = \\frac{a_{n-1} + a_{n+1}}{2}\r\n\\]\r\n\r\nfor all \\( n \\geq 1 \\). Prove that \\( a_n = a + (b-a)n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n**4.14.** Let \\( f : \\mathbb{R} \\to \\mathbb{R} \\) be a function such that \\( f(x+y) = f(x) + f(y) \\) for all \\( x, y \\in \\mathbb{R} \\).\r\n\r\n(a) Prove by induction that there is a real number \\( a \\) such that \\( f(n) = an \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n(b) Deduce that \\( f(n) = an \\) for all \\( n \\in \\mathbb{Z} \\).\r\n\r\n(c) Deduce further that \\( f(x) = ax \\) for all \\( x \\in \\mathbb{Q} \\).\r\n\r\n**4.15.** Let \\( f : \\mathbb{R} \\to \\mathbb{R} \\) be a function such that \\( f(0) > 0 \\) and \\( f(x+y) = f(x)f(y) \\) for all \\( x, y \\in \\mathbb{R} \\). Prove that there is some positive real number \\( a \\) such that \\( f(x) = a^x \\) for all rational numbers \\( x \\).\r\n\r\n**4.16.** Let \\( a, b \\in \\mathbb{Z} \\). Prove that \\( b-a \\) divides \\( b^n - a^n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n**4.17.** Prove by induction that \\( 7^n - 2 \\cdot 4^n + 1 \\) is divisible by 18 for all \\( n \\in \\mathbb{N} \\).\r\n\r\n### Some examples from calculus\r\n\r\nQuestions **4.18** to **4.23** assume familiarity with the basic techniques of differential and integral calculus.\r\n\r\n**4.18.** Prove that \r\n\r\n\\[\r\n\\frac{d^n}{dx^n} (xe^x) = (n+x)e^x\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\n**4.19.** Find and prove an expression for \r\n\r\n\\[\r\n\\frac{d^n}{dx^n} (x^2e^x)\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\n**4.20.** Let \\( f \\) and \\( g \\) be differentiable functions. Prove that \r\n\r\n\\[\r\n\\frac{d^n}{dx^n} (f(x)g(x)) = \\sum_{k=0}^{n} \\binom{n}{k} f^{(k)}(x)g^{(n-k)}(x)\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\), where the notation \\( h^{(r)} \\) denotes the \\( r \\)th derivative of \\( h \\).\r\n\r\n**4.21.** Find and prove an expression for the \\( n \\)th derivative of \\( \\log(x) \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n**4.22.** Prove that \\( (\\cos \\theta + i \\sin \\theta)^n = \\cos(n\\theta) + i \\sin(n\\theta) \\) for all \\( \\theta \\in \\mathbb{R} \\) and all \\( n \\in \\mathbb{N} \\).\r\n\r\n**4.23.** (a) Prove that \r\n\r\n\\[\r\n\\int_0^{\\frac{\\pi}{2}} \\sin^{n+2}(x) \\, dx = \\frac{n+1}{n+2} \\int_0^{\\frac{\\pi}{2}} \\sin^n(x) \\, dx\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\n(b) Use induction to prove that \r\n\r\n\\[\r\n\\int_0^{\\frac{\\pi}{2}} \\sin^{2n}(x) \\, dx = \\frac{\\pi}{2^{2n+1}} \\binom{2n}{n}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\n(c) Find and prove an expression for \r\n\r\n\\[\r\n\\int_0^{\\frac{\\pi}{2}} \\sin^{2n+1}(x) \\, dx\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n</markdown>",
    "Q": "Q: Let \\( f : \\mathbb{R} \\to \\mathbb{R} \\) be a function such that \\( f(x+y) = f(x) + f(y) \\) for all \\( x, y \\in \\mathbb{R} \\). If \\( f(1) = c \\) for some constant \\( c \\), what is \\( f(n) \\) for any positive integer \\( n \\)? ",
    "A": " A: \\( f(n) = cn \\) for all positive integers \\( n \\)."
  },
  {
    "page": 202,
    "title": "I Core Concepts/4 Mathematical Induction/4.E Chapter 4 Exercises",
    "content": "<markdown>\r\n### True–False questions\r\n\r\nIn Questions 4.24 to 4.32, determine (with proof) whether the statement is true or false.\r\n\r\n4.24. Every factorial is positive.\r\n\r\n4.25. Every binomial coefficient is positive.\r\n\r\n4.26. Every proof by strong induction can be turned into a proof by weak induction by changing only the induction hypothesis.\r\n\r\n4.27. Every proof by weak induction can be turned into a proof by strong induction by changing only the induction hypothesis.\r\n\r\n4.28. Given a set \\( X \\), a surjection \\( f : \\mathbb{N} \\to X \\) and a logical formula \\( p(x) \\) with free variable \\( x \\in X \\), if \\( p(f(0)) \\) is true and \\( \\forall n \\in \\mathbb{N}, \\left( p(f(n)) \\Rightarrow p(f(n+1)) \\right) \\) is true, then \\( \\forall x \\in X, p(x) \\) is true.\r\n\r\n4.29. Given some logical formula \\( p(x) \\) with free variable \\( x \\in \\mathbb{N} \\), if for all \\( x \\in \\mathbb{N} \\) there exists some \\( y \\leq x \\) such that \\( p(x) \\) is false, then \\( p(x) \\) is false for all \\( x \\in \\mathbb{N} \\).\r\n\r\n4.30. Every inhabited subset of the set \\( \\mathbb{Q}_{\\geq 0} \\) of nonnegative rational numbers has a least element.\r\n\r\n4.31. Every inhabited subset of the set \\( \\mathbb{Z} \\) of integers has a least element.\r\n\r\n4.32. Every inhabited subset of the set \\( \\mathbb{Z}_{< 0} \\) of negative integers has a greatest element.\r\n\r\n### Always–Sometimes–Never questions\r\n\r\nIn Questions 4.33 to 4.35, determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n4.33. Let \\( n, k, \\ell \\in \\mathbb{Z} \\). Then \r\n\\[\r\n\\binom{n}{k+\\ell} = \\binom{n}{k} + \\binom{n}{\\ell}.\r\n\\]\r\n\r\n4.34. Let \\( m, n \\geq 2 \\). Then \\( (m+n)! = m! + n! \\).\r\n\r\n4.35. Let \\( p(x) \\) be a logical formula with free variable \\( x \\in \\mathbb{Z} \\), and suppose that \\( p(0) \\) is true and, for all \\( n \\in \\mathbb{Z} \\), if \\( p(n) \\) is true, then \\( p(n+1) \\) and \\( p(n-2) \\) are true. Then \\( \\forall n \\in \\mathbb{Z}, p(n) \\) is true.\r\n</markdown>",
    "Q": "Q: Is the statement \"Every inhabited subset of the set \\( \\mathbb{Z} \\) of integers has a least element\" true or false, and what is the reasoning behind your answer? ",
    "A": " A: The statement is false. An inhabited subset of \\( \\mathbb{Z} \\), such as \\( \\{ x \\in \\mathbb{Z} : x > 0 \\} \\), does not contain a least element, as there is no smallest positive integer that bounds this set from below."
  },
  {
    "page": 204,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n## Section 5.1\r\n### Relations\r\n\r\nMany interesting results or concepts in mathematics arise from observing how the elements of one set interact with the elements of another set, or how elements of a single set interact with each other. We can make this idea of ‘interaction’ precise using the notion of a **relation**.\r\n\r\n✦ **Definition 5.1.1**  \r\nLet \\( X \\) and \\( Y \\) be sets. A (binary) relation from \\( X \\) to \\( Y \\) is a logical formula \\( R(x, y) \\) with two free variables \\( x \\in X \\) and \\( y \\in Y \\). We call \\( X \\) the **domain** of \\( R \\) and \\( Y \\) the **codomain** of \\( R \\).\r\n\r\nA relation \\( R \\) is **homogeneous** if it has the same domain and codomain \\( X \\), in which case we say that \\( R \\) is a relation on \\( X \\).\r\n\r\nGiven \\( x \\in X \\) and \\( y \\in Y \\), if \\( R(x, y) \\) is true then we say ‘\\( x \\) is related to \\( y \\) by \\( R \\)’, and write \\( x R y \\) (\\(\\LaTeX\\) code: \\( x \\mathrel{R} y \\)).\r\n\r\n✐ **Example 5.1.2**  \r\nWe have already seen many examples of relations.\r\n\r\n- Divisibility (‘\\( x \\) divides \\( y \\)’) is a relation on \\( \\mathbb{Z} \\).\r\n- The inequality relation \\(\\leq\\) is a relation on \\( \\mathbb{R} \\).\r\n- For any set \\( X \\), equality \\( = \\) is a relation on \\( X \\).\r\n- Logical equivalence \\(\\equiv\\) is a relation on the set of all logical formulae.\r\n- For any set \\( X \\), the subset relation \\(\\subseteq\\) is a relation on \\(\\mathcal{P}(X)\\).\r\n\r\nThese relations were all homogeneous, but not all relations are:\r\n\r\n- For any set \\( X \\), the elementhood relation \\(\\in\\) is a relation from \\( X \\) to \\(\\mathcal{P}(X)\\).\r\n- Every function \\( f : X \\to Y \\) induces a relation \\( R_f \\) from \\( X \\) to \\( Y \\), defined by taking \\( x R_f y \\) to mean \\( f(x) = y \\).\r\n\r\n✐ **Exercise 5.1.3**  \r\nGive three more examples of relations, not all of which are homogeneous.\r\n</markdown>",
    "Q": "Q: Consider a relation \\( R \\) defined on the set of all natural numbers \\( \\mathbb{N} \\) such that \\( R(x, y) \\) is true if and only if \\( x + y \\) is even. Is this relation homogeneous, and what can you say about the domain and codomain? ",
    "A": " A: Yes, the relation \\( R \\) is homogeneous since both the domain and codomain are \\( \\mathbb{N} \\). Thus, it is a relation on \\( \\mathbb{N} \\)."
  },
  {
    "page": 205,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\nLike with sets and functions, we must determine when to declare that two relations are equal. For example, consider the relation \\( R \\) on \\( \\mathbb{R} \\) defined for \\( a, b \\in \\mathbb{R} \\) by letting \\( a \\, R \\, b \\) mean \\(\\exists x \\in \\mathbb{R}, \\, a + x^2 = b\\). It so happens that \\( a \\, R \\, b \\) if and only if \\( a \\leq b \\)—we’ll prove this in Example 5.1.5. So should \\( R \\) be equal to \\(\\leq\\)? On the one hand you might say ‘yes’, since \\(\\leq\\) and \\( R \\) relate the same pairs of real numbers. On the other hand you might say ‘no’, since the fact that \\(\\leq\\) and \\( R \\) relate the same pairs of real numbers was not immediate and required proof. In fact, if we were to replace \\( \\mathbb{R} \\) by \\( \\mathbb{Q} \\), it then \\(\\leq\\) and \\( R \\) would not relate the same pairs of elements, since for instance \\( 0 \\leq 2 \\) but there is no rational number \\( x \\) such that \\( 0 + x^2 = 2 \\).\r\n\r\nBut as with sets and functions, we settle for the extensional notion of equality: just as two sets are equal when they have the same elements (Axiom 2.1.22), and two functions are equal when they have the same values (Axiom 3.1.4), we consider two relations to be equal when they relate the same pairs of elements (Axiom 5.1.4).\r\n\r\n### Axiom 5.1.4 (Relation extensionality)\r\nLet \\( R \\) and \\( S \\) be relations. Then \\( R = S \\) if and only if \\( R \\) and \\( S \\) have the same domain \\( X \\) and codomain \\( Y \\), and\r\n\r\n\\[\r\n\\forall x \\in X, \\, \\forall y \\in Y, \\, (x \\, R \\, y \\iff x \\, S \\, y)\r\n\\]\r\n\r\nThat is, two relations with the same domain and codomain are equal precisely when they relate the same pairs of elements.\r\n\r\n### Example 5.1.5\r\nRecall the relation \\( R \\) on \\( \\mathbb{R} \\) that we defined above for \\( a, b \\in \\mathbb{R} \\) by letting \\( a \\, R \\, b \\) if and only if \\( a + x^2 = b \\) for some \\( x \\in \\mathbb{R} \\). To see that \\( R = \\leq \\), note that \\( a + (b - a) = b \\), and that \\( b - a \\) is the square of a real number if and only if \\( b - a \\geq 0 \\), which occurs if and only if \\( a \\leq b \\).\r\n\r\n### Exercise 5.1.6\r\nLet \\( R \\) and \\( S \\) be relations on \\( \\mathbb{R} \\) defined for \\( a, b \\in \\mathbb{R} \\) by letting\r\n\r\n\\[\r\na \\, R \\, b \\iff b - a \\in \\mathbb{Q} \\quad \\text{and} \\quad a \\, S \\, b \\iff \\exists n \\in \\mathbb{Z}, \\, (n \\neq 0) \\land n(b - a) \\in \\mathbb{Z}\r\n\\]\r\n\r\nProve that \\( R = S \\).\r\n\r\nThe true reason why Axiom 5.1.4 is powerful is that it allows us to reason about relations entirely set theoretically by working with their graphs—the sets of pairs of elements that they relate—rather than with the particular formulae defining the relation.\r\n\r\n### Definition 5.1.7\r\nLet \\( R \\) be a relation from a set \\( X \\) to a set \\( Y \\). The **graph** of \\( R \\) is the set \\(\\mathrm{Gr}(R)\\) of pairs \\((x, y) \\in X \\times Y\\) for which \\( x \\, R \\, y \\). That is\r\n\r\n\\[\r\n\\mathrm{Gr}(R) = \\{(x, y) \\in X \\times Y \\mid x \\, R \\, y\\} \\subseteq X \\times Y\r\n\\]\r\n</markdown>",
    "Q": "Q: Given the definitions and properties mentioned, can you provide an example of two relations \\( R \\) and \\( S \\) on \\( \\mathbb{R} \\) that are not equal under Axiom 5.1.4, and explain why they do not satisfy the conditions for equality of relations? ",
    "A": " A: Let \\( R \\) be defined by \\( a \\, R \\, b \\iff a + b = 0 \\) and \\( S \\) be defined by \\( a \\, S \\, b \\iff a - b \\in \\mathbb{Z} \\). The relation \\( R \\) relates the pairs \\( (a, -a) \\) while \\( S \\) relates pairs where the difference \\( a - b \\) is an integer. Since \\( R(1, -1) \\) holds true but \\( S(1, -1) \\) does not, \\( R \\) and \\( S \\) do not relate the same pairs of elements, thereby violating the condition defined in Axiom 5.1.4 for equality of relations. Thus, \\( R \\neq S \\)."
  },
  {
    "page": 206,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n### Example 5.1.8\r\n\r\nThe graph of the relation \\(\\leq\\) on \\([3]\\) is\r\n\r\n\\[\r\n\\{(1,1), (1,2), (1,3), (2,2), (2,3), (3,3)\\}\r\n\\]\r\n\r\nLikewise, the graph of the relation \\(\\leq\\) viewed as a relation from \\([2]\\) to \\([4]\\) is\r\n\r\n\\[\r\n\\{(1,1), (1,2), (1,3), (1,4), (2,2), (2,3), (2,4)\\}\r\n\\]\r\n\r\nThis demonstrates that the graph of a relation is sensitive to the domain (and codomain) of the relation.\r\n\r\n### Example 5.1.9\r\n\r\nConsider the relation \\(C\\) from \\(\\mathbb{R}\\) to \\(\\mathbb{R}\\) defined by \\(x \\, C \\, y \\iff x^2 + y^2 = 1\\). Then\r\n\r\n\\[\r\n\\text{Gr}(C) = \\{(x, y) \\in \\mathbb{R} \\times \\mathbb{R} \\mid x^2 + y^2 = 1\\}\r\n\\]\r\n\r\nPlotting \\(\\text{Gr}(C)\\) on a standard pair of axes yields a circle with radius 1 centred at the point \\((0,0)\\), shown below with a unit grid.\r\n\r\nNote that \\(\\text{Gr}(C)\\) is *not* the graph of a function \\(f : [0,1] \\to \\mathbb{R}\\), since for example both \\((0,1)\\) and \\((0,-1)\\) are elements of \\(\\text{Gr}(C)\\), the value \\(f(0)\\) would not be uniquely defined.\r\n\r\n### Exercise 5.1.10\r\n\r\nLet \\(R\\) be the relation on \\(\\mathbb{Z}\\) defined for \\(x, y \\in \\mathbb{Z}\\) by letting \\(x \\, R \\, y\\) if and only if \\(x^2 = y^2\\). Describe its graph \\(\\text{Gr}(R) \\subseteq \\mathbb{Z} \\times \\mathbb{Z}\\).\r\n</markdown>",
    "Q": "Q: Describe the graph of the relation \\(R\\) on \\(\\mathbb{Z}\\) defined by the property \\(x \\, R \\, y\\) if and only if \\(x^2 = y^2\\). ",
    "A": " A: The graph of the relation \\(R\\) is given by \r\n\r\n\\[\r\n\\text{Gr}(R) = \\{(x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\mid y = x \\text{ or } y = -x\\}.\r\n\\]\r\n\r\nThis means that for every integer \\(x\\), the graph includes the points \\((x, x)\\) and \\((x, -x)\\), forming two lines through the origin in the integer lattice."
  },
  {
    "page": 207,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n### Exercise 5.1.11\r\n\r\nLet \\( f : X \\to Y \\) be a function, and define the relation \\( R_f \\) from \\( X \\) to \\( Y \\) as in Example 5.1.2. Prove that \\(\\text{Gr}(R_f) = \\text{Gr}(f)\\)—that is, the graph of the relation \\( R_f \\) is equal to the graph of the function \\( f \\).\r\n\r\n### Definition 5.1.12\r\n\r\nThe **discrete relation** from a set \\( X \\) to a set \\( Y \\) is the relation \\( D_{X,Y} \\) defined by letting \\( x D_{X,Y} y \\) be true for all \\( x \\in X \\) and \\( y \\in Y \\).\r\n\r\nThe **empty relation** from a set \\( X \\) to a set \\( Y \\) is the relation \\( \\emptyset_{X,Y} \\) (\\(\\LaTeX\\) code: `\\varnothing`) defined by letting \\( x \\emptyset_{X,Y} y \\) be false for all \\( x \\in X \\) and \\( y \\in Y \\).\r\n\r\n### Exercise 5.1.13\r\n\r\nLet \\( X \\) and \\( Y \\) be sets. Describe the graphs \\(\\text{Gr}(D_{X,Y})\\) and \\(\\text{Gr}(\\emptyset_{X,Y})\\).\r\n\r\nIt turns out that, for fixed sets \\( X \\) and \\( Y \\), relations from \\( X \\) to \\( Y \\) correspond with subsets of \\( X \\times Y \\)—see Theorem 5.1.14 below. This fact is so convenient that many (if not most) authors actually define ‘relation from \\( X \\) to \\( Y \\)’ to mean ‘subset of \\( X \\times Y \\)’.\r\n\r\n### Theorem 5.1.14\r\n\r\nLet \\( X \\) and \\( Y \\) be sets. Every subset \\( G \\subseteq X \\times Y \\) is the graph of a unique relation \\( R \\) from \\( X \\) to \\( Y \\).\r\n\r\n**Proof**\r\n\r\nFix \\( G \\subseteq X \\times Y \\). Define a relation \\( R \\) by\r\n\r\n\\[\r\n\\forall x \\in X, \\, \\forall y \\in Y, \\, x R y \\iff (x, y) \\in G\r\n\\]\r\n\r\nThen certainly \\( G = \\text{Gr}(R) \\), since for all \\( x \\in X \\) and \\( y \\in Y \\) we have\r\n\r\n\\[\r\n(x, y) \\in G \\iff x R y \\iff (x, y) \\in \\text{Gr}(R)\r\n\\]\r\n\r\nMoreover, if \\( S \\) is a relation from \\( X \\) to \\( Y \\) such that \\( G = \\text{Gr}(S) \\), then, for all \\( x \\in X \\) and \\( y \\in Y \\)\r\n\r\n\\[\r\nx S y \\iff (x, y) \\in \\text{Gr}(S) \\iff (x, y) \\in G \\iff x R y\r\n\\]\r\n\r\nso \\( S = R \\).\r\n\r\nHence there is exactly one relation from \\( X \\) to \\( Y \\) whose graph is \\( G \\).\r\n\r\nTheorem 5.1.14 suggests that, for the purposes of defining relations and proving that relations are equal, we may work entirely set theoretically with the graphs of the relations.\r\n</markdown>",
    "Q": "Q: What is the graph of the discrete relation \\( D_{X,Y} \\), where \\( X \\) and \\( Y \\) are arbitrary sets? ",
    "A": " A: The graph of the discrete relation \\( D_{X,Y} \\) is given by \\(\\text{Gr}(D_{X,Y}) = X \\times Y\\), representing all possible pairs \\((x, y)\\) where \\( x \\in X \\) and \\( y \\in Y\\)."
  },
  {
    "page": 208,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n### Strategy 5.1.15 (Relations as graphs)\r\n\r\nIn order to specify a relation \\( R \\), it suffices to specify its domain \\( X \\), its codomain \\( Y \\), and its graph \\( \\text{Gr}(R) \\subseteq X \\times Y \\). Furthermore, in order to prove that two relations \\( R \\) and \\( S \\) are equal, it suffices to prove that they have the same domain and codomain, and that their graphs are equal.\r\n\r\n### Example 5.1.16\r\n\r\nConsider the set \\( G = \\{(2m+i, 2n+i) \\mid m, n \\in \\mathbb{Z}, i \\in \\{0, 1\\}\\} \\). Since \\( G \\subseteq \\mathbb{Z} \\times \\mathbb{Z} \\), it is the graph of a (unique) relation \\( R \\) on \\( \\mathbb{Z} \\), which is necessarily defined for \\( a, b \\in \\mathbb{Z} \\) by letting \\( a \\, R \\, b \\) if and only if there are integers \\( m \\) and \\( n \\), and \\( i \\in \\{0, 1\\} \\), such that \\( a = 2m+i \\) and \\( b = 2n+i \\). But this says precisely that \\( a \\) and \\( b \\) both leave the same remainder (namely \\( i \\)) when divided by 2, so that \\( R \\) can be described by saying that, for all \\( a, b \\in \\mathbb{Z} \\), we have \\( a \\, R \\, b \\) if and only if \\( a \\) and \\( b \\) are both even or both odd.\r\n\r\n### Definition 5.1.17\r\n\r\nLet \\( X \\) be a set. The **diagonal subset** of \\( X \\times X \\) is the set \\( \\Delta_X \\) (LaTeX code: \\(\\Delta_X\\)) defined by \\( \\Delta_X = \\{(x, x) \\mid x \\in X\\} \\).\r\n\r\nTo see why \\( \\Delta_X \\) is called the ‘diagonal’ subset, try plotting \\( \\Delta_{\\mathbb{R}} \\subseteq \\mathbb{R} \\times \\mathbb{R} \\) on a standard pair of axes (like in Example 5.1.9).\r\n\r\n### Exercise 5.1.18\r\n\r\nLet \\( X \\) be a set. Prove that \\( \\Delta_X = \\text{Gr}(=) \\).\r\n\r\n## Properties of homogeneous relations\r\n\r\nMost of the relations of interest to us in this book are homogeneous—that is, relations on a set. In fact, they broadly fall into one of two categories: **equivalence relations**, which are relations that ‘behave like \\( = \\)’; and **order relations**, which are relations that ‘behave like \\( < \\)’. We will study equivalence relations in Section 5.2 and order relations in Section 12.1, but examples of such relations pop up throughout the book. (In fact, we have already seen several!)\r\n\r\nOur task for the rest of this section is to isolate the properties that a relation must satisfy in order to be classified as an equivalence relation or an order relation.\r\n\r\nTo aid with intuition, we will illustrate these properties with diagrams: given a relation \\( R \\), the fact that \\( a \\, R \\, b \\) will be represented diagrammatically as follows:\r\n\r\n\\[\r\na \\longrightarrow b\r\n\\]\r\n</markdown>",
    "Q": "Q: How can we prove that the diagonal subset \\(\\Delta_X\\) is equal to the graph of the equality relation \\(= \\) on the set \\(X\\)? ",
    "A": " A: To prove that \\(\\Delta_X = \\text{Gr}(=)\\), we need to show that for every \\( (x, y) \\in \\Delta_X\\), \\(x = y\\) and for every \\( (x, y) \\in \\text{Gr}(=)\\), \\(x = y\\). Thus, both sets consist of the same pairs, specifically \\( (x, x) \\) for all \\( x \\in X\\), confirming their equality."
  },
  {
    "page": 209,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\nA **reflexive** relation is one that relates every element of its domain to itself.\r\n\r\n### Definition 5.1.19\r\nA relation \\( R \\) on a set \\( X \\) is **reflexive** if \\( a \\, R \\, a \\) for all \\( a \\in X \\).\r\n\r\n### Example 5.1.20\r\nGiven any set \\( X \\), the equality relation \\( = \\) on \\( X \\) is reflexive, since \\( a = a \\) for all \\( a \\in X \\).\r\n\r\n### Example 5.1.21\r\nLet \\( R \\) be the relation on \\( \\mathbb{R} \\) defined for \\( a, b \\in \\mathbb{R} \\) by \\( a \\, R \\, b \\) if and only if \\( b - a \\in \\mathbb{Q} \\). Then \\( R \\) is reflexive, since for all \\( a \\in \\mathbb{R} \\), we have \\( a - a = 0 \\in \\mathbb{Q} \\), so that \\( a \\, R \\, a \\).\r\n\r\n### Exercise 5.1.22\r\nLet \\( X \\) be a set. Prove that \\( \\subseteq \\) is a reflexive relation on \\( \\mathcal{P}(X) \\), but \\( \\subset \\) is not.\r\n\r\n### Exercise 5.1.23\r\nProve that the relation ‘\\( x \\) divides \\( y \\)’ on \\( \\mathbb{Z} \\) is reflexive.\r\n\r\nThe next exercise demonstrates that when determining if a relation is reflexive, we must be careful to specify its domain.\r\n\r\n### Exercise 5.1.24\r\nLet \\( G = \\{(1, 1), (2, 2), (3, 3)\\} \\). Let \\( R \\) be the relation on \\([3]\\) whose graph is \\( G \\), and let \\( S \\) be the relation on \\([4]\\) whose graph is \\( G \\). Prove that \\( R \\) is reflexive, but \\( S \\) is not.\r\n\r\nSymmetric relations are those for which the **direction** of the relation doesn’t matter: two elements are either each related to the other, or not related at all.\r\n\r\n### Definition 5.1.25\r\nA relation \\( R \\) on a set \\( X \\) is **symmetric** if, for all \\( a, b \\in X \\), if \\( a \\, R \\, b \\), then \\( b \\, R \\, a \\).\r\n\r\n### Example 5.1.26\r\nGiven any set \\( X \\), the equality relation \\( = \\) on \\( X \\) is symmetric, since for all \\( a, b \\in X \\), if \\( a = b \\), then \\( b = a \\).\r\n</markdown>",
    "Q": "Q: Given a set \\( X = \\{1, 2, 3\\} \\), can you determine if the relation \\( R = \\{(1, 1), (2, 2)\\} \\) is reflexive on \\( X \\), and if so, explain why? ",
    "A": " A: The relation \\( R \\) is not reflexive on \\( X \\) because it does not include the pair \\( (3, 3) \\), and for a relation to be reflexive, it must relate every element of its domain to itself."
  },
  {
    "page": 210,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n### Example 5.1.27\r\n\r\nLet \\( R \\) be the relation on \\( \\mathbb{R} \\) defined for \\( a, b \\in \\mathbb{R} \\) by \\( a \\, R \\, b \\) if and only if \\( b - a \\in \\mathbb{Q} \\). Then \\( R \\) is symmetric.\r\n\r\nTo see this, let \\( a, b \\in \\mathbb{R} \\) and assume that \\( a \\, R \\, b \\). Then \\( b - a \\in \\mathbb{Q} \\), so that \\( b - a = \\frac{p}{q} \\) for some \\( p, q \\in \\mathbb{Z} \\) with \\( q \\neq 0 \\). But then\r\n\r\n\\[\r\na - b = -(b - a) = -\\frac{p}{q}\r\n\\]\r\n\r\nso that \\( a - b \\in \\mathbb{Q} \\). Hence \\( b \\, R \\, a \\), as required.\r\n\r\n### Exercise 5.1.28\r\n\r\nFind all subsets \\( U \\subseteq \\mathbb{Z} \\) such that the relation ‘\\( x \\) divides \\( y \\)’ on \\( U \\) is symmetric.\r\n\r\nWe showed in Exercise 5.1.24 that reflexivity of a relation is sensitive to its domain. The next exercise demonstrates that symmetry is not sensitive to the domain—that is, it is an intrinsic property of the relation.\r\n\r\n### Exercise 5.1.29\r\n\r\nLet \\( R \\) and \\( S \\) be relations such that \\( \\text{Gr}(R) = \\text{Gr}(S) \\). Note that the domain of \\( R \\) might be different from the domain of \\( S \\). Prove that \\( R \\) is symmetric if and only if \\( S \\) is symmetric.\r\n\r\nA condition related to symmetry, but in a sense opposite to it, is antisymmetry. It says that the only way that two elements of a set can each be related to the other is if they are equal.\r\n\r\n### Definition 5.1.30\r\n\r\nLet \\( X \\) be a set. A relation \\( R \\) on \\( X \\) is **antisymmetric** if, for all \\( a, b \\in X \\), if \\( a \\, R \\, b \\) and \\( b \\, R \\, a \\), then \\( a = b \\).\r\n\r\n\\[\r\n\\begin{array}{c}\r\na \\quad \\longrightarrow \\quad b \\\\\r\n\\quad \\longleftarrow \\quad\r\n\\end{array}\r\n\\quad \\Rightarrow \\quad a = b\r\n\\]\r\n\r\nA word of warning here is that ‘antisymmetric’ does not mean the same thing as ‘not symmetric’—indeed, we will see, equality is both symmetric and antisymmetric, and many relations are neither symmetric nor antisymmetric. [Even more confusingly, there is a notion of asymmetric relation, which also does not mean ‘not symmetric’.]\r\n\r\n### Example 5.1.31\r\n\r\nGiven any set \\( X \\), the equality relation \\( = \\) on \\( X \\) is antisymmetric, since for all \\( a, b \\in X \\), if \\( a = b \\) and \\( b = a \\), then \\( a = b \\).\r\n</markdown>",
    "Q": "Q: What is the relationship between symmetry and antisymmetry in terms of the definitions provided in the context, and can a relation be both symmetric and antisymmetric? ",
    "A": " A: A relation \\( R \\) is symmetric if \\( a R b \\) implies \\( b R a \\) for all \\( a, b \\in X \\). It is antisymmetric if \\( a R b \\) and \\( b R a \\) implies \\( a = b \\). A relation can be both symmetric and antisymmetric if it only contains pairs of equal elements, such as the equality relation \\( = \\)."
  },
  {
    "page": 211,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n### Example 5.1.32\r\n\r\nThe order relation \\(\\leq\\) on \\(\\mathbb{R}\\) is antisymmetric, since for all \\(a, b \\in \\mathbb{R}\\), if \\(a \\leq b\\) and \\(b \\leq a\\), then \\(a = b\\).\r\n\r\n### Exercise 5.1.33\r\n\r\nProve that the relation ‘\\(x\\) divides \\(y\\)’ on \\(\\mathbb{N}\\) is antisymmetric, but not on \\(\\mathbb{Z}\\).\r\n\r\n### Exercise 5.1.34\r\n\r\nLet \\(X\\) be a set. Prove that \\(\\subseteq\\) is an antisymmetric relation on \\(\\mathcal{P}(X)\\).\r\n\r\n### Exercise 5.1.35\r\n\r\nLet \\(X\\) be a set and let \\(R\\) be a relation on \\(X\\). Prove that \\(R\\) is both symmetric and antisymmetric if and only if \\(\\text{Gr}(R) \\subseteq \\Delta_X\\), where \\(\\Delta_X\\) is the diagonal subset of \\(X \\times X\\) (see Definition 5.1.17). Deduce that the only reflexive, symmetric and antisymmetric relation on a set \\(X\\) is the equality relation on \\(X\\).\r\n\r\nThe last property we will study in some detail is **transitivity**. Transitive relations are those for which we can skip over intermediate related elements—for example, we can deduce \\(0 < 3\\) from the facts that \\(0 < 1\\) and \\(1 < 2\\) and \\(2 < 3\\).\r\n\r\n### Definition 5.1.36\r\n\r\nA relation \\(R\\) on a set \\(X\\) is **transitive** if, for all \\(a, b, c \\in X\\), if \\(a \\, R \\, b\\) and \\(b \\, R \\, c\\), then \\(a \\, R \\, c\\).\r\n\r\n### Example 5.1.37\r\n\r\nGiven any set \\(X\\), the equality relation \\(=\\) on \\(X\\) is transitive since, for all \\(a, b, c \\in X\\), if \\(a = b\\) and \\(b = c\\), then \\(a = c\\).\r\n\r\n### Example 5.1.38\r\n\r\nLet \\(R\\) be the relation on \\(\\mathbb{R}\\) defined for \\(a, b \\in \\mathbb{R}\\) by \\(a \\, R \\, b\\) if and only if \\(b - a \\in \\mathbb{Q}\\). Then \\(R\\) is transitive.\r\n\r\nTo see this, let \\(a, b, c \\in \\mathbb{R}\\) and assume that \\(a \\, R \\, b\\) and \\(b \\, R \\, c\\). Then \\(b - a \\in \\mathbb{Q}\\) and \\(c - b \\in \\mathbb{Q}\\), so there exist \\(p, q, r, s \\in \\mathbb{Z}\\) with \\(q, s \\neq 0\\) such that\r\n\r\n\\[\r\nb - a = \\frac{p}{q} \\quad \\text{and} \\quad c - b = \\frac{r}{s}\r\n\\]\r\n\r\nIt follows that\r\n\r\n\\[\r\nc - a \\equiv (c - b) + (b - a) = \\frac{p}{q} + \\frac{r}{s} = \\frac{ps + qr}{qs}\r\n\\]\r\n\r\nso that \\(c - a \\in \\mathbb{Q}\\). Hence \\(a \\, R \\, c\\), as required.\r\n</markdown>",
    "Q": "Q: Prove that if a relation \\(R\\) on a set \\(X\\) is both antisymmetric and transitive, then it must satisfy that for all \\(a, b \\in X\\), if \\(a \\, R \\, b\\) and \\(b \\, R \\, a\\) then \\(a = b\\). ",
    "A": " A: Since \\(R\\) is antisymmetric, \\(a \\, R \\, b\\) and \\(b \\, R \\, a\\) imply that \\(a = b\\)."
  },
  {
    "page": 212,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\n### Exercise 5.1.39\r\nLet \\( X \\) be a set. Prove that \\(\\subseteq\\) is a transitive relation on \\(\\mathcal{P}(X)\\).\r\n\r\n### Exercise 5.1.40\r\nProve that the relation ‘\\( x \\) divides \\( y \\)’ on \\(\\mathbb{Z}\\) is transitive.\r\n\r\nLike symmetry, transitive is an intrinsic property of relations—that is, transitivity is not sensitive to the domain of the relation—as the next exercise demonstrates.\r\n\r\n### Exercise 5.1.41\r\nLet \\( R \\) and \\( S \\) be relations such that \\(\\text{Gr}(R) = \\text{Gr}(S)\\). Note that the domain of \\( R \\) might be different from the domain of \\( S \\). Prove that \\( R \\) is transitive if and only if \\( S \\) is transitive.\r\n\r\nA fundamental property of transitive relations is that we can prove two elements \\( a \\) and \\( b \\) are related by finding a chain of related elements starting at \\( a \\) and finishing at \\( b \\). This is the content of the following proposition.\r\n\r\n### Proposition 5.1.42\r\nLet \\( R \\) be a relation on a set \\( X \\). Then \\( R \\) is transitive if and only if, for any finite sequence \\( x_0, x_1, \\ldots, x_n \\) of elements of \\( X \\) such that \\( x_{i-1} \\, R \\, x_i \\) for all \\( i \\in [n] \\), we have \\( x_0 \\, R \\, x_n \\).\r\n\r\n**Proof**  \r\nFor the sake of abbreviation, let \\( p(n) \\) be the assertion that, for any \\( n \\geq 1 \\) and any sequence \\( x_0, x_1, \\ldots, x_n \\) of elements of \\( X \\) such that \\( x_{i-1} \\, R \\, x_i \\) for all \\( i \\in [n] \\), we have \\( x_0 \\, R \\, x_n \\).\r\n\r\nWe prove the two directions of the proposition separately.\r\n\r\n- (\\(\\Rightarrow\\)) Suppose \\( R \\) is transitive. For \\( n \\geq 1 \\). We prove \\( p(n) \\) is true for all \\( n \\geq 1 \\) by induction.\r\n  - **(Base case)** When \\( n = 1 \\) this is immediate, since we assume that \\( x_0 \\, R \\, x_1 \\).\r\n  - **(Induction step)** Fix \\( n \\geq 1 \\) and suppose \\( p(n) \\) is true. Let \\( x_0, \\ldots, x_n, x_{n+1} \\) is a sequence such that \\( x_{i-1} \\, R \\, x_i \\) for all \\( i \\in [n+1] \\). We need to prove that \\( x_0 \\, R \\, x_{n+1} \\). By the induction hypothesis we know that \\( x_0 \\, R \\, x_n \\). By definition of the sequence we have \\( x_n \\, R \\, x_{n+1} \\). By transitivity, we have \\( x_0 \\, R \\, x_{n+1} \\).\r\n\r\nSo by induction, we have proved the \\(\\Rightarrow\\) direction.\r\n\r\n- (\\(\\Leftarrow\\)) Suppose \\( p(n) \\) is true for all \\( n \\geq 1 \\). Then in particular \\( p(2) \\) is true, which is precisely the assertion that \\( R \\) is transitive.\r\n\r\nSo we’re done.\r\n\r\nThat is, **Proposition 5.1.42** states that for a transitive relation \\( R \\) on a set \\( X \\), if \\( x_0, x_1, \\ldots, x_n \\in X \\), then\r\n\r\n\\[\r\nx_0 \\, R \\, x_1 \\, R \\cdots R \\, x_n \\quad \\Rightarrow \\quad x_0 \\, R \\, x_n\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that if \\( R \\) is a transitive relation on a set \\( X \\), and if \\( x_0, x_1, x_2 \\in X \\) such that \\( x_0 R x_1 \\) and \\( x_1 R x_2 \\), then \\( x_0 R x_2 \\). ",
    "A": " A: By the definition of transitivity of the relation \\( R \\), since \\( x_0 R x_1 \\) and \\( x_1 R x_2 \\), it follows that \\( x_0 R x_2 \\)."
  },
  {
    "page": 213,
    "title": "I Core Concepts/5 Relations/5.1 Relations",
    "content": "<markdown>\r\nwhere ‘\\(x_0 \\, R \\, x_1 \\, R \\cdots R \\, x_n\\)’ abbreviates the assertion that \\(x_i \\, R \\, x_{i+1}\\) for each \\(i < n\\).\r\n</markdown>",
    "Q": "Q: What does the expression \\(x_0 \\, R \\, x_1 \\, R \\cdots R \\, x_n\\) imply about the relationship \\(R\\) between the elements \\(x_i\\) and \\(x_{i+1}\\)? ",
    "A": " A: It implies that the relationship \\(R\\) holds true for each consecutive pair of elements, meaning \\(x_i \\, R \\, x_{i+1}\\) for every \\(i\\) such that \\(0 \\leq i < n\\)."
  },
  {
    "page": 214,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\n## Section 5.2\r\nEquivalence relations and partitions\r\n\r\nAn equivalence relation on a set \\( X \\) is a relation on \\( X \\) that, to a certain extent, behaves like equality. That is, equivalence relations give us a way of saying that two elements of a set are ‘similar’, without having to be equal. As an example, we might be interested in when the base-10 expansions of two natural numbers end in the same digit, or when two finite sets have the same number of elements.\r\n\r\n✦ **Definition 5.2.1**  \r\nA relation \\( R \\) on a set \\( X \\) is an **equivalence relation** if it is reflexive, symmetric and transitive.\r\n\r\nTo denote a relation that we know (or suspect) is an equivalence relation, we will usually use a symbol like ‘\\(\\sim\\)’ (LATEX code: `\\sim`) or ‘\\(\\equiv\\)’ (LATEX code: `\\equiv`) or ‘\\(\\approx\\)’ (LATEX code: `\\approx`) instead of a letter like ‘\\( R \\)’ or ‘\\( S \\)’.\r\n\r\n✐ **Example 5.2.2**  \r\nGiven any set \\( X \\), it follows from Examples 5.1.20, 5.1.26 and 5.1.37 that the equality relation \\( = \\) is an equivalence relation on \\( X \\). This is a relief, since we motivated equivalence relations by saying that they are those that behave like equality!\r\n\r\n✐ **Example 5.2.3**  \r\nLet \\( R \\) be the relation on \\( \\mathbb{R} \\) defined for \\( a, b \\in \\mathbb{R} \\) by \\( a \\, R \\, b \\) if and only if \\( b - a \\in \\mathbb{Q} \\). Piecing together Examples 5.1.21, 5.1.27 and 5.1.38, we see that \\( R \\) is an equivalence relation on \\( \\mathbb{R} \\).\r\n\r\n✐ **Exercise 5.2.4**  \r\nGiven a function \\( f : X \\to Y \\), define a relation \\(\\sim_f\\) on \\( X \\) by\r\n\r\n\\[\r\na \\sim_f b \\iff f(a) = f(b)\r\n\\]\r\n\r\nfor all \\( a, b \\in X \\). Prove that \\(\\sim_f\\) is an equivalence relation on \\( X \\).\r\n\r\nThe equivalence relation in the next exercise comes back with a vengeance in Section 10.1, where we will use it to compare the sizes of (finite and) infinite sets.\r\n\r\n✐ **Exercise 5.2.5**  \r\nLet \\( \\mathcal{S} \\) be some set whose elements are all sets. (For example, we could take \\( \\mathcal{S} = \\mathcal{P}(X) \\) for some fixed set \\( X \\).) Define a relation \\(\\cong\\) (LATEX code: `\\cong`) on \\( \\mathcal{S} \\) by letting \\( U \\cong V \\) if and only if there exists a bijection \\( f : U \\to V \\), for all \\( U, V \\in \\mathcal{S} \\). Prove that \\(\\cong\\) is an equivalence relation on \\( \\mathcal{S} \\).\r\n</markdown>",
    "Q": "Q: Show that the relation \\( \\sim \\) defined on the set of all integers \\( \\mathbb{Z} \\) by \\( a \\sim b \\iff a \\equiv b \\mod n \\) for some fixed integer \\( n \\) is an equivalence relation. What properties must it satisfy?  \r\n",
    "A": "  \r\nA: To show that \\( \\sim \\) is an equivalence relation on \\( \\mathbb{Z} \\), we need to prove that it satisfies reflexivity, symmetry, and transitivity:\r\n\r\n1. **Reflexivity**: For any integer \\( a \\), \\( a \\equiv a \\mod n \\) holds true, so \\( a \\sim a \\).\r\n\r\n2. **Symmetry**: If \\( a \\sim b \\), then \\( a \\equiv b \\mod n \\), which means \\( b \\equiv a \\mod n \\). Hence, \\( b \\sim a \\).\r\n\r\n3. **Transitivity**: If \\( a \\sim b \\) and \\( b \\sim c \\), then \\( a \\equiv b \\mod n \\) and \\( b \\equiv c \\mod n \\). Thus, \\( a \\equiv c \\mod n \\), which implies \\( a \\sim c \\).\r\n\r\nSince all three properties hold, \\( \\sim \\) is an equivalence relation on \\( \\mathbb{Z} \\)."
  },
  {
    "page": 215,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\n## A first look at modular arithmetic\r\n\r\nA particularly useful family of equivalence relations is given by **congruence** of integers, which allows us to do **modular arithmetic**—this is the topic of Section 7.3. For a fixed integer \\( n \\), this relation identifies two integers when they have the same remainder upon division by \\( n \\) (as in Theorem 0.18).\r\n\r\n✦ **Definition 5.2.6**  \r\nFix \\( n \\in \\mathbb{Z} \\). Given integers \\( a, b \\in \\mathbb{Z} \\), we say \\( a \\) is **congruent to** \\( b \\) **modulo** \\( n \\), and write\r\n\r\n\\[ \r\na \\equiv b \\mod n \\quad (\\text{LaTeX code: } a \\equiv b \\ \\bmod{n})\r\n\\]\r\n\r\nif \\( n \\) divides \\( a - b \\). If \\( a \\) is not congruent to \\( b \\) modulo \\( n \\), write\r\n\r\n\\[ \r\na \\not\\equiv b \\mod n \\quad (\\text{LaTeX code: } \\not\\equiv)\r\n\\]\r\n\r\nThe number \\( n \\) is called the **modulus** of the congruence.\r\n\r\nBefore we prove that congruence is modulo \\( n \\) is an equivalence relation for all \\( n \\in \\mathbb{Z} \\), it is worthwhile to get a feel for how it works.\r\n\r\n✏️ **Example 5.2.7**  \r\nLet \\( a, b \\in \\mathbb{Z} \\). Then \\( a \\equiv b \\mod 2 \\) if and only if \\( a \\) and \\( b \\) are both even or both odd—that is, if and only if they have the same **parity**.\r\n\r\nIndeed, by the division theorem, we can write \\( a = 2k + i \\) and \\( b = 2\\ell + j \\) for some \\( k, \\ell \\in \\mathbb{Z} \\) and \\( i, j \\in \\{0, 1\\} \\). Then\r\n\r\n\\[\r\nb - a = (2k + i) - (2\\ell + j) = 2(k - \\ell) + (i - j)\r\n\\]\r\n\r\nNote that \\( i - j \\in \\{-1, 0, 1\\} \\), and so \\( a \\equiv b \\mod 2 \\) if and only if \\( i = j \\). But this occurs if and only if \\( i = j = 0 \\), in which case \\( a \\) and \\( b \\) are both even, or \\( i = j = 1 \\), in which case \\( a \\) and \\( b \\) are both odd.\r\n\r\n✏️ **Example 5.2.8**  \r\nLet \\( a, b \\in \\mathbb{N} \\). Then \\( a \\equiv b \\mod 10 \\) if and only if 10 divides \\( b - a \\), which occurs if and only if the last digit in the decimal expansion of \\( b - a \\) is 0. But this implies that the decimal expansions of \\( a \\) and \\( b \\) have the same last digit. So the relation of congruence modulo 10 on \\( \\mathbb{N} \\) is the same as the relation of ‘having the same last (decimal) digit’.\r\n\r\n✏️ **Exercise 5.2.9**  \r\nLet \\( n \\in \\mathbb{Z} \\). Prove that if \\( n \\neq 0 \\), then \\( a \\equiv b \\mod n \\) if and only if \\( a \\) and \\( b \\) have the same remainder when divided by \\( n \\).\r\n\r\n✏️ **Exercise 5.2.10**  \r\nLet \\( a, b \\in \\mathbb{Z} \\). When is it true that \\( a \\equiv b \\mod 0 \\)? When is it true that \\( a \\equiv b \\mod 1 \\)?\r\n</markdown>",
    "Q": "Q: If \\( a = 27 \\) and \\( b = 12 \\), what is the value of \\( a \\equiv b \\mod 5 \\)?  \r\n",
    "A": "  \r\nA: To determine \\( a \\equiv b \\mod 5 \\), we calculate the remainders of \\( a \\) and \\( b \\) when divided by \\( 5 \\):\r\n\r\n\\[\r\n27 \\div 5 = 5 \\quad \\text{remainder } 2 \\quad \\Rightarrow \\quad 27 \\equiv 2 \\mod 5\r\n\\]\r\n\r\n\\[\r\n12 \\div 5 = 2 \\quad \\text{remainder } 2 \\quad \\Rightarrow \\quad 12 \\equiv 2 \\mod 5\r\n\\]\r\n\r\nSince both \\( 27 \\) and \\( 12 \\) yield the same remainder, we conclude:\r\n\r\n\\[\r\n27 \\equiv 12 \\mod 5\r\n\\]"
  },
  {
    "page": 216,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\nHaving got a better feel for how congruence works, we now prove that, for each \\( n \\in \\mathbb{Z} \\), congruence modulo \\( n \\) is an equivalence relation on \\( \\mathbb{Z} \\).\r\n\r\n### Theorem 5.2.11\r\nLet \\( n \\in \\mathbb{Z} \\). Then congruence modulo \\( n \\) is an equivalence relation on \\( \\mathbb{Z} \\). That is:\r\n\r\n(a) \\( a \\equiv a \\mod n \\) for all \\( a \\in \\mathbb{Z} \\);\r\n\r\n(b) For all \\( a, b \\in \\mathbb{Z} \\), if \\( a \\equiv b \\mod n \\), then \\( b \\equiv a \\mod n \\);\r\n\r\n(c) For all \\( a, b, c \\in \\mathbb{Z} \\), if \\( a \\equiv b \\mod n \\) and \\( b \\equiv c \\mod n \\), then \\( a \\equiv c \\mod n \\).\r\n\r\n**Proof**\r\n\r\n(a) Let \\( a \\in \\mathbb{Z} \\). Note that \\( a - a = 0 \\), which is divisible by \\( n \\) since \\( 0 = 0 \\times n \\), and hence \\( a \\equiv a \\mod n \\). So congruence modulo \\( n \\) is reflexive.\r\n\r\n(b) Let \\( a, b \\in \\mathbb{Z} \\) and suppose \\( a \\equiv b \\mod n \\). Then \\( n \\) divides \\( a - b \\), so that \\( a - b = kn \\) for some \\( k \\in \\mathbb{Z} \\). Hence \\( b - a = -kn \\), and so \\( n \\) divides \\( b - a \\), so that \\( b \\equiv a \\mod n \\) as required. So congruence modulo \\( n \\) is symmetric.\r\n\r\n(c) Let \\( a, b, c \\in \\mathbb{Z} \\) and suppose that \\( a \\equiv b \\mod n \\) and \\( b \\equiv c \\mod n \\). Then \\( n \\) divides both \\( a - b \\) and \\( b - c \\), so there exist \\( k, \\ell \\in \\mathbb{Z} \\) such that\r\n\r\n\\[\r\na - b = kn \\quad \\text{and} \\quad b - c = \\ell n\r\n\\]\r\n\r\nHence \\( a - c = (a - b) + (b - c) = (k + \\ell)n \\), so that \\( n \\) divides \\( a - c \\). Hence \\( a \\equiv c \\mod n \\), as required. So congruence modulo \\( n \\) is transitive.\r\n\r\nSince congruence modulo \\( n \\) is reflexive, symmetric and transitive, it is an equivalence relation.\r\n\r\n### Equivalence classes\r\n\r\nWhat makes equivalence relations so useful is they give us a way of ignoring information that is irrelevant to the task at hand.\r\n\r\nFor example, suppose \\( a \\) and \\( b \\) are two very large natural numbers, each with several trillion (decimal) digits. We want to know what the last digit of \\( ab \\) is. To find this out, it would be silly to compute \\( ab \\) and then look at its last digit. Instead, we can observe that the last digit of a product of two integers depends only on the last digit of each integer—for example, \\( 1527 \\times 9502 \\) has the same last digit as \\( 7 \\times 2 = 14 \\). By using the equivalence relation ‘has the same last digit as’, we are able to ignore the irrelevant information about \\( a \\) and \\( b \\)—that is, all but one of their trillions of digits—and simplify the problem considerably.\r\n</markdown>",
    "Q": "Q: How can we use the equivalence relation of congruence modulo \\( n \\) to determine the last digit of the product \\( ab \\) given \\( a \\equiv r_a \\mod 10 \\) and \\( b \\equiv r_b \\mod 10 \\)? ",
    "A": " A: We can compute the last digit of the product \\( ab \\) by finding the last digits \\( r_a \\) and \\( r_b \\) of \\( a \\) and \\( b \\), respectively, then calculating \\( r_a \\times r_b \\mod 10 \\). Thus, the last digit of \\( ab \\) is the same as \\( (r_a \\times r_b) \\mod 10 \\)."
  },
  {
    "page": 217,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\nTo make this precise, we introduce the notion of an *equivalence class*. For a set \\( X \\) with an equivalence relation, the equivalence class of an element \\( a \\in X \\) will be the set of elements of \\( X \\) that \\( a \\) is equivalent to. By working with the *equivalence classes* of elements of \\( X \\), rather than the elements of \\( X \\) themselves, we are able to regard two equivalent elements as being ‘the same’.\r\n\r\n✦ **Definition 5.2.12**  \r\nLet \\( X \\) be a set and let \\(\\sim\\) be an equivalence relation on \\( X \\). The \\(\\sim\\)-equivalence class of an element \\( a \\in X \\) is the set \\([a]_\\sim\\) (LaTeX code: \\texttt{[x]_{\\textbackslash sim}}) defined by\r\n\r\n\\[\r\n[a]_\\sim = \\{ x \\in X \\mid a \\sim x \\}\r\n\\]\r\n\r\nThe *quotient* of \\( X \\) by \\(\\sim\\) is the set \\( X/\\sim \\) (LaTeX code: \\texttt{X/\\{\\textbackslash sim\\}}) of all \\(\\sim\\)-equivalence classes of elements of \\( X \\); that is\r\n\r\n\\[\r\nX/\\sim = \\{ [a]_\\sim \\mid a \\in X \\}\r\n\\]\r\n\r\n✶ **LaTeX tip**  \r\nPutting {curly brackets} around the command for a symbol like \\(\\sim\\) (\\texttt{\\textbackslash sim}) tells LaTeX to consider the symbol as a symbol, rather than as a connective. Compare the following:\r\n\r\n| LaTeX code       | Output     |\r\n|------------------|------------|\r\n| \\texttt{X/\\sim = Y} | \\( X/\\sim = Y \\) |\r\n| \\texttt{X/\\{\\textbackslash sim\\} = Y} | \\( X/\\sim = Y \\) |\r\n\r\nThis is because, without braces, LaTeX thinks you’re saying ‘X-forward-slash is related to is equal to Y’, which clearly makes no sense; putting braces around \\texttt{\\textbackslash sim} signifies to LaTeX that the \\(\\sim\\) symbol is being considered as an object in its own right, rather than as a connective.\r\n\r\n✑ **Example 5.2.13**  \r\nLet \\(\\sim\\) be the relation of congruence modulo 2 on \\(\\mathbb{Z}\\). We showed in Example 5.2.7 that, for all \\( a, b \\in \\mathbb{Z} \\) we have \\( a \\equiv b \\mod 2 \\) if and only if \\( a \\) and \\( b \\) have the same parity. But this means that, for all \\([a]_\\sim\\) is the set of all integers with the same parity as \\( a \\)—that is:\r\n\r\n- If \\( a \\) is even, then \\([a]_\\sim\\) is the set of all even integers; and\r\n- If \\( a \\) is odd, then \\([a]_\\sim\\) is the set of all odd integers.\r\n\r\nIt follows that \\(\\mathbb{Z}/\\sim = \\{ [0]_\\sim, [1]_\\sim \\} = \\{ E, O \\} \\), where \\( E \\) is the set of all even integers and \\( O \\) is the set of all odd integers.\r\n\r\n✑ **Exercise 5.2.14**  \r\nLet \\(\\approx\\) be the relation of congruence modulo 10 on \\(\\mathbb{N}\\). Describe the equivalence classes, and give an explicit expression of the quotient \\(\\mathbb{N}/\\approx\\) in list notation.\r\n</markdown>",
    "Q": "Q: What are the equivalence classes of the relation of congruence modulo 4 on \\(\\mathbb{Z}\\), and what is the explicit expression for \\(\\mathbb{Z}/\\sim\\) in list notation?  \r\n",
    "A": "  \r\nA: The equivalence classes of the relation of congruence modulo 4 on \\(\\mathbb{Z}\\) are given by:  \r\n\\[\r\n[0]_\\sim = \\{ \\ldots, -8, -4, 0, 4, 8, \\ldots \\}, \\quad [1]_\\sim = \\{ \\ldots, -7, -3, 1, 5, 9, \\ldots \\}, \\quad [2]_\\sim = \\{ \\ldots, -6, -2, 2, 6, 10, \\ldots \\}, \\quad [3]_\\sim = \\{ \\ldots, -5, -1, 3, 7, 11, \\ldots \\}  \r\n\\]\r\nThus, the explicit expression for the quotient is:  \r\n\\[\r\n\\mathbb{Z}/\\sim = \\{ [0]_\\sim, [1]_\\sim, [2]_\\sim, [3]_\\sim \\}  \r\n\\]"
  },
  {
    "page": 218,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\n### Example 5.2.15\r\n\r\nLet \\( f : X \\to Y \\) be a function, and let \\(\\sim_f\\) be the equivalence relation on \\(X\\) that we defined in Exercise 5.2.4. Given \\( a \\in X \\), we have\r\n\r\n\\[\r\n[a]_{\\sim_f} = \\{ x \\in X \\mid a \\sim_f x \\} = \\{ x \\in X \\mid f(a) = f(x) \\}\r\n\\]\r\n\r\nThus we have \\([a]_{\\sim_f} = f^{-1}[\\{f(a)\\}]\\).\r\n\r\n### Exercise 5.2.16\r\n\r\nLet \\( f : X \\to Y \\) be a function. Prove that \\( f \\) is injective if and only if each \\(\\sim_f\\)-equivalence class has a unique element, where \\(\\sim_f\\) is the equivalence relation defined in Exercise 5.2.4.\r\n\r\nThe next result demonstrates that an equivalence relation \\(\\sim\\) on a set \\(X\\) ‘descends’ to the equality relation \\(=\\) on the quotient \\(X/\\sim\\). This means that if we would rather deal with equality than with the equivalence relation itself, then we may do so by working inside the quotient \\(X/\\sim\\) rather than in the set \\(X\\).\r\n\r\n### Theorem 5.2.17\r\n\r\nLet \\(\\sim\\) be an equivalence relation on a set \\(X\\). Then for all \\(a, b \\in X\\), we have \\(a \\sim b\\) if and only if \\([a]_{\\sim} = [b]_{\\sim}\\).\r\n\r\n**Proof**\r\n\r\nThe proof is an exercise in piecing together the properties of equivalence relations.\r\n\r\nFix \\(a, b \\in X\\).\r\n\r\n- (\\(\\Rightarrow\\)) Suppose \\(a \\sim b\\). We prove \\([a]_{\\sim} = [b]_{\\sim}\\) by double containment.\r\n\r\n  - (\\(\\subseteq\\)) Let \\(x \\in [a]_{\\sim}\\)—then \\(a \\sim x\\). We are assuming that \\(a \\sim b\\), so that \\(b \\sim a\\) by symmetry, and so \\(b \\sim x\\) by transitivity. So \\(x \\in [b]_{\\sim}\\).\r\n\r\n  - (\\(\\supseteq\\)) Let \\(x \\in [b]_{\\sim}\\)—then \\(b \\sim x\\). We are assuming that \\(a \\sim b\\), and so \\(a \\sim x\\) by transitivity. So \\(x \\in [a]_{\\sim}\\).\r\n\r\n  We have shown by double containment that \\([a]_{\\sim} = [b]_{\\sim}\\).\r\n\r\n- (\\(\\Leftarrow\\)) Assume \\([a]_{\\sim} = [b]_{\\sim}\\). We have \\(b \\sim b\\) by reflexivity, and so \\(b \\in [b]_{\\sim}\\). But then \\(b \\in [a]_{\\sim}\\), so that \\(a \\sim b\\), as required.\r\n\r\nSo \\(a \\sim b\\) if and only if \\([a]_{\\sim} = [b]_{\\sim}\\).\r\n\r\nFor congruence, special terminology and notation exists for equivalence classes and quotients.\r\n</markdown>",
    "Q": "Q: Given the equivalence relation \\(\\sim_f\\) on set \\(X\\) defined by the function \\(f : X \\to Y\\), how can you demonstrate that if \\( [a]_{\\sim_f} = [b]_{\\sim_f} \\), then \\(f(a) = f(b)\\)? ",
    "A": " A: If \\( [a]_{\\sim_f} = [b]_{\\sim_f} \\), then by definition, \\( a \\sim_f b \\), which implies \\( f(a) = f(b) \\) since \\(a \\sim_f b\\) is equivalently defined as \\(f(a) = f(b)\\)."
  },
  {
    "page": 219,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\n### Definition 5.2.18\r\n\r\nLet \\( n \\in \\mathbb{Z} \\). The **congruence class** of an integer \\( a \\) modulo \\( n \\) is defined by\r\n\r\n\\[\r\n[a]_n = [a] \\equiv \\mod n = \\{ x \\in \\mathbb{Z} \\mid a \\equiv x \\mod n \\}\r\n\\]\r\n\r\nThe set of all congruence classes modulo \\( n \\) is denoted by\r\n\r\n\\[\r\n\\mathbb{Z}/n\\mathbb{Z} = \\mathbb{Z}/(\\equiv \\mod n) = \\{ [a]_n \\mid a \\in \\mathbb{Z} \\}\r\n\\]\r\n\r\n### Example 5.2.19\r\n\r\nUsing the terminology of congruence classes, Example 5.2.13 can be rephrased by saying that \\(\\mathbb{Z}/2\\mathbb{Z} = \\{ [0]_2, [1]_2 \\}\\). Moreover, Theorem 5.2.17 gives us a more succinct proof: for all \\( a \\in \\mathbb{Z} \\), we have \\( a \\equiv 0 \\mod 2 \\) if and only if \\( a \\) is even, and \\( a \\equiv 1 \\mod 2 \\) if and only if \\( a \\) is odd. Therefore for all \\( a \\in \\mathbb{Z} \\), we have \\([a]_2 = [0]_2\\) or \\([a]_2 = [1]_2\\), and so\r\n\r\n\\[\r\n\\mathbb{Z}/2\\mathbb{Z} = \\{ [a]_2 \\mid a \\in \\mathbb{Z} \\} = \\{ [0]_2, [1]_2 \\}\r\n\\]\r\n\r\nAdditionally, \\([0]_2\\) is the set of all even integers and \\([1]_2\\) is the set of all odd integers.\r\n\r\nThe next exercise generalises the previous one, proving that congruence classes correspond with remainders.\r\n\r\n### Exercise 5.2.20\r\n\r\nLet \\( n \\in \\mathbb{Z} \\) with \\( n \\neq 0 \\). Prove that the function\r\n\r\n\\[\r\ni : \\{ 0, 1, \\ldots, |n|-1 \\} \\to \\mathbb{Z}/n\\mathbb{Z}\r\n\\]\r\n\r\ndefined by \\( i(r) = [r]_n \\) for all \\( 0 \\leq r < |n| \\) is a bijection.\r\n\r\n### Partitions\r\n\r\nA partition of a set \\( X \\) is a way of breaking \\( X \\) up into mutually disjoint subsets. They will be an immensely useful tool for counting how many elements a finite set has in Chapter 8, and will reappear in Section 10.2 for defining arithmetic operations with cardinal numbers.\r\n</markdown>",
    "Q": "Q: What is one interpretation of the congruence class \\( [a]_n \\) when \\( n = 3 \\) and \\( a = 5 \\)?  \r\n",
    "A": "  \r\nA: The congruence class \\( [5]_3 \\) represents the set \\( \\{ x \\in \\mathbb{Z} \\mid 5 \\equiv x \\mod 3 \\} = \\{ \\ldots, -1, 2, 5, 8, 11, \\ldots \\} \\), which can be simplified to \\( [5]_3 = [2]_3 \\) since \\( 5 \\mod 3 = 2 \\)."
  },
  {
    "page": 220,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\n## Definition 5.2.21\r\n\r\nA **partition** of a set \\( X \\) is a collection \\( \\mathcal{U} = \\{ U_i \\mid i \\in I \\} \\) of subsets of \\( X \\) such that the following conditions hold:\r\n\r\n(a) For each \\( i \\in I \\), the subset \\( U_i \\) is inhabited;\r\n\r\n(b) The sets \\( U_i \\) for \\( i \\in I \\) are **pairwise disjoint**—that is, \\( U_i \\cap U_j \\) is empty for all \\( i, j \\in I \\) with \\( i \\neq j \\);\r\n\r\n(c) \\(\\bigcup_{i \\in I} U_i = X\\).\r\n\r\nNote that, by contraposition, condition (b) in Exercise 5.2.26 is equivalent to saying that for all \\( i, j \\in I \\), if \\( U_i \\cap U_j \\) is inhabited, then \\( i = j \\)—this is useful for verifying pairwise disjointness in proofs.\r\n\r\n## Strategy 5.2.22 (Proving a family of subsets forms a partition)\r\n\r\nLet \\( X \\) be a set. In order to prove a collection \\( \\mathcal{U} \\subseteq \\mathcal{P}(X) \\) is a partition of \\( X \\), it suffices to prove:\r\n\r\n(a) Each \\( U \\in \\mathcal{U} \\) is inhabited;\r\n\r\n(b) For all \\( U, V \\in \\mathcal{U} \\), if \\( U \\cap V \\) is inhabited, then \\( U = V \\);\r\n\r\n(c) For all \\( a \\in X \\), there is some \\( U \\in \\mathcal{U} \\) such that \\( a \\in U \\).\r\n\r\n## Example 5.2.23\r\n\r\nWe can partition \\( \\mathbb{Z} \\) as \\( E \\cup O \\), where \\( E \\) is the set of all even integers and \\( O \\) is the set of all odd integers:\r\n\r\n(a) \\( E \\) and \\( O \\) are inhabited, since \\( 0 \\in E \\) and \\( 1 \\in O \\).\r\n\r\n(b) The family \\(\\{E, O\\}\\) is pairwise disjoint if and only if \\( E \\cap O \\) is empty; and it is, since no integer can be both even and odd.\r\n\r\n(c) \\( E \\cup O = \\mathbb{Z} \\) since every integer is either even or odd.\r\n\r\n## Example 5.2.24\r\n\r\nThe sets \\(\\{2n, 2n + 1\\}\\) for \\( n \\in \\mathbb{N} \\) form a partition of \\( \\mathbb{N} \\):\r\n\r\n(a) \\( 2n \\in \\{2n, 2n + 1\\} \\) for each \\( n \\in \\mathbb{N} \\), so the sets are all inhabited.\r\n\r\n(b) Suppose that \\( m, n \\in \\mathbb{N} \\) and that \\(\\{2m, 2m + 1\\} \\cap \\{2n, 2n + 1\\}\\) is inhabited. Note that \\( 2m \\neq 2n + 1 \\) and \\( 2n \\neq 2m + 1 \\) by the division theorem (Theorem 7.1.1), so either...\r\n</markdown>",
    "Q": "Q: Given the set \\( X = \\{1, 2, 3, 4, 5\\} \\, \\) and the subsets \\( A = \\{1, 2\\} \\), \\( B = \\{3, 4\\} \\), and \\( C = \\{5\\} \\), is the collection \\( \\mathcal{U} = \\{ A, B, C \\} \\) a partition of \\( X \\)? ",
    "A": " A: Yes, \\( \\mathcal{U} \\) is a partition of \\( X \\) since \\( A \\), \\( B \\), and \\( C \\) are inhabited, pairwise disjoint (\\( A \\cap B = A \\cap C = B \\cap C = \\emptyset \\)), and their union is \\( A \\cup B \\cup C = X \\)."
  },
  {
    "page": 221,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\nGiven \\( a \\in \\mathbb{N} \\), we have \\( a = 2n + i \\), where \\( n \\in \\mathbb{N} \\) is the quotient of \\( a \\) when divided by 2, and where \\( i \\in \\{0, 1\\} \\) is the remainder of \\( a \\) when divided by 2. But then \\( a \\in \\{2n, 2n + 1\\} \\). Thus \\(\\bigcup_{n \\in \\mathbb{N}} \\{2n, 2n + 1\\} = \\mathbb{N}\\).\r\n\r\n### Exercise 5.2.25\r\nLet \\( f : X \\to Y \\) be a surjection, and define a collection \\(\\mathcal{F}\\) of subsets of \\( X \\) by\r\n\r\n\\[\r\n\\mathcal{F} = \\{ f^{-1}[\\{b\\}] \\mid b \\in Y \\}\r\n\\]\r\n\r\nThat is, \\(\\mathcal{F}\\) is the set of subsets of \\( X \\) given by the preimages of individual elements of \\( Y \\) under \\( f \\). Prove that \\(\\mathcal{F}\\) is a partition of \\( X \\). Where in your proof do you use surjectivity of \\( f \\)?\r\n\r\n### Exercise 5.2.26\r\nLet \\( X \\) be a set and let \\(\\mathcal{U} = \\{ U_i \\mid i \\in I \\}\\) be a family of inhabited subsets of \\( X \\). Prove that \\(\\mathcal{U}\\) is a partition of \\( X \\) if and only if for each \\( a \\in X \\), there is a unique set \\( U_i \\in \\mathcal{U} \\) with \\( a \\in U_i \\).\r\n\r\n### Exercise 5.2.27\r\nIf \\(\\sim\\) be an equivalence relation on \\( X \\), then \\( X/\\sim \\) is a partition \\( X \\).\r\n\r\nIn fact, the converse of Exercise 5.2.27 is also true, as we prove next.\r\n\r\n### Proposition 5.2.28\r\nLet \\( X \\) be a set and let \\(\\mathcal{U}\\) be a partition of \\( X \\). Then \\(\\mathcal{U} = X/\\sim\\) for a unique equivalence relation \\(\\sim\\) on \\( X \\).\r\n\r\n**Proof**\r\n\r\nDefine a relation \\(\\sim\\) by\r\n\r\n\\[\r\nx \\sim y \\iff \\exists U \\in \\mathcal{U}, x \\in U \\text{ and } y \\in U\r\n\\]\r\n\r\nfor all \\( x, y \\in X \\). That is, \\( x \\sim y \\) if and only if \\( x \\) and \\( y \\) are elements of the same set of the partition. We check that \\(\\sim\\) is an equivalence relation.\r\n\r\n- **Reflexivity.** Let \\( x \\in X \\). Then \\( x \\in U \\) for some \\( U \\in \\mathcal{U} \\) since \\(\\bigcup_{U \\in \\mathcal{U}} U = X\\). Hence \\( x \\sim x \\).\r\n\r\n- **Symmetry.** Let \\( x, y \\in X \\) and suppose \\( x \\sim y \\). Then there is some \\( U \\in \\mathcal{U} \\) with \\( x \\in U \\) and \\( y \\in U \\). But then it is immediate that \\( y \\sim x \\).\r\n\r\n- **Transitivity.** Let \\( x, y, z \\in X \\) and suppose that \\( x \\sim y \\) and \\( y \\sim z \\). Then there exist \\( U, V \\in \\mathcal{U} \\) with \\( x, y \\in U \\) and \\( y, z \\in V \\). Thus \\( y \\in U \\cap V \\). Since \\(\\mathcal{U}\\) is a partition of \\( X \\), its\r\n</markdown>",
    "Q": "Q: Given a surjective function \\( f : X \\to Y \\) and the collection \\(\\mathcal{F} = \\{ f^{-1}[\\{b\\}] \\mid b \\in Y \\}\\), how can we show that for any two distinct elements \\( b_1, b_2 \\in Y\\), the preimages \\( f^{-1}[\\{b_1\\}] \\) and \\( f^{-1}[\\{b_2\\}] \\) are disjoint subsets of \\( X \\)? ",
    "A": " A: If \\( x \\in f^{-1}[\\{b_1\\}] \\cap f^{-1}[\\{b_2\\}] \\), then \\( f(x) = b_1 \\) and \\( f(x) = b_2 \\). Since \\( b_1 \\neq b_2 \\), we have a contradiction, thus \\( f^{-1}[\\{b_1\\}] \\cap f^{-1}[\\{b_2\\}] = \\emptyset \\)."
  },
  {
    "page": 222,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\nelements are pairwise disjoint; thus if \\( U \\neq V \\) then \\( U \\cap V = \\emptyset \\). Hence \\( U = V \\). Thus \\( x \\in U \\) and \\( z \\in U \\), so \\( x \\sim z \\).\r\n\r\nThe definition of \\(\\sim\\) makes it immediate that \\( X/\\sim = \\mathcal{U} \\).\r\n\r\nTo prove that \\(\\sim\\) is the only such relation, suppose \\(\\approx\\) is another equivalence relation on \\( X \\) for which \\( X/\\approx = \\mathcal{U} \\). Then, given \\( x, y \\in X \\), we have:\r\n\r\n\\[\r\n\\begin{align*}\r\nx \\sim y & \\iff \\exists U \\in \\mathcal{U}, x \\in U \\land y \\in U & \\text{by definition of } \\sim \\\\\r\n& \\iff \\exists x \\in X, x \\in [z]_{\\sim} \\land y \\in [z]_{\\sim} & \\text{since } \\mathcal{U} = X/\\approx \\\\\r\n& \\iff \\exists z \\in X, x \\approx z \\land y \\approx z & \\text{by definition of } [z]_{\\approx} \\\\\r\n& \\iff x \\approx y & \\text{by symmetry and transitivity}\r\n\\end{align*}\r\n\\]\r\n\r\nSo \\(\\sim = \\approx\\).\r\n\r\nExercise 5.2.27 and Proposition 5.2.28 prove that equivalence relations and quotients are essentially the same thing: the quotient of a set by an equivalence relation is a partition of the set, and every partition of a set is the quotient by a unique equivalence relation!\r\n\r\nThe following lemma can be skipped over without grave consequences—it is a technical result with an extremely fiddly proof, but we will use it at a couple of points later in the book. It says that, given two partitioned sets, if we can pair up the sets in the partition, and pair up the elements in each pair of paired-up partitions, then we can pair up the elements of each set.\r\n\r\n### Lemma 5.2.29\r\nLet \\( X \\) and \\( Y \\) be sets, let \\(\\{ U_i \\mid i \\in I \\}\\) be a partition of \\( X \\) and let \\(\\{ V_j \\mid j \\in J \\}\\) be a partition of \\( Y \\). If there exists:\r\n\r\n- A bijection \\( f : I \\to J \\); and\r\n- For each \\( i \\in I \\), a bijection \\( g_i : U_i \\to V_{f(i)} \\);\r\n\r\nthen there exists a bijection \\( h : X \\to Y \\).\r\n\r\n**Proof**\r\n\r\nGiven \\( a \\in X \\), let \\( i(a) \\) be the unique element of \\( I \\) such that \\( a \\in X_{i(a)} \\). Note that this is valid since \\(\\{ X_i \\mid i \\in I \\}\\) is a partition of \\( X \\). Likewise, given \\( b \\in Y \\), let \\( j(b) \\) be the unique element of \\( J \\) such that \\( b \\in Y_{j(b)} \\).\r\n\r\nDefine \\( h : X \\to Y \\) by \\( h(a) = g_{i(a)}(a) \\) for all \\( a \\in X \\). This is well-defined since\r\n\r\n\\[\r\nh(a) = g_{i(a)}(a) \\in Y_{f(i(a))} \\subseteq Y\r\n\\]\r\n\r\nThis also shows that \\( j(h(a)) = f(i(a)) \\).\r\n</markdown>",
    "Q": "Q: Given two sets \\( X \\) and \\( Y \\) with partitions \\( \\{ U_i \\mid i \\in I \\} \\) and \\( \\{ V_j \\mid j \\in J \\} \\), describe the significance of having a bijection \\( f : I \\to J \\) and individual bijections \\( g_i : U_i \\to V_{f(i)} \\) in establishing a bijection \\( h : X \\to Y \\). ",
    "A": " A: The significance lies in the ability to uniquely associate each element of \\( X \\) with an element of \\( Y \\) while preserving the structure of the partitions, ensuring that \\( h \\) maps elements from equivalent subsets in \\( X \\) to corresponding subsets in \\( Y \\)."
  },
  {
    "page": 224,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\n### Example 5.2.32\r\n\r\nRecall that, given \\( a \\in \\mathbb{Z} \\), we have \\([a]_2 = [0]_2\\) if \\( a \\) is even, and \\([a]_2 = [1]_2\\) is \\( a \\) is odd. Thus the quotient function \\( q_2 : \\mathbb{Z} \\to \\mathbb{Z}/2\\mathbb{Z} \\) can be viewed as telling us the parity of an integer.\r\n\r\n### Exercise 5.2.33\r\n\r\nLet \\( n \\in \\mathbb{Z} \\) with \\( n \\neq 0 \\). Describe the quotient function \\( q_n : \\mathbb{Z} \\to \\mathbb{Z}/n\\mathbb{Z} \\) in terms of remainders.\r\n\r\n### Exercise 5.2.34\r\n\r\nLet \\(\\sim\\) be an equivalence relation on a set \\( X \\). Prove that the quotient function \\( q_\\sim : X \\to X/\\sim \\) is surjective.\r\n\r\nThe theorem we prove next can be viewed as the converse to Exercise 5.2.34. It proves that every surjection ‘is’ a quotient function, in the sense that given any surjection \\( p : X \\to A \\), we can view \\( A \\) as a quotient of \\( X \\) by a suitably-defined equivalence relation, and then \\( p \\) ‘is’ the corresponding quotient function.\r\n\r\n### Theorem 5.2.35\r\n\r\nLet \\( X \\) be a set. Then for every set \\( A \\) and every surjection \\( p : X \\to A \\), there exist a unique equivalence relation \\(\\sim\\) on \\( X \\) and bijection \\( f : X/\\sim \\to A \\) such that \\( f([x]) = p(x) \\) for all \\( x \\in X \\).\r\n\r\n**Proof**\r\n\r\nLet \\( A \\) be a set and \\( p : X \\to A \\) be a surjection.\r\n\r\n- **(Existence)** Define a relation \\(\\sim\\) on \\( X \\) by \\( x \\sim y \\) if and only if \\( p(x) = p(y) \\). Then \\(\\sim\\) is an equivalence relation by Exercise 5.2.4.\r\n\r\n  Moreover, given \\( x \\in X \\), we have\r\n\r\n  \\[\r\n  [x]_\\sim = \\{ y \\in X \\mid p(x) = p(y) \\} = p^{-1}(\\{ p(x) \\})\r\n  \\]\r\n\r\n  So define \\( f : X/\\sim \\to A \\) by letting \\( f([x]_\\sim) = p(x) \\). Then \\( f \\) is well-defined, since if \\([x]_\\sim = [y]_\\sim\\), then \\( x \\sim y \\), so that \\( p(x) = p(y) \\).\r\n\r\n  Furthermore, \\( f \\) is a bijection:\r\n\r\n  - **(Injectivity)** Let \\([x]_\\sim, [y]_\\sim \\in X/\\sim\\) and assume \\( f([x]_\\sim) = f([y]_\\sim) \\). Then \\( p(x) = p(y) \\), so that \\( x \\sim y \\), and hence \\([x]_\\sim = [y]_\\sim\\).\r\n\r\n  - **(Surjectivity)** Let \\( a \\in A \\). Since \\( p \\) is a surjection, there is some \\( x \\in X \\) such that \\( p(x) = a \\). But then \\( f([x]_\\sim) = p(x) = a \\).\r\n\r\n  So we have established that there exist an equivalence relation \\(\\sim\\) on \\( X \\) and a bijection \\( f : X/\\sim \\to A \\) such that \\( f([x]_\\sim) = p(x) \\) for all \\( x \\in X \\).\r\n\r\n- **(Uniqueness)** Suppose \\(\\approx\\) is another equivalence relation on \\( X \\) and that \\( g : X/\\approx \\to A \\) is a bijection such that \\( g([x]_\\approx) = p(x) \\) for all \\( x \\in X \\). We prove that \\(\\sim = \\approx\\), and then that \\( g = f \\), so that \\(\\sim\\) and \\( f \\) are unique.\r\n</markdown>",
    "Q": "Q: If \\( p: X \\to A \\) is a surjective function, how can you define an equivalence relation on \\( X \\) based on the output values of \\( p \\)? ",
    "A": " A: You can define an equivalence relation \\( \\sim \\) on \\( X \\) by saying \\( x \\sim y \\) if and only if \\( p(x) = p(y) \\)."
  },
  {
    "page": 225,
    "title": "I Core Concepts/5 Relations/5.2 Equivalence Relations And Partitions",
    "content": "<markdown>\r\nSo let \\( x, y \\in X \\). Then\r\n\r\n\\[\r\nx \\sim y \\iff p(x) = p(y) \\quad \\text{by definition of } \\sim\r\n\\]\r\n\\[\r\n\\iff g([x]_{\\approx}) = g([y]_{\\approx}) \\quad \\text{by definition of } g\r\n\\]\r\n\\[\r\n\\iff [x]_{\\approx} = [y]_{\\approx} \\quad \\text{since } g \\text{ is bijective}\r\n\\]\r\n\\[\r\n\\iff x \\approx y \\quad \\text{by Exercise 5.2.27}\r\n\\]\r\n\r\nIt follows that \\(\\sim = \\approx\\), and then for all \\( x \\in X \\) we have\r\n\r\n\\[\r\nf([x]_{\\sim}) = p(x) = g([x]_{\\approx}) = g([x]_{\\sim})\r\n\\]\r\n\r\nso that \\( f = g \\), as required.\r\n\r\nIn light of [Theorem 5.2.35](#), we have now established the equivalence of three notions for a given set \\( X \\):\r\n\r\n\\[\r\n\\begin{array}{c}\r\n\\text{equivalence relations} \\\\\r\n\\text{on } X\r\n\\end{array}\r\n\\]\r\n\r\n\\[\r\n\\begin{array}{ccc}\r\n& \\nearrow & \\text{surjections with} \\\\\r\n\\text{partitions of } X & \\longleftrightarrow & \\text{domain } X\r\n\\end{array}\r\n\\]\r\n\r\n**Exercise 5.2.36**\r\n\r\nGive an explicit description of the dashed arrow in the above diagram. That is, describe the correspondence between partitions of a set \\( X \\) and surjections whose domain is \\( X \\).\r\n</markdown>",
    "Q": "Q: Describe the correspondence between partitions of a set \\( X \\) and surjections whose domain is \\( X \\). ",
    "A": " A: Each partition of a set \\( X \\) can be associated with a surjective function \\( f: X \\to Y \\), where \\( Y \\) is the set of equivalence classes formed by the partition. Specifically, for each element \\( x \\in X \\), \\( f(x) \\) assigns \\( x \\) to its corresponding equivalence class in the partition, ensuring that \\( f \\) is surjective since every equivalence class in \\( Y \\) has at least one representative from \\( X \\). Conversely, to every surjective function \\( f: X \\to Y \\), one can form a partition of \\( X \\) into disjoint subsets \\( f^{-1}(y) \\) for each \\( y \\in Y \\), where each subset consists of elements in \\( X \\) that map to the same element in \\( Y \\). Thus, there is a one-to-one correspondence between partitions of \\( X \\) and surjective functions \\( f: X \\to Y \\)."
  },
  {
    "page": 227,
    "title": "I Core Concepts/5 Relations/5.E Chapter 5 Exercises",
    "content": "<markdown>\r\n5.7. Let \\( X \\) be a set, fix two distinct elements \\( a, b \\in X \\), and define a relation \\( R \\) on \\( X \\) by declaring \\( aRb \\) only—that is, for all \\( x, y \\in X \\), we have \\( xRy \\) if and only if \\( x = a \\) and \\( y = b \\). Prove that the relation \\(\\sim_R\\) is defined by \\( x \\sim y \\) if and only if either \\( x = y \\) or \\(\\{x, y\\} = \\{a, b\\}\\).\r\n\r\nIn Questions 5.8 to 5.11, let \\( R \\) be a relation on a set \\( X \\), and let \\(\\sim_R\\) be the equivalence relation generated by \\( R \\) (as in Definition 5.E.2). In these questions, you will prove that \\(\\sim_R\\) is the ‘smallest’ equivalence relation extending \\( R \\).\r\n\r\n5.8. Prove that \\(\\sim_R\\) is an equivalence relation on \\( X \\).\r\n\r\n5.9. Prove that \\( xRy \\Rightarrow x \\sim_R y \\) for all \\( x, y \\in X \\).\r\n\r\n5.10. Prove that if \\(\\approx\\) is any equivalence relation on \\( X \\) and \\( xRy \\Rightarrow x \\approx y \\) for all \\( x, y \\in X \\), then \\( x \\sim_R y \\Rightarrow x \\approx y \\) for all \\( x, y \\in X \\).\r\n\r\n5.11. Prove that if \\( R \\) is an equivalence relation, then \\(\\sim_R = R\\).\r\n\r\n5.12. This question requires some familiarity with concepts from calculus. Let \\( \\mathcal{C}^1(\\mathbb{R}) \\) denote the set of all differentiable functions \\( F : \\mathbb{R} \\to \\mathbb{R} \\) whose derivative \\( F' : \\mathbb{R} \\to \\mathbb{R} \\) is continuous, and define a relation \\(\\sim\\) on \\( \\mathcal{C}^1(\\mathbb{R}) \\) by letting \\( F \\sim G \\) if and only if \\( F' = G' \\).\r\n\r\n(a) Prove that \\(\\sim\\) is an equivalence relation on \\( \\mathcal{C}^1(\\mathbb{R}) \\).\r\n\r\n(b) Let \\( F \\in \\mathcal{C}^1(\\mathbb{R}) \\). Prove that\r\n\r\n\\[\r\n[F]_\\sim = \\{ G \\in \\mathcal{C}^1(\\mathbb{R}) \\mid \\exists c \\in \\mathbb{R}, \\forall x \\in \\mathbb{R}, G(x) = F(x) + c \\}\r\n\\]\r\n\r\n(c) Interpret the notion of an indefinite integral \\(\\int f(x) \\, dx\\) of a continuous function \\( f : \\mathbb{R} \\to \\mathbb{R} \\) in terms of \\(\\sim\\)-equivalence classes.\r\n\r\n**True–False questions**\r\n\r\nIn Questions 5.13 to 5.19, determine (with proof) whether the statement is true or false.\r\n\r\n5.13. Every reflexive relation is symmetric.\r\n\r\n5.14. There is a unique relation on \\( \\mathbb{N} \\) that is reflexive, symmetric and antisymmetric.\r\n\r\n5.15. Every relation that is not symmetric is antisymmetric.\r\n\r\n5.16. Every symmetric, antisymmetric relation is reflexive.\r\n\r\n5.17. The empty set is the graph of a relation on \\( \\mathbb{N} \\).\r\n\r\n5.18. For all sets \\( X \\), the graph of a function \\( X \\to X \\) is the graph of a relation on \\( X \\).\r\n\r\n5.19. For all sets \\( X \\), the graph of a relation on \\( X \\) is the graph of a function \\( X \\to X \\).\r\n</markdown>",
    "Q": "Q: Prove that if \\( F, G \\in \\mathcal{C}^1(\\mathbb{R}) \\) such that \\( F' = G' \\), then \\( F(x) = G(x) + c \\) for some constant \\( c \\in \\mathbb{R} \\) ",
    "A": " A: Since \\( F' = G' \\), it follows from the Fundamental Theorem of Calculus that \\( F(x) - G(x) = \\int (F' - G') \\, dx = \\int 0 \\, dx = c \\), where \\( c \\) is a constant. Thus, \\( F(x) = G(x) + c \\) for some constant \\( c \\in \\mathbb{R} \\)."
  },
  {
    "page": 228,
    "title": "I Core Concepts/5 Relations/5.E Chapter 5 Exercises",
    "content": "<markdown>\r\n### Always–Sometimes–Never questions\r\n\r\nIn Questions 5.20 to 5.21, determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n5.20. Let \\(\\sim\\) be an equivalence relation on a set \\(X\\). Then the relation \\(\\approx\\) on \\(\\mathcal{P}(X) \\setminus \\{\\emptyset\\}\\), defined by \\(A \\approx B\\) if and only if \\(x \\sim y\\) for all \\(x \\in A\\) and \\(y \\in B\\), is an equivalence relation.\r\n\r\n5.21. Let \\(\\sim\\) be an equivalence relation on a set \\(X\\). Then the relation \\(\\approx\\) on \\(\\mathcal{P}(X) \\setminus \\{\\emptyset\\}\\), defined by \\(A \\approx B\\) if and only if \\(x \\sim y\\) for some \\(x \\in A\\) and \\(y \\in B\\), is an equivalence relation.\r\n</markdown>",
    "Q": "Q: Is the relation \\(\\approx\\) defined by \\(A \\approx B\\) if and only if there exists some \\(x \\in A\\) and \\(y \\in B\\) such that \\(x \\sim y\\) always, sometimes, or never an equivalence relation? ",
    "A": " A: The relation \\(\\approx\\) defined by \\(A \\approx B\\) if and only if there exists some \\(x \\in A\\) and \\(y \\in B\\) such that \\(x \\sim y\\) is never an equivalence relation, as it fails to satisfy the properties of reflexivity and transitivity."
  },
  {
    "page": 231,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\n### Definition 2.1.9\r\nLet \\( n \\in \\mathbb{N} \\). The set \\([n]\\) is defined by \\([n] = \\{ k \\in \\mathbb{N} \\mid 1 \\leq k \\leq n \\}\\).\r\n\r\nSince ‘pairing up’ really means ‘finding a bijection’, we are now ready to define what it means for a set to be finite.\r\n\r\n### Definition 6.1.1\r\nA set \\( X \\) is **finite** if there exists a bijection \\( f : [n] \\to X \\) for some \\( n \\in \\mathbb{N} \\). The function \\( f \\) is called an **enumeration** of \\( X \\). If \\( X \\) is not finite we say it is **infinite**.\r\n\r\nThis definition suggests the following strategy for proving that a set is finite.\r\n\r\n### Strategy 6.1.2 (Proving that a set is finite)\r\nIn order to prove that a set \\( X \\) is finite, it suffices to find a bijection \\([n] \\to X\\) for some \\( n \\in \\mathbb{N} \\).\r\n\r\n### Example 6.1.3\r\nLet \\( X = \\{ \\text{red, orange, yellow, green, blue, purple} \\} \\). We said above that \\( X \\) is finite; now we can prove it. Define \\( f : [6] \\to X \\) by\r\n\r\n\\[\r\n\\begin{align*}\r\nf(1) &= \\text{red} \\\\\r\nf(2) &= \\text{orange} \\\\\r\nf(3) &= \\text{yellow} \\\\\r\nf(4) &= \\text{green} \\\\\r\nf(5) &= \\text{blue} \\\\\r\nf(6) &= \\text{purple}\r\n\\end{align*}\r\n\\]\r\n\r\nThe function \\( f \\) is evidently a bijection, since each element of \\( X \\) can be expressed uniquely as \\( f(k) \\) for some \\( k \\in [6] \\). So \\( X \\) is finite.\r\n\r\n### Exercise 6.1.4\r\nProve that \\([n]\\) is finite for each \\( n \\in \\mathbb{N} \\).\r\n\r\nNote that Exercise 6.1.4 implies, in particular, that \\(\\emptyset\\) is finite, since \\(\\emptyset = [0]\\).\r\n\r\n## The size of a finite set\r\n\r\nWhilst it might sometimes be useful just to know that a set is finite, it will be even more useful to know how many elements it has. This quantity is called the **size** of the set. Intuitively, the size of the set should be the length of the list of its elements, but for this to be well-defined, we first need to know that the number of elements in the list is independent of the way we choose to list them.\r\n\r\nThe ‘list of elements’ of a finite set \\( X \\) is the bijection \\([n] \\to X\\) given by Definition 6.1.1, and \\( n \\) is the length of the list, this means that we need to prove that if \\([m] \\to X\\) and \\([n] \\to X\\) are bijections, then \\( m = n \\). This will be Theorem 6.1.9.\r\n</markdown>",
    "Q": "Q: Prove that the set \\( Y = \\{ 2, 4, 6, 8, 10 \\} \\) is finite by providing an appropriate bijection. ",
    "A": " A: Define the bijection \\( f : [5] \\to Y \\) as follows:  \r\n\\[\r\n\\begin{align*}\r\nf(1) &= 2 \\\\\r\nf(2) &= 4 \\\\\r\nf(3) &= 6 \\\\\r\nf(4) &= 8 \\\\\r\nf(5) &= 10\r\n\\end{align*}\r\n\\]\r\nSince \\( f \\) is a bijection, \\( Y \\) is finite."
  },
  {
    "page": 232,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\nTo be able to prove this, we must first prove some technical results involving functions that we will use in the proof.\r\n\r\n### Lemma 6.1.5\r\nLet \\( X \\) and \\( Y \\) be sets, let \\( f : X \\to Y \\) be an injection and let \\( a \\in X \\). Then there is an injection \\( f^v : X \\setminus \\{a\\} \\to Y \\setminus \\{f(a)\\} \\) defined by \\( f^v(x) = f(x) \\) for all \\( x \\in X \\setminus \\{a\\} \\). Moreover if \\( f \\) is a bijection \\( X \\to Y \\), then \\( f^v \\) is a bijection \\( X \\setminus \\{a\\} \\to Y \\setminus \\{f(a)\\} \\).\r\n\r\n**Proof**  \r\nNote that \\( f^v \\) is well-defined by injectivity of \\( f \\): indeed, if we had \\( f(x) = f(a) \\) for some \\( x \\in X \\setminus \\{a\\} \\), then that would imply \\( x = a \\in X \\setminus \\{a\\} \\), which is a contradiction.\r\n\r\nTo see that \\( f^v \\) is injective, let \\( x, y \\in X \\setminus \\{a\\} \\) and \\( f^v(x) = f^v(y) \\). Then \\( f(x) = f(y) \\), so that \\( x = y \\) by injectivity of \\( f \\).\r\n\r\nNow suppose that \\( f \\) is a bijection. Then \\( f \\) has an inverse \\( g : Y \\to X \\), which is itself a bijection (and hence an injection). Repeating the above argument with \\( g \\) yields an injection \\( g^v : Y \\setminus \\{f(a)\\} \\to X \\setminus \\{a\\} \\) defined by \\( g^v(y) = g(y) \\) for all \\( y \\in Y \\). But then for all \\( x \\in X \\setminus \\{a\\} \\) and all \\( y \\in Y \\setminus \\{f(a)\\} \\) we have\r\n\r\n\\[\r\ng^v(f^v(x)) = g(f(x)) = x \\quad \\text{and} \\quad f^v(g^v(y)) = f(g(y))\r\n\\]\r\n\r\nso that \\( g^v \\) is an inverse for \\( f^v \\). Hence if \\( f \\) is a bijection, then \\( f^v \\) is a bijection.\r\n\r\nA consequence of Lemma 6.1.5 is the next useful result, which we will use in our proof that every set has a unique ‘size’.\r\n\r\n### Lemma 6.1.6\r\nLet \\( X \\) be an inhabited set. There is a bijection \\( X \\setminus \\{a\\} \\to X \\setminus \\{b\\} \\) for all \\( a, b \\in X \\).\r\n\r\n**Proof**  \r\nDefine \\( f : X \\to X \\) be the function that swaps \\( a \\) and \\( b \\) and leaves all other elements of \\( X \\) fixed—that is, we define\r\n\r\n\\[\r\nf(x) = \r\n\\begin{cases} \r\nb & \\text{if } x = a \\\\ \r\na & \\text{if } x = b \\\\ \r\nx & \\text{if } x \\notin \\{a, b\\} \r\n\\end{cases}\r\n\\]\r\n\r\nNote that \\( f(f(x)) = x \\) for all \\( x \\in X \\), so \\( f \\) is a bijection—it is its own inverse! Since \\( f(a) = b \\), it follows from Lemma 6.1.5 that the function \\( f^v : X \\setminus \\{a\\} \\to X \\setminus \\{b\\} \\) defined by \\( f^v(x) = f(x) \\) for all \\( x \\in X \\setminus \\{a\\} \\) is a bijection, as required.\r\n</markdown>",
    "Q": "Q: If \\( f: X \\to Y \\) is an injection and \\( a \\in X \\), what is the relationship between \\( f^v : X \\setminus \\{a\\} \\to Y \\setminus \\{f(a)\\} \\) and the injectivity of \\( f \\)? ",
    "A": " A: The function \\( f^v \\) is well-defined and injective due to the injectivity of \\( f \\), as no two distinct elements in \\( X \\setminus \\{a\\} \\) can map to the same element in \\( Y \\)."
  },
  {
    "page": 233,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\n### Theorem 6.1.7\r\n\r\nLet \\( m, n \\in \\mathbb{N} \\).\r\n\r\n(a) If there exists an injection \\( f : [m] \\to [n] \\), then \\( m \\leq n \\).\r\n\r\n(b) If there exists a surjection \\( g : [m] \\to [n] \\), then \\( m \\geq n \\).\r\n\r\n(c) If there exists a bijection \\( h : [m] \\to [n] \\), then \\( m = n \\).\r\n\r\n**Proof of (a)**\r\n\r\nFor fixed \\( m \\in \\mathbb{N} \\), let \\( p(m) \\) be the assertion that, for all \\( n \\in \\mathbb{N} \\), if there exists an injection \\( [m] \\to [n] \\), then \\( m \\leq n \\). We prove that \\( p(m) \\) is true for all \\( m \\in \\mathbb{N} \\) by induction.\r\n\r\n- **(Base case)** We need to prove that, for all \\( n \\in \\mathbb{N} \\) if there exists an injection \\( [0] \\to [n] \\), then \\( 0 \\leq n \\). This is automatically true, since \\( 0 \\leq n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n- **(Induction step)** Fix \\( m \\in \\mathbb{N} \\) and suppose that, for all \\( n \\in \\mathbb{N} \\), if there exists an injection \\( [m] \\to [n] \\), then \\( m \\leq n \\).\r\n\r\n  Now let \\( n \\in \\mathbb{N} \\) and suppose that there is an injection \\( f : [m+1] \\to [n] \\). We need to prove that \\( m+1 \\leq n \\).\r\n\r\n  First note that \\( n \\geq 1 \\). Indeed, since \\( m+1 \\geq 1 \\), we have \\( 1 \\in [m+1] \\), and so \\( f(1) \\in [n] \\). This means that \\( [n] \\) is inhabited, and so \\( n \\geq 1 \\). In particular, \\( n-1 \\in \\mathbb{N} \\) and so the set \\( [n-1] \\) is well-defined. It suffices to prove that \\( m \\leq n-1 \\).\r\n\r\n  Let \\( a = f(m+1) \\in [n] \\). Then:\r\n\r\n  - By Lemma 6.1.5 there is an injection \\( f^\\vee : [m] = [m+1] \\setminus \\{m+1\\} \\to [n] \\setminus \\{a\\} \\).\r\n  - By Lemma 6.1.6 there is a bijection \\( g : [n] \\setminus \\{a\\} \\to [n] \\setminus \\{n\\} = [n-1] \\).\r\n\r\n  Composing these two functions gives an injection \\( g \\circ f^\\vee : [m] \\to [n-1] \\). But then \\( m \\leq n-1 \\) by the induction hypothesis, and so \\( m+1 \\leq n \\) as required.\r\n\r\nThe result now follows by induction.\r\n\r\n✷\r\n\r\n**Exercise 6.1.8**\r\n\r\nProve parts (b) and (c) of Theorem 6.1.7.\r\n\r\nPhew! That was fun. With these technical results proved, we can now prove the theorem we needed for the size of a finite set to be well-defined.\r\n\r\n### Theorem 6.1.9 (Uniqueness of size)\r\n\r\nLet \\( X \\) be a finite set and let \\( f : [m] \\to X \\) and \\( g : [n] \\to X \\) be enumerations of \\( X \\), where \\( m, n \\in \\mathbb{N} \\). Then \\( m = n \\).\r\n\r\n**Proof**\r\n\r\nSince \\( f : [m] \\to X \\) and \\( g : [n] \\to X \\) are bijections, the function \\( g^{-1} \\circ f : [m] \\to [n] \\) is a bijection by Exercises 3.2.20 and 3.2.45. Hence \\( m = n \\) by Theorem 6.1.7(c).\r\n\r\n✷\r\n</markdown>",
    "Q": "Q: Given the context of Theorem 6.1.7, explain why the existence of a bijection implies that \\( m = n \\). ",
    "A": " A: The existence of a bijection \\( h : [m] \\to [n] \\) means that there is a one-to-one correspondence between the elements of the two sets. Since all elements in \\( [m] \\) are matched uniquely to elements in \\( [n] \\) and vice versa, it follows that the sizes of the sets must be equal, thus \\( m = n \\)."
  },
  {
    "page": 234,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\nAs we mentioned above, [Theorem 6.1.9](#) tells us that any two ways of listing (enumerating) the elements of a finite set yield the same number of elements. We may now make the following definition.\r\n\r\n✦ **Definition 6.1.10**  \r\nLet \\( X \\) be a finite set. The **size** (or **cardinality**) of \\( X \\), written \\( |X| \\), is the unique natural number \\( n \\) for which there exists a bijection \\([n] \\to X\\).\r\n\r\n✐ **Example 6.1.11**  \r\n[Example 6.1.3](#) showed that \\(\\{ \\text{red, orange, yellow, green, blue, purple} \\} = 6\\), and provided the proof was correct, [Exercise 6.1.4](#) showed that \\(|[n]| = n\\) for all \\( n \\in \\mathbb{N} \\); in particular, \\(|\\emptyset| = 0\\).\r\n\r\n✐ **Example 6.1.12**  \r\nFix \\( n \\in \\mathbb{N} \\) and let \\( X = \\{ a \\in \\mathbb{Z} \\mid -n \\leq a \\leq n \\} \\). There is a bijection \\( f : [2n + 1] \\to X \\) defined by \\( f(k) = k - n - 1 \\). Indeed:\r\n\r\n- \\( f \\) is well-defined. We need to prove \\( f(k) \\in X \\) for all \\( k \\in [2n + 1] \\). Well given \\( k \\in [2n + 1] \\), we have \\( 1 \\leq k \\leq 2n + 1 \\), and so\r\n\r\n  \\[\r\n  -n = 1 - (n + 1) \\leq k - (n + 1) = f(k) \\leq (2n + 1) - (n + 1) = n\r\n  \\]\r\n\r\n  so that \\( f(k) \\in X \\) as claimed.\r\n\r\n- \\( f \\) is injective. Let \\( k, \\ell \\in [2n + 1] \\) and assume \\( f(k) = f(\\ell) \\). Then \\( k - n - 1 = \\ell - n - 1 \\), and so \\( k = \\ell \\).\r\n\r\n- \\( f \\) is surjective. Let \\( a \\in X \\) and define \\( k = a + n + 1 \\). Then\r\n\r\n  \\[\r\n  1 = (-n) + n + 1 \\leq \\underbrace{a + n + 1}_{=k} \\leq n + n + 1 = 2n + 1\r\n  \\]\r\n\r\n  and so \\( k \\in [2n + 1] \\), and moreover \\( f(k) = (a + n + 1) - n - 1 = a \\).\r\n\r\nSince \\( f \\) is a bijection, we have \\(|X| = 2n + 1\\) by [Definition 6.1.10](#).\r\n\r\n✐ **Exercise 6.1.13**  \r\nLet \\( X \\) be a finite set with \\(|X| = n > 1\\). Let \\( a \\in X \\) and let \\( b \\notin X \\). Prove that\r\n\r\n(a) \\( X \\setminus \\{a\\} \\) is finite and \\(|X \\setminus \\{a\\}| = n - 1\\); and\r\n\r\n(b) \\( X \\cup \\{b\\} \\) is finite and \\(|X \\cup \\{b\\}| = n + 1\\).\r\n\r\nIdentify where in your proofs you make use the hypotheses that \\( a \\in X \\) and \\( b \\notin X \\).\r\n</markdown>",
    "Q": "Q: If \\( Y \\) is a finite set with \\(|Y| = m > 1\\), let \\( c \\in Y \\) and \\( d \\notin Y \\). Prove that \\(|Y \\setminus \\{c\\}| = m - 1\\) and \\(|Y \\cup \\{d\\}| = m + 1\\). Where do the hypotheses \\( c \\in Y \\) and \\( d \\notin Y \\) play a crucial role in your proof? ",
    "A": " A: To show \\(|Y \\setminus \\{c\\}| = m - 1\\), we note that removing one element \\( c \\) from \\( Y \\) decreases its size by one, which gives \\( |Y \\setminus \\{c\\}| = m - 1\\). For \\(|Y \\cup \\{d\\}| = m + 1\\), adding an element \\( d \\) which is not already in \\( Y \\) increases its size by one, leading to \\(|Y \\cup \\{d\\}| = m + 1\\). The hypotheses that \\( c \\in Y \\) ensures we are truly removing an existing element, while \\( d \\notin Y \\) confirms that we are adding a new element to the set."
  },
  {
    "page": 235,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\n## Comparing the sizes of finite sets\r\n\r\nWhen we used dots and stars to motivate the definitions of injective and surjective functions at the beginning of [Section 3.2](#), we suggested the following intuition:\r\n\r\n- If there is an injection \\( f : X \\to Y \\), then \\( X \\) has ‘at most as many elements as \\( Y \\)’; and\r\n- If there is a surjection \\( g : X \\to Y \\), then \\( X \\) has ‘at least as many elements as \\( Y \\)’.\r\n\r\nWe are now in a position to prove this, at least when \\( X \\) and \\( Y \\) are finite. The following theorem is a generalisation of [Theorem 6.1.7](#).\r\n\r\n### Theorem 6.1.14\r\nLet \\( X \\) and \\( Y \\) be sets.\r\n\r\n(a) If \\( Y \\) is finite and there is an injection \\( f : X \\to Y \\), then \\( X \\) is finite and \\( |X| \\leq |Y| \\).\r\n\r\n(b) If \\( X \\) is finite and there is a surjection \\( f : X \\to Y \\), then \\( Y \\) is finite and \\( |X| \\geq |Y| \\).\r\n\r\n(c) If one of \\( X \\) or \\( Y \\) is finite and there is a bijection \\( f : X \\to Y \\), then \\( X \\) and \\( Y \\) are both finite and \\( |X| = |Y| \\).\r\n\r\n**Proof of (a)**\r\n\r\nWe prove by induction that, for all \\( n \\in \\mathbb{N} \\), if \\( Y \\) is a finite set of size \\( n \\) and there is an injection \\( f : X \\to Y \\), then \\( X \\) is finite and \\( |X| \\leq n \\).\r\n\r\n- **(Base case)** Let \\( Y \\) be a finite set of size 0—that is, \\( Y \\) is empty. Suppose there is an injection \\( f : X \\to Y \\). If \\( X \\) is inhabited, then there exists an element \\( a \\in X \\), so that \\( f(a) \\in Y \\). This contradicts emptiness of \\( Y \\), so that \\( X \\) must be empty. Hence \\( |X| = 0 \\leq 0 \\), as required.\r\n\r\n- **(Induction step)** Fix \\( n \\in \\mathbb{N} \\) and assume that, if \\( Z \\) is a finite set of size \\( n \\) and there is an injection \\( f : X \\to Z \\), then \\( X \\) is finite and \\( |X| \\leq n \\).\r\n\r\n  Fix a finite set \\( Y \\) of size \\( n + 1 \\) and an injection \\( f : X \\to Y \\). We need to prove that \\( X \\) is finite and \\( |X| \\leq n + 1 \\).\r\n\r\n  If \\( X \\) is empty, then \\( |X| = 0 \\leq n + 1 \\) as required. So assume that \\( X \\) is inhabited, and fix an element \\( a \\in X \\).\r\n\r\n  By [Lemma 6.1.5](#), there is an injection \\( f' : X \\setminus \\{a\\} \\to Y \\setminus \\{f(a)\\} \\). Moreover, by [Exercise 6.1.13](#), \\( Y \\setminus \\{f(a)\\} \\) is finite and \\( |Y \\setminus \\{f(a)\\}| = (n + 1) - 1 = n \\).\r\n\r\n  Applying the induction hypothesis with \\( Z = Y \\setminus \\{f(a)\\} \\) tells us that, \\( X \\setminus \\{a\\} \\) is finite and \\( |X \\setminus \\{a\\}| \\leq n \\). But \\( |X \\setminus \\{a\\}| = |X| - 1 \\) by [Exercise 6.1.13](#), and so \\( |X| \\leq n + 1 \\), as required.\r\n</markdown>",
    "Q": "Q: If there is a surjection \\( g: X \\to Y \\) and \\( |Y| = 5 \\), what can we conclude about the size of set \\( X \\)? ",
    "A": " A: Since there is a surjection \\( g: X \\to Y \\) and \\( |Y| = 5 \\), we can conclude that \\( |X| \\geq |Y| \\), thus \\( |X| \\geq 5 \\)."
  },
  {
    "page": 236,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\nThe result now follows by induction.\r\n\r\n### Exercise 6.1.15\r\nProve parts (b) and (c) of Theorem 6.1.14.\r\n\r\nTheorem 6.1.14 suggests the following strategies for comparing the sizes of finite sets:\r\n\r\n#### Strategy 6.1.16 (Comparing the sizes of finite sets)\r\nLet \\( X \\) and \\( Y \\) be finite sets.\r\n\r\n(a) In order to prove that \\( |X| \\leq |Y| \\), it suffices to find an injection \\( X \\to Y \\).\r\n\r\n(b) In order to prove that \\( |X| \\geq |Y| \\), it suffices to find a surjection \\( X \\to Y \\).\r\n\r\n(c) In order to prove that \\( |X| = |Y| \\), it suffices to find a bijection \\( X \\to Y \\).\r\n\r\nStrategy (c) is commonly known as **bijective proof**.\r\n\r\n### Closure properties of finite sets\r\n\r\nWe now use Strategy 6.1.16 to prove some **closure properties** of finite sets—that is, operations we can perform on finite sets to ensure that the result remains finite.\r\n\r\n### Exercise 6.1.17\r\nLet \\( X \\) be a finite set. Prove that every subset \\( U \\subseteq X \\) is finite and \\( |U| \\leq |X| \\).\r\n\r\n### Exercise 6.1.18\r\nLet \\( X \\) and \\( Y \\) be finite sets. Prove that \\( X \\cap Y \\) is finite.\r\n\r\n#### Proposition 6.1.19\r\nLet \\( X \\) and \\( Y \\) be finite sets. Then \\( X \\cup Y \\) is finite, and moreover\r\n\r\n\\[\r\n|X \\cup Y| = |X| + |Y| - |X \\cap Y|\r\n\\]\r\n\r\n**Proof**\r\n\r\nWe will prove this in the case when \\( X \\) and \\( Y \\) are disjoint. The general case, when \\( X \\) and \\( Y \\) are not assumed to be disjoint, will be Exercise 6.1.20.\r\n\r\nLet \\( m = |X| \\) and \\( n = |Y| \\), and let \\( f : [m] \\to X \\) and \\( g : [n] \\to Y \\) be bijections.\r\n\r\nSince \\( X \\) and \\( Y \\) are disjoint, we have \\( X \\cap Y = \\emptyset \\). Define \\( h : [m + n] \\to X \\cup Y \\) as follows; given \\( k \\in [m + n] \\), let\r\n\r\n\\[\r\nh(k) = \r\n\\begin{cases} \r\nf(k) & \\text{if } k \\leq m \\\\\r\ng(k - m) & \\text{if } k > m \r\n\\end{cases}\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( X \\) and \\( Y \\) are finite sets, how can you demonstrate that the intersection \\( X \\cap Y \\) is finite using the relationship between the sizes of \\( X \\), \\( Y \\), and \\( X \\cup Y \\)? ",
    "A": " A: We can use the formula \\( |X \\cup Y| = |X| + |Y| - |X \\cap Y| \\). Since \\( |X \\cup Y| \\), \\( |X| \\), and \\( |Y| \\) are all finite, it follows that \\( |X \\cap Y| \\) must also be finite, as the difference between finite numbers is finite."
  },
  {
    "page": 237,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\nNote that \\( h \\) is well-defined: the cases \\( k \\leq m \\) and \\( k > m \\) are mutually exclusive, they cover all possible cases, and \\( k - m \\in [n] \\) for all \\( m + 1 \\leq k \\leq n \\) so that \\( g(k - m) \\) is defined. It is then straightforward to check that \\( h \\) has an inverse \\( h^{-1} : X \\cup Y \\to [m + n] \\) defined by\r\n\r\n\\[\r\nh^{-1}(z) = \r\n\\begin{cases} \r\nf^{-1}(z) & \\text{if } z \\in X \\\\ \r\ng^{-1}(z) + m & \\text{if } z \\in Y \r\n\\end{cases}\r\n\\]\r\n\r\nWell-definedness of \\( h^{-1} \\) relies fundamentally on the assumption that \\( X \\cap Y = \\emptyset \\), as this is what ensures that the cases \\( x \\in X \\) and \\( x \\in Y \\) are mutually exclusive.\r\n\r\nHence \\(|X \\cup Y| = m + n = |X| + |Y|\\), which is as required since \\(|X \\cap Y| = 0\\).\r\n\r\n### Exercise 6.1.20\r\nThe following steps complete the proof of [Proposition 6.1.19](#):\r\n\r\n(a) Given sets \\( A \\) and \\( B \\), prove that the sets \\( A \\times \\{0\\} \\) and \\( B \\times \\{1\\} \\) are disjoint, and find bijections \\( A \\to A \\times \\{0\\} \\) and \\( B \\to B \\times \\{1\\} \\). Write \\( A \\sqcup B \\) (LaTeX code: `\\sqcup`) to denote the set \\((A \\times \\{0\\}) \\cup (B \\times \\{1\\})\\). The set \\( A \\sqcup B \\) is called the **disjoint union** of \\( A \\) and \\( B \\).\r\n\r\n(b) Prove that, if \\( A \\) and \\( B \\) are finite then \\( A \\sqcup B \\) is finite and\r\n\r\n\\[\r\n|A \\sqcup B| = |A| + |B|\r\n\\]\r\n\r\n(c) Let \\( X \\) and \\( Y \\) be sets. Find a bijection\r\n\r\n\\[\r\n(X \\cup Y) \\sqcup (X \\cap Y) \\to X \\cup Y\r\n\\]\r\n\r\n(d) Complete the proof of [Proposition 6.1.19](#)—that is, prove that if \\( X \\) and \\( Y \\) are finite sets, not necessarily disjoint, then \\( X \\cup Y \\) is finite and\r\n\r\n\\[\r\n|X \\cup Y| = |X| + |Y| - |X \\cap Y|\r\n\\]\r\n\r\n### Exercise 6.1.21\r\nLet \\( X \\) be a finite set and let \\( U \\subseteq X \\). Prove that \\( X \\setminus U \\) is finite, and moreover \\(|X \\setminus U| = |X| - |U|\\).\r\n\r\n### Exercise 6.1.22\r\nLet \\( m, n \\in \\mathbb{N} \\). Prove that \\([m] \\times [n] = mn\\).\r\n\r\n### Proposition 6.1.23\r\nLet \\( X \\) and \\( Y \\) be finite sets. Then \\( X \\times Y \\) is finite, and moreover\r\n\r\n\\[\r\n|X \\times Y| = |X| \\cdot |Y|\r\n\\]\r\n</markdown>",
    "Q": "Q: How would you prove that if \\( A \\) and \\( B \\) are finite sets, then the disjoint union \\( A \\sqcup B \\) is also finite? ",
    "A": " A: If \\( A \\) and \\( B \\) are finite, then \\( |A| \\) and \\( |B| \\) are both finite integers. The disjoint union is given by \\( |A \\sqcup B| = |A| + |B| \\), which is also finite since the sum of two finite integers is finite. Thus, \\( A \\sqcup B \\) is finite."
  },
  {
    "page": 238,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\nProof\r\n\r\nLet \\( X \\) and \\( Y \\) be finite sets, let \\( m = |X| \\) and \\( n = |Y| \\), and let \\( f : [m] \\to X \\) and \\( g : [n] \\to Y \\) be bijections. Define a function \\( h : [m] \\times [n] \\to X \\times Y \\) by\r\n\r\n\\[\r\nh(k, \\ell) = (f(k), g(\\ell))\r\n\\]\r\n\r\nfor each \\( k \\in [m] \\) and \\( \\ell \\in [n] \\). It is easy to see that this is a bijection, with inverse defined by\r\n\r\n\\[\r\nh^{-1}(x, y) = (f^{-1}(x), g^{-1}(y))\r\n\\]\r\n\r\nfor all \\( x \\in X \\) and \\( y \\in Y \\). By Exercise 6.1.22 there is a bijection \\( p : [mn] \\to [m] \\times [n] \\), and by Exercise 3.2.20 the composite \\( h \\circ p : [mn] \\to X \\times Y \\) is a bijection. Hence \\(|X \\times Y| = mn\\).\r\n\r\nIn summary, we have proved that the property of finiteness is preserved by taking subsets, pairwise unions, pairwise intersections, pairwise cartesian products, and relative complements.\r\n\r\n## Infinite sets\r\n\r\nWe conclude this section by proving that not all sets are finite—specifically, we’ll prove that \\( \\mathbb{N} \\) is infinite. Intuitively this seems extremely easy: of course \\( \\mathbb{N} \\) is infinite! But in mathematical practice, this isn’t good enough: we need to use our definition of ‘infinite’ to prove that \\( \\mathbb{N} \\) is infinite. Namely, we need to prove that there is no bijection \\([n] \\to \\mathbb{N}\\) for any \\( n \\in \\mathbb{N} \\). We will use Lemma 6.1.24 below in our proof.\r\n\r\n### Lemma 6.1.24\r\n\r\nEvery inhabited finite set of natural numbers has a greatest element.\r\n\r\n**Proof**\r\n\r\nWe’ll prove by induction on \\( n \\geq 1 \\) that every subset \\( U \\subseteq \\mathbb{N} \\) of size \\( n \\) has a greatest element.\r\n\r\n- **(Base case)** Take \\( U \\subseteq \\mathbb{N} \\) with \\(|U| = 1\\). then \\( U = \\{m\\} \\) for some \\( m \\in \\mathbb{N} \\). Since \\( m \\) is the only element of \\( U \\), it is certainly the greatest element of \\( U \\)!\r\n\r\n- **(Induction step)** Fix \\( n \\geq 1 \\) and suppose that every set of natural numbers of size \\( n \\) has a greatest element (IH).\r\n\r\n  Let \\( U \\subseteq \\mathbb{N} \\) with \\(|U| = n + 1\\). We wish to show that \\( U \\) has a greatest element.\r\n\r\n  Since \\(|U| = n + 1\\), we may write \\( U = \\{m_1, m_2, \\ldots, m_n, m_{n+1}\\} \\) for distinct natural numbers \\( m_k \\). But then \\(|U \\setminus \\{m_{n+1}\\}| = n\\) by Exercise 6.1.13, and so by the induction hypothesis, \\( U \\setminus \\{m_{n+1}\\} \\) has a greatest element, say \\( m_k \\). Now:\r\n\r\n  - If \\( m_k < m_{n+1} \\), then \\( m_{n+1} \\) is the greatest element of \\( U \\).\r\n</markdown>",
    "Q": "Q: Prove that every inhabited finite set \\( U \\subseteq \\mathbb{N} \\) with \\( |U| = n + 1 \\) has a greatest element using the principle of mathematical induction. ",
    "A": " A: By the induction hypothesis, every subset \\( U \\setminus \\{m_{n+1}\\} \\) of size \\( n \\) has a greatest element, say \\( m_k \\). If \\( m_k < m_{n+1} \\), then \\( m_{n+1} \\) is the greatest element of \\( U \\). Otherwise, \\( m_k \\) is the greatest element. Thus, \\( U \\) has a greatest element."
  },
  {
    "page": 239,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.1 Finite Sets",
    "content": "<markdown>\r\nIf \\( m_k > m_{n+1} \\), then \\( m_k \\) is the greatest element of \\( U \\).\r\n\r\nIn any case, \\( U \\) has a greatest element. This completes the induction step.\r\n\r\n### Theorem 6.1.25\r\nThe set \\( \\mathbb{N} \\) is infinite.\r\n\r\n**Proof**\r\n\r\nWe proceed by contradiction. Suppose \\( \\mathbb{N} \\) is finite. Then \\( |\\mathbb{N}| = n \\) for some \\( n \\in \\mathbb{N} \\), and hence \\( \\mathbb{N} \\) is either empty (nonsense, since \\( 0 \\in \\mathbb{N} \\)) or, by Lemma 6.1.24, it has a greatest element \\( g \\). But \\( g + 1 \\in \\mathbb{N} \\) since every natural number has a successor, and \\( g + 1 > g \\), so this contradicts maximality of \\( g \\). Hence \\( \\mathbb{N} \\) is infinite.\r\n</markdown>",
    "Q": "Q: If \\( g \\) is the greatest element of a finite set \\( U \\) of natural numbers, what can be deduced about \\( g \\) when we find \\( g + 1 \\) in \\( U \\)? ",
    "A": " A: If \\( g \\) is the greatest element of the set \\( U \\) and we find \\( g + 1 \\) in \\( U \\), it contradicts the assumption that \\( g \\) is the greatest element, as \\( g + 1 \\) is greater than \\( g \\)."
  },
  {
    "page": 240,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\n## Section 6.2\r\n\r\n# Countable and uncountable sets\r\n\r\nIn [Section 6.1](#), we defined what it means for a set to be ‘finite’ in order to capture the idea that its elements can be listed in such a way that the list has a start and an end. We did so by observing that a list of the elements of a finite set is essentially the same thing as a bijection \\( f : [n] \\to X \\) for some \\( n \\in \\mathbb{N} \\), with the element \\( f(k) \\in X \\) playing the role of the \\( k \\)th element of the list.\r\n\r\nWe are now interested in **infinite sets**. We certainly can’t expect a list of all the elements of an infinite set to end, so the question now is: can its elements be listed if we allow the list to be infinite? We will call such sets **countable sets**.\r\n\r\nIt is perhaps surprising that not every set is countable: some sets are ‘too big’ for their elements to be listed! We will prove that such **uncountable sets** exist later in this section.\r\n\r\nThe precise definition of what it means for a set \\( X \\) to be countable ([Definition 6.2.1](#)) captures the idea that we can list the elements of \\( X \\) one-by-one such that, even if the list goes on forever, each element of \\( X \\) appears at some finite stage in the list. The list might or might not be finite; it has a start, but it might not have an end.\r\n\r\nTo illustrate, consider the following list of the elements of \\( \\mathbb{N} \\):\r\n\r\n\\[ 0, \\ 1, \\ 2, \\ 3, \\ 4, \\ \\ldots, \\ n, \\ n+1, \\ \\ldots \\]\r\n\r\nThe list does not end, since \\( \\mathbb{N} \\) is infinite ([Theorem 6.1.25](#)), but nevertheless every natural number appears at some finite stage along the list.\r\n\r\nAs another example, consider the set \\( \\mathbb{Z} \\) of all integers. We might wish to list the elements of \\( \\mathbb{Z} \\) in the usual way:\r\n\r\n\\[ \\ldots, \\ -(n+1), \\ -n, \\ \\ldots, \\ -3, \\ -2, \\ -1, \\ 0, \\ 1, \\ 2, \\ 3, \\ \\ldots, \\ n, \\ n+1, \\ \\ldots \\]\r\n\r\nThis does not fulfil our criterion that the list must have a start: it is infinite in both directions. However, it is still possible to list them, by slotting the negative integers in-between the non-negative integers:\r\n\r\n\\[ 0, \\ -1, \\ 1, \\ -2, \\ 2, \\ -3, \\ 3, \\ \\ldots, \\ -n, \\ n, \\ -(n+1), \\ n+1, \\ \\ldots \\]\r\n\r\nThis is not how we would usually think about listing the integers, but we have nonetheless found a way of doing it so that every integer appears at some finite stage on the list.\r\n\r\nBut specifying a list of the elements of an infinite set \\( X \\), such that every element of \\( X \\) appears at some finite stage on the list, is equivalent to specifying a bijection \\( f : \\mathbb{N} \\to X \\).\r\n</markdown>",
    "Q": "Q: What is the significance of establishing a bijection \\( f : \\mathbb{N} \\to X \\) in the context of countable sets? ",
    "A": " A: Establishing a bijection \\( f : \\mathbb{N} \\to X \\) signifies that the elements of the set \\( X \\) can be listed in a way such that each element appears at some finite stage in the list, confirming that \\( X \\) is countable."
  },
  {
    "page": 241,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nwhere the element \\( f(k) \\in X \\) plays the role of the \\( k^{th} \\) element of the list—that is, the elements of \\( X \\) can be listed as\r\n\r\n\\[ f(0), \\ f(1), \\ f(2), \\ \\ldots, \\ f(n), \\ f(n+1), \\]\r\n\r\nThis motivates the following definition.\r\n\r\n✦ **Definition 6.2.1**  \r\nA set \\( X \\) is **countably infinite** if there exists a bijection \\( f : \\mathbb{N} \\to X \\). The bijection \\( f \\) is called an **enumeration** of \\( X \\). We say \\( X \\) is **countable** if it is finite or countably infinite.\r\n\r\nSome authors prefer to use ‘countable’ to mean ‘countably infinite’, in which case they would say ‘finite or countable’ to mean ‘countable’.\r\n\r\n✐ **Example 6.2.2**  \r\nThe set \\( \\mathbb{N} \\) is countably infinite, since by Exercise 3.2.19, the identity function \\(\\text{id}_{\\mathbb{N}} : \\mathbb{N} \\to \\mathbb{N}\\) is a bijection. This enumeration yields the usual list of natural numbers\r\n\r\n\\[ 0, \\ 1, \\ 2, \\ 3, \\ \\ldots, \\ n, \\ n+1, \\ \\ldots \\]\r\n\r\n✐ **Example 6.2.3**  \r\nThe function \\( f : \\mathbb{Z} \\to \\mathbb{N} \\) defined for \\( x \\in \\mathbb{Z} \\) by\r\n\r\n\\[\r\nf(x) = \r\n\\begin{cases} \r\n2x & \\text{if } x \\geq 0 \\\\\r\n-(2x+1) & \\text{if } x < 0 \r\n\\end{cases}\r\n\\]\r\n\r\nis a bijection. Indeed, it has an inverse given by\r\n\r\n\\[\r\nf^{-1}(x) = \r\n\\begin{cases} \r\n\\frac{x}{2} & \\text{if } x \\text{ is even} \\\\\r\n-\\frac{x+1}{2} & \\text{if } x \\text{ is odd} \r\n\\end{cases}\r\n\\]\r\n\r\nHence the set of integers \\( \\mathbb{Z} \\) is countably infinite. The corresponding list of integers is given by\r\n\r\n\\[ 0, \\ -1, \\ 1, \\ -2, \\ 2, \\ -3, \\ 3, \\ -4, \\ 4, \\ \\ldots \\]\r\n\r\nwhich is exactly the list we presented earlier! The fact that \\( f \\) is a bijection ensures that each integer appears on this list exactly once.\r\n\r\n✐ **Exercise 6.2.4**  \r\nProve that the set of all positive integers is countably infinite.\r\n\r\n✐ **Exercise 6.2.5**  \r\nProve that the set of all even natural numbers is countably infinite, and that the set of all odd natural numbers is countably infinite.\r\n</markdown>",
    "Q": "Q: Provide an example of a bijection demonstrating that the set of all positive integers, \\( \\mathbb{N}^+ \\), is countably infinite. ",
    "A": " A: One possible bijection is \\( f : \\mathbb{N} \\to \\mathbb{N}^+ \\) defined by \\( f(n) = n + 1 \\). This function is a bijection since it uniquely maps each \\( n \\in \\mathbb{N} \\) to a positive integer and covers all positive integers."
  },
  {
    "page": 242,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nSince the inverse of a bijection is a bijection, we may also prove that a set \\( X \\) is countable by finding a bijection \\( X \\to \\mathbb{N} \\).\r\n\r\n### Exercise 6.2.6\r\nProve that the function \\( p : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) defined by \\( p(x, y) = 2^x(2y + 1) - 1 \\) is a bijection. Deduce that \\( \\mathbb{N} \\times \\mathbb{N} \\) is countable.\r\n\r\n## Closure properties of countable sets\r\n\r\nProving that a set is infinite by finding an explicit bijection with the set of natural numbers can be overly burdensome, so we will now develop some **closure properties** of countable sets. This will allow us to prove that a set is countable by relating it to sets that we already know are countable, without having to find a bijection \\( f : \\mathbb{N} \\to X \\) every time.\r\n\r\n### Proposition 6.2.7\r\nLet \\( f : X \\to Y \\) be a bijection. Then \\( X \\) is countably infinite if and only if \\( Y \\) is countably infinite.\r\n\r\n**Proof**  \r\nSuppose \\( X \\) is countably infinite. Then there is a bijection \\( g : \\mathbb{N} \\to X \\). But then \\( f \\circ g : \\mathbb{N} \\to Y \\) is a composite of bijections, so is bijective, meaning that \\( Y \\) is countably infinite.\r\n\r\nConversely, suppose \\( Y \\) is countably infinite. Then there is a bijection \\( h : \\mathbb{N} \\to Y \\). But then \\( f^{-1} \\circ h : \\mathbb{N} \\to X \\) is a composite of bijections, so is bijective, meaning that \\( X \\) is countably infinite.\r\n\r\n### Exercise 6.2.8\r\nProve if \\( X \\) and \\( Y \\) are countably infinite sets, then \\( X \\times Y \\) is countably infinite.\r\n\r\nExercise 6.2.8 allows us to prove that the product of finitely many countably infinite sets are countably infinite—this is an analogue of (the independent version of) the multiplication principle (Lemma 8.1.12) for countably infinite sets.\r\n\r\n### Proposition 6.2.9 (The product of finitely many countable sets is countable)\r\nLet \\( n \\geq 1 \\) and let \\( X_1, \\ldots, X_n \\) be countably infinite sets. Then the product \\(\\prod_{i=1}^{n} X_i\\) is countably infinite.\r\n\r\n**Proof**  \r\nWe proceed by induction on \\( n \\geq 1 \\).\r\n\r\n- **(Base case)** When \\( n = 1 \\) the assertion is trivial: if \\( X_1 \\) is countably infinite then \\( X_1 \\) is countably infinite.\r\n</markdown>",
    "Q": "Q: Show that if \\( X \\) and \\( Y \\) are countably infinite sets, then there exists a bijection between \\( X \\times Y \\) and \\( \\mathbb{N} \\). ",
    "A": " A: Since \\( X \\) and \\( Y \\) are countably infinite, there exist bijections \\( f: \\mathbb{N} \\to X \\) and \\( g: \\mathbb{N} \\to Y \\). We can define a function \\( h: \\mathbb{N} \\times \\mathbb{N} \\to X \\times Y \\) by \\( h(m, n) = (f(m), g(n)) \\). This function is bijective, proving that \\( X \\times Y \\) is countably infinite."
  },
  {
    "page": 243,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\n- **(Induction step)** Fix \\( n \\geq 1 \\) and suppose that for any sets \\( X_1, \\ldots, X_n \\), the product\r\n\r\n  \\[\r\n  \\prod_{i=1}^{n} X_i\r\n  \\]\r\n\r\n  is countably infinite. Fix sets \\( X_1, \\ldots, X_{n+1} \\). Then \r\n\r\n  \\[\r\n  \\prod_{i=1}^{n} X_i\r\n  \\]\r\n\r\n  is countably infinite by the induction hypothesis, and \\( X_{n+1} \\) is countably infinite by assumption, so by Exercise 6.2.8, the set\r\n\r\n  \\[\r\n  \\left( \\prod_{i=1}^{n} X_i \\right) \\times X_{n+1}\r\n  \\]\r\n\r\n  is countably infinite. But by Exercise 4.2.12 there is a bijection\r\n\r\n  \\[\r\n  \\prod_{i=1}^{n+1} X_i \\to \\left( \\prod_{i=1}^{n} X_i \\right) \\times X_{n+1}\r\n  \\]\r\n\r\n  and so by Exercise 6.2.8 we have that \r\n\r\n  \\[\r\n  \\prod_{i=1}^{n+1} X_i\r\n  \\]\r\n\r\n  is countably infinite, as required.\r\n\r\nBy induction, we’re done.\r\n\r\nWe often just want to know whether a set is **countable**, rather than countably infinite. This might be because we only seek an upper bound on how large the set is; or it might be because we already know that the set is infinite, so proving that it is countable suffices.\r\n\r\nThe following theorem allows us to prove that a set \\( X \\) is countable—that is, finite or countably infinite—by either surjecting \\( \\mathbb{N} \\) onto \\( X \\), or injecting \\( X \\) into \\( \\mathbb{N} \\). Using the intuition of Section 6.1, where we compared the sizes of finite sets using injections and surjections, this says that a set is countable if and only if \\( X \\) is at most as large as \\( \\mathbb{N} \\).\r\n\r\n### Theorem 6.2.10\r\n\r\nLet \\( X \\) be an inhabited set. The following are equivalent:\r\n\r\n(i) \\( X \\) is countable;\r\n\r\n(ii) There exists a surjection \\( f : \\mathbb{N} \\to X \\);\r\n\r\n(iii) There exists an injection \\( f : X \\to \\mathbb{N} \\).\r\n\r\n**Proof**\r\n\r\nWe’ll prove (i)\\(\\iff\\)(ii) and (i)\\(\\iff\\)(iii).\r\n\r\n- (i)\\(\\implies\\)(ii). Suppose \\( X \\) is countable. If \\( X \\) is countably infinite, then there exists a bijection \\( f : \\mathbb{N} \\to X \\), which is a surjection. If \\( X \\) is finite then there exists a bijection \\( g : [m] \\to X \\), where \\( m = |X| \\geq 1 \\). Define \\( f : \\mathbb{N} \\to X \\) by\r\n\r\n  \\[\r\n  f(n) = \r\n  \\begin{cases} \r\n  g(n) & \\text{if } 1 \\leq n \\leq m \\\\\r\n  g(1) & \\text{if } n = 0 \\text{ or } n > m \r\n  \\end{cases}\r\n  \\]\r\n</markdown>",
    "Q": "Q: Given the theorem stating that a set \\( X \\) is countable if and only if there exists a surjection \\( f : \\mathbb{N} \\to X \\), if \\( X \\) is a finite set with \\( |X| = 5 \\), can you construct such a surjection explicitly? ",
    "A": " A: Yes, an example of a surjection \\( f : \\mathbb{N} \\to X \\) could be defined as follows: Let \\( X = \\{a, b, c, d, e\\} \\), then we can define \\( f \\) as: \r\n\r\n\\[\r\nf(n) = \r\n\\begin{cases} \r\na & \\text{if } n = 0 \\\\\r\nb & \\text{if } n = 1 \\\\\r\nc & \\text{if } n = 2 \\\\\r\nd & \\text{if } n = 3 \\\\\r\ne & \\text{if } n = 4 \\\\\r\na & \\text{if } n \\geq 5 \r\n\\end{cases}\r\n\\]\r\n\r\nThis surjection maps \\( \\mathbb{N} \\) onto \\( X \\), repeating values from \\( X \\) for \\( n \\geq 5 \\)."
  },
  {
    "page": 244,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nThen \\( f \\) is surjective: if \\( x \\in X \\) then there exists \\( n \\in [m] \\) such that \\( g(n) = x \\), and then \\( f(n) = g(n) = x \\).\r\n\r\n- (ii)\\(\\Rightarrow\\)(i). Suppose there exists a surjection \\( f : \\mathbb{N} \\to X \\). To prove that \\( X \\) is countable, it suffices to prove that if \\( X \\) is infinite then it is countably infinite. So suppose \\( X \\) is infinite, and define a sequence recursively by\r\n  - \\( a_0 = 0 \\);\r\n  - Fix \\( n \\in \\mathbb{N} \\) and suppose \\( a_0, \\ldots, a_n \\) have been defined. Define \\( a_{n+1} \\) to be the least natural number for which \\( f(a_{n+1}) \\not\\in \\{ f(a_0), f(a_1), \\ldots, f(a_n) \\} \\).\r\n\r\nDefine \\( g : \\mathbb{N} \\to X \\) by \\( g(n) = f(a_n) \\) for all \\( n \\in \\mathbb{N} \\). Then\r\n- \\( g \\) is injective, since if \\( m \\leq n \\) then \\( f(a_m) \\neq f(a_n) \\) by construction of the sequence \\( (a_n)_{n \\in \\mathbb{N}} \\).\r\n- \\( g \\) is surjective. Indeed, given \\( x \\in X \\), by surjectivity there exists \\( m \\in \\mathbb{N} \\) which is least such that \\( f(m) = x \\), and we must have \\( a_n = m \\) for some \\( n \\leq m \\) by construction of the sequence \\( (a_n)_{n \\in \\mathbb{N}} \\). So \\( x = f(a_n) = g(n) \\), and hence \\( g \\) is surjective.\r\n\r\nSo \\( g \\) is a bijection, and \\( X \\) is countable.\r\n\r\n- (i)\\(\\Rightarrow\\)(iii). Suppose \\( X \\) is countable. If \\( X \\) is countably infinite, then there exists a bijection \\( f : \\mathbb{N} \\to X \\), so \\( f^{-1} : X \\to \\mathbb{N} \\) is bijective and hence injective. If \\( X \\) is finite then there exists a bijection \\( g : [m] \\to X \\), where \\( m = |X| \\geq 1 \\). Then \\( g^{-1} : X \\to [m] \\) is injective. Let \\( i : [m] \\to \\mathbb{N} \\) be defined by \\( i(k) = k \\) for all \\( k \\in [m] \\). Then \\( i \\circ g^{-1} \\) is injective; indeed, for \\( x, x' \\in X \\) we have\r\n\r\n\\[\r\ni(g^{-1}(x)) = i(g^{-1}(x')) \\Rightarrow g^{-1}(x) = g^{-1}(x') \\Rightarrow x = x'\r\n\\]\r\n\r\nThe first implication is by definition of \\( i \\), and the second is by injectivity of \\( g^{-1} \\). So there exists an injection \\( X \\to \\mathbb{N} \\).\r\n\r\n- (iii)\\(\\Rightarrow\\)(i). Suppose there exists an injection \\( f : X \\to \\mathbb{N} \\). To prove that \\( X \\) is countable, it suffices to prove that if \\( X \\) is infinite then it is countably infinite. Define a sequence \\( (a_n)_{n \\in \\mathbb{N}} \\) recursively as follows:\r\n  - Let \\( a_0 \\) be the least element of \\( f[X] \\);\r\n  - Fix \\( n \\in \\mathbb{N} \\) and suppose \\( a_0, \\ldots, a_n \\) have been defined. Let \\( a_{n+1} \\) be the least element of \\( f[X] \\setminus \\{ a_0, \\ldots, a_n \\} \\). This exists since \\( f \\) is injective, so \\( f[X] \\) is infinite.\r\n\r\nDefine \\( g : \\mathbb{N} \\to X \\) by, for each \\( n \\in \\mathbb{N} \\), letting \\( g(n) \\) be the unique value of \\( x \\) for which \\( f(x) = a_n \\). Then\r\n- \\( g \\) is injective. By construction \\( a_m \\neq a_n \\) whenever \\( m \\neq n \\). Let \\( x, y \\in X \\) be such that \\( f(x) = a_m \\) and \\( f(y) = a_n \\). Since \\( f \\) is injective, we must have \\( x \\neq y \\), and so \\( g(m) = x \\neq y = g(n) \\).\r\n- \\( g \\) is surjective. Fix \\( x \\in X \\). Then \\( f(x) \\in f[X] \\), so there exists \\( m \\in \\mathbb{N} \\) such that \\( f(x) = a_m \\). Hence \\( g(m) = x \\).\r\n</markdown>",
    "Q": "Q: Given that \\( g : \\mathbb{N} \\to X \\) is a bijection, how can we prove that the image of \\( g \\), denoted as \\( g[\\mathbb{N}] \\), contains all elements of \\( X \\)? ",
    "A": " A: Since \\( g \\) is surjective by construction, for every \\( x \\in X \\), there exists \\( n \\in \\mathbb{N} \\) such that \\( g(n) = x \\). Thus, the image \\( g[\\mathbb{N}] = X \\), confirming that every element of \\( X \\) is included in the image of \\( g \\)."
  },
  {
    "page": 245,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nSo \\( g \\) is a bijection, and \\( X \\) is countably infinite.\r\n\r\nHence the equivalences have been proved.\r\n\r\nIn fact, we needn’t even use \\( \\mathbb{N} \\) as the domain of the surjection or the codomain of the injection; we can in fact use any countable set \\( C \\).\r\n\r\n### Exercise 6.2.11\r\nLet \\( X \\) be an inhabited set. The following are equivalent:\r\n\r\n(i) \\( X \\) is countable;\r\n\r\n(ii) There exists an injection \\( f : X \\to C \\) for some countable set \\( C \\);\r\n\r\n(iii) There exists a surjection \\( f : C \\to X \\) for some countable set \\( C \\).\r\n\r\nExercise 6.2.11 is useful for proving the countability of many other sets: as we build up our repertoire of countable sets, all we need to do in order to prove a set \\( X \\) is countable is find a surjection from a set we already know is countable to \\( X \\), or an injection from \\( X \\) into a set we already know is countable.\r\n\r\nThis proof technique yields an incredibly short proof of the following counterintuitive result, which can be interpreted to mean that there are exactly as many rational numbers as there are natural numbers.\r\n\r\n### Theorem 6.2.12\r\nThe set \\( \\mathbb{Q} \\) of rational numbers is countable.\r\n\r\n**Proof**  \r\nDefine a function \\( q : \\mathbb{Z} \\times (\\mathbb{Z} \\setminus \\{0\\}) \\to \\mathbb{Q} \\) by letting \\( q(a, b) = \\frac{a}{b} \\) for all \\( a, b \\in \\mathbb{Z} \\) with \\( b \\neq 0 \\).\r\n\r\nBy Example 6.2.3 and Exercise 6.2.8, the set \\( \\mathbb{Z} \\times (\\mathbb{Z} \\setminus \\{0\\}) \\) is countable.\r\n\r\nThe function \\( q \\) is surjective by definition of \\( \\mathbb{Q} \\)—indeed, to say \\( x \\in \\mathbb{Q} \\) is precisely to say that \\( x = \\frac{a}{b} = q(a, b) \\) for some \\( (a, b) \\in \\mathbb{Z} \\times (\\mathbb{Z} \\setminus \\{0\\}) \\).\r\n\r\nBy Exercise 6.2.11, it follows that \\( \\mathbb{Q} \\) is countable.\r\n\r\n### Exercise 6.2.13\r\nLet \\( X \\) be a countable set. Prove that \\( \\binom{X}{k} \\) is countable for each \\( k \\in \\mathbb{N} \\).\r\n</markdown>",
    "Q": "Q: If \\( X \\) is a countable set, what can be concluded about the set of all finite subsets \\( \\binom{X}{k} \\) for a given \\( k \\in \\mathbb{N} \\)? ",
    "A": " A: The set \\( \\binom{X}{k} \\) is countable for each \\( k \\in \\mathbb{N} \\)."
  },
  {
    "page": 246,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\n### Theorem 6.2.14 (The union of countably many countable sets is countable)\r\n\r\nLet \\(\\{X_n \\mid n \\in \\mathbb{N}\\}\\) be a family of countable sets. Then the set \\(X\\) defined by\r\n\r\n\\[\r\nX = \\bigcup_{n \\in \\mathbb{N}} X_n\r\n\\]\r\n\r\nis countable.\r\n\r\n**Proof**\r\n\r\nWe may assume that the sets \\(X_n\\) are all inhabited, since the empty set does not contribute to the union.\r\n\r\nFor each \\(n \\in \\mathbb{N}\\) there is a surjection \\(f_n : \\mathbb{N} \\to X_n\\). Define \\(f : \\mathbb{N} \\times \\mathbb{N} \\to X\\) by \\(f(m, n) = f_m(n)\\) for all \\(m, n \\in \\mathbb{N}\\). Then \\(f\\) is surjective: if \\(x \\in X\\) then \\(x \\in X_m\\) for some \\(m \\in \\mathbb{N}\\). Since \\(f_m\\) is surjective, it follows that \\(x = f_m(n)\\) for some \\(n \\in \\mathbb{N}\\). But then \\(x = f(m, n)\\). Since \\(\\mathbb{N} \\times \\mathbb{N}\\) is countable, it follows from Exercise 6.2.11 that \\(X\\) is countable. □\r\n\r\n### Example 6.2.15\r\n\r\nLet \\(X\\) be a countable set. The set of all finite subsets of \\(X\\) is countable. Indeed, the set of all finite subsets of \\(X\\) is equal to \\(\\bigcup_{k \\in \\mathbb{N}} \\binom{X}{k}\\), which is a union of countably many countable sets by Exercise 6.2.13, so is countable by Theorem 6.2.14. ◁\r\n\r\n### Uncountable sets\r\n\r\nWe have now seen plenty of examples of countable sets. It is not immediately obvious that not every set is countable. How do we know that there are sets out there whose elements can’t be listed?\r\n\r\nWe prove in Theorem 6.2.16 that there exists an uncountable set, namely the power set of the natural numbers. The proof is deceptively simple, but the implications are important.\r\n\r\n### Theorem 6.2.16\r\n\r\n\\(\\mathcal{P}(\\mathbb{N})\\) is uncountable.\r\n\r\n**Proof**\r\n\r\nWe proved in Exercise 3.2.16 that no function \\(f : \\mathbb{N} \\to \\mathcal{P}(\\mathbb{N})\\) is surjective. Specifically, given \\(f : \\mathbb{N} \\to \\mathcal{P}(\\mathbb{N})\\), we can show that the element\r\n\r\n\\[\r\nB = \\{k \\in \\mathbb{N} \\mid k \\not\\in f(k)\\} \\in \\mathcal{P}(\\mathbb{N})\r\n\\]\r\n\r\nis not equal to \\(f(n)\\) for any \\(n \\in \\mathbb{N}\\). It follows from Exercise 6.2.11(iii) that \\(\\mathcal{P}(\\mathbb{N})\\) is uncountable. □\r\n</markdown>",
    "Q": "Q: If \\(\\{Y_n \\mid n \\in \\mathbb{N}\\}\\) is a family of countable sets where \\(Y_n = \\{n\\}\\) for all \\(n \\in \\mathbb{N}\\), what can we conclude about the union \\(Y = \\bigcup_{n \\in \\mathbb{N}} Y_n\\)? ",
    "A": " A: The set \\(Y\\) is countable, and specifically, \\(Y = \\mathbb{N}\\)."
  },
  {
    "page": 247,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nThe argument used in [Theorem 6.2.16](#) is an example of Cantor’s diagonal argument, and is typical.\r\n\r\n### Theorem 6.2.17\r\nLet \\( X \\) be a set, and assume that for every function \\( f : \\mathbb{N} \\to X \\), there is:\r\n\r\n(i) A family of logical formulae \\( p_n(x) \\) with \\( x \\in X \\), one for each \\( n \\in \\mathbb{N} \\); and\r\n\r\n(ii) An element \\( b \\in X \\);\r\n\r\nsuch that \\( \\forall n \\in \\mathbb{N}, \\ [p_n(b) \\iff \\neg p_n(f(n))] \\). Then \\( X \\) is uncountable.\r\n\r\n**Proof**\r\n\r\nWe prove that no function \\( f : \\mathbb{N} \\to X \\) is surjective. So let \\( f : \\mathbb{N} \\to X \\) be an arbitrary function and let \\( p_n(x) \\) and \\( b \\in X \\) be as in the statement of the theorem.\r\n\r\nTo see that \\( f \\) is not surjective, assume towards a contradiction that \\( b = f(k) \\) for some \\( k \\in \\mathbb{N} \\).\r\n\r\n- If \\( p_k(b) \\) is true, then \\( p_k(f(k)) \\) is true since \\( b = f(k) \\), and \\( \\neg p_k(f(k)) \\) is true since \\( p_k(b) \\iff \\neg p_k(f(k)) \\). This is a contradiction.\r\n\r\n- If \\( \\neg p_k(b) \\) is true, then \\( \\neg p_k(f(k)) \\) is false since \\( b = f(k) \\), and so \\( p_k(b) \\) is true since \\([ \\neg p_k(f(k)) ] \\Rightarrow p_k(b) \\). This is a contradiction.\r\n\r\nIn both cases we arrive at a contradiction. So \\( b \\neq f(k) \\) for any \\( k \\in \\mathbb{N} \\), and so \\( f \\) is not surjective.\r\n\r\nHence \\( X \\) is uncountable by [Exercise 6.2.11(iii)](#).\r\n\r\n### Strategy 6.2.18 (Cantor’s diagonal argument)\r\nIn order to prove that a set \\( X \\) is uncountable, it suffices to prove that no function \\( f : \\mathbb{N} \\to X \\) is surjective using the following argument: given a function \\( f : \\mathbb{N} \\to X \\), find an element \\( b \\in X \\) that ‘disagrees’ with each value \\( f(n) \\) about some statement involving \\( n \\).\r\n\r\n### Example 6.2.19\r\nIn the proof of [Theorem 6.2.16](#), we proved that \\( \\mathcal{P}(\\mathbb{N}) \\) is uncountable as follows. Given \\( f : \\mathbb{N} \\to \\mathcal{P}(\\mathbb{N}) \\), we needed to find an element \\( B \\in \\mathcal{P}(\\mathbb{N}) \\)—that is, a subset \\( B \\subseteq \\mathbb{N} \\)—that ‘disagreed’ with each value \\( f(n) \\) about something involving \\( n \\).\r\n\r\nKeep in mind that, for each \\( n \\in \\mathbb{N} \\), the element \\( f(n) \\in \\mathcal{P}(\\mathbb{N}) \\) is a subset of \\( \\mathbb{N} \\), so it makes sense to ask whether \\( n \\) is an element of \\( f(n) \\) or not.\r\n\r\nWith this in mind, for each \\( n \\in \\mathbb{N} \\), we forced \\( B \\) to disagree with \\( f(n) \\) about whether \\( n \\)\r\n</markdown>",
    "Q": "Q: Given the context of Cantor’s diagonal argument, explain how one can construct a subset \\( B \\subseteq \\mathbb{N} \\) that differs from any given subset \\( f(n) \\) for all \\( n \\in \\mathbb{N} \\). ",
    "A": " A: To construct a subset \\( B \\subseteq \\mathbb{N} \\) that differs from each subset \\( f(n) \\), define \\( B \\) such that \\( n \\in B \\) if and only if \\( n \\notin f(n) \\). This ensures that for each \\( n \\), \\( B \\) disagrees with \\( f(n) \\) on the membership of \\( n \\), thus proving that no function \\( f : \\mathbb{N} \\to \\mathcal{P}(\\mathbb{N}) \\) can be surjective, and consequently \\( \\mathcal{P}(\\mathbb{N}) \\) is uncountable."
  },
  {
    "page": 248,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nis an element. That is\r\n\r\n\\[ n \\in B \\iff n \\notin f(n) \\]\r\n\r\nIn the language of Theorem 6.2.17, the statement \\( p_n(U) \\) (for \\( n \\in \\mathbb{N} \\) and \\( U \\in \\mathcal{P}(\\mathbb{N}) \\) is the statement ‘\\( n \\in U \\)’; for each \\( n \\in \\mathbb{N} \\), this statement is true with \\( U = B \\) if and only if it is false with \\( U = f(n) \\).\r\n\r\nThe definition \\( B = \\{ k \\in \\mathbb{N} \\mid k \\notin f(k) \\} \\) forces \\( n \\in B \\iff n \\notin f(n) \\) to be true for all \\( n \\in \\mathbb{N} \\), and so Cantor’s diagonal argument applies.\r\n\r\nCantor’s diagonal argument can also be used to prove that \\( \\mathbb{R} \\) is uncountable by considering the decimal expansions of real numbers (Definition 9.3.14).\r\n\r\n### Theorem 6.2.20\r\n\r\n\\(\\mathbb{R}\\) is uncountable.\r\n\r\n**Proof**\r\n\r\nLet \\( f : \\mathbb{N} \\to \\mathbb{R} \\) be an arbitrary function. We prove that \\( f \\) is not surjective.\r\n\r\nFor each \\( n \\in \\mathbb{N} \\), let the decimal expansion of \\( f(n) \\in \\mathbb{R} \\) be \\( x^n_0.x^n_1x^n_2x^n_3\\ldots \\)—that is\r\n\r\n\\[\r\nf(n) = \\sum_{i \\geq 0} x^n_i \\cdot 10^{-i}\r\n\\]\r\n\r\n[The superscript ‘\\( n \\)’ here is a label, not an exponent.]\r\n\r\nWe define \\( b \\in \\mathbb{R} \\) by forcing the decimal expansions of \\( b \\) and \\( f(n) \\) to differ in the \\( n \\)th place for each \\( n \\in \\mathbb{N} \\). Specifically, for each \\( n \\in \\mathbb{N} \\) let\r\n\r\n\\[\r\nb_n = \r\n\\begin{cases} \r\n0 & \\text{if } x^n_n \\neq 0 \\\\\r\n1 & \\text{if } x^n_n = 0 \r\n\\end{cases}\r\n\\]\r\n\r\nand let \\( b = b_0.b_1b_2b_3\\ldots = \\sum_{i \\geq 0} b_i \\cdot 10^{-i} \\).\r\n\r\nNote that \\( b \\) does not have recurring 9s, so it is a valid decimal expansion of a real number. Moreover \\( b \\neq f(n) \\) for any \\( n \\in \\mathbb{N} \\) by uniqueness of decimal expansions of real numbers (Theorem 9.3.12), since \\( b_n \\neq x^n_n \\).\r\n\r\nHence \\( f \\) is not surjective, so that \\( \\mathbb{R} \\) is uncountable.\r\n\r\n### Exercise 6.2.21\r\n\r\nUse Cantor’s diagonal argument to prove that the set \\( \\mathbb{N}^\\mathbb{N} \\) of all functions \\( \\mathbb{N} \\to \\mathbb{N} \\) is uncountable.\r\n</markdown>",
    "Q": "Q: How does Cantor's diagonal argument demonstrate that the set \\( \\mathbb{N}^\\mathbb{N} \\) is uncountable? ",
    "A": " A: Cantor's diagonal argument shows that any function \\( f: \\mathbb{N} \\to \\mathbb{N} \\) cannot enumerate all possible sequences of natural numbers. By constructing a sequence \\( b \\in \\mathbb{N}^\\mathbb{N} \\) that differs from \\( f(n) \\) at every \\( n \\), we create a new function that is not represented within the set, proving that \\( \\mathbb{N}^\\mathbb{N} \\) is uncountable."
  },
  {
    "page": 249,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nUsing Cantor’s diagonal argument every time we want to prove that a set is uncountable can be cumbersome. However, just like with, [Theorem 6.2.10](#), we can prove that sets are uncountable by relating them to other sets that we already know are uncountable.\r\n\r\n### Theorem 6.2.22\r\n\r\nLet \\( X \\) be a set. The following are equivalent:\r\n\r\n(i) \\( X \\) is uncountable;\r\n\r\n(ii) There exists a surjection \\( f : X \\to U \\) for some uncountable set \\( U \\);\r\n\r\n(iii) There exists an injection \\( f : U \\to X \\) for some uncountable set \\( U \\).\r\n\r\n**Proof**\r\n\r\nFor (i)\\(\\Rightarrow\\)(ii) and (i)\\(\\Rightarrow\\)(iii), take \\( U = X \\) and \\( f = \\text{id}_X \\).\r\n\r\nFor (ii)\\(\\Rightarrow\\)(i), suppose that there is a surjection \\( f : X \\to U \\) for some uncountable set \\( U \\). If \\( X \\) were countable, then there would be a surjection \\( g : \\mathbb{N} \\to X \\) by [Theorem 6.2.10(ii)](#); but then \\( f \\circ g : \\mathbb{N} \\to U \\) would be a surjection, contradicting the fact that \\( U \\) is uncountable.\r\n\r\nFor (iii)\\(\\Rightarrow\\)(i), suppose there is an injection \\( f : U \\to X \\) for some uncountable set \\( U \\). If \\( X \\) were countable, then there would be an injection \\( g : X \\to \\mathbb{N} \\) by [Theorem 6.2.10(iii)](#); but then \\( g \\circ f : U \\to \\mathbb{N} \\) would be an injection, contradicting the fact that \\( U \\) is uncountable.\r\n\r\n### Proposition 6.2.23\r\n\r\nThe set \\(\\{0, 1\\}^\\mathbb{N}\\) of all functions \\(\\mathbb{N} \\to \\{0, 1\\}\\) is uncountable.\r\n\r\n**Proof**\r\n\r\nDefine \\( F : \\mathcal{P}(\\mathbb{N}) \\to \\{0, 1\\}^\\mathbb{N} \\) for \\( U \\subseteq \\mathbb{N} \\) by letting \\( F(U) = \\chi_U : \\mathbb{N} \\to \\{0, 1\\} \\) be the characteristic function of \\( U \\) ([Definition 3.1.24](#)).\r\n\r\nGiven \\( U, V \\subseteq \\mathbb{N} \\), we have\r\n\r\n\\[\r\nF(U) = F(V) \\implies \\chi_U = \\chi_V \\implies U = V\r\n\\]\r\n\r\nby [Theorem 3.1.26](#). But then \\( F \\) is injective, and \\(\\mathcal{P}(\\mathbb{N})\\) is uncountable by Cantor’s theorem, so that \\(\\{0, 1\\}^\\mathbb{N}\\) is uncountable by [Theorem 6.2.22](#).\r\n\r\n### Exercise 6.2.24\r\n\r\nProve that if a set \\( X \\) has an uncountable subset, then \\( X \\) is uncountable.\r\n\r\n### Exercise 6.2.25\r\n\r\nLet \\( X \\) be a set. Prove that \\(\\mathcal{P}(X)\\) is either finite or uncountable.\r\n</markdown>",
    "Q": "Q: If \\( U \\) is an uncountable set, can \\( \\mathcal{P}(U) \\) also be proven to be uncountable using the arguments from Theorem 6.2.22? ",
    "A": " A: Yes, since there exists an injection from \\( U \\) to \\( \\mathcal{P}(U) \\) (for example, sending each element \\( u \\in U \\) to the set \\( \\{u\\} \\)), we can conclude that \\( \\mathcal{P}(U) \\) is uncountable."
  },
  {
    "page": 250,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\n## Detecting countability\r\n\r\nWe have now seen several examples of countable and uncountable sets. But being able to prove that a set is countable, or that a set is uncountable, only gets us so far—it will be beneficial to gain some intuition for how to detect whether a set is countable or uncountable.\r\n\r\nWe now work towards proving the following heuristic:\r\n\r\n* A set is countable if each of its elements has a finite description. *\r\n\r\nBefore we make this precise, let’s see this heuristic in action. Consider some of the sets that we have already seen are countable:\r\n\r\n- The set \\( \\mathbb{N} \\) is countable; every natural number can be expressed as a finite string of digits, so has a finite description—for example, 7 or 15213.\r\n\r\n- The set \\( \\mathbb{Z} \\) is countable; every integer has a finite description as a finite string of digits, possibly modified by a minus sign—for example, 7 or \\(-15213\\).\r\n\r\n- The set \\( \\mathbb{Q} \\) is countable; every rational number has a finite description as a pair of integers (which themselves have finite descriptions), one atop the other, separated by a horizontal line—for example, \\( \\frac{7}{1} \\) or \\(\\frac{-15213}{21128}\\).\r\n\r\n- The set of all *finite* subsets of \\( \\mathbb{N} \\) is countable; every finite subset of \\( \\mathbb{N} \\) has a finite expression in list notation by writing an open curly bracket ‘\\{’, followed by a finite number of natural numbers (which themselves have finite expressions) separated by commas, and finally writing a closed curly bracket ‘\\}’—for example \\(\\{15, 0, 281\\}\\) or \\(\\{\\}\\).\r\n\r\nNow consider some of the sets that we know (or have been told) are uncountable:\r\n\r\n- The set \\( \\mathcal{P}(\\mathbb{N}) \\) is uncountable; intuitively, the infinite subsets of \\( \\mathbb{N} \\) cannot be expressed finitely in a uniform way.\r\n\r\n- The set \\( \\mathbb{R} \\) is uncountable; intuitively, there is no uniform way of finitely describing real numbers—for example, decimal expansions are no good since they are infinite.\r\n</markdown>",
    "Q": "Q: Why is the set of all real numbers \\( \\mathbb{R} \\) considered uncountable, while the set of rational numbers \\( \\mathbb{Q} \\) is countable? ",
    "A": " A: The set \\( \\mathbb{R} \\) is uncountable because real numbers cannot be expressed finitely and uniformly, while \\( \\mathbb{Q} \\) is countable since each rational number can be described as a finite pair of integers, allowing for a one-to-one correspondence with the natural numbers."
  },
  {
    "page": 251,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\n### Definition 6.2.26\r\n\r\nLet \\(\\Sigma\\) be a set. A **word** over \\(\\Sigma\\) is an expression of the form \\(a_1a_2 \\ldots a_n\\), where \\(n \\in \\mathbb{N}\\) and \\(a_i \\in \\Sigma\\) for all \\(i \\in [n]\\). The natural number \\(n\\) is called the **length** of the word. The unique word of length 0 is called the **empty word**, and is denoted by \\(\\varepsilon\\) (LaTeX code: `\\varepsilon`).\r\n\r\nThe set \\(\\Sigma\\) is called the **alphabet**. The set of all words over \\(\\Sigma\\) is denoted by \\(\\Sigma^*\\) (LaTeX code: `\\Sigma^*`); the operation \\((-)^*\\) is called the **Kleene star**.\r\n\r\nFormally, \\(\\Sigma^*\\) is defined to be the union \\(\\bigcup_{n \\in \\mathbb{N}} \\Sigma^n\\), where the sets \\(\\Sigma^n\\) are recursively defined by\r\n\r\n\\[\r\n\\Sigma^0 = \\{\\varepsilon\\} \\quad \\text{and} \\quad \\Sigma^{n+1} = \\{wa \\mid w \\in \\Sigma^n, a \\in \\Sigma\\} \\quad \\text{for all } n \\geq 0\r\n\\]\r\n\r\nThat is, given \\(n \\in \\mathbb{N}\\), the elements of \\(\\Sigma^n\\) are precisely the words over \\(\\Sigma\\) of length \\(n\\).\r\n\r\n### Example 6.2.27\r\n\r\nThe elements of \\(\\{0, 1\\}^*\\) are precisely the finite binary strings:\r\n\r\n\\[\r\n\\{0, 1\\}^* = \\{\\varepsilon, 0, 1, 00, 01, 10, 11, 000, 001, 010, 011, \\ldots\\}\r\n\\]\r\n\r\nLikewise, the elements of \\(\\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}^*\\) are the finite strings of the base-10 digits. Keep in mind, though, that formally the elements of this string are **words** and not **numbers**, and that two words may correspond with the same natural number—for example 123 and 00123 are distinct elements of \\(\\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}^*\\), despite the fact that they both **represent** the same natural number.\r\n\r\n### Exercise 6.2.28\r\n\r\nLet \\(\\Sigma = \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, \\div, -\\}\\). Describe which words over \\(\\Sigma\\) immediately represent rational numbers (in the sense of treating the digit symbols as numbers and the symbols \\(\\div\\) and \\(-\\) as arithmetic operations). Find some examples of elements of \\(\\Sigma^*\\) that do not represent rational numbers.\r\n\r\n### Exercise 6.2.29\r\n\r\nLet \\(\\Sigma\\) be an alphabet. Prove that if \\(\\Sigma\\) is countable, then \\(\\Sigma^*\\) is countable.\r\n\r\nAs hinted by Example 6.2.27, we can use words over sets to make precise what we mean by ‘finite description’.\r\n\r\nThe idea is that finitely describing the elements of a set \\(X\\) amounts to defining a function \\(D : X \\to \\Sigma^*\\) for some set \\(\\Sigma\\); given \\(x \\in X\\), the word \\(D(x) \\in \\Sigma^*\\) can be thought of as a finite description of the element \\(x \\in X\\).\r\n\r\nBut \\(D\\) cannot be any old function—if two elements of \\(X\\) have the same description, then they should be equal. That is\r\n\r\n\\[\r\n\\forall x, y \\in X, \\, D(x) = D(y) \\implies x = y\r\n\\]\r\n</markdown>",
    "Q": "Q: Given the alphabet \\(\\Sigma = \\{a, b, c\\}\\), list the elements of \\(\\Sigma^2\\) and explain their relationship to words of length 2 over \\(\\Sigma\\).  \r\n",
    "A": "  \r\nA: The elements of \\(\\Sigma^2\\) are \\(\\{aa, ab, ac, ba, bb, bc, ca, cb, cc\\}\\). These represent all possible combinations of two characters chosen from the alphabet \\(\\Sigma\\). Each element is a word of length 2 formed by concatenating two letters from \\(\\Sigma\\)."
  },
  {
    "page": 252,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\nBut this says exactly that \\( D \\) must be injective!\r\n\r\n✦ **Definition 6.2.30**  \r\nLet \\( X \\) be a set and let \\( \\Sigma \\) be an alphabet. A **finite description** of the elements of \\( X \\) over \\( \\Sigma \\) is an injection \\( D : X \\to \\Sigma^* \\).\r\n\r\n✐ **Example 6.2.31**  \r\nLet \\( \\mathcal{F}(\\mathbb{N}) \\) be the set of all finite subsets of \\( \\mathbb{N} \\). We already know that this set is countable by Example 6.2.15; now we exhibit a finite description of its elements.\r\n\r\nLet \\( \\Sigma = \\{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, \\boxed{\\{ }, \\boxed{\\} }, \\boxed{, } \\} \\)—that is, the elements of the alphabet \\( \\Sigma \\) are the digits 0 through 9, an open curly bracket, a closed curly bracket and a comma. (The curly brackets and comma are boxed to distinguish them from the same symbols used in the list notation describing \\( \\Sigma \\).)\r\n\r\nDefine \\( D : \\mathcal{F}(\\mathbb{N}) \\to \\Sigma^* \\) by letting \\( D(U) \\) be the expression of the finite set \\( U \\subseteq \\mathbb{N} \\) in list notation, with its elements listed in increasing order. This ensures well-definedness of \\( D \\)—for example\r\n\r\n\\[\r\n\\{1, 2, 3\\} = \\{2, 3, 1\\} \\quad \\text{but} \\quad D(\\{1, 2, 3\\}) = D(\\{2, 3, 1\\}) = \\{1, 2, 3\\}\r\n\\]\r\n\r\nBut then \\( D \\) is injective: given finite subsets \\( U, V \\subseteq \\mathbb{N} \\), if \\( D(U) = D(V) \\), then \\( U \\) and \\( V \\) have identical expressions in list notation—this means that they have the same elements, so they are equal!\r\n\r\n✐ **Example 6.2.32**  \r\nEvery set has a trivial finite description, taking the set itself to be the alphabet. Indeed, the function \\( D : X \\to X^* \\) defined by \\( D(x) = x \\) for all \\( x \\in X \\) is evidently an injection!\r\n\r\nExample 6.2.32 raises the point that if we want to prove that a set is countable by showing that its elements have finite descriptions, then we must place some restrictions on the alphabets that we may use. For example, the alphabet that we used in Example 6.2.31 is finite—it has 13 elements.\r\n\r\n✐ **Exercise 6.2.33**  \r\nGive an explicit finite description of the rational numbers over a finite alphabet.\r\n\r\n✐ **Exercise 6.2.34**  \r\nLet \\( \\mathcal{C}(\\mathbb{N}) \\) be the set of all cofinite subsets of \\( \\mathbb{N} \\); that is\r\n\r\n\\[\r\n\\mathcal{C}(\\mathbb{N}) = \\{ U \\subseteq \\mathbb{N} \\mid \\mathbb{N} \\setminus U \\text{ is finite} \\}\r\n\\]\r\n\r\nGive an explicit finite description of the elements of \\( \\mathcal{C}(\\mathbb{N}) \\) over a finite alphabet.\r\n</markdown>",
    "Q": "Q: How can we demonstrate that the function \\( D : \\mathcal{F}(\\mathbb{N}) \\to \\Sigma^* \\) defined in Example 6.2.31 is injective? ",
    "A": " A: For \\( D \\) to be injective, we show that if \\( D(U) = D(V) \\) for finite subsets \\( U, V \\subseteq \\mathbb{N} \\), then \\( U = V \\). Since \\( D(U) \\) expresses the set \\( U \\) in list notation in increasing order, identical expressions imply that the sets \\( U \\) and \\( V \\) have the same elements, thus \\( U = V \\)."
  },
  {
    "page": 253,
    "title": "I Core Concepts/6 Finite And Infinite Sets/6.2 Countable And Uncountable Sets",
    "content": "<markdown>\r\n### Theorem 6.2.35\r\n\r\nLet \\( X \\) be a set. Then \\( X \\) is countable if and only if there is a finite description of the elements of \\( X \\) over a countable alphabet.\r\n\r\n**Proof**\r\n\r\nIf \\( X \\) is countable, then we may take \\( X \\) itself to be our alphabet! The function \\( D : X \\to X^* \\) defined by \\( D(x) = x \\) for all \\( x \\in X \\) is evidently injective.\r\n\r\nConversely, if there is an injection \\( D : X \\to \\Sigma^* \\) for some countable alphabet \\( \\Sigma \\), then \\( \\Sigma^* \\) is countable by Exercise 6.2.29, and so \\( X \\) is countable by Exercise 6.2.11(ii).\r\n\r\n### Example 6.2.36\r\n\r\nIn light of Theorem 6.2.35, we may deduce from Example 6.2.31 and Exercises 6.2.33 and 6.2.34 that \\( \\mathcal{P}(\\mathbb{N}) \\), \\( \\mathbb{Q} \\) and \\( \\mathcal{C}(\\mathbb{N}) \\) are all countable sets.\r\n\r\n### Exercise 6.2.37\r\n\r\nProve that the set of all polynomials with rational coefficients is countable.\r\n\r\n### Exercise 6.2.38\r\n\r\nConsider the following argument that claims to be a proof that \\( \\mathcal{P}(\\mathbb{N}) \\) is countable. (It isn’t.)\r\n\r\nLet \\( \\Sigma = \\{ \\mathbb{N}, x, U, V, \\mid, \\in, \\{, \\} \\} \\)—again, we have boxed some symbols to emphasize that they are elements of \\( \\Sigma \\).\r\n\r\nDefine \\( D : \\mathcal{P}(\\mathbb{N}) \\to \\Sigma^* \\) by\r\n\r\n\\[\r\nD(U) = \\{ x \\in \\mathbb{N} \\mid x \\in U \\} \\quad \\text{and} \\quad D(V) = \\{ x \\in \\mathbb{N} \\mid x \\in V \\}\r\n\\]\r\n\r\nfor all \\( U, V \\subseteq \\mathbb{N} \\). Then \\( \\Sigma \\) is finite, and \\( D \\) is injective since for all \\( U, V \\subseteq \\mathbb{N} \\) we have\r\n\r\n\\[\r\nD(U) = D(V) \\Rightarrow \\{ x \\in \\mathbb{N} \\mid x \\in U \\} = \\{ x \\in \\mathbb{N} \\mid x \\in V \\} \\Rightarrow U = V\r\n\\]\r\n\r\nSince \\( D \\) is a finite description of the subsets of \\( \\mathbb{N} \\) over a finite alphabet, it follows from Theorem 6.2.35 that \\( \\mathcal{P}(\\mathbb{N}) \\) is countable.\r\n\r\nThis proof cannot be valid, since we know that \\( \\mathcal{P}(\\mathbb{N}) \\) is uncountable. Where in the proof did we go wrong?\r\n\r\n### Exercise 6.2.39\r\n\r\nSuppose we were to attempt to prove that \\( \\mathcal{P}(\\mathbb{N}) \\) is countable using the same argument as Example 6.2.31. Where does the proof fail?\r\n\r\n### Exercise 6.2.40\r\n\r\nProve that, for every countable set \\( X \\), there is a finite description of the elements of \\( X \\) over a finite alphabet.\r\n</markdown>",
    "Q": "Q: Considering Theorem 6.2.35, if a set \\( Y \\) is uncountable, can we construct an injective function from \\( Y \\) to a finite set \\( \\Sigma^* \\) where \\( \\Sigma \\) is a finite alphabet? Why or why not? ",
    "A": " A: No, we cannot construct such an injective function from \\( Y \\) to \\( \\Sigma^* \\) because an uncountable set cannot be injected into a finite set; an injection implies that the size of \\( Y \\) is less than or equal to the size of \\( \\Sigma^* \\), which is finite, contradicting the uncountability of \\( Y \\)."
  },
  {
    "page": 258,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n## Section 7.1\r\n# Division\r\n\r\nThis section introduces the notion of divisibility. As we have already mentioned, it is not always the case that one integer can divide another. As you read through this section, note that we never use fractions; everything we do is internal to \\(\\mathbb{Z}\\), and does not require that we ‘spill over’ to \\(\\mathbb{Q}\\) at any point. This will help you when you study ring theory in the future, and is a good practice to mimic in your own work.\r\n\r\nThe following theorem, called the division theorem, is the crux of everything that is to follow.\r\n\r\n### Theorem 7.1.1 (Division theorem)\r\nLet \\(a, b \\in \\mathbb{Z}\\) with \\(b \\neq 0\\). There exist unique \\(q, r \\in \\mathbb{Z}\\) such that\r\n\r\n\\[ \r\na = qb + r \\quad \\text{and} \\quad 0 \\leq r < |b| \r\n\\]\r\n\r\n### Strategy\r\nLet’s look at the simple case when \\(a \\geq 0\\) and \\(b > 0\\). We can always find \\(q, r\\) such that \\(a = qb + r\\), for example \\(q = 0\\) and \\(r = a\\). Moreover, by increasing \\(q\\) we can reduce \\(r\\), since\r\n\r\n\\[ \r\nqb + r = (q + 1)b + (r - b) \r\n\\]\r\n\r\nWe will keep doing this until the ‘remainder’ is as small as it can be without being negative. As an example, consider the case when \\(a = 14\\) and \\(b = 5\\). This procedure gives\r\n\r\n\\[\r\n\\begin{align*}\r\n14 &= 0 \\times 5 + 14 \\\\\r\n   &= 1 \\times 5 + 9 \\\\\r\n   &= 2 \\times 5 + 4 \\quad \\leftarrow \\text{least nonnegative remainder} \\\\\r\n   &= 3 \\times 5 + (-1) \\\\\r\n   &= \\ldots\r\n\\end{align*}\r\n\\]\r\n\r\nThis procedure shows that in this case we should take \\(q = 2\\) and \\(r = 4\\), since \\(14 = 2 \\times 5 + 4\\) and \\(0 \\leq 4 < |5|\\).\r\n\r\nWe can show that such a descending sequence of remainders terminates using the well-ordering principle, and then we must argue that the quotient and remainder that we obtain are unique.\r\n\r\n### Proof\r\nWe may assume that \\(b > 0\\): if not, replace \\(b\\) by \\(-b\\) and \\(q\\) by \\(-q\\). We may also assume that \\(a \\geq 0\\). Otherwise, replace \\(a\\) by \\(-a\\), \\(q\\) by \\(-(q + 1)\\) and \\(r\\) by \\(b - r\\).\r\n</markdown>",
    "Q": "Q: If \\(a = 25\\) and \\(b = 7\\), what are the values of \\(q\\) and \\(r\\) according to the division theorem? ",
    "A": " A: For \\(a = 25\\) and \\(b = 7\\), we have \\(q = 3\\) and \\(r = 4\\) since \\(25 = 3 \\times 7 + 4\\) and \\(0 \\leq 4 < |7|\\)."
  },
  {
    "page": 259,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\nThus, what follows assumes that \\( a \\geq 0 \\) and \\( b > 0 \\).\r\n\r\n- **Existence.** We prove that such integers \\( q, r \\) exist by the well-ordering principle. Namely, we define a sequence \\( (r_n)_{n \\in \\mathbb{N}} \\) such that \\( a = nb + r_n \\) and \\( r_0 > r_1 > r_2 > \\cdots \\), and use this sequence to find the values of \\( q, r \\).\r\n\r\n  - Let \\( r_0 = a \\). Then \\( a = 0b + r_0 \\), as required.\r\n  - Suppose \\( r_n \\) has been defined, and let \\( r_{n+1} = r_n - b \\). Then\r\n\r\n    \\[\r\n    (n+1)b + r_{n+1} = (n+1)b + r_n - b = nb + b + r_n - b = nb + r = a\r\n    \\]\r\n\r\n    Since \\( b > 0 \\), we must have \\( r_{n+1} < r_n \\) for all \\( n \\).\r\n\r\nLet \\( R = \\bigcap \\{ r_n \\mid n \\in \\mathbb{N} \\} \\). That is, \\( R \\) is the set of terms of the sequence which are non-negative. Since \\( r_0 = a \\geq 0 \\), we have that \\( r_0 \\in R \\) and hence \\( R \\) is inhabited. By the well-ordering principle, \\( R \\) has a least element \\( r_k \\) for some \\( k \\in \\mathbb{N} \\).\r\n\r\nDefine \\( q = k \\) and \\( r = r_k \\). By construction we have \\( a = qb + r \\) and \\( r \\geq 0 \\), so it remains to show that \\( r < b \\). Well, if \\( r \\geq b \\) then \\( r - b \\geq 0 \\), but \\( r - b = r_{k+1} \\), so this would imply \\( r_{k+1} \\in R \\), contradicting minimality of \\( r \\). Hence \\( r < b \\), so \\( q, r \\) are as required.\r\n\r\n- **Uniqueness.** Suppose \\( q', r' \\) also satisfy \\( a = q'b + r' \\) and \\( 0 \\leq r' < b \\). If we can show that \\( r' = r \\) then this proves that \\( q = q' \\): indeed, if \\( qb + r = q'b + r \\) then we can subtract \\( r \\) and then divide by \\( b \\), since \\( b > 0 \\).\r\n\r\nFirst note that \\( q' \\geq 0 \\). If \\( q' < 0 \\) then \\( q' \\leq -1 \\), so\r\n\r\n\\[\r\na = q'b + r' \\leq -b + r'\r\n\\]\r\n\r\nand hence \\( r' \\geq a + b \\geq b \\) since \\( a \\geq 0 \\). This contradicts the assumption that \\( r < b \\). So \\( q' \\geq 0 \\).\r\n\r\nSince \\( q' \\geq 0 \\), we also know that \\( a = q'b + r' \\), and hence \\( r' = r_{q'} \\in R \\). By minimality of \\( r \\) we have \\( r \\leq r' \\). It remains to show that \\( r = r' \\). If not then \\( r < r' \\). Thus\r\n\r\n\\[\r\nqb + r = q'b + r' > q'b + r \\quad \\Rightarrow \\quad qb > q'b \\quad \\Rightarrow \\quad q > q'\r\n\\]\r\n\r\nand hence \\( q = q' + t \\) for some \\( t \\geq 1 \\). But then\r\n\r\n\\[\r\nq'b + r' = a = qb + r = (q' + t)b + r = q'b + (tb + r)\r\n\\]\r\n\r\nso \\( r' = tb + r \\geq b \\), contradicting \\( r' < b \\). So \\( r = r' \\) as desired, and hence \\( q = q' \\).\r\n\r\nAt long last, we are done.\r\n</markdown>",
    "Q": "Q: Given the integers \\( a \\), \\( b \\) where \\( a \\geq 0 \\) and \\( b > 0 \\), if we have \\( a = qb + r \\) where \\( 0 \\leq r < b \\), what can be stated about the values of \\( q \\) and \\( r \\) if \\( b = 3 \\) and \\( a = 14 \\)? ",
    "A": " A: For \\( a = 14 \\) and \\( b = 3 \\), we have \\( q = 4 \\) and \\( r = 2 \\), since \\( 14 = 4 \\cdot 3 + 2 \\) and \\( 0 \\leq 2 < 3 \\)."
  },
  {
    "page": 260,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n### Definition 7.1.2\r\n\r\nLet \\( a, b \\in \\mathbb{Z} \\) with \\( b \\neq 0 \\), and let \\( q, r \\) be the unique integers such that\r\n\r\n\\[\r\na = qb + r \\quad \\text{and} \\quad 0 \\leq r < |b|\r\n\\]\r\n\r\nWe say \\( q \\) is the **quotient** and \\( r \\) is the **remainder** of \\( a \\) divided by \\( b \\).\r\n\r\n### Example 7.1.3\r\n\r\nSome examples of division include:\r\n\r\n\\[\r\n14 = 2 \\times 5 + 4, \\quad -14 = -3 \\times 5 + 1, \\quad 15 = 3 \\times 5 + 0\r\n\\]\r\n\r\n### Definition 7.1.4\r\n\r\nLet \\( a, b \\in \\mathbb{Z} \\). We say **\\( b \\) divides \\( a \\)**, or that \\( b \\) is a **divisor** (or **factor**) of \\( a \\), if there exists \\( q \\in \\mathbb{Z} \\) such that \\( a = qb \\). To denote the fact that \\( b \\) divides \\( a \\) we write \\( b \\mid a \\) (LaTeX code: `\\mid`). For the negation \\( \\neg(b \\mid a) \\) write \\( b \\nmid a \\) (LaTeX code: `\\nmid`).\r\n\r\nThus, when \\( b \\neq 0 \\), saying \\( b \\mid a \\) is equivalent to saying that the remainder of \\( a \\) divided by \\( b \\) is 0.\r\n\r\n### Example 7.1.5\r\n\r\n5 divides 15 since \\( 15 = 3 \\times 5 \\). However, 5 does not divide 14: we know that the remainder of 14 divided by 5 is 4, not 0—and it can’t be both since we proved in the division theorem that remainders are unique!\r\n\r\n### Exercise 7.1.6\r\n\r\nShow that if \\( a \\in \\mathbb{Z} \\) then \\( 1 \\mid a, -1 \\mid a \\) and \\( a \\mid 0 \\). For which integers \\( a \\) does \\( a \\mid 1 \\)? For which integers \\( a \\) does 0 \\(\\mid a\\)?\r\n\r\nWe now introduce the very basic notion of a **unit**. This notion is introduced to rule out trivialities. Units become interesting when talking about general rings, but in \\( \\mathbb{Z} \\), the units are very familiar.\r\n\r\n### Definition 7.1.7\r\n\r\nLet \\( u \\in \\mathbb{Z} \\). We say \\( u \\) is a **unit** if \\( u \\mid 1 \\); that is, \\( u \\) is a unit if there exists \\( v \\in \\mathbb{Z} \\) such that \\( uv = 1 \\).\r\n\r\n### Proposition 7.1.8\r\n\r\nThe only units in \\( \\mathbb{Z} \\) are 1 and \\(-1\\).\r\n\r\n**Proof**\r\n\r\nFirst note that 1 and \\(-1\\) are units, since \\( 1 \\cdot 1 = 1 \\) and \\((-1) \\cdot (-1) = 1\\). Now suppose that \\( u \\in \\mathbb{Z} \\) is a unit, and let \\( v \\in \\mathbb{Z} \\) be such that \\( uv = 1 \\). Certainly \\( u \\neq 0 \\), since \\( 0v = 0 \\neq 1 \\). If \\( u > 1 \\) or \\( u < -1 \\) then \\( v = \\frac{1}{u} \\not\\in \\mathbb{Z} \\). So we must have \\( u \\in \\{-1, 1\\} \\).\r\n</markdown>",
    "Q": "Q: Show that if \\( u \\) is a unit in \\( \\mathbb{Z} \\), then \\( u \\) must be either \\( 1 \\) or \\( -1 \\). What additional properties must \\( u \\) satisfy? ",
    "A": " A: If \\( u \\) is a unit in \\( \\mathbb{Z} \\), it satisfies \\( u \\mid 1 \\), meaning there exists an integer \\( v \\) such that \\( uv = 1 \\). The only integers fulfilling this are \\( u = 1 \\) and \\( u = -1 \\), as established in Proposition 7.1.8. Thus, \\( u \\) must be either \\( 1 \\) or \\( -1 \\)."
  },
  {
    "page": 261,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\nExercise 7.1.6 shows that \\(-1\\), 0 and 1 are, from the point of view of divisibility, fairly trivial. For this reason, most of the results we discuss regarding divisibility will concern nonzero nonunits, i.e. all integers except \\(-1\\), 0 or 1.\r\n\r\n## Greatest common divisors\r\n\r\n✦ **Definition 7.1.9**  \r\nLet \\(a, b \\in \\mathbb{Z}\\). An integer \\(d\\) is a **greatest common divisor** of \\(a\\) and \\(b\\) if:\r\n\r\n(a) \\(d \\mid a\\) and \\(d \\mid b\\);\r\n\r\n(b) If \\(q\\) is another integer such that \\(q \\mid a\\) and \\(q \\mid b\\), then \\(q \\mid d\\).\r\n\r\n✐ **Example 7.1.10**  \r\n2 is a greatest common divisor of 4 and 6; indeed:\r\n\r\n(a) \\(4 = 2 \\times 2\\), and \\(6 = 3 \\times 2\\), so 2 \\(\\mid\\) 4 and 2 \\(\\mid\\) 6;\r\n\r\n(b) Suppose \\(q \\mid 4\\) and \\(q \\mid 6\\). The divisors of 4 are \\(\\pm 1, \\pm 2, \\pm 4\\) and the divisors of 6 are \\(\\pm 1, \\pm 2, \\pm 3, \\pm 6\\). Since \\(q\\) divides both, it must be the case that \\(q \\in \\{-2, -1, 1, 2\\}\\); in any case, \\(q \\mid 2\\).\r\n\r\nLikewise, \\(-2\\) is a greatest common divisor of 4 and 6.\r\n\r\n✐ **Exercise 7.1.11**  \r\nThere are two greatest common divisors of 6 and 15; find both.\r\n\r\nWe will now prove that greatest common divisors **exist**—that is, any two integers have a greatest common divisor—and that they are **unique up to sign**.\r\n\r\n➗ **Theorem 7.1.12**  \r\nEvery pair of integers \\(a, b\\) has a greatest common divisor.\r\n\r\n**Proof**  \r\nFirst note that if \\(a = b = 0\\), then 0 is a greatest common divisor for \\(a\\) and \\(b\\). Moreover, we may take \\(a, b\\) to be non-negative, since divisibility is insensitive to sign. So suppose that \\(a, b \\geq 0\\) and that \\(a, b\\) are not both zero.\r\n\r\nDefine a set \\(X \\subseteq \\mathbb{Z}\\) by\r\n\r\n\\[ \r\nX = \\{au + bv \\mid u, v \\in \\mathbb{Z}, au + bv > 0\\} \r\n\\]\r\n\r\nThat is, \\(X\\) is the set of positive integers of the form \\(au + bv\\).\r\n</markdown>",
    "Q": "Q: What are the two greatest common divisors of \\(6\\) and \\(15\\)? ",
    "A": " A: The two greatest common divisors of \\(6\\) and \\(15\\) are \\(3\\) and \\(-3\\)."
  },
  {
    "page": 262,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n\\( X \\) is inhabited. To see this, note that \\( a^2 > 0 \\) or \\( b^2 > 0 \\) since \\( a \\neq 0 \\) or \\( b \\neq 0 \\), so letting \\( u = a \\) and \\( v = b \\) in the expression \\( au + bv \\), we see that\r\n\r\n\\[\r\nau + bv = a^2 + b^2 > 0 \\quad \\Rightarrow \\quad a^2 + b^2 \\in X\r\n\\]\r\n\r\nBy the well-ordering principle, \\( X \\) has a least element \\( d \\), and by definition of \\( X \\) there exist \\( u, v \\in \\mathbb{Z} \\) such that \\( d = au + bv \\).\r\n\r\nWe will prove that \\( d \\) is a greatest common divisor for \\( a \\) and \\( b \\).\r\n\r\n- \\( d \\mid a \\). If \\( a = 0 \\), then this is immediate, so suppose that \\( a > 0 \\). Let \\( q, r \\in \\mathbb{Z} \\) be such that\r\n\r\n\\[\r\na = qd + r \\quad \\text{and} \\quad 0 \\leq r < d\r\n\\]\r\n\r\nMoreover\r\n\r\n\\[\r\nr = a - qd = a - q(au + bv) = a(1 - qu) + b(-qv)\r\n\\]\r\n\r\nIf \\( r > 0 \\) then this implies that \\( r \\in X \\); but this would contradict minimality of \\( d \\), since \\( r < d \\). So we must have \\( r = 0 \\) after all.\r\n\r\n- \\( d \\mid b \\). The proof of this is identical to the proof that \\( d \\mid a \\).\r\n\r\n- Suppose \\( q \\) is an integer dividing both \\( a \\) and \\( b \\). Then \\( q \\mid au + bv \\) by Exercise 0.16. Since \\( au + bv = d \\), we have \\( q \\mid d \\).\r\n\r\nSo \\( d \\) is a greatest common divisor of \\( a \\) and \\( b \\) after all.\r\n\r\n✦ **Exercise 7.1.13**  \r\nLet \\( a, b \\in \\mathbb{Z} \\). If \\( d \\) and \\( d' \\) are two greatest common divisors of \\( a \\) and \\( b \\), then either \\( d = d' \\) or \\( d = -d' \\).\r\n\r\n❖ **Aside**  \r\nA consequence of Theorem 7.1.12 and Exercise 7.1.13 is that every pair of integers has a unique non-negative greatest common divisor! Written symbolically, we can say\r\n\r\n\\[\r\n\\forall (a, b) \\in \\mathbb{Z} \\times \\mathbb{Z}, \\exists! d \\in \\mathbb{Z}, \\left( d \\geq 0 \\text{ and } d \\text{ is a greatest common divisor for } a \\text{ and } b \\right)\r\n\\]\r\n\r\nAs discussed in Section 3.1, since this is a formula of the form ‘for all … there exists a unique …’, this defines a function \\(\\gcd : \\mathbb{Z} \\times \\mathbb{Z} \\to \\mathbb{Z}\\). We won’t explicitly refer to the fact that \\(\\gcd\\) is a function; rather, we’ll just concern ourselves with its values, as in Notation 7.1.14.\r\n\r\n✦ **Notation 7.1.14**  \r\nLet \\( a, b \\in \\mathbb{Z} \\). Denote by \\(\\gcd(a, b)\\) (LaTeX code: \\texttt{\\textbackslash mathrm\\{gcd\\}}) the (unique!) non-negative greatest common divisor of \\( a \\) and \\( b \\).\r\n</markdown>",
    "Q": "Q: If \\( a = 12 \\) and \\( b = 15 \\), what is \\( \\gcd(a, b) \\)?  \r\n",
    "A": "  \r\nA: \\( \\gcd(12, 15) = 3 \\)"
  },
  {
    "page": 263,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n### Example 7.1.15\r\n\r\nIn Example 7.1.10, we saw that both 2 and \\(-2\\) are greatest common divisors of 4 and 6. Using Notation 7.1.14, we can now write \\(\\gcd(4,6) = 2\\).\r\n\r\n### Exercise 7.1.16\r\n\r\nFor each \\(n \\in \\mathbb{Z}\\), let \\(D_n \\subseteq \\mathbb{Z}\\) be the set of divisors of \\(n\\). Prove that \\(D_a \\cap D_b = D_{\\gcd(a,b)}\\) for all \\(a, b \\in \\mathbb{Z}\\).\r\n\r\nOur goal for the rest of this subsection is to investigate the behaviour of greatest common divisors, find out how to compute them, and look into the implications they have for solutions to certain kinds of equations.\r\n\r\n### Theorem 7.1.17\r\n\r\nLet \\(a, b, q, r \\in \\mathbb{Z}\\), and suppose that \\(a = qb + r\\). Then\r\n\r\n\\[\r\n\\gcd(a, b) = \\gcd(b, r)\r\n\\]\r\n\r\n**Proof**\r\n\r\nLet \\(d = \\gcd(a, b)\\). We check that \\(d\\) satisfies the conditions required to be a greatest common divisor of \\(b\\) and \\(r\\).\r\n\r\nNote that \\(d \\mid a\\) and \\(d \\mid b\\), so let \\(s, t \\in \\mathbb{Z}\\) be such that \\(a = sd\\) and \\(b = td\\).\r\n\r\n- \\(d \\mid b\\) by definition, and \\(d \\mid r\\) since\r\n\r\n  \\[\r\n  r = a - qb = sd - qtd = (s - qt)d\r\n  \\]\r\n\r\n- Suppose \\(d' \\mid b\\) and \\(d' \\mid r\\); say \\(b = ud'\\) and \\(r = vd'\\) with \\(u, v \\in \\mathbb{Z}\\). Then \\(d' \\mid a\\), since\r\n\r\n  \\[\r\n  a = qb + r = qud' + vd' = (qu + v)d'\r\n  \\]\r\n\r\n  so \\(d' \\mid d\\) since \\(d = \\gcd(a, b)\\).\r\n\r\nSo \\(d\\) is a greatest common divisor of \\(b\\) and \\(r\\). Since \\(d > 0\\), the result is shown. □\r\n\r\nCombined with the division theorem (Theorem 7.1.1), Theorem 7.1.17 gives a relatively fast algorithm for computing the greatest common divisor of two integers, known as the **Euclidean algorithm**.\r\n</markdown>",
    "Q": "Q: Prove that for any integers \\(a\\) and \\(b\\), if \\(d\\) is the greatest common divisor of \\(a\\) and \\(b\\), then \\(d\\) also divides any linear combination of \\(a\\) and \\(b\\), specifically \\(ra + sb\\) for any integers \\(r\\) and \\(s\\). ",
    "A": " A: To prove this, note that \\(d \\mid a\\) and \\(d \\mid b\\) imply there exist integers \\(x\\) and \\(y\\) such that \\(a = dx\\) and \\(b = dy\\). Thus, for any integers \\(r\\) and \\(s\\), we have:\r\n\r\n\\[\r\nra + sb = r(dx) + s(dy) = d(rx + sy)\r\n\\]\r\n\r\nThis shows \\(d\\) divides \\(ra + sb\\), completing the proof."
  },
  {
    "page": 264,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n### Strategy 7.1.18 (Euclidean algorithm)\r\n\r\nLet \\( a, b \\in \\mathbb{Z} \\). To compute \\(\\gcd(a, b)\\), proceed as follows.\r\n\r\n- Set \\( r_0 = |a| \\) and \\( r_1 = |b| \\).\r\n- Given \\( r_{n-2} \\) and \\( r_{n-1} \\), define \\( r_n \\) to be the remainder of \\( r_{n-2} \\) divided by \\( r_{n-1} \\).\r\n- Stop when \\( r_n = 0 \\); then \\( r_{n-1} = \\gcd(a, b) \\).\r\n\r\n### Example 7.1.19\r\n\r\nWe will find the greatest common divisor of 148 and 28.\r\n\r\n\\[\r\n\\begin{align*}\r\n148 &= 5 \\times 28 + 8 \\\\\r\n28 &= 3 \\times 8 + 4 \\\\\r\n8 &= 2 \\times 4 + 0 \\quad \\leftarrow \\text{Stop!}\r\n\\end{align*}\r\n\\]\r\n\r\nHence \\(\\gcd(148, 28) = 4\\). Here the sequence of remainders is given by:\r\n\r\n\\[\r\nr_0 = 148, \\quad r_1 = 28, \\quad r_2 = 8, \\quad r_3 = 4, \\quad r_4 = 0\r\n\\]\r\n\r\n### Example 7.1.20\r\n\r\nThe Euclidean algorithm works surprisingly quickly, even for relatively large numbers. Consider the problem of computing \\(\\gcd(1311, 5757)\\) for example:\r\n\r\n\\[\r\n\\begin{align*}\r\n5757 &= 4 \\times 1311 + 513 \\\\\r\n1311 &= 2 \\times 513 + 285 \\\\\r\n513 &= 1 \\times 285 + 228 \\\\\r\n285 &= 1 \\times 228 + 57 \\\\\r\n228 &= 4 \\times 57 + 0 \\quad \\leftarrow \\text{Stop!}\r\n\\end{align*}\r\n\\]\r\n\r\nHence \\(\\gcd(1311, 5757) = 57\\). Here the sequence of remainders is given by:\r\n\r\n\\[\r\nr_0 = 5757, \\quad r_1 = 1311, \\quad r_2 = 513, \\quad r_3 = 285, \\quad r_4 = 228, \\quad r_5 = 57, \\quad r_6 = 0\r\n\\]\r\n\r\n### Example 7.1.21\r\n\r\nHere's an example where one of the numbers is negative: we compute the value of \\(\\gcd(-420, 76)\\):\r\n\r\n\\[\r\n\\begin{align*}\r\n-420 &= (-6) \\times 76 + 36 \\\\\r\n76 &= 2 \\times 36 + 4 \\\\\r\n36 &= 9 \\times 4 + 0 \\quad \\leftarrow \\text{Stop!}\r\n\\end{align*}\r\n\\]\r\n\r\nHence \\(\\gcd(-420, 76) = 4\\).\r\n</markdown>",
    "Q": "Q: What is the greatest common divisor of \\(100\\) and \\(45\\) using the Euclidean algorithm? ",
    "A": " A: The greatest common divisor \\(\\gcd(100, 45) = 5\\), computed as follows:\r\n\r\n\\[\r\n\\begin{align*}\r\n100 &= 2 \\times 45 + 10 \\\\\r\n45 &= 4 \\times 10 + 5 \\\\\r\n10 &= 2 \\times 5 + 0 \\quad \\leftarrow \\text{Stop!}\r\n\\end{align*}\r\n\\] \r\n\r\nThus, the sequence of remainders is \\( r_0 = 100, r_1 = 45, r_2 = 10, r_3 = 5, r_4 = 0 \\)."
  },
  {
    "page": 265,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n### Example 7.1.22\r\n\r\nUse the Euclidean algorithm to compute the greatest common divisors of the following pairs of integers\r\n\r\n\\[\r\n(12, 9), \\quad (100, 35), \\quad (7125, 1300), \\quad (1010, 101010), \\quad (-4, 14)\r\n\\]\r\n\r\nThe following theorem will be useful when we study modular arithmetic in [Section 7.3](#); it is called a ‘lemma’ for historical reasons, and is really an important result in its own right.\r\n\r\n### Theorem 7.1.23 (Bézout’s lemma)\r\n\r\nLet \\( a, b, c \\in \\mathbb{Z} \\), and let \\( d = \\gcd(a, b) \\). The equation\r\n\r\n\\[\r\nax + by = c\r\n\\]\r\n\r\nhas a solution \\( (x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\) if and only if \\( d \\mid c \\).\r\n\r\n**Proof**\r\n\r\n(⇒) Write \\( a = a'd \\) and \\( b = b'd \\), for \\( a', b' \\in \\mathbb{Z} \\). If there exist \\( x, y \\in \\mathbb{Z} \\) such that \\( ax + by = c \\), then\r\n\r\n\\[\r\nc = ax + by = a'dx + b'dy = (a'x + b'y)d\r\n\\]\r\n\r\nand so \\( d \\mid c \\).\r\n\r\n(⇐) Suppose \\( d \\mid c \\), and let \\( c = kd \\) for some \\( k \\in \\mathbb{Z} \\).\r\n\r\nIf \\( c = 0 \\), then a solution is \\( x = y = 0 \\). If \\( c < 0 \\), then \\( ax + by = c \\) if and only if \\( a(-x) + b(-y) = -c \\); so we may assume that \\( c > 0 \\).\r\n\r\nWe proved in [Theorem 7.1.12](#) that a greatest common divisor of \\( a \\) and \\( b \\) is a least element of the set\r\n\r\n\\[\r\nX = \\{au + bv \\mid u, v \\in \\mathbb{Z}, \\, au + bv > 0\\}\r\n\\]\r\n\r\nSo let \\( u, v \\in \\mathbb{Z} \\) be such that \\( au + bv = d \\). Then\r\n\r\n\\[\r\na(ku) + b(kv) = k(au + bv) = kd = c\r\n\\]\r\n\r\nand so letting \\( x = ku \\) and \\( y = kv \\), we see that the equation \\( ax + by = c \\) has a solution \\( (x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\).\r\n\r\nBézout’s lemma completely characterises when the equation \\( ax + by = c \\) has a solution. An easy generalisation of Bézout’s lemma provides a complete characterisation of when solutions to **linear Diophantine equations** exist, that is equations of the form\r\n\r\n\\[\r\nax + by = c\r\n\\]\r\n</markdown>",
    "Q": "Q: How can you apply Bézout’s lemma to determine if the equation \\( 12x + 18y = 6 \\) has integer solutions? ",
    "A": " A: First, find \\( \\gcd(12, 18) \\), which is \\( 6 \\). Since \\( 6 \\mid 6 \\) (the right-hand side), by Bézout's lemma, the equation \\( 12x + 18y = 6 \\) has integer solutions."
  },
  {
    "page": 266,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\nwhere \\( a, b, c \\in \\mathbb{Z} \\). We will soon develop an algorithm for computing all solutions to these equations.\r\n\r\n### Example 7.1.24\r\n\r\nHere are some examples of applications of Bézout’s lemma.\r\n\r\n- Consider the equation \\( 1311x + 5757y = 12963 \\). We computed in Example 7.1.20 that \\(\\gcd(1311, 5757) = 57\\). But \\( 57 \\nmid 12963 \\) since \\( 12963 = 227 \\times 57 + 24 \\). By Bézout’s lemma, the equation \\( 1311x + 5757y = 12963 \\) has no integer solutions.\r\n\r\n- For fixed \\( z \\), the equation \\( 4u + 6v = z \\) has solutions exactly when \\( z \\) is even, since \\(\\gcd(4, 6) = 2\\).\r\n\r\n- For fixed \\( a, b \\), the equation \\( au + bv = 0 \\) always has a solution. Indeed, setting \\( u = b \\) and \\( v = -a \\) gives a solution; but we knew one had to exist since by Exercise 7.1.6 we know that \\( d \\mid 0 \\) for all \\( d \\in \\mathbb{Z} \\).\r\n\r\n### Exercise 7.1.25\r\n\r\nWhich of the following equations have solutions?\r\n\r\n(a) \\( 12u + 9v = -18 \\)\r\n\r\n(b) \\( 12u + 9v = 1 \\)\r\n\r\n(c) \\( 100u + 35v = 125 \\)\r\n\r\n(d) \\( 7125u + 1300v = 0 \\)\r\n\r\n(e) \\( 1010u + 101010v = 1010101010101010 \\)\r\n\r\n(f) \\( 14u - 4v = 12 \\)\r\n\r\n## Coprimality\r\n\r\n### Definition 7.1.26\r\n\r\nLet \\( a, b \\in \\mathbb{Z} \\). We say \\( a \\) and \\( b \\) are coprime (or relatively prime), and write \\( a \\perp b \\) (read ‘\\( a \\) is coprime to \\( b \\)’), if \\(\\gcd(a, b) = 1\\).\r\n\r\n### Example 7.1.27\r\n\r\n\\( 4 \\perp 9 \\). To see this, note that if \\( d \\mid 4 \\) then \\( d \\in \\{-4, -2, -1, 1, 2, 4\\} \\), and if \\( d \\mid 9 \\) then \\( d \\in \\{-9, -3, -1, 1, 3, 9\\} \\). Hence if \\( d \\mid 4 \\) and \\( d \\mid 9 \\), then \\( d = 1 \\) or \\( d = -1 \\). It follows that \\(\\gcd(4, 9) = 1\\).\r\n</markdown>",
    "Q": "Q: What conditions must be met for the equation \\( ax + by = c \\) to have integer solutions, based on Bézout's lemma? ",
    "A": " A: The equation \\( ax + by = c \\) has integer solutions if and only if \\(\\gcd(a, b) \\mid c\\)."
  },
  {
    "page": 267,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n### Exercise 7.1.28\r\nWhich integers in the set \\([15]\\) are coprime to 15?\r\n\r\n### Proposition 7.1.29\r\nLet \\(a, b \\in \\mathbb{Z}\\). The following are equivalent:\r\n\r\n1. \\(a\\) and \\(b\\) are coprime;\r\n2. If \\(d \\in \\mathbb{Z}\\) with \\(d \\mid a\\) and \\(d \\mid b\\), then \\(d\\) is a unit.\r\n\r\n**Proof**  \r\nWe prove that condition (1) implies condition (2), and vice versa.\r\n\r\n- (1) \\(\\Rightarrow\\) (2). Suppose \\(a\\) and \\(b\\) are coprime, and fix \\(d \\in \\mathbb{Z}\\) with \\(d \\mid a\\) and \\(d \\mid b\\). Then \\(d \\mid \\gcd(a, b) = 1\\), so \\(d\\) is a unit.\r\n\r\n- (2) \\(\\Rightarrow\\) (1). Suppose condition (2) above holds. We prove that 1 satisfies the conditions required to be a greatest common divisor of \\(a\\) and \\(b\\). The fact that \\(1 \\mid a\\) and \\(1 \\mid b\\) is automatic; and the fact that if \\(d \\mid a\\) and \\(d \\mid b\\) implies \\(d \\mid 1\\) is precisely the condition (2) that we are assuming.\r\n\r\nHence the two conditions are equivalent.\r\n\r\n### Exercise 7.1.30\r\nLet \\(a\\) and \\(b\\) be integers, not both zero, and let \\(d = \\gcd(a, b)\\). The integers \\(\\frac{a}{d}\\) and \\(\\frac{b}{d}\\) are coprime.\r\n\r\nThe following corollary is a specialisation of Bézout’s lemma to the case when \\(a\\) and \\(b\\) are coprime.\r\n\r\n### Corollary 7.1.31\r\nLet \\(a, b \\in \\mathbb{Z}\\). The equation \\(au + bv = 1\\) has a solution if and only if \\(a\\) and \\(b\\) are coprime. Moreover, if \\(a\\) and \\(b\\) are coprime, then the equation \\(au + bv = z\\) has a solution for all \\(z \\in \\mathbb{Z}\\).\r\n\r\n**Proof**  \r\nBy Bézout’s lemma (Theorem 7.1.23), the equation \\(au + bv = 1\\) has a solution if and only if \\(\\gcd(a, b) \\mid 1\\). But the only positive divisor of 1 is 1, so a solution exists if and only if \\(\\gcd(a, b) = 1\\), which is precisely the assertion that \\(a\\) and \\(b\\) are coprime.\r\n\r\nIf \\(a\\) and \\(b\\) are coprime, then \\(1 = \\gcd(a, b) \\mid z\\) for all \\(z \\in \\mathbb{Z}\\). So by Bézout’s lemma again, the equation \\(au + bv = z\\) has a solution for all \\(z \\in \\mathbb{Z}\\).\r\n\r\nA useful consequence of Bézout’s lemma is the following result:\r\n\r\n### Proposition 7.1.32\r\nLet \\(a, b, c \\in \\mathbb{Z}\\). If \\(a\\) and \\(b\\) are coprime and \\(a \\mid bc\\), then \\(a \\mid c\\).\r\n</markdown>",
    "Q": "Q: Which integers in the set \\([20]\\) are coprime to 20?  \r\n",
    "A": "  \r\nA: The integers in the set \\([20]\\) that are coprime to 20 are \\(\\{1, 3, 7, 9, 11, 13, 17, 19\\}\\)."
  },
  {
    "page": 268,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\nProof\r\n\r\nBy Bézout’s lemma (Theorem 7.1.23) there exist integers \\( u \\) and \\( v \\) such that \\( au + bv = 1 \\). Multiplying by \\( c \\) gives \\( acu + bcv = c \\). Since \\( a \\mid bc \\), we can write \\( bc = ka \\) for some \\( k \\in \\mathbb{Z} \\), and so \\( acu + kav = c \\). But then\r\n\r\n\\[\r\n(cu + kv)a = c\r\n\\]\r\n\r\nwhich proves that \\( a \\mid c \\).\r\n\r\n## Linear Diophantine equations\r\n\r\nWe have now seen two important results:\r\n\r\n- **The Euclidean algorithm**, which was a procedure for computing the greatest common divisor of two integers.\r\n- **Bézout’s lemma**, which provides a necessary and sufficient condition for equations of the form \\( ax + by = c \\) to have an integer solution.\r\n\r\nWe will now develop the reverse Euclidean algorithm, which provides a method for computing a solutions to (bivariate) linear Diophantine equations, when such a solution exists. Then we will prove a theorem that characterises all integer solutions in terms of a given solution.\r\n\r\n✐ **Example 7.1.33**\r\n\r\nSuppose we want to find integers \\( x \\) and \\( y \\) such that \\( 327x + 114y = 18 \\). Running the Euclidean algorithm yields that \\( \\gcd(327, 114) = 3 \\)—see below. For reasons soon to become apparent, we rearrange each equation to express the remainder on its own.\r\n\r\n\\[\r\n\\begin{align*}\r\n327 &= 2 \\times 114 + 99 &\\Rightarrow& \\quad 99 = 327 - 2 \\times 114 \\quad (1) \\\\\r\n114 &= 1 \\times 99 + 15 &\\Rightarrow& \\quad 15 = 114 - 1 \\times 99 \\quad (2) \\\\\r\n99 &= 6 \\times 15 + 9 &\\Rightarrow& \\quad 9 = 99 - 6 \\times 15 \\quad (3) \\\\\r\n15 &= 1 \\times 9 + 6 &\\Rightarrow& \\quad 6 = 15 - 1 \\times 9 \\quad (4) \\\\\r\n9 &= 1 \\times 6 + 3 &\\Rightarrow& \\quad 3 = 9 - 1 \\times 6 \\quad (5) \\\\\r\n6 &= 2 \\times 3 + 0 \\\\\r\n\\end{align*}\r\n\\]\r\n\r\nWe can then express 3 in the form \\( 327u + 114v \\) by successively substituting the equations into each other:\r\n\r\n- Equation (5) expresses 3 as a linear combination of 6 and 9. Substituting equation (4) yields:\r\n\r\n\\[\r\n3 = 9 - 1 \\times (15 - 1 \\times 9) \\quad \\Rightarrow \\quad 3 = 2 \\times 9 - 1 \\times 15\r\n\\]\r\n</markdown>",
    "Q": "Q: Given the integers \\( a = 327 \\), \\( b = 114 \\), and \\( c = 18 \\), can you explain how to find an integer solution for the equation \\( 327x + 114y = 18 \\) using the results from Bézout’s lemma and the Euclidean algorithm? ",
    "A": " A: To find an integer solution for \\( 327x + 114y = 18 \\), we first compute \\( \\gcd(327, 114) \\) using the Euclidean algorithm, which results in \\( 3 \\). Since \\( 3 \\mid 18 \\), integer solutions exist. We then express 3 as a linear combination of 327 and 114 through back substitution from the Euclidean algorithm steps, ultimately obtaining \\( 3 = 2 \\times 327 - 5 \\times 114 \\). By scaling this equation up by \\( \\frac{18}{3} = 6 \\), we derive an integer solution: \\( x = 12 \\) and \\( y = -30 \\)."
  },
  {
    "page": 269,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n- This now expresses 3 as a linear combination of 9 and 15. Substituting equation (3) yields:\r\n\r\n  \\[\r\n  3 = 2 \\times (99 - 6 \\times 15) - 1 \\times 15 \\implies 3 = (-13) \\times 15 + 2 \\times 99\r\n  \\]\r\n\r\n- This now expresses 3 as a linear combination of 15 and 99. Substituting equation (2) yields:\r\n\r\n  \\[\r\n  3 = (-13) \\times (114 - 1 \\times 99) + 2 \\times 99 \\implies 3 = 15 \\times 99 - 13 \\times 114\r\n  \\]\r\n\r\n- This now expresses 3 as a linear combination of 99 and 114. Substituting equation (1) yields:\r\n\r\n  \\[\r\n  3 = 15 \\times (327 - 2 \\times 114) - 13 \\times 114 \\implies 3 = (-43) \\times 114 + 15 \\times 327\r\n  \\]\r\n\r\nNow that we’ve expressed 3 as a linear combination of 114 and 327, we’re nearly done: we know that 18 = 6 × 3, so multiplying through by 6 gives\r\n\r\n\\[\r\n18 = (-258) \\times 114 + 90 \\times 327\r\n\\]\r\n\r\nHence \\((x, y) = (90, -258)\\) is a solution to the equation \\(327x + 114y = 18\\).\r\n\r\n### Proof tip\r\nLet \\(a, b \\in \\mathbb{Z}\\) and let \\(d = \\gcd(a, b)\\). To find integers \\(x, y\\) such that \\(ax + by = d\\):\r\n\r\n(i) Run the Euclidean algorithm on the pair \\((a, b)\\), keeping track of all quotients and remainders.\r\n\r\n(ii) Rearrange each equation of the form \\(r_{n-2} = q_n r_{n-1} + r_n\\) to isolate \\(r_n\\).\r\n\r\n(iii) Substitute for the remainders \\(r_k\\) in reverse order until \\(\\gcd(a, b)\\) is expressed in the form \\(ax + by\\) for some \\(x, y \\in \\mathbb{Z}\\).\r\n\r\nThis process is called the reverse Euclidean algorithm.\r\n\r\n### Exercise 7.1.34\r\nFind a solution \\((x, y) \\in \\mathbb{Z} \\times \\mathbb{Z}\\) to the equation \\(630x + 385y = 4340\\).\r\n\r\nNow that we have a procedure for computing one solution to the equation \\(ax + by = c\\), we need to come up with a procedure for computing all solutions. This can be done by proving the following theorem.\r\n</markdown>",
    "Q": "Q: How can we express 4340 as a linear combination of 630 and 385 using the reverse Euclidean algorithm? ",
    "A": " A: By applying the reverse Euclidean algorithm to the equations generated through the Euclidean algorithm on \\(630\\) and \\(385\\), we can find integers \\(x\\) and \\(y\\) such that \\(630x + 385y = 4340\\). Following the steps outlined, one potential solution is \\(x = 4\\) and \\(y = 32\\), since \\(630 \\times 4 + 385 \\times 32 = 4340\\)."
  },
  {
    "page": 270,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.1 Division",
    "content": "<markdown>\r\n### Theorem 7.1.35\r\n\r\nLet \\( a, b, c \\in \\mathbb{Z} \\), where \\( a \\) and \\( b \\) are not both zero. Suppose that \\( x_0 \\) and \\( y_0 \\) are integers such that \\( ax_0 + by_0 = c \\). Then, \\( (x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\) is another solution to the equation \\( ax + by = c \\) if and only if\r\n\r\n\\[\r\nx = x_0 + k \\cdot \\frac{b}{\\gcd(a, b)} \\quad \\text{and} \\quad y = y_0 - k \\cdot \\frac{a}{\\gcd(a, b)}\r\n\\]\r\n\r\nfor some \\( k \\in \\mathbb{Z} \\).\r\n\r\nThus, as soon as we’ve found one solution \\( (x, y) = (x_0, y_0) \\) to the equation \\( ax + by = c \\), this theorem tells us what all other solutions must look like.\r\n\r\n**Proof of Theorem 7.1.35**\r\n\r\nWe prove the two directions separately.\r\n\r\n(⇒). First suppose that \\( (x_0, y_0) \\) is an integer solution to the equation \\( ax + by = c \\). Let \\( k \\in \\mathbb{Z} \\) and let\r\n\r\n\\[\r\nx = x_0 + k \\cdot \\frac{b}{\\gcd(a, b)} \\quad \\text{and} \\quad y = y_0 - k \\cdot \\frac{a}{\\gcd(a, b)}\r\n\\]\r\n\r\nThen\r\n\r\n\\[\r\nax + by = a \\left( x_0 + k \\cdot \\frac{b}{\\gcd(a, b)} \\right) + b \\left( y_0 - k \\cdot \\frac{a}{\\gcd(a, b)} \\right) \\quad \\text{by definition of } x \\text{ and } y\r\n\\]\r\n\r\n\\[\r\n= (ax_0 + by_0) + ak \\cdot \\frac{b}{\\gcd(a, b)} - kb \\cdot \\frac{a}{\\gcd(a, b)} \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n= (ax_0 + by_0) + \\frac{kab - kab}{\\gcd(a, b)} \\quad \\text{combining the fractions}\r\n\\]\r\n\r\n\\[\r\n= ax_0 + by_0 \\quad \\text{since } kab - kab = 0\r\n\\]\r\n\r\n\\[\r\n= c \\quad \\text{since } (x_0, y_0) \\text{ is a solution}\r\n\\]\r\n\r\nso \\( (x, y) \\) is indeed a solution to the equation.\r\n\r\n(⇐). First suppose that \\( a \\mid b \\). Fix a solution \\( (x_0, y_0) \\) to the equation \\( ax + by = c \\), and let \\( (x, y) \\) be another solution. Then\r\n\r\n\\[\r\na(x - x_0) + b(y - y_0) = (ax_0 + by_0) - (ax + by) = c - c = 0\r\n\\]\r\n\r\nso that\r\n\r\n\\[\r\na(x - x_0) = b(y_0 - y)\r\n\\]\r\n\r\nNow \\( a \\) and \\( b \\) are coprime, so by Proposition 7.1.32, we have \\( a \\mid y_0 - y \\) and \\( b \\mid x - x_0 \\). Let \\( k, \\ell \\in \\mathbb{Z} \\) be such that \\( x - x_0 = kb \\) and \\( y_0 - y = \\ell a \\). Then substituting into the above\r\n</markdown>",
    "Q": "Q: If \\( a = 3 \\), \\( b = 6 \\), and \\( c = 12 \\), and one solution to the equation \\( 3x + 6y = 12 \\) is \\( (0, 2) \\), what is the general form of the solution \\( (x, y) \\)? ",
    "A": " A: The general form of the solution is given by \r\n\r\n\\[\r\nx = 0 + k \\cdot \\frac{6}{\\gcd(3, 6)} \\quad \\text{and} \\quad y = 2 - k \\cdot \\frac{3}{\\gcd(3, 6)}\r\n\\]\r\n\r\nwhich simplifies to \r\n\r\n\\[\r\nx = 0 + 2k \\quad \\text{and} \\quad y = 2 - \\frac{3}{3}k = 2 - k\r\n\\]\r\n\r\nso the general solution is \\( (2k, 2 - k) \\) for \\( k \\in \\mathbb{Z} \\)."
  },
  {
    "page": 273,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\n## Section 7.2\r\n\r\n# Prime numbers\r\n\r\nThinking of divisibility as a way of *breaking down* an integer, for example \\(12 = 2 \\times 2 \\times 3\\), our goal now is to show that there are particular integers that are *atomic*—they are the building blocks of the integers, in the sense that:\r\n\r\n- Every integer can be broken into a product of these atomic integers…\r\n- …and these atomic integers cannot themselves be broken down any further…\r\n- …and there is an essentially unique way to write an integer as a product of these atomic integers.\r\n\r\nThere are a couple of fairly vague terms used here: ‘atomic’ and ‘essentially unique’. But as always, we will make these terms precise when we need to.\r\n\r\n### Primes and irreducibles\r\n\r\nThere are two ways that we might want to characterise the so-called atomic integer that we just mentioned.\r\n\r\n- One way that an integer might be atomic is if it allows us to break down products of integers—this leads to the notion of *prime* (Definition 7.2.1).\r\n- Another way is that an integer might be atomic is if it cannot be split up as a product of more than one integer (in a nontrivial way)—this leads to the notion of *irreducible* (Definition 7.2.6).\r\n\r\nConveniently, as we will show in Theorem 7.2.11, these two notions coincide. But the fact that they coincide is not obvious, and uses essential properties of the integers that do not hold in more general structures.\r\n\r\nThe definition of *prime* that we are about to give comes from abstract algebra (specifically, from ring theory). It might seem strange, but we will soon be able to show that the more familiar definition—that is, having exactly two positive divisors—is equivalent to this one.\r\n\r\n✦ **Definition 7.2.1**  \r\nAn integer \\( p \\) is (ring theoretically) *prime* if \\( p \\) is a nonzero nonunit and, for all \\( a, b \\in \\mathbb{Z} \\), if \\( p \\mid ab \\) then \\( p \\mid a \\) or \\( p \\mid b \\).\r\n</markdown>",
    "Q": "Q: If \\( p \\) is a prime number and \\( p \\mid ab \\) for \\( a = 3 \\) and \\( b = 5 \\), what can be concluded about \\( p \\)? ",
    "A": " A: Since \\( p \\) is prime and divides \\( ab \\), it must divide at least one of \\( a \\) or \\( b \\). In this case, since \\( p \\) does not divide \\( 3 \\) or \\( 5 \\) (the primes themselves), the conclusion is that \\( p \\) must be a divisor of a product that equals \\( 15 \\), but it cannot divide either \\( 3 \\) or \\( 5 \\). Thus, it implies \\( p \\) must not be a prime under these conditions unless \\( p = 1 \\) which is not a prime."
  },
  {
    "page": 274,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\n### Example 7.2.2\r\n\r\n2 is prime. To see this, suppose it isn’t. Then there exist \\(a, b \\in \\mathbb{Z}\\) such that \\(2 \\mid ab\\) but 2 divides neither \\(a\\) nor \\(b\\). Thus \\(a\\) and \\(b\\) are both odd, meaning that \\(ab\\) is odd... but this contradicts the assumption that \\(2 \\mid ab\\).\r\n\r\nHowever, 18 is not prime. Indeed, \\(18 \\mid 12 \\times 15\\) but 18 divides neither 12 nor 15.\r\n\r\n### Exercise 7.2.3\r\n\r\nUsing Definition 7.2.1, prove that 3 and 5 are prime, and that 4 is not prime.\r\n\r\n### Example 7.2.4\r\n\r\nLet \\(k \\in \\mathbb{Z}\\) with \\(0 < k < 5\\). We’ll show that \\(5 \\mid \\binom{5}{k}\\).\r\n\r\nWell, by Theorem 4.2.14 we know that\r\n\r\n\\[\r\n5! = \\binom{5}{k} k! (5-k)!\r\n\\]\r\n\r\nBy Definition 4.1.14, we have\r\n\r\n\\[\r\n5 \\times 4! = \\binom{5}{k} \\times \\underbrace{1 \\times \\cdots \\times k}_{=k!} \\times \\underbrace{1 \\times \\cdots \\times (5-k)}_{=(5-k)!}\r\n\\]\r\n\r\nSince 5 is prime, it must divide one of the factors on the right-hand side of this equation. Thus, either 5 divides \\(\\binom{5}{k}\\), or it divides \\(\\ell\\) for some \\(1 \\leq \\ell \\leq k\\) or \\(1 \\leq \\ell \\leq 5-k\\). But \\(k < 5\\) and \\(5-k < 5\\), so it cannot divide any of these values of \\(\\ell\\)—if it did, it would imply \\(5 \\leq \\ell \\leq k\\) or \\(5 \\leq \\ell \\leq 5-k\\), which is nonsense. Hence 5 must divide \\(\\binom{5}{k}\\).\r\n\r\n### Exercise 7.2.5\r\n\r\nLet \\(p \\in \\mathbb{Z}\\) be a positive prime and let \\(0 < k < p\\). Show that \\(p \\mid \\binom{p}{k}\\).\r\n\r\nWe now arrive at our second notion of atomic, capturing the idea that it should not be possible to break an atomic integer into smaller parts.\r\n\r\n### Definition 7.2.6\r\n\r\nAn integer \\(a\\) is **irreducible** if \\(a\\) is a nonzero nonunit and, for all \\(m, n \\in \\mathbb{Z}\\), if \\(a = mn\\), then either \\(m\\) or \\(n\\) is a unit. Otherwise, \\(a\\) is **reducible**.\r\n\r\nThe notion of irreducible captures more closely the more familiar notion of ‘prime’, as the next result shows.\r\n\r\n### Proposition 7.2.7\r\n\r\nLet \\(p \\in \\mathbb{Z}\\) be a nonzero nonunit. Then \\(p\\) is irreducible if and only if the only divisors of \\(p\\) are \\(p\\), \\(-p\\), 1 and \\(-1\\).\r\n</markdown>",
    "Q": "Q: If \\(p\\) is a prime number, what can be said about the product \\(p \\cdot n\\) for any integer \\(n\\) in terms of its divisors? ",
    "A": " A: The product \\(p \\cdot n\\) will have at least the divisors \\(p\\), \\(-p\\), \\(n\\), \\(-n\\), and the divisors of \\(n\\), which implies that \\(p \\cdot n\\) is reducible if \\(n\\) is not a unit."
  },
  {
    "page": 275,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\n### Proof\r\n\r\nSuppose \\( p \\) is irreducible and that \\( a \\mid p \\). Then \\( p = ab \\) for some \\( b \\in \\mathbb{Z} \\). Since \\( p \\) is irreducible, either \\( a \\) or \\( b \\) is a unit. If \\( a \\) is a unit then \\( b = \\pm p \\), and if \\( b \\) is a unit then \\( a = \\pm p \\). So the only divisors of \\( p \\) are \\( \\pm 1 \\) and \\( \\pm p \\).\r\n\r\nConversely, suppose that the only divisors of \\( p \\) are \\( \\pm 1 \\) and \\( \\pm p \\), and let \\( a, b \\in \\mathbb{Z} \\) with \\( p = ab \\). We want to prove that \\( a \\) or \\( b \\) is a unit. Since \\( a \\mid p \\), we have \\( a \\in \\{1, -1, p, -p\\} \\). If \\( a = \\pm 1 \\), then \\( a \\) is a unit; if \\( a = \\pm p \\), then \\( b = \\pm 1 \\), so that \\( b \\) is a unit. In any case, either \\( a \\) or \\( b \\) is a unit, and hence \\( p \\) is irreducible.\r\n\r\n### Example 7.2.8\r\n\r\nA couple of examples of reducible and irreducible numbers are:\r\n\r\n- \\( 2 \\) is irreducible: if \\( 2 = mn \\) then either \\( m \\) or \\( n \\) is even, otherwise we’d be expressing an even number as the product of two odd numbers. We may assume \\( m \\) is even, say \\( m = 2k \\); then \\( 2 = 2kn \\), so \\( kn = 1 \\) and hence \\( n \\) is a unit.\r\n\r\n- \\( 20 \\) is reducible since \\( 20 = 4 \\times 5 \\) and neither 4 nor 5 is a unit.\r\n\r\n### Exercise 7.2.9\r\n\r\nLet \\( p \\in \\mathbb{Z} \\). Prove that if \\( p \\) is ring theoretically prime, then \\( p \\) is irreducible.\r\n\r\n### Lemma 7.2.10\r\n\r\nLet \\( a \\in \\mathbb{Z} \\) be a nonzero nonunit. Then there are irreducibles \\( p_1, \\ldots, p_n \\) such that \\( a = p_1 \\times \\cdots \\times p_n \\).\r\n\r\n#### Proof\r\n\r\nWe may assume \\( a > 0 \\), since if \\( a < 0 \\) we can just multiply by \\(-1\\).\r\n\r\nWe proceed by strong induction on \\( a \\geq 2 \\). The base case has \\( a = 2 \\) since we consider only nonunits.\r\n\r\n- **(Base case)** We have shown that 2 is irreducible, so setting \\( p_1 = 2 \\) yields a product of primes.\r\n\r\n- **(Induction step)** Let \\( a \\geq 2 \\) and suppose that each integer \\( k \\) with \\( 2 \\leq k \\leq a \\) has an expression as a product of irreducibles. If \\( a + 1 \\) is irreducible then we’re done; otherwise we can write \\( a + 1 = st \\), where \\( s, t \\in \\mathbb{Z} \\) are nonzero nonunits. We may assume further that \\( s \\) and \\( t \\) are positive. Moreover, \\( s < a + 1 \\) and \\( t < a + 1 \\) since \\( s, t \\geq 2 \\).\r\n\r\nBy the induction hypothesis, \\( s \\) and \\( t \\) have expressions as products of irreducibles. Write\r\n\r\n\\[ s = p_1 \\times \\cdots \\times p_m \\quad \\text{and} \\quad t = q_1 \\times \\cdots \\times q_n \\]\r\n</markdown>",
    "Q": "Q: If \\( p \\) is a ring theoretically prime number and can be expressed as \\( p = ab \\) for some integers \\( a, b \\), what can be inferred about \\( a \\) and \\( b \\)? ",
    "A": " A: Either \\( a \\) or \\( b \\) must be a unit, indicating that \\( p \\) is irreducible."
  },
  {
    "page": 276,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\nThis gives rise to an expression of \\( a \\) as a product of irreducibles:\r\n\r\n\\[\r\na = st = \\underbrace{p_1 \\times \\cdots \\times p_m}_{=s} \\times \\underbrace{q_1 \\times \\cdots \\times q_n}_{=t}\r\n\\]\r\n\r\nThe result follows by induction.\r\n\r\n---\r\n\r\n### Theorem 7.2.11\r\nLet \\( p \\in \\mathbb{Z} \\). Then \\( p \\) is ring theoretically prime if and only if \\( p \\) is irreducible.\r\n\r\n**Proof**\r\n\r\nWe prove the two directions separately.\r\n\r\n- **Prime \\(\\Rightarrow\\) irreducible.** This was Exercise 7.2.9.\r\n\r\n- **Irreducible \\(\\Rightarrow\\) prime.** Suppose \\( p \\) is irreducible. Let \\( a, b \\in \\mathbb{Z} \\) and suppose \\( p \\mid ab \\). We need to show that \\( p \\mid a \\) or \\( p \\mid b \\). It suffices to show that if \\( p \\nmid a \\) then \\( p \\mid b \\).\r\n\r\n  So suppose \\( p \\nmid a \\). Let \\( d = \\gcd(p, a) \\). Since \\( d \\mid p \\) and \\( p \\) is irreducible, we must have \\( d = 1 \\) or \\( d = p \\) by Proposition 7.2.7. Since \\( p \\nmid a \\) and \\( d \\mid a \\), we must therefore have \\( d = 1 \\).\r\n\r\n  By Bézout’s lemma (Theorem 7.1.23), there exist \\( u, v \\in \\mathbb{Z} \\) such that \\( au + pv = 1 \\). Multiplying by \\( b \\) gives \\( abu + pbv = b \\). Since \\( p \\mid ab \\), there exists \\( k \\in \\mathbb{Z} \\) such that \\( pk = ab \\). Define \\( q = ku + bv \\); then\r\n\r\n  \\[\r\n  b = abu + pbv = pku + pbv = p(ku + bv) = qp\r\n  \\]\r\n\r\n  so \\( p \\mid b \\), as required.\r\n\r\nSo we’re done.\r\n\r\nSince primes and irreducibles are the same thing in \\(\\mathbb{Z}\\), we will refer to them as ‘primes’, unless we need to emphasise a particular aspect of them.\r\n\r\n### Prime factorisation\r\n\r\nHaving described prime numbers in two ways, each of which emphasises their nature of being ‘unbreakable’ by multiplication, we will extend Lemma 7.2.10 to prove that every integer can be expressed as a product of primes in an essentially unique way.\r\n</markdown>",
    "Q": "Q: If \\( a \\) is an integer such that \\( a = p_1^{e_1} \\times p_2^{e_2} \\times \\cdots \\times p_m^{e_m} \\) where \\( p_i \\) are distinct primes and \\( e_i \\) are their respective positive integer exponents, what can we conclude about \\( a \\) if we know that each \\( p_i \\) is irreducible? ",
    "A": " A: Since each \\( p_i \\) is irreducible, we can conclude that \\( a \\) is expressed as a product of irreducible elements (primes) in \\(\\mathbb{Z}\\), affirming the uniqueness of prime factorization for integers."
  },
  {
    "page": 277,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\n### Theorem 7.2.12 (Fundamental theorem of arithmetic)\r\n\r\nLet \\( a \\in \\mathbb{Z} \\) be a nonzero nonunit. There exist primes \\( p_1, \\ldots, p_k \\in \\mathbb{Z} \\) such that\r\n\r\n\\[ \r\na = p_1 \\times \\cdots \\times p_k \r\n\\]\r\n\r\nMoreover, this expression is essentially unique: if \\( a = q_1 \\times \\cdots \\times q_\\ell \\) is another expression of \\( a \\) as a product of primes, then \\( k = \\ell \\) and, re-ordering the \\( q_i \\) if necessary, for each \\( i \\) there is a unit \\( u_i \\) such that \\( q_i = u_i p_i \\).\r\n\r\n#### Proof\r\n\r\nWe showed that such a factorisation exists in Lemma 7.2.10, with the word ‘prime’ replaced by the word ‘irreducible’. It remains to prove (essential) uniqueness.\r\n\r\nLet \\( k \\) be least such that there is an expression of \\( a \\) as a product of \\( k \\) primes, namely \\( a = p_1 \\times \\cdots \\times p_k \\). Let \\( a = q_1 \\times \\cdots \\times q_\\ell \\) be any other such expression. We prove by induction on \\( k \\) that \\( \\ell = k \\) and, after re-ordering if necessary, for each \\( i \\) there is a unit \\( u_i \\) such that \\( q_i = u_i p_i \\).\r\n\r\n- **(Base case)** If \\( k = 1 \\) then \\( a = p_1 \\) is itself prime. Then we have \\( p_1 = q_1 \\times \\cdots \\times q_\\ell \\). Since \\( p_1 \\) is prime, \\( p_1 \\mid q_j \\) for some \\( j \\); by relabelling \\( q_1 \\) and \\( q_j \\) we may assume that \\( j = 1 \\), so that \\( p_1 \\mid q_1 \\). By irreducibility of \\( q_1 \\) we have \\( q_1 = u_1 p_1 \\) for some unit \\( u_1 \\).\r\n\r\n- **(Induction step)** Let \\( k \\geq 1 \\) and suppose that any integer which can be expressed as a product of \\( k \\) primes is (essentially) uniquely expressible in such a way. Suppose \\( a \\) has an expression as a product of \\( k+1 \\) primes, and that \\( k+1 \\) is the least such number. Suppose also that\r\n\r\n  \\[\r\n  a = p_1 \\times \\cdots \\times p_k \\times p_{k+1} = q_1 \\times \\cdots \\times q_\\ell\r\n  \\]\r\n\r\n  Note that \\( \\ell \\geq k+1 \\). Since \\( p_{k+1} \\) is prime we must have \\( p_{k+1} \\mid q_j \\) for some \\( j \\); by relabelling \\( q_j \\) and \\( q_\\ell \\) if necessary, we may assume that \\( j = \\ell \\), so that \\( p_{k+1} \\mid q_\\ell \\). As before, \\( q_\\ell = u_{k+1} p_{k+1} \\) for some unit \\( u_{k+1} \\). Dividing through by \\( p_{k+1} \\) gives\r\n\r\n  \\[\r\n  p_1 \\times \\cdots \\times p_k = q_1 \\times \\cdots \\times q_{\\ell-1} \\times u_{k+1}\r\n  \\]\r\n\r\n  Replacing \\( q_{\\ell-1} \\) by \\( q_{\\ell-1} u_{k+1} \\), which is still prime, we can apply the induction hypothesis to obtain \\( k = \\ell - 1 \\), so \\( k+1 = \\ell \\), and, after reordering if necessary \\( q_i = u_i p_i \\) for all \\( i \\leq k \\). Since this also holds for \\( i = k+1 \\), the induction step is complete.\r\n\r\nThe result follows by induction.\r\n\r\n### Example 7.2.13\r\n\r\nHere are some examples of numbers written as products of primes:\r\n\r\n- \\( 12 = 2 \\times 2 \\times 3 \\). We could also write this as \\( 2 \\times 3 \\times 2 \\) or \\((-2) \\times (-3) \\times 2\\), and so on.\r\n\r\n- \\( 53 = 53 \\) is an expression of 53 as a product of primes.\r\n</markdown>",
    "Q": "Q: Using the Fundamental Theorem of Arithmetic, express the number \\(30\\) as a product of primes and demonstrate its uniqueness by showing there are no other combinations of primes that can yield \\(30\\). ",
    "A": " A: The number \\(30\\) can be expressed as \\(30 = 2 \\times 3 \\times 5\\). To demonstrate its uniqueness, we note that \\(2\\), \\(3\\), and \\(5\\) are the only primes that multiply to \\(30\\). Any other arrangement or any factors such as \\(-2\\) or \\(-3\\) cannot yield a distinct prime product without reintroducing \\(2\\), \\(3\\), or \\(5\\), thereby affirming the uniqueness of this prime factorization."
  },
  {
    "page": 278,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\n- \\(-1000 = 2 \\times 5 \\times (-2) \\times 5 \\times 2 \\times 5\\).\r\n\r\n- We can view any unit as a product of no primes. (Don’t dwell on this point for too long as it will not arise very often!)\r\n\r\n### Exercise 7.2.14\r\nExpress the following numbers as products of primes:\r\n\r\n\\[ 16 \\quad -240 \\quad 5050 \\quad 111111 \\quad -123456789 \\]\r\n\r\nTo make things slightly more concise, we introduce a standard way of expressing a number as a product of primes:\r\n\r\n### Definition 7.2.15\r\nThe **canonical prime factorisation** of a nonzero integer \\( a \\) is the expression in the form\r\n\r\n\\[ a = u p_1^{j_1} \\cdots p_r^{j_r} \\]\r\n\r\nwhere \\( r \\geq 0 \\) and:\r\n\r\n- \\( u = 1 \\) if \\( a > 0 \\), and \\( u = -1 \\) if \\( a < 0 \\);\r\n- The numbers \\( p_i \\) are all positive primes;\r\n- \\( p_1 < p_2 < \\cdots < p_r \\);\r\n- \\( j_i \\geq 1 \\) for all \\( i \\).\r\n\r\nWe call \\( j_i \\) the **multiplicity** of \\( p_i \\) in \\( a \\), and we call \\( u \\) the **sign** of \\( a \\).\r\n\r\nTypically we omit \\( u \\) if \\( u = 1 \\) (unless \\( a = 1 \\)), and just write a minus sign \\((-)\\) if \\( u = -1 \\).\r\n\r\n### Example 7.2.16\r\nThe canonical prime factorisations of the integers given in Example 7.2.13 are:\r\n\r\n- \\( 12 = 2^2 \\cdot 3 \\).\r\n- \\( 53 = 53 \\).\r\n- \\(-1000 = -2^3 \\cdot 5^3 \\).\r\n- \\( 1 = 1 \\).\r\n</markdown>",
    "Q": "Q: Express the number \\( -240 \\) as a canonical prime factorisation. ",
    "A": " A: \\( -240 = -1 \\cdot 2^4 \\cdot 3 \\cdot 5 \\)."
  },
  {
    "page": 279,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\n### Exercise 7.2.17\r\nWrite out the canonical prime factorisations of the numbers from Exercise 7.2.14, which were:\r\n\r\n\\[ 16 \\quad -240 \\quad 5050 \\quad 111111 \\quad -123456789 \\]\r\n\r\nThe following exercise provides another tool for computing greatest common divisors of pairs of integers by looking at their prime factorisations.\r\n\r\n### Exercise 7.2.18\r\nLet \\( p_1, p_2, \\ldots, p_r \\) be distinct primes, and let \\( k_i, \\ell_i \\in \\mathbb{N} \\) for all \\( 1 \\leq i \\leq r \\). Define\r\n\r\n\\[ m = p_1^{k_1} \\times p_2^{k_2} \\times \\cdots \\times p_r^{k_r} \\quad \\text{and} \\quad n = p_1^{\\ell_1} \\times p_2^{\\ell_2} \\times \\cdots \\times p_r^{\\ell_r} \\]\r\n\r\nProve that\r\n\r\n\\[ \\gcd(m, n) = p_1^{u_1} \\times p_2^{u_2} \\times \\cdots \\times p_r^{u_r} \\]\r\n\r\nwhere \\( u_i = \\min\\{k_i, \\ell_i\\} \\) for all \\( 1 \\leq i \\leq r \\).\r\n\r\n### Example 7.2.19\r\nWe use Exercise 7.2.18 to compute the greatest common divisor of 17640 and 6468.\r\n\r\nFirst we compute the prime factorisations of 17640 and 6468:\r\n\r\n\\[ 17640 = 2^3 \\cdot 3^2 \\cdot 5 \\cdot 7^2 \\quad \\text{and} \\quad 6468 = 2^2 \\cdot 3 \\cdot 7^2 \\cdot 11 \\]\r\n\r\nIt now follows from Exercise 7.2.18 that\r\n\r\n\\[ \\gcd(17640, 6468) = 2^2 \\cdot 3^1 \\cdot 5^0 \\cdot 7^2 \\cdot 11^0 \\]\r\n\r\n\\[ = 4 \\cdot 3 \\cdot 1 \\cdot 49 \\cdot 1 \\]\r\n\r\n\\[ = 588 \\]\r\n\r\nExercise 7.2.18 allows us to provide a concise proof of the following result.\r\n\r\n### Corollary 7.2.20\r\nLet \\( p \\in \\mathbb{Z} \\) be prime, let \\( a \\in \\mathbb{Z} \\) be nonzero, and let \\( k \\geq 1 \\). Then \\( a \\perp p^k \\) if and only if \\( p \\nmid a \\).\r\n\r\n**Proof**\r\n\r\nBy the fundamental theorem of arithmetic, we can write\r\n\r\n\\[ a = p^j \\times p_1^{j_1} \\times \\cdots \\times p_r^{j_r} \\]\r\n\r\nwhere \\( p_1, \\ldots, p_r \\) are the primes other than \\( p \\) appearing in the prime factorisation of \\( a \\), and \\( j, j_i \\in \\mathbb{N} \\) for all \\( 1 \\leq i \\leq r \\). Note that \\( p \\mid a \\) if and only if \\( j \\geq 1 \\).\r\n</markdown>",
    "Q": "Q: Given the canonical prime factorizations of two integers \\( m = 18 \\) and \\( n = 24 \\), calculate \\( \\gcd(m, n) \\) using the method described in Exercise 7.2.18. What is the result?  \r\n",
    "A": "  \r\nA: The prime factorizations are \\( m = 2^1 \\cdot 3^2 \\) and \\( n = 2^3 \\cdot 3^1 \\). Thus, \\( \\gcd(m, n) = 2^{\\min(1, 3)} \\cdot 3^{\\min(2, 1)} = 2^1 \\cdot 3^1 = 2 \\cdot 3 = 6 \\)."
  },
  {
    "page": 280,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\nFurthermore we have\r\n\r\n\\[ p^k = p^k \\times p_1^0 \\times \\cdots \\times p_r^0 \\]\r\n\r\nBy Exercise 7.2.18 it follows that\r\n\r\n\\[ \\gcd(a, p^k) = p^{\\min\\{j,k\\}} \\times p_1^0 \\times \\cdots \\times p_r^0 = p^{\\min\\{j,k\\}} \\]\r\n\r\nNow:\r\n\r\n- If \\(\\min\\{j,k\\} = 0\\) then \\(j = 0\\), in which case \\(p \\nmid a\\), and \\(\\gcd(a, p^k) = p^0 = 1\\);\r\n- If \\(\\min\\{j,k\\} > 0\\) then \\(j \\geq 1\\), in which case \\(p \\mid a\\), and \\(p \\mid \\gcd(a, p^k)\\), so \\(\\gcd(a, p^k) \\neq 1\\).\r\n\r\nIn particular, \\(p \\nmid a\\) if and only if \\(a \\perp p^k\\).\r\n\r\n## Distribution of primes\r\n\r\nSo far we have seen several examples of prime numbers; to name a few, we’ve seen 2, 3, 5 and 53. It might seem like the prime numbers go on forever, but proving this is less than obvious.\r\n\r\n### Exercise 7.2.21\r\n\r\nLet \\(P\\) be an inhabited finite set of positive prime numbers and let \\(m\\) be the product of all the elements of \\(P\\). That is, for some \\(n \\geq 1\\) let\r\n\r\n\\[ P = \\{p_1, \\ldots, p_n\\} \\quad \\text{and} \\quad m = p_1 \\times \\cdots \\times p_n \\]\r\n\r\nwhere each \\(p_k \\in P\\) is a positive prime. Using the fundamental theorem of arithmetic, show that \\(m + 1\\) has a positive prime divisor which is not an element of \\(P\\).\r\n\r\n### Theorem 7.2.22\r\n\r\nThere are infinitely many primes.\r\n\r\n**Proof**\r\n\r\nWe prove that there are infinitely many positive prime numbers—the result then follows immediately. Let \\(P\\) be the set of all positive prime numbers. Then \\(P\\) is inhabited, since \\(2 \\in P\\), for example. If \\(P\\) were finite, then by Exercise 7.2.21, there would be a positive prime which is not an element of \\(P\\)—but \\(P\\) contains all positive primes, so that is impossible. Hence there are infinitely many positive primes.\r\n\r\nThis is one proof of many and is attributed to Euclid, who lived around 2300 years ago. We might hope that a proof of the infinitude of primes gives some insight into how the primes are distributed. That is, we might ask questions like: how frequently do primes\r\n</markdown>",
    "Q": "Q: Let \\( P = \\{2, 3, 5\\} \\) and \\( m = p_1 \\times p_2 \\times p_3 \\). What can we conclude about \\( m + 1 \\) in relation to the prime factors? ",
    "A": " A: Since \\( m = 30 \\) (the product of \\( 2, 3, \\) and \\( 5 \\)), we find \\( m + 1 = 31 \\), which is a prime number and not an element of \\( P \\). Thus, it confirms that \\( m + 1 \\) has a positive prime divisor not in \\( P \\)."
  },
  {
    "page": 281,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.2 Prime Numbers",
    "content": "<markdown>\r\nAs a starting point, Euclid’s proof gives an algorithm for writing an infinite list of primes:\r\n\r\n- Let \\( p_1 = 2 \\); we know that 2 is prime;\r\n- Given \\( p_1, \\ldots, p_n \\), let \\( p_{n+1} \\) be the smallest positive prime factor of \\( p_1 \\times \\cdots \\times p_n + 1 \\).\r\n\r\nThe first few terms produced would be:\r\n\r\n- \\( p_1 = 2 \\) by definition;\r\n- \\( 2 + 1 = 3 \\), which is prime, so \\( p_2 = 3 \\);\r\n- \\( 2 \\times 3 + 1 = 7 \\), which is prime, so \\( p_3 = 7 \\);\r\n- \\( 2 \\times 3 \\times 7 + 1 = 43 \\), which is prime, so \\( p_4 = 43 \\);\r\n- \\( 2 \\times 3 \\times 7 \\times 43 + 1 = 1807 = 13 \\times 139 \\), so \\( p_5 = 13 \\);\r\n- \\( 2 \\times 3 \\times 7 \\times 43 \\times 13 + 1 = 23479 = 53 \\times 443 \\), so \\( p_6 = 53 \\);\r\n- \\(\\ldots\\) and so on.\r\n\r\nThe sequence obtained, called the Euclid–Mullin sequence, is a bit bizarre:\r\n\r\n\\[ 2, 3, 7, 43, 13, 53, 5, 6221671, 38709183810571, 139, 2801, 11, 17, 5471, \\ldots \\]\r\n\r\nBig primes like 38709183810571 often appear before small primes like 11. It remains unknown whether or not every positive prime number appears in this list!\r\n\r\nThe chaotic nature of this sequence makes it difficult to extract information about how the primes are distributed: the numbers \\( p_1 \\times \\cdots \\times p_n + 1 \\) grow very quickly—indeed, it must be the case that \\( p_1 \\times \\cdots \\times p_n + 1 > 2^n \\) for all \\( n \\)—so the upper bounds for the sequence grow at least exponentially.\r\n\r\nAnother proof of the infinitude of primes that gives a (slightly) tighter bound can be obtained using the following exercise.\r\n\r\n**Exercise 7.2.23**  \r\nLet \\( n \\in \\mathbb{Z} \\) with \\( n > 2 \\). Prove that the set \\(\\{ k \\in \\mathbb{Z} \\mid n < k < n! \\}\\) contains a prime number.\r\n</markdown>",
    "Q": "Q: Prove that for any integer \\( n > 2 \\), there exists at least one prime number \\( p \\) such that \\( n < p < n! \\). ",
    "A": " A: To prove this, consider the integers \\( n + 1, n + 2, \\ldots, n! - 1 \\). The number of integers in this range is \\( n! - (n + 1) = n! - n - 1 \\), which is positive for all \\( n > 2 \\). The factorial \\( n! \\) is divisible by all integers from 1 to \\( n \\), so if we take any integer \\( k \\) in this range, it cannot be divisible by any number from 1 to \\( n \\) thus making \\( k \\) potentially prime since it does not have any smaller prime factors. Since at least one of these integers must be prime, we conclude that there exists a prime number \\( p \\) such that \\( n < p < n! \\)."
  },
  {
    "page": 282,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n## Section 7.3\r\n# Modular arithmetic\r\n\r\nRecall the definition of congruence modulo an integer from [Section 5.2](#).\r\n\r\n### Definition 5.2.6\r\nFix \\( n \\in \\mathbb{Z} \\). Given integers \\( a, b \\in \\mathbb{Z} \\), we say \\( a \\) is **congruent** to \\( b \\) modulo \\( n \\), and write\r\n\r\n\\[ \r\na \\equiv b \\mod n \\quad (\\text{LaTeX code: } a \\equiv b \\ \\bmod{n}) \r\n\\]\r\n\r\nif \\( n \\) divides \\( a - b \\). If \\( a \\) is not congruent to \\( b \\) modulo \\( n \\), write\r\n\r\n\\[ \r\na \\not\\equiv b \\mod n \\quad (\\text{LaTeX code: } \\not\\equiv) \r\n\\]\r\n\r\nThe number \\( n \\) is called the **modulus** of the congruence.\r\n\r\nIn [Section 5.2](#), we proved that congruence is an equivalence relation:\r\n\r\n### Theorem 5.2.11\r\nLet \\( n \\in \\mathbb{Z} \\). Then congruence modulo \\( n \\) is an equivalence relation on \\( \\mathbb{Z} \\). That is:\r\n\r\n(a) \\( a \\equiv a \\mod n \\) for all \\( a \\in \\mathbb{Z} \\);\r\n\r\n(b) For all \\( a, b \\in \\mathbb{Z} \\), if \\( a \\equiv b \\mod n \\), then \\( b \\equiv a \\mod n \\);\r\n\r\n(c) For all \\( a, b, c \\in \\mathbb{Z} \\), if \\( a \\equiv b \\mod n \\) and \\( b \\equiv c \\mod n \\), then \\( a \\equiv c \\mod n \\).\r\n\r\nIn this section, we turn our attention to addition, subtraction, multiplication and division: our goal is to find out how much arithmetic can be done with equality replaced by congruence. For example:\r\n\r\n(i) Can we add a number to both sides of a congruence? That is, given \\( a, b, c, n \\in \\mathbb{Z} \\), is it the case that \\( a \\equiv b \\mod n \\) implies \\( a + c \\equiv b + c \\mod n \\)?\r\n\r\n(ii) Can we multiply both sides of a congruence by a number? That is, given \\( a, b, c, n \\in \\mathbb{Z} \\), is it the case that \\( a \\equiv b \\mod n \\) implies \\( ac \\equiv bc \\mod n \\)?\r\n\r\n(iii) Can we divide both sides of a congruence by a nonzero common factor? That is, given \\( a, b, c, n \\in \\mathbb{Z} \\) with \\( c \\not\\equiv 0 \\mod n \\), is it the case that if \\( ac \\equiv bc \\mod n \\) implies \\( a \\equiv b \\mod n \\)?\r\n</markdown>",
    "Q": "Q: Can the property of congruence modulo \\( n \\) be used to prove that if \\( a \\equiv b \\mod n \\) and \\( c \\equiv d \\mod n \\), then \\( a + c \\equiv b + d \\mod n \\)? ",
    "A": " A: Yes, \\( a \\equiv b \\mod n \\) and \\( c \\equiv d \\mod n \\) implies \\( a + c \\equiv b + d \\mod n \\) since both congruences state that \\( n \\) divides the respective differences, allowing their sums to also be congruent modulo \\( n \\)."
  },
  {
    "page": 283,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nThe answers to (i) and (ii) are ‘yes’, as we will prove; but surprisingly, the answer to (iii) is ‘no’ (except under certain circumstances). For example, \\(2 \\times 3 \\equiv 4 \\times 3 \\mod 6\\), but \\(2 \\not\\equiv 4 \\mod 6\\), even though \\(3 \\not\\equiv 0 \\mod 6\\).\r\n\r\nIn light of this, it is important from the outset to point out that, although congruence is written with a symbol that looks like that of equality (‘\\(\\equiv\\)’ vs. ‘=’), and although it is an equivalence relation, we can only treat congruence like equality inasmuch as we prove that we can. Specifically:\r\n\r\n- In [Theorem 5.2.11](#) we proved that congruence is an equivalence relation. This allows us to make some basic inferences about congruences—for example, transitivity means that the following implication is valid:\r\n\r\n  \\[\r\n  -5 \\equiv 18 \\equiv 41 \\equiv 64 \\mod 23 \\quad \\Rightarrow \\quad -5 \\equiv 64 \\mod 23\r\n  \\]\r\n\r\n- [Theorem 7.3.3](#), which we will prove soon, tells us that we can treat congruence like equality for the purposes of addition, multiplication and subtraction. Thus it will be valid to write things like\r\n\r\n  \\[\r\n  x \\equiv 7 \\mod 12 \\quad \\Rightarrow \\quad 2x + 5 \\equiv 19 \\mod 12\r\n  \\]\r\n\r\n  and we’ll be able to replace values by congruent values in congruences, provided they’re only being added, subtracted or multiplied. For example, from the knowledge that \\(2^{60} \\equiv 1 \\mod 61\\) and \\(60! \\equiv -1 \\mod 61\\), we will be able to deduce\r\n\r\n  \\[\r\n  2^{60} \\cdot 3 \\equiv 60! \\cdot x \\mod 61 \\quad \\Rightarrow \\quad 3 \\equiv -x \\mod 61\r\n  \\]\r\n\r\nAfter we have worked out what arithmetic properties carry over to congruence, we will be able to prove some interesting theorems involving congruences and discuss their applications.\r\n\r\nThe first result we prove gives us a few equivalent ways of talking about congruence.\r\n\r\n**Proposition 7.3.1**  \r\nFix a modulus \\(n\\) and let \\(a, b \\in \\mathbb{Z}\\). The following are equivalent:\r\n\r\n(i) \\(a\\) and \\(b\\) leave the same remainder when divided by \\(n\\);\r\n\r\n(ii) \\(a = b + kn\\) for some \\(k \\in \\mathbb{Z}\\);\r\n\r\n(iii) \\(a \\equiv b \\mod n\\).\r\n\r\n**Proof**  \r\nWe prove (i) \\(\\iff\\) (iii) and (ii) \\(\\iff\\) (iii).\r\n\r\n- (i) \\(\\Rightarrow\\) (iii). Suppose \\(a\\) and \\(b\\) leave the same remainder when divided by \\(n\\), and let \\(q_1, q_2, r \\in \\mathbb{Z}\\) be such that\r\n\r\n  \\[\r\n  a = q_1n + r, \\quad b = q_2n + r \\quad \\text{and} \\quad 0 \\leq r < n\r\n  \\]\r\n</markdown>",
    "Q": "Q: If \\( a \\equiv b \\mod n \\) and \\( n = 5 \\), what can we conclude about \\( a \\) and \\( b \\) in terms of their remainders when divided by \\( n \\)? ",
    "A": " A: We can conclude that \\( a \\) and \\( b \\) leave the same remainder when divided by \\( 5 \\)."
  },
  {
    "page": 284,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nThen \\( a - b = (q_1 - q_2)n \\), which proves that \\( n \\mid a - b \\), and so \\( a \\equiv b \\mod n \\).\r\n\r\n- (iii) \\(\\Rightarrow\\) (i). Suppose that \\( a \\equiv b \\mod n \\), so that \\( b - a = qn \\) for some \\( q \\in \\mathbb{Z} \\). Write\r\n\r\n  \\[\r\n  a = q_1n + r_1, \\quad b = q_2n + r_2 \\quad \\text{and} \\quad 0 \\leq r_1, r_2 < n\r\n  \\]\r\n\r\n  We may further assume that \\( r_1 \\leq r_2 \\). (If not, swap the roles of \\( a \\) and \\( b \\)—this is fine, since \\( n \\mid b - a \\) if and only if \\( n \\mid a - b \\).) Now we have\r\n\r\n  \\[\r\n  b - a = qn \\Rightarrow (q_2n + r_2) - (q_1n + r_1) = qn\r\n  \\]\r\n\r\n  \\[\r\n  \\Rightarrow (q_2 - q_1 - q)n + (r_2 - r_1) = 0 \\quad \\text{rearranging}\r\n  \\]\r\n\r\n  since \\( 0 \\leq r_1 \\leq r_2 < n \\) we have \\( 0 \\leq r_2 - r_1 < n \\), so that \\( r_2 - r_1 \\) is the remainder of 0 when divided by \\( n \\). That is, \\( r_2 - r_1 = 0 \\), so \\( r_1 = r_2 \\). Hence \\( a \\) and \\( b \\) have the same remainder when divided by \\( n \\).\r\n\r\n- (ii) \\(\\Leftrightarrow\\) (iii). We unpack the definitions of (ii) and (iii) to see that they are equivalent. Indeed\r\n\r\n  \\[\r\n  \\text{(ii)} \\Leftrightarrow a = b + kn \\text{ for some } k \\in \\mathbb{Z}\r\n  \\]\r\n\r\n  \\[\r\n  \\Leftrightarrow a - b = kn \\text{ for some } k \\in \\mathbb{Z} \\quad \\text{rearranging}\r\n  \\]\r\n\r\n  \\[\r\n  \\Leftrightarrow n \\mid a - b \\quad \\text{by definition of divisibility}\r\n  \\]\r\n\r\n  \\[\r\n  \\Leftrightarrow a \\equiv b \\mod n \\quad \\text{by definition of congruence}\r\n  \\]\r\n\r\n  \\[\r\n  \\Leftrightarrow \\text{(iii)}\r\n  \\]\r\n\r\n**Discussion 7.3.2**\r\n\r\nWhere in the proof of Proposition 7.3.1 did we rely on the convention that the modulus \\( n \\) is positive? Is the result still true if \\( n \\) is negative?\r\n\r\nWe now prove that we can treat congruence like equality for the purposes of adding, subtracting and multiplying (but not dividing!) integers.\r\n\r\n**Theorem 7.3.3 (Modular arithmetic)**\r\n\r\nFix a modulus \\( n \\), and let \\( a_1, a_2, b_1, b_2 \\in \\mathbb{Z} \\) be such that\r\n\r\n\\[\r\na_1 \\equiv a_2 \\mod n \\quad \\text{and} \\quad b_1 \\equiv b_2 \\mod n\r\n\\]\r\n\r\nThen the following congruences hold:\r\n\r\n(a) \\( a_1 + b_1 \\equiv a_2 + b_2 \\mod n \\);\r\n\r\n(b) \\( a_1b_1 \\equiv a_2b_2 \\mod n \\);\r\n\r\n(c) \\( a_1 - b_1 \\equiv a_2 - b_2 \\mod n \\).\r\n</markdown>",
    "Q": "Q: If \\( a \\equiv b \\mod n \\) and \\( c \\equiv d \\mod n \\), what can we deduce about \\( a + c \\) and \\( b + d \\)? ",
    "A": " A: We can deduce that \\( a + c \\equiv b + d \\mod n \\)."
  },
  {
    "page": 286,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nSo far this all feels like we haven’t done very much: we’ve just introduced a new symbol \r\n\\(\\equiv\\) which behaves just like equality... but does it really? The following exercises should \r\nexpose some more ways in which congruence does behave like equality, and some in \r\nwhich it doesn’t.\r\n\r\n### Exercise 7.3.6\r\nFix a modulus \\( n \\). Is it true that\r\n\r\n\\[ a \\equiv b \\mod n \\quad \\Rightarrow \\quad a^k \\equiv b^k \\mod n \\]\r\n\r\nfor all \\( a, b \\in \\mathbb{Z} \\) and \\( k \\in \\mathbb{N} \\)? If so, prove it; if not, provide a counterexample.\r\n\r\n### Exercise 7.3.7\r\nFix a modulus \\( n \\). Is it true that\r\n\r\n\\[ k \\equiv \\ell \\mod n \\quad \\Rightarrow \\quad a^k \\equiv a^\\ell \\mod n \\]\r\n\r\nfor all \\( k, \\ell \\in \\mathbb{N} \\) and \\( a \\in \\mathbb{Z} \\)? If so, prove it; if not, provide a counterexample.\r\n\r\n### Exercise 7.3.8\r\nFix a modulus \\( n \\). Is it true that\r\n\r\n\\[ qa \\equiv qb \\mod n \\quad \\Rightarrow \\quad a \\equiv b \\mod n \\]\r\n\r\nfor all \\( a, b, q \\in \\mathbb{Z} \\) with \\( q \\not\\equiv 0 \\mod n \\)? If so, prove it; if not, provide a counterexample.\r\n\r\n### Example 7.3.9\r\nNow that we have seen several things that we can do with modular arithmetic, let’s look \r\nat some things that we cannot do:\r\n\r\n- We cannot talk about fractions in modular arithmetic; for instance, it is invalid to say \r\n  \\( 2x \\equiv 1 \\mod 5 \\) implies \\( x \\equiv \\frac{1}{2} \\mod 5 \\).\r\n\r\n- We cannot take square roots in modular arithmetic; for instance, it is invalid to say \r\n  \\( x^2 \\equiv 3 \\mod 4 \\) implies \\( x \\equiv \\pm \\sqrt{3} \\mod 4 \\). In fact, it is invalid to say \\( x^2 \\equiv 1 \\mod 8 \\) \r\n  implies \\( x \\equiv \\pm 1 \\mod 8 \\), since for example \\( 3^2 \\equiv 1 \\mod 8 \\) but \\( 3 \\not\\equiv \\pm 1 \\mod 8 \\).\r\n\r\n- We cannot replace numbers in exponents by other numbers they are congruent to; for \r\n  instance, it is invalid to say \\( x^3 \\equiv 2^3 \\mod 4 \\) implies \\( x \\equiv 2 \\mod 4 \\).\r\n\r\n## Multiplicative inverses\r\n\r\nWe made a big deal about the fact that fractions don’t make sense in modular arithmetic. \r\nThat is, it is invalid to say\r\n\r\n\\[ 2x \\equiv 1 \\mod 5 \\quad \\Rightarrow \\quad x \\equiv \\frac{1}{2} \\mod 5 \\]\r\n</markdown>",
    "Q": "Q: Is it true that if \\( a \\equiv b \\mod n \\), then the product \\( ac \\equiv bc \\mod n \\) for any integer \\( c \\)? If so, provide a proof. If not, give a counterexample. ",
    "A": " A: Yes, it is true. If \\( a \\equiv b \\mod n \\), then \\( n \\) divides \\( a - b \\), which implies there exists an integer \\( k \\) such that \\( a - b = kn \\). Thus, \\( ac - bc = c(a - b) = c(kn) = k(cn) \\). Therefore, \\( ac \\equiv bc \\mod n \\)."
  },
  {
    "page": 287,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nDespite this, we can still make sense of ‘division’, provided we change what we mean when we say ‘division’. Indeed, the congruence \\(2x \\equiv 1 \\mod 5\\) has a solution:\r\n\r\n\\[\r\n\\begin{align*}\r\n2x &\\equiv 1 \\mod 5 \\\\\r\n\\Leftrightarrow 6x &\\equiv 3 \\mod 5 \\quad (\\Rightarrow) \\text{ multiply by 3} \\quad (\\Leftarrow) \\text{ subtract 3} \\\\\r\n\\Leftrightarrow x &\\equiv 3 \\mod 5 \\quad \\text{since } 6 \\equiv 1 \\mod 5\r\n\\end{align*}\r\n\\]\r\n\r\nHere we didn’t divide by 2, but we still managed to cancel the 2 by instead multiplying through by 3. For the purposes of solving the equation this had the same effect as division by 2 would have had if we were allowed to divide. The key here was that \\(2 \\times 3 \\equiv 1 \\mod 5\\).\r\n\r\n✦ **Definition 7.3.10**  \r\nFix a modulus \\(n\\). Given \\(a \\in \\mathbb{Z}\\), a **multiplicative inverse** for \\(a\\) modulo \\(n\\) is an integer \\(u\\) such that \\(au \\equiv 1 \\mod n\\).\r\n\r\n✐ **Example 7.3.11**  \r\nSome examples of multiplicative inverses are as follows:\r\n\r\n- 2 is a multiplicative inverse of itself modulo 3, since \\(2 \\times 2 \\equiv 4 \\equiv 1 \\mod 3\\).\r\n- 2 is a multiplicative inverse of 3 modulo 5, since \\(2 \\times 3 \\equiv 6 \\equiv 1 \\mod 5\\).\r\n- 7 is also a multiplicative inverse of 3 modulo 5, since \\(3 \\times 7 \\equiv 21 \\equiv 1 \\mod 5\\).\r\n- 3 has no multiplicative inverse modulo 6. Indeed, suppose \\(u \\in \\mathbb{Z}\\) with \\(3u \\equiv 1 \\mod 6\\). Then \\(6 \\mid 3u - 1\\), so \\(3u - 1 = 6q\\) for some \\(q \\in \\mathbb{Z}\\). But then\r\n\r\n\\[\r\n1 = 3u - 6q = 3(u - 2q)\r\n\\]\r\n\r\nwhich implies that \\(3 \\mid 1\\), which is nonsense.\r\n\r\nKnowing when multiplicative inverses exist is very important for solving congruences: if \\(u\\) is a multiplicative inverse for \\(a\\) modulo \\(n\\), then we can solve equations of the form \\(ax \\equiv b \\mod n\\) extremely easily:\r\n\r\n\\[\r\nax \\equiv b \\mod n \\quad \\Rightarrow \\quad x \\equiv ub \\mod n\r\n\\]\r\n\r\n✐ **Exercise 7.3.12**  \r\nFor \\(n = 7, 8, 9, 10, 11, 12\\), either find a multiplicative inverse for 6 modulo \\(n\\), or show that no multiplicative inverse exists. Can you spot a pattern?\r\n\r\nSome authors write \\(a^{-1}\\) to denote multiplicative inverses. We refrain from this, since it suggests that multiplicative inverses are unique—but they’re not, as you’ll see in the following exercise.\r\n</markdown>",
    "Q": "Q: What is the multiplicative inverse of \\(4\\) modulo \\(9\\) and how can you find it?  \r\n",
    "A": "  \r\nA: The multiplicative inverse of \\(4\\) modulo \\(9\\) is \\(7\\), since \\(4 \\times 7 = 28 \\equiv 1 \\mod 9\\). To find it, you can test integers \\(u\\) until \\(4u \\equiv 1 \\mod 9\\) is satisfied."
  },
  {
    "page": 288,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Exercise 7.3.13\r\nLet \\( n \\) be a modulus and let \\( a \\in \\mathbb{Z} \\). Suppose that \\( u \\) is a multiplicative inverse for \\( a \\) modulo \\( n \\). Prove that, for all \\( k \\in \\mathbb{Z} \\), \\( u + kn \\) is a multiplicative inverse for \\( a \\) modulo \\( n \\).\r\n\r\n### Proposition 7.3.14\r\nLet \\( a \\in \\mathbb{Z} \\) and let \\( n \\) be a modulus. Then \\( a \\) has a multiplicative inverse modulo \\( n \\) if and only if \\( a \\perp n \\).\r\n\r\n**Proof**  \r\nNote that \\( a \\) has a multiplicative inverse \\( u \\) modulo \\( n \\) if and only if there is a solution \\( (u, v) \\) to the equation \\( au + nv = 1 \\). Indeed, \\( au \\equiv 1 \\mod n \\) if and only if \\( n \\mid au - 1 \\), which occurs if and only if there is some \\( q \\in \\mathbb{Z} \\) such that \\( au - 1 = nq \\). Setting \\( q = -v \\) and rearranging yields the desired equivalence.\r\n\r\nBy Bézout’s lemma (Theorem 7.1.23), such a solution \\( (u, v) \\) exists if and only if \\( \\gcd(a, n) \\mid 1 \\). This occurs if and only if \\( \\gcd(a, n) = 1 \\), i.e. if and only if \\( a \\perp n \\).\r\n\r\n**Proof tip**  \r\nTo solve a congruence of the form \\( ax \\equiv b \\mod n \\) when \\( a \\perp n \\), first find a multiplicative inverse \\( u \\) for \\( a \\) modulo \\( n \\), and then simply multiply through by \\( u \\) to obtain \\( x \\equiv ub \\mod n \\).\r\n\r\n### Corollary 7.3.15\r\nLet \\( a, p \\in \\mathbb{Z} \\), where \\( p \\) is a positive prime. If \\( p \\nmid a \\) then \\( a \\) has a multiplicative inverse modulo \\( p \\).\r\n\r\n**Proof**  \r\nSuppose \\( p \\nmid a \\), and let \\( d = \\gcd(a, p) \\). Since \\( d \\mid p \\) and \\( p \\) is prime we have \\( d = 1 \\) or \\( d = p \\). Since \\( d \\mid a \\) and \\( p \\nmid a \\) we can’t have \\( d = p \\); therefore \\( d = 1 \\). By Proposition 7.3.14, \\( a \\) has a multiplicative inverse modulo \\( p \\).\r\n\r\n### Example 7.3.16\r\n11 is prime, so each of the integers \\( a \\) with \\( 1 \\leq a \\leq 10 \\) should have a multiplicative inverse modulo 11. And indeed, the following are all congruent to 1 modulo 11:\r\n\r\n\\[\r\n\\begin{align*}\r\n1 \\times 1 &= 1 \\\\\r\n2 \\times 6 &= 12 \\\\\r\n3 \\times 4 &= 12 \\\\\r\n4 \\times 3 &= 12 \\\\\r\n5 \\times 9 &= 45 \\\\\r\n6 \\times 2 &= 12 \\\\\r\n7 \\times 8 &= 56 \\\\\r\n8 \\times 7 &= 56 \\\\\r\n9 \\times 5 &= 45 \\\\\r\n10 \\times 10 &= 100 \\\\\r\n\\end{align*}\r\n\\]\r\n\r\n### Exercise 7.3.17\r\nFind all integers \\( x \\) such that \\( 25x - 4 \\equiv 4x + 3 \\mod 13 \\).\r\n</markdown>",
    "Q": "Q: If \\( a \\) is an integer such that \\( \\gcd(a, n) = d \\) where \\( d > 1 \\), describe whether \\( a \\) can have a multiplicative inverse modulo \\( n \\) and explain why. ",
    "A": " A: No, \\( a \\) cannot have a multiplicative inverse modulo \\( n \\) if \\( \\gcd(a, n) = d > 1 \\) because this means that \\( a \\) and \\( n \\) share a common factor, violating the condition \\( a \\perp n \\) required for the existence of a multiplicative inverse."
  },
  {
    "page": 289,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n## Orders and totients\r\n\r\nFor any modulus \\( n \\), there are only finitely many possible remainders modulo \\( n \\). A nice consequence of this finiteness is that, when \\( a \\perp n \\), we can choose some power of \\( a \\) to be its multiplicative inverse, as proved in the following exercise.\r\n\r\n### Exercise 7.3.18\r\nLet \\( n \\) be a modulus and let \\( a \\in \\mathbb{Z} \\) with \\( a \\perp n \\). Prove that there exists \\( k \\geq 1 \\) such that \\( a^k \\equiv 1 \\mod n \\).\r\n\r\nExercise 7.3.18, together with the well-ordering principle, justify the following definition.\r\n\r\n### Definition 7.3.19\r\nLet \\( n \\) be a modulus and let \\( a \\in \\mathbb{Z} \\) with \\( a \\perp n \\). The **order** of \\( a \\) modulo \\( n \\) is the least \\( k \\geq 1 \\) such that \\( a^k \\equiv 1 \\mod n \\).\r\n\r\nNote that this definition makes sense by Exercise 7.3.18 and the well-ordering principle.\r\n\r\n### Example 7.3.20\r\nThe powers of 7 modulo 100 are:\r\n\r\n- \\( 7^1 = 7 \\), so \\( 7^1 \\equiv 7 \\mod 100 \\);\r\n- \\( 7^2 = 49 \\), so \\( 7^2 \\equiv 49 \\mod 100 \\);\r\n- \\( 7^3 = 343 \\), so \\( 7^3 \\equiv 43 \\mod 100 \\);\r\n- \\( 7^4 = 2401 \\), so \\( 7^4 \\equiv 1 \\mod 100 \\).\r\n\r\nHence the order of 7 modulo 100 is 4, and \\( 7^3 \\) and 43 are multiplicative inverses of 7 modulo 100.\r\n\r\nOur focus turns to computing specific values of \\( k \\) such that \\( a^k \\equiv 1 \\mod n \\), whenever \\( a \\in \\mathbb{Z} \\) and \\( a \\perp n \\). We first focus on the case when \\( n \\) is prime; then we develop the machinery of **totients** to study the case when \\( n \\) is not prime.\r\n\r\n### Lemma 7.3.21\r\nLet \\( a, b \\in \\mathbb{Z} \\) and let \\( p \\in \\mathbb{Z} \\) be a positive prime. Then \\( (a+b)^p \\equiv a^p + b^p \\mod p \\).\r\n\r\n**Proof**\r\n\r\nBy the binomial theorem (Theorem 4.2.17), we have\r\n\r\n\\[\r\n(a+b)^p = \\sum_{k=0}^{p} \\binom{p}{k} a^k b^{p-k}\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the least integer \\( k \\) such that \\( 3^k \\equiv 1 \\mod 11 \\), and what is its significance in the context of the order of \\( 3 \\) modulo \\( 11 \\)? ",
    "A": " A: The least integer \\( k \\) such that \\( 3^k \\equiv 1 \\mod 11 \\) is \\( k = 5 \\). This means the order of \\( 3 \\) modulo \\( 11 \\) is \\( 5 \\), indicating that \\( 3^5 \\) is the multiplicative identity in the group of integers modulo \\( 11 \\) for \\( 3 \\)."
  },
  {
    "page": 290,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nBy Exercise 7.2.5, \\( p \\mid \\binom{p}{k} \\) for all \\( 0 < k < p \\), and hence \\( \\binom{p}{k} a^k b^{p-k} \\equiv 0 \\mod p \\) for all \\( 0 < k < p \\). Thus\r\n\r\n\\[\r\n(a+b)^p \\equiv \\binom{p}{0} a^p b^{p-0} + \\binom{p}{p} a^p b^{p-p} \\equiv a^p + b^p \\mod p\r\n\\]\r\n\r\nas desired.\r\n\r\n### Theorem 7.3.22 (Fermat’s little theorem)\r\nLet \\( a, p \\in \\mathbb{Z} \\) with \\( p \\) a positive prime. Then \\( a^p \\equiv a \\mod p \\).\r\n\r\n**Proof**\r\n\r\nWe may assume that \\( a \\geq 0 \\), otherwise replace \\( a \\) by its remainder modulo \\( p \\).\r\n\r\nWe will prove that \\( a^p \\equiv a \\mod p \\) by induction on \\( a \\).\r\n\r\n- **(BC)** Since \\( p > 0 \\) we have \\( 0^p = 0 \\), hence \\( 0^p \\equiv 0 \\mod p \\).\r\n\r\n- **(IS)** Fix \\( a \\geq 0 \\) and suppose \\( a^p \\equiv a \\mod p \\). Then \\( (a + 1)^p \\equiv a^p + 1^p \\mod p \\) by Lemma 7.3.21. Now \\( a^p \\equiv a \\mod p \\) by the induction hypothesis, and \\( 1^p = 1 \\), so we have \\( (a+1)^p \\equiv a+1 \\mod p \\).\r\n\r\nBy induction, we’re done.\r\n\r\nThe following consequence of Theorem 7.3.22 is often also referred to as ‘Fermat’s little theorem’, but is slightly less general since it requires an additional hypothesis. In keeping with the wider mathematical community, we will refer to both Theorem 7.3.22 and Corollary 7.3.23 as ‘Fermat’s little theorem’.\r\n\r\n### Corollary 7.3.23 (Fermat’s little theorem — alternative version)\r\nLet \\( a, p \\in \\mathbb{Z} \\) with \\( p \\) a positive prime and \\( p \\nmid a \\). Then \\( a^{p-1} \\equiv 1 \\mod p \\).\r\n\r\n**Proof**\r\n\r\nSince \\( p \\nmid a \\), it follows that \\( a \\perp p \\). Theorem 7.3.22 tells us that \\( a^p \\equiv a \\mod p \\). By Proposition 7.3.14, \\( a \\) has a multiplicative inverse \\( b \\) modulo \\( p \\). Hence\r\n\r\n\\[\r\na^p b \\equiv ab \\mod p\r\n\\]\r\n\r\nBut \\( a^p b \\equiv a^{p-1} ab \\mod p \\), and \\( ab \\equiv 1 \\mod p \\), so we get\r\n\r\n\\[\r\na^{p-1} \\equiv 1 \\mod p\r\n\\]\r\n\r\nas required.\r\n\r\nCorollary 7.3.23 can be useful for computing remainders of humongous numbers when divided by smaller primes.\r\n</markdown>",
    "Q": "Q: If \\( a \\) is an integer such that \\( p \\) is a prime number and \\( p \\nmid a \\), what can we conclude about \\( a^{p-1} \\mod p \\) based on Corollary 7.3.23? ",
    "A": " A: We can conclude that \\( a^{p-1} \\equiv 1 \\mod p \\)."
  },
  {
    "page": 291,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Section 7.3. Modular arithmetic\r\n\r\n#### Example 7.3.24\r\nWe compute the remainder of \\(2^{1000}\\) when divided by 7. Since \\(7 \\nmid 2\\), it follows from Fermat’s little theorem ([Corollary 7.3.23](#)) that \\(2^6 \\equiv 1 \\mod 7\\). Now \\(1000 = 166 \\times 6 + 4\\), so\r\n\r\n\\[\r\n2^{1000} \\equiv 2^{166 \\times 6 + 4} \\equiv (2^6)^{166} \\cdot 2^4 \\equiv 16 \\equiv 2 \\mod 7\r\n\\]\r\n\r\nso the remainder of \\(2^{1000}\\) when divided by 7 is 2.\r\n\r\n#### Exercise 7.3.25\r\nFind the remainder of \\(3^{244886}\\) when divided by 13.\r\n\r\nUnfortunately, the hypothesis that \\(p\\) is prime in Fermat’s little theorem cannot be disposed of. For example, 6 is not prime, and \\(5^{6-1} = 5^5 = 3125 \\equiv 520 \\times 6 + 5\\), so \\(5^5 \\equiv 5 \\mod 6\\). Our next order of business is to generalise [Corollary 7.3.23](#) by removing the requirement that the modulus \\(p\\) be prime, and replacing \\(p - 1\\) by the totient of the modulus.\r\n\r\n#### Definition 7.3.26\r\nLet \\(n \\in \\mathbb{Z}\\). The **totient** of \\(n\\) is the natural number \\(\\varphi(n)\\) (LaTeX code: `\\varphi(n)`) defined by\r\n\r\n\\[\r\n\\varphi(n) = |\\{k \\in [|n|] \\mid k \\perp n\\}|\r\n\\]\r\n\r\nThat is, \\(\\varphi(n)\\) is the number of integers from 1 up to \\(|n|\\) which are coprime to \\(n\\). The function \\(\\varphi : \\mathbb{Z} \\to \\mathbb{N}\\) is called **Euler’s totient function**.\r\n\r\n#### Example 7.3.27\r\nHere are some examples of totients:\r\n\r\n- The elements of \\([6]\\) which are coprime to 6 are 1 and 5, so \\(\\varphi(6) = 2\\).\r\n\r\n- If \\(p\\) is a positive prime, then by [Corollary 7.2.20](#), every element of \\([p]\\) is coprime to \\(p\\) except for \\(p\\) itself. Hence if \\(p\\) is a positive prime then \\(\\varphi(p) = p - 1\\). More generally, if \\(p\\) is prime then \\(\\varphi(p) = |p| - 1\\).\r\n\r\n#### Exercise 7.3.28\r\nLet \\(n \\in \\mathbb{Z}\\) and let \\(p > 0\\) be prime. Prove that if \\(p \\mid n\\), then \\(\\varphi(pn) = p \\cdot \\varphi(n)\\). Deduce that \\(\\varphi(p^k) = p^k - p^{k-1}\\) for all prime \\(p > 0\\) and all \\(k \\geq 1\\).\r\n\r\n#### Exercise 7.3.29\r\nLet \\(n \\in \\mathbb{Z}\\) and let \\(p > 0\\) be prime. Prove that if \\(p \\nmid n\\), then \\(\\varphi(pn) = (p - 1) \\varphi(n)\\).\r\n\r\nTogether, [Exercises 7.3.28](#) and [7.3.29](#) allow us to compute the totient of any integer with up to two primes in its prime factorisation.\r\n</markdown>",
    "Q": "Q: How would you compute the remainder of \\(4^{150}\\) when divided by 17 using Fermat's little theorem? ",
    "A": " A: Since \\(17\\) is prime and \\(4\\) is not divisible by \\(17\\), we apply Fermat's theorem. We find \\(4^{16} \\equiv 1 \\mod 17\\). Now \\(150 = 9 \\times 16 + 6\\), so \r\n\r\n\\[\r\n4^{150} \\equiv (4^{16})^9 \\cdot 4^6 \\equiv 1^9 \\cdot 4^6 \\equiv 4^6 \\mod 17\r\n\\]\r\n\r\nCalculating \\(4^6 \\mod 17\\): \r\n\r\n\\[\r\n4^2 = 16 \\equiv -1 \\mod 17 \\implies 4^4 = (-1)^2 \\equiv 1 \\mod 17 \\implies 4^6 = 4^4 \\cdot 4^2 \\equiv 1 \\cdot (-1) \\equiv -1 \\equiv 16 \\mod 17.\r\n\\]\r\n\r\nThus, the remainder of \\(4^{150}\\) when divided by \\(17\\) is \\(16\\)."
  },
  {
    "page": 292,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Example 7.3.30\r\n\r\nWe compute \\(\\varphi(100)\\). The prime factorisation of 100 is \\(2^2 \\times 5^2\\). Applying [Exercise 7.3.28](#) twice\r\n\r\n\\[\r\n\\varphi(2^2 \\times 5^2) = 2 \\times 5 \\times \\varphi(2 \\times 5) = 10 \\varphi(10)\r\n\\]\r\n\r\nFinally, [Exercise 7.3.29](#) tells us that\r\n\r\n\\[\r\n\\varphi(10) = \\varphi(2 \\times 5) = 1 \\times \\varphi(5) = 1 \\times 4 = 4\r\n\\]\r\n\r\nHence \\(\\varphi(100) = 40\\).\r\n\r\n### Exercise 7.3.31\r\n\r\nProve that \\(\\varphi(100) = 40\\), this time using the inclusion–exclusion principle.\r\n\r\nEuler’s theorem uses totients to generalise Fermat’s little theorem ([Theorem 7.3.22](#)) to arbitrary moduli, not just prime ones.\r\n\r\n### Theorem 7.3.32 (Euler’s theorem)\r\n\r\nLet \\(n\\) be a modulus and let \\(a \\in \\mathbb{Z}\\) with \\(a \\perp n\\). Then\r\n\r\n\\[\r\na^{\\varphi(n)} \\equiv 1 \\mod n\r\n\\]\r\n\r\n**Proof**\r\n\r\nBy definition of totient, the set \\(X\\) defined by\r\n\r\n\\[\r\nX = \\{k \\in [n] \\mid k \\perp n\\}\r\n\\]\r\n\r\nhas \\(\\varphi(n)\\) elements. List the elements as\r\n\r\n\\[\r\nX = \\{x_1, x_2, \\ldots, x_{\\varphi(n)}\\}\r\n\\]\r\n\r\nNote that \\(ax_i \\perp n\\) for all \\(i\\), so let \\(y_i\\) be the (unique) element of \\(X\\) such that \\(ax_i \\equiv y_i \\mod n\\).\r\n\r\nNote that if \\(i \\neq j\\) then \\(y_i \\neq y_j\\). We prove this by contraposition; indeed, since \\(a \\perp n\\), by [Proposition 7.3.14](#), \\(a\\) has a multiplicative inverse, say \\(b\\). Then\r\n\r\n\\[\r\ny_i \\equiv y_j \\mod n \\Rightarrow ax_i \\equiv ax_j \\mod n \\Rightarrow bx_i \\equiv bx_j \\mod n \\Rightarrow x_i \\equiv x_j \\mod n\r\n\\]\r\n\r\nand \\(x_i \\equiv x_j \\mod n\\) if and only if \\(i = j\\). Thus\r\n\r\n\\[\r\nX = \\{x_1, x_2, \\ldots, x_{\\varphi(n)}\\} = \\{y_1, y_2, \\ldots, y_{\\varphi(n)}\\}\r\n\\]\r\n\r\nThis means that the product of the ‘\\(x_i\\)’s is equal to the product of the ‘\\(y_i\\)’s, and hence\r\n\r\n\\[\r\nx_1 \\cdots x_{\\varphi(n)} \\equiv y_1 \\cdots y_{\\varphi(n)} \\mod n \\quad \\text{since } \\{x_1, \\ldots\\} = \\{y_1, \\ldots\\}\r\n\\]\r\n\r\n\\[\r\n\\equiv (ax_1) \\cdots (ax_{\\varphi(n)}) \\mod n \\quad \\text{since } y_i \\equiv ax_i \\mod n\r\n\\]\r\n\r\n\\[\r\n\\equiv a^{\\varphi(n)} \\cdot x_1 \\cdots x_{\\varphi(n)} \\mod n \\quad \\text{rearranging}\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\(n = 60\\) and the prime factorization of \\(60\\) is \\(2^2 \\times 3^1 \\times 5^1\\), calculate \\(\\varphi(60)\\) using the formula for the Euler's totient function. ",
    "A": " A: We have \\(\\varphi(60) = 60 \\left(1 - \\frac{1}{2}\\right)\\left(1 - \\frac{1}{3}\\right)\\left(1 - \\frac{1}{5}\\right) = 60 \\times \\frac{1}{2} \\times \\frac{2}{3} \\times \\frac{4}{5} = 16\\). Thus, \\(\\varphi(60) = 16\\)."
  },
  {
    "page": 293,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nSince each \\( x_i \\) is coprime to \\( n \\), we can cancel the \\( x_i \\) terms (by multiplying by their multiplicative inverses) to obtain\r\n\r\n\\[ a^{\\varphi(n)} \\equiv 1 \\mod n \\]\r\n\r\nas required.\r\n\r\n### Example 7.3.33\r\n\r\nSome examples of Euler’s theorem in action are as follows:\r\n\r\n- We have seen that \\( \\varphi(6) = 2 \\), and we know that \\( 5 \\perp 6 \\). And, indeed,\r\n\r\n  \\[\r\n  5^{\\varphi(6)} = 5^2 = 25 = 4 \\times 6 + 1\r\n  \\]\r\n\r\n  so \\( 5^{\\varphi(6)} \\equiv 1 \\mod 6 \\).\r\n\r\n- By [Exercise 7.3.28](#), we have\r\n\r\n  \\[\r\n  \\varphi(121) = \\varphi(11^2) = 11^2 - 11^1 = 121 - 11 = 110\r\n  \\]\r\n\r\n  Moreover, given \\( a \\in \\mathbb{Z} \\), \\( a \\perp 121 \\) if and only if \\( 11 \\nmid a \\) by [Corollary 7.2.20](#). Hence \\( a^{110} \\equiv 1 \\mod 121 \\) whenever \\( 11 \\nmid a \\).\r\n\r\n### Exercise 7.3.34\r\n\r\nUse Euler’s theorem to prove that the last two digits of \\( 3^{79} \\) are ‘67’.\r\n\r\n### Example 7.3.35\r\n\r\nLet \\( n \\) be a modulus and let \\( a \\in \\mathbb{Z} \\) with \\( a \\perp n \\). Prove that the order of \\( a \\) modulo \\( n \\) divides \\( \\varphi(n) \\).\r\n\r\nA formula for the totient of an arbitrary nonzero integer is proved in [Theorem 7.3.59](#)—its proof is an application of the Chinese remainder theorem [Theorem 7.3.46](#), and uses the techniques for counting finite sets discussed in [Section 8.1](#).\r\n\r\n## Wilson’s theorem\r\n\r\nWe conclude this chapter on number theory with **Wilson’s theorem**, which is a nice result that completely characterises prime numbers in the sense that we can tell when a number is prime by computing the remainder of \\( (n - 1)! \\) when divided by \\( n \\).\r\n\r\nLet’s test a few numbers first:\r\n</markdown>",
    "Q": "Q: If \\( n = 15 \\), compute \\( \\varphi(15) \\) and use Euler's theorem to show that if \\( a = 4 \\), what is \\( 4^{\\varphi(15)} \\mod 15 \\)? ",
    "A": " A: First, we find \\( \\varphi(15) \\). Since \\( 15 = 3 \\times 5 \\), we have \\( \\varphi(15) = 15 \\left( 1 - \\frac{1}{3} \\right) \\left( 1 - \\frac{1}{5} \\right) = 15 \\times \\frac{2}{3} \\times \\frac{4}{5} = 8 \\). Now, applying Euler's theorem, since \\( 4 \\perp 15 \\), we have \\( 4^{8} \\equiv 1 \\mod 15 \\)."
  },
  {
    "page": 294,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n| \\( n \\) | \\( (n-1)! \\) | remainder |\r\n|---|---|---|\r\n| 2 | 1 | 1 |\r\n| 3 | 2 | 2 |\r\n| 4 | 6 | 2 |\r\n| 5 | 24 | 4 |\r\n| 6 | 120 | 0 |\r\n| 7 | 720 | 6 |\r\n| 8 | 5040 | 0 |\r\n\r\n| \\( n \\) | \\( (n-1)! \\) | remainder |\r\n|---|---|---|\r\n| 9 | 40320 | 0 |\r\n| 10 | 362880 | 0 |\r\n| 11 | 3628800 | 10 |\r\n| 12 | 39916800 | 0 |\r\n| 13 | 479001600 | 12 |\r\n| 14 | 6227020800 | 0 |\r\n| 15 | 87178291200 | 0 |\r\n\r\nIt's tempting to say that an integer \\( n > 1 \\) is prime if and only if \\( n \\mid (n-1)! \\), but this isn’t true since it fails when \\( n = 4 \\). But it’s extremely close to being true.\r\n\r\n### Theorem 7.3.36 (Wilson’s theorem)\r\nLet \\( n > 1 \\) be a modulus. Then \\( n \\) is prime if and only if \\( (n-1)! \\equiv -1 \\mod n \\).\r\n\r\nThe following sequence of exercises will piece together into a proof of Wilson’s theorem.\r\n\r\n**Exercise 7.3.37**  \r\nLet \\( n \\in \\mathbb{Z} \\) be composite. Prove that if \\( n > 4 \\), then \\( n \\mid (n-1)! \\).\r\n\r\n**Exercise 7.3.38**  \r\nLet \\( p \\) be a positive prime and let \\( a \\in \\mathbb{Z} \\). Prove that, if \\( a^2 \\equiv 1 \\mod p \\), then \\( a \\equiv 1 \\mod p \\) or \\( a \\equiv -1 \\mod p \\).\r\n\r\nExercise 7.3.38 implies that the only elements of \\([p-1]\\) that are their own multiplicative inverses are 1 and \\( p-1 \\); this morsel of information allows us to deduce result in the following exercise.\r\n\r\n**Exercise 7.3.39**  \r\nLet \\( p \\) be a positive prime. Prove that \\( (p-1)! \\equiv -1 \\mod p \\).\r\n\r\n**Proof of Wilson’s theorem (Theorem 7.3.36)**  \r\nLet \\( n > 1 \\) be a modulus.\r\n</markdown>",
    "Q": "Q: Given Wilson's theorem, if \\( p = 5 \\), what is the value of \\( (p-1)! \\mod p \\)?  \r\n",
    "A": "  \r\nA: \\( (p-1)! = 4! = 24 \\) and \\( 24 \\mod 5 = 4 \\), so \\( (p-1)! \\equiv -1 \\mod 5 \\) (since \\( -1 \\equiv 4 \\mod 5 \\))."
  },
  {
    "page": 295,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n- If \\( n \\) is prime, then \\( (n-1)! \\equiv -1 \\mod n \\) by Exercise 7.3.39.\r\n\r\n- If \\( n \\) is composite, then either \\( n = 4 \\) or \\( n > 4 \\). If \\( n = 4 \\) then\r\n\r\n  \\[\r\n  (n-1)! = 3! = 6 \\equiv 2 \\mod 4\r\n  \\]\r\n\r\n  and so \\( (n-1)! \\not\\equiv -1 \\mod n \\). If \\( n > 4 \\), then\r\n\r\n  \\[\r\n  (n-1)! \\equiv 0 \\mod n\r\n  \\]\r\n\r\n  by Exercise 7.3.37.\r\n\r\nHence \\( (n-1)! \\equiv -1 \\mod n \\) if and only if \\( n \\) is prime, as desired.\r\n\r\nSince Wilson’s theorem completely characterises the positive prime numbers, we could have defined ‘\\( n \\) is prime’, for \\( n > 1 \\), to mean that \\( (n-1)! \\equiv -1 \\mod n \\). We don’t do this because, although this is an interesting result, it is not particularly useful in applications. We might even hope that Wilson’s theorem gives us an easy way to test whether a number is prime, but unfortunately even this is a bust: computing the remainder \\( (n-1)! \\) on division by \\( n \\) is not particularly efficient.\r\n\r\nHowever, there are some nice applications of Wilson’s theorem, which we will explore now.\r\n\r\n✦ **Example 7.3.40**\r\n\r\nWe’ll compute the remainder of \\( 3^{45} \\cdot 44! \\) when divided by 47. Note that \\( 3^{45} \\cdot 44! \\) is equal to a monstrous number with 76 digits; I don’t recommend doing the long division! Anyway…\r\n\r\n- 47 is prime, so we can apply both Fermat’s little theorem (Theorem 7.3.22) and Wilson’s theorem (Theorem 7.3.36).\r\n\r\n- By Fermat’s little theorem, we know that \\( 3^{46} \\equiv 1 \\mod 47 \\). Since \\( 3 \\cdot 16 = 48 \\equiv 1 \\mod 47 \\), we have\r\n\r\n  \\[\r\n  3^{45} \\equiv 3^{45} \\cdot (3 \\cdot 16) \\equiv 3^{46} \\cdot 16 \\equiv 16 \\mod 47\r\n  \\]\r\n\r\n- By Wilson’s theorem, we have \\( 46! \\equiv -1 \\mod 47 \\). Now\r\n  - \\( 46 \\equiv -1 \\mod 47 \\), so 46 is its own multiplicative inverse modulo 47.\r\n  - The extended Euclidean algorithm yields \\( 45 \\cdot 23 \\equiv 1 \\mod 47 \\).\r\n\r\n  So we have\r\n\r\n  \\[\r\n  44! = 44! \\cdot (45 \\cdot 23) \\cdot (46 \\cdot 46) \\equiv 46! \\cdot 23 \\cdot 46 \\equiv (-1) \\cdot 23 \\cdot (-1) \\equiv 23 \\mod 47\r\n  \\]\r\n\r\nPutting this information together yields\r\n\r\n\\[\r\n3^{45} \\cdot 44! \\equiv 16 \\cdot 23 = 368 \\equiv 39 \\mod 47\r\n\\]\r\n\r\nSo the remainder left when \\( 3^{45} \\cdot 44! \\) is divided by 47 is 39.\r\n</markdown>",
    "Q": "Q: If \\( n = 29 \\), which is prime, what does Wilson's theorem state about \\( (n-1)! \\mod n \\)? ",
    "A": " A: By Wilson's theorem, we have \\( (n-1)! \\equiv -1 \\mod n \\), so for \\( n = 29 \\), \\( 28! \\equiv -1 \\mod 29 \\)."
  },
  {
    "page": 296,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Exercise 7.3.41\r\n\r\nLet \\( p \\) be an odd positive prime. Prove that\r\n\r\n\\[\r\n\\left[ \\left( \\frac{p-1}{2} \\right)! \\right]^2 \\equiv (-1)^{\\frac{p+1}{2}} \\pmod{p}\r\n\\]\r\n\r\n### Chinese remainder theorem\r\n\r\nWe introduce the Chinese remainder theorem with an example.\r\n\r\n### Example 7.3.42\r\n\r\nWe find all integer solutions \\( x \\) to the system of congruences\r\n\r\n\\[\r\nx \\equiv 2 \\pmod{5} \\quad \\text{and} \\quad x \\equiv 4 \\pmod{8}\r\n\\]\r\n\r\nNote that \\( x \\equiv 4 \\pmod{8} \\) if and only if \\( x = 4 + 8k \\) for some \\( k \\in \\mathbb{Z} \\). Now, for all \\( k \\in \\mathbb{Z} \\) we have\r\n\r\n\\[\r\n\\begin{align*}\r\nx &\\equiv 2 \\pmod{5} \\\\\r\n\\Leftrightarrow 4 + 8k &\\equiv 2 \\pmod{5} \\quad \\text{since } x = 4 + 8k \\\\\r\n\\Leftrightarrow 8k &\\equiv -2 \\pmod{5} \\quad \\text{subtracting 4} \\\\\r\n\\Leftrightarrow 3k &\\equiv 3 \\pmod{5} \\quad \\text{since } 8 \\equiv -2 \\equiv 3 \\pmod{5} \\\\\r\n\\Leftrightarrow k &\\equiv 1 \\pmod{5} \\quad \\text{multiplying by a multiplicative inverse for 3 modulo 5}\r\n\\end{align*}\r\n\\]\r\n\r\nSo \\( 4 + 8k \\equiv 2 \\pmod{5} \\) if and only if \\( k = 1 + 5\\ell \\) for some \\( \\ell \\in \\mathbb{Z} \\).\r\n\r\nCombining this, we see that \\( x \\) satisfies both congruences if and only if\r\n\r\n\\[\r\nx = 4 + 8(1 + 5\\ell) = 12 + 40\\ell\r\n\\]\r\n\r\nfor some \\( \\ell \\in \\mathbb{Z} \\).\r\n\r\nHence the integers \\( x \\) for which both congruences are satisfied are precisely those integers \\( x \\) such that \\( x \\equiv 12 \\pmod{40} \\).\r\n\r\n### Exercise 7.3.43\r\n\r\nFind all integer solutions \\( x \\) to the system of congruences:\r\n\r\n\\[\r\n\\begin{cases}\r\nx \\equiv -1 \\pmod{4} \\\\\r\nx \\equiv 1 \\pmod{9} \\\\\r\nx \\equiv 5 \\pmod{11}\r\n\\end{cases}\r\n\\]\r\n\r\nExpress your solution in the form \\( x \\equiv a \\pmod{n} \\) for suitable \\( n > 0 \\) and \\( 0 \\leq a < n \\).\r\n</markdown>",
    "Q": "Q: Given the system of congruences \\( \\begin{cases} x \\equiv 3 \\pmod{7} \\\\ x \\equiv 2 \\pmod{5} \\\\ x \\equiv 1 \\pmod{3} \\end{cases} \\), find all integer solutions \\( x \\) and express your solution in the form \\( x \\equiv a \\pmod{n} \\). ",
    "A": " A: The solution to the system is \\( x \\equiv 23 \\pmod{105} \\)."
  },
  {
    "page": 297,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Exercise 7.3.44\r\n\r\nLet \\( m, n \\) be coprime moduli and let \\( a, b \\in \\mathbb{Z} \\). Let \\( u, v \\in \\mathbb{Z} \\) be such that\r\n\r\n\\[\r\nmu \\equiv 1 \\mod n \\quad \\text{and} \\quad nv \\equiv 1 \\mod m\r\n\\]\r\n\r\nIn terms of \\( a, b, m, n, u, v \\), find an integer \\( x \\) such that\r\n\r\n\\[\r\nx \\equiv a \\mod m \\quad \\text{and} \\quad x \\equiv b \\mod n\r\n\\]\r\n\r\n### Exercise 7.3.45\r\n\r\nLet \\( m, n \\) be coprime moduli and let \\( x, y \\in \\mathbb{Z} \\). Prove that if \\( x \\equiv y \\mod m \\) and \\( x \\equiv y \\mod n \\), then \\( x \\equiv y \\mod mn \\).\r\n\r\n### Theorem 7.3.46 (Chinese remainder theorem)\r\n\r\nLet \\( m, n \\) be moduli and let \\( a, b \\in \\mathbb{Z} \\). If \\( m \\) and \\( n \\) are coprime, then there exists an integer solution \\( x \\) to the simultaneous congruences\r\n\r\n\\[\r\nx \\equiv a \\mod m \\quad \\text{and} \\quad x \\equiv b \\mod n\r\n\\]\r\n\r\nMoreover, if \\( x, y \\in \\mathbb{Z} \\) are two such solutions, then \\( x \\equiv y \\mod mn \\).\r\n\r\n**Proof**\r\n\r\nExistence of a solution \\( x \\) is precisely the content of Exercise 7.3.44.\r\n\r\nNow let \\( x, y \\in \\mathbb{Z} \\) be two solutions to the two congruences. Then\r\n\r\n\\[\r\n\\begin{cases}\r\nx \\equiv a \\mod m \\\\\r\ny \\equiv a \\mod m \\implies x \\equiv y \\mod m\r\n\\end{cases}\r\n\\]\r\n\r\n\\[\r\n\\begin{cases}\r\nx \\equiv b \\mod n \\\\\r\ny \\equiv b \\mod n \\implies x \\equiv y \\mod n\r\n\\end{cases}\r\n\\]\r\n\r\nso by Exercise 7.3.45, we have \\( x \\equiv y \\mod mn \\), as required.\r\n\r\nWe now generalise the Chinese remainder theorem to the case when the moduli \\( m, n \\) are not assumed to be coprime. There are two ways we could make this generalisation: either we could reduce the more general version of the theorem to the version we proved in Theorem 7.3.46, or we could prove the more general version from scratch. We opt for the latter approach, but you might want to consider what a ‘reductive’ proof would look like.\r\n</markdown>",
    "Q": "Q: Given coprime moduli \\( m \\) and \\( n \\), and integers \\( a \\) and \\( b \\), how can you express the integer solution \\( x \\) that satisfies both \\( x \\equiv a \\mod m \\) and \\( x \\equiv b \\mod n \\) using \\( u \\) and \\( v \\) as defined in the context? ",
    "A": " A: The solution \\( x \\) can be expressed as \r\n\r\n\\[\r\nx = b \\cdot n \\cdot v + a \\cdot m \\cdot u \\mod (mn)\r\n\\]\r\n\r\nwhere \\( mu \\equiv 1 \\mod n \\) and \\( nv \\equiv 1 \\mod m \\)."
  },
  {
    "page": 298,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Theorem 7.3.47\r\n\r\nLet \\( m, n \\) be moduli and let \\( a, b \\in \\mathbb{Z} \\). There exists an integer solution \\( x \\) to the system of congruences\r\n\r\n\\[\r\nx \\equiv a \\pmod{m} \\quad \\text{and} \\quad x \\equiv b \\pmod{n}\r\n\\]\r\n\r\nif and only if \\( a \\equiv b \\pmod{\\gcd(m, n)} \\).\r\n\r\nMoreover, if \\( x, y \\in \\mathbb{Z} \\) are two such solutions, then \\( x \\equiv y \\pmod{\\mathrm{lcm}(m, n)} \\).\r\n\r\n**Proof**\r\n\r\nLet \\( d = \\gcd(m, n) \\), and write \\( m = m'd \\) and \\( n = n'd \\) for some \\( m', n' \\in \\mathbb{Z} \\).\r\n\r\nWe prove that an integer solution \\( x \\) to the system of congruences exists if and only if \\( a \\equiv b \\pmod{d} \\).\r\n\r\n- (\\(\\Rightarrow\\)) Suppose an integer solution \\( x \\) to the system of congruences exists. Then there exist integers \\( k, \\ell \\) such that\r\n\r\n  \\[\r\n  x = a + mk = b + n\\ell\r\n  \\]\r\n\r\n  But \\( m = m'd \\) and \\( n = n'd \\), so we have \\( a + m'dk = b + n'd\\ell \\), and so\r\n\r\n  \\[\r\n  a - b = (n'\\ell - m'k)d\r\n  \\]\r\n\r\n  so that \\( a \\equiv b \\pmod{d} \\), as required.\r\n\r\n- (\\(\\Leftarrow\\)) Suppose \\( a \\equiv b \\pmod{d} \\), and let \\( t \\in \\mathbb{Z} \\) be such that \\( a - b = td \\). Let \\( u, v \\in \\mathbb{Z} \\) be such that \\( mu + nv = d \\)—these exist by Bézout’s lemma (Theorem 7.1.23). Note also that, since \\( m = m'd \\) and \\( n = n'd \\), dividing through by \\( d \\) yields \\( m'u + n'v = 1 \\).\r\n\r\n  Define\r\n\r\n  \\[\r\n  x = an'v + bm'u\r\n  \\]\r\n\r\n  Now we have\r\n\r\n  \\[\r\n  \\begin{align*}\r\n  x &= an'v + bm'u & \\text{by definition of } x \\\\\r\n  &= an'v + (a - td)m'u & \\text{since } a - b = td \\\\\r\n  &= a(m'u + n'v) - tdm'u & \\text{rearranging} \\\\\r\n  &= a - tdm'u & \\text{since } m'u + n'v = 1 \\\\\r\n  &= a - tum & \\text{since } m = m'd\r\n  \\end{align*}\r\n  \\]\r\n\r\n  so \\( x \\equiv a \\pmod{m} \\). Likewise\r\n\r\n  \\[\r\n  \\begin{align*}\r\n  x &= an'v + bm'u & \\text{by definition of } x \\\\\r\n  &= (b + td)n'v + bm'u & \\text{since } a - b = td \\\\\r\n  &= b(m'u + n'v) + tdn'v & \\text{rearranging} \\\\\r\n  &= b + tdn'v & \\text{since } m'u + n'v = 1 \\\\\r\n  &= b + tvn & \\text{since } n = n'd\r\n  \\end{align*}\r\n  \\]\r\n</markdown>",
    "Q": "Q: If \\( m = 6 \\), \\( n = 9 \\), \\( a = 3 \\), and \\( b = 12 \\), does there exist an integer solution \\( x \\) to the system of congruences \\( x \\equiv 3 \\pmod{6} \\) and \\( x \\equiv 12 \\pmod{9} \\)? ",
    "A": " A: Yes, since \\( \\gcd(6, 9) = 3 \\) and \\( 3 \\equiv 12 \\pmod{3} \\). Thus, there exists an integer solution \\( x \\)."
  },
  {
    "page": 299,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nso \\( x \\equiv b \\mod n \\).\r\n\r\nHence \\( x = an'v + bm'u \\) is a solution to the system of congruences.\r\n\r\nWe now prove that if \\( x, y \\) are two integer solutions to the system of congruences, then they are congruent modulo \\(\\text{lcm}(a, b)\\). First note that we must have\r\n\r\n\\[ \r\nx \\equiv y \\mod m \\quad \\text{and} \\quad x \\equiv y \\mod n \r\n\\]\r\n\r\nso that \\( x = y + km \\) and \\( x = y + \\ell n \\) for some \\( k, \\ell \\in \\mathbb{Z} \\). But then\r\n\r\n\\[ \r\nx - y = km = \\ell n \r\n\\]\r\n\r\nWriting \\( m = m'd \\) and \\( n = n'd \\), we see that \\( km'd = \\ell n'd \\), so that \\( km' = \\ell n' \\). But \\( m', n' \\) are coprime by Exercise 7.1.30, and hence \\( m' \\mid \\ell \\) by Proposition 7.1.32. Write \\( \\ell = \\ell' m' \\) for some \\( \\ell' \\in \\mathbb{Z} \\). Then we have\r\n\r\n\\[ \r\nx - y = \\ell n = \\ell' m'n \r\n\\]\r\n\r\nand hence \\( x \\equiv y \\mod m'n \\). But \\( m'n = \\text{lcm}(m, n) \\) by Exercise 7.1.41.\r\n\r\nThis theorem is in fact constructive, in that it provides an algorithm for finding all integer solutions \\( x \\) to a system of congruences\r\n\r\n\\[ \r\nx \\equiv a \\mod m \\quad \\text{and} \\quad x \\equiv b \\mod n \r\n\\]\r\n\r\nas follows:\r\n\r\n- Use the Euclidean algorithm to compute \\( d = \\gcd(m, n) \\).\r\n\r\n- If \\( d \\nmid a - b \\) then there are no solutions, so stop. If \\( d \\mid a - b \\), then proceed to the next step.\r\n\r\n- Use the extended Euclidean algorithm to compute \\( u, v \\in \\mathbb{Z} \\) such that \\( mu + nv = d \\).\r\n\r\n- The integer solutions \\( x \\) to the system of congruences are precisely those of the form\r\n\r\n\\[\r\nx = \\frac{anv + bmu + kmn}{d} \\quad \\text{for some } k \\in \\mathbb{Z}\r\n\\]\r\n\r\n**Exercise 7.3.48**  \r\nVerify that the algorithm outlined above is correct. Use it to compute the solutions to the system of congruences\r\n\r\n\\[ \r\nx \\equiv 3 \\mod 12 \\quad \\text{and} \\quad x \\equiv 15 \\mod 20 \r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( x \\equiv 3 \\mod 12 \\) and \\( x \\equiv 15 \\mod 20 \\), what are the integer solutions to this system of congruences using the algorithm provided? ",
    "A": " A: First, compute \\( d = \\gcd(12, 20) = 4 \\). Since \\( 4 \\mid (15 - 3) = 12 \\), solutions exist. Using the extended Euclidean algorithm, we find \\( 12u + 20v = 4 \\) with \\( (u, v) = (1, -1) \\). Therefore, the integer solutions are of the form:\r\n\r\n\\[\r\nx = \\frac{3(-1) + 15(1) + k(20)}{4} = \\frac{12 + 20k}{4} = 3 + 5k \\quad \\text{for } k \\in \\mathbb{Z}.\r\n\\] \r\n\r\nThus, the solutions are \\( x \\equiv 3 \\mod 5 \\)."
  },
  {
    "page": 300,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### ★ Exercise 7.3.49\r\n\r\nGeneralise the Chinese remainder theorem to systems of arbitrarily (finitely) many congruences. That is, given \\( r \\in \\mathbb{N} \\), find precisely the conditions on moduli \\( n_1, n_2, \\ldots, n_r \\) and integers \\( a_1, a_2, \\ldots, a_r \\) such that an integer solution exists to the congruences\r\n\r\n\\[\r\nx \\equiv a_1 \\mod n_1, \\quad x \\equiv a_2 \\mod n_2, \\quad \\ldots \\quad x \\equiv a_r \\mod n_r\r\n\\]\r\n\r\nFind an explicit formula for such a value of \\( x \\), and find a suitable modulus \\( n \\) in terms of \\( n_1, n_2, \\ldots, n_r \\) such that any two solutions to the system of congruences are congruent modulo \\( n \\).\r\n\r\n### ★ Exercise 7.3.50\r\n\r\nProve that gaps between consecutive primes can be made arbitrarily large. That is, prove that for all \\( n \\in \\mathbb{N} \\), there exists an integer \\( a \\) such that the numbers\r\n\r\n\\[\r\na, \\quad a+1, \\quad a+2, \\quad \\ldots, \\quad a+n\r\n\\]\r\n\r\nare all composite.\r\n\r\n### Application: tests for divisibility\r\n\r\nThe language of modular arithmetic provides a practical setting for proving tests for divisibility using number bases. Number bases were introduced in Chapter 0, and we gave a preliminary definition in Definition 0.6 of what a number base is. Our first job will be to justify why this definition makes sense at all—that is, we need to prove that every natural number has a base-\\( b \\) expansion, and moreover, that it only has one of them. Theorem 7.3.51 says exactly this.\r\n\r\n### Theorem 7.3.51\r\n\r\nLet \\( n \\in \\mathbb{N} \\) and let \\( b \\in \\mathbb{N} \\) with \\( b \\geq 2 \\). Then there exist unique \\( r \\in \\mathbb{N} \\) and \\( d_0, d_1, \\ldots, d_r \\in \\{0, 1, \\ldots, b-1\\} \\) such that\r\n\r\n\\[\r\nn = \\sum_{i=0}^{r} d_i b^i\r\n\\]\r\n\r\nand such that \\( d_r \\neq 0 \\), except \\( n = 0 \\), in which case \\( r = 0 \\) and \\( d_0 = 0 \\).\r\n\r\n**Proof**\r\n\r\nWe proceed by strong induction on \\( n \\).\r\n\r\n- (BC) We imposed the requirement that if \\( n = 0 \\) then \\( r = 0 \\) and \\( d_0 = 0 \\); and this evidently satisfies the requirement that \\( n = \\sum_{i=0}^{r} d_i b^i \\).\r\n</markdown>",
    "Q": "Q: What are the necessary conditions on moduli \\( n_1, n_2, \\ldots, n_r \\) for the existence of a solution \\( x \\) to the system of congruences \\( x \\equiv a_i \\mod n_i \\) for \\( i = 1, 2, \\ldots, r \\)? ",
    "A": " A: The necessary condition is that the moduli \\( n_1, n_2, \\ldots, n_r \\) must be pairwise coprime; that is, \\( \\gcd(n_i, n_j) = 1 \\) for all \\( i \\neq j \\). If this condition is satisfied, then a solution \\( x \\) exists and can be found using the formula derived from the Chinese remainder theorem, with modulus \\( n = n_1 n_2 \\cdots n_r \\)."
  },
  {
    "page": 301,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n- **(IS)** Fix \\( n \\geq 0 \\) and suppose that the requirements of the theorem are satisfied for all the natural numbers up to and including \\( n \\).\r\n\r\nBy the division theorem ([Theorem 7.1.1](#)), there exist unique \\( u, v \\in \\mathbb{N} \\) such that\r\n\r\n\\[\r\nn + 1 = ub + v \\quad \\text{and} \\quad v \\in \\{0, 1, \\ldots, b - 1\\}\r\n\\]\r\n\r\nSince \\( b \\geq 2 \\), we have \\( u < n + 1 \\), and so \\( u \\leq n \\). It follows from the induction hypothesis that there exist unique \\( r \\in \\mathbb{N} \\) and \\( d_1, \\ldots, d_r \\in \\{0, 1, \\ldots, b - 1\\} \\) such that\r\n\r\n\\[\r\nu = \\sum_{i=0}^{r} d_{i+1} b^i\r\n\\]\r\n\r\nand \\( d_r \\neq 0 \\). Writing \\( d_0 = v \\) yields\r\n\r\n\\[\r\nn = ub + v = \\sum_{i=0}^{r} d_{i+1} b^{i+1} + d_0 = \\sum_{i=0}^{r} d_i b^i\r\n\\]\r\n\r\nSince \\( d_r \\neq 0 \\), this proves existence.\r\n\r\nFor uniqueness, suppose that there exists \\( s \\in \\mathbb{N} \\) and \\( e_0, \\ldots, e_s \\in \\{0, 1, \\ldots, b - 1\\} \\) such that\r\n\r\n\\[\r\nn + 1 = \\sum_{j=0}^{s} e_j b^j\r\n\\]\r\n\r\nand \\( e_s \\neq 0 \\). Then\r\n\r\n\\[\r\nn + 1 = \\left( \\sum_{j=1}^{s} e_j b^{j-1} \\right) b + e_0\r\n\\]\r\n\r\nso by the division theorem we have \\( e_0 = d_0 = v \\). Hence\r\n\r\n\\[\r\nu = \\frac{n + 1 - v}{b} = \\sum_{j=1}^{s} e_j b^{j-1} = \\sum_{i=1}^{r} d_i b^{i-1}\r\n\\]\r\n\r\nso by the induction hypothesis, it follows that \\( r = s \\) and \\( d_i = e_i \\) for all \\( 1 \\leq i \\leq r \\). This proves uniqueness.\r\n\r\nBy induction, we’re done.\r\n\r\nWe now re-state the definition of base-\\( b \\) expansion, confident in the knowledge that this definition makes sense.\r\n\r\n✦ **Definition 7.3.52**\r\n\r\nLet \\( n \\in \\mathbb{N} \\). The **base-\\( b \\) expansion** of \\( n \\) is the unique string \\( d_r d_{r-1} \\ldots d_0 \\) such that the conditions in [Theorem 7.3.51](#) are satisfied. The base-2 expansion is also known as the **binary expansion**, and the base-10 expansion is called the **decimal expansion**.\r\n</markdown>",
    "Q": "Q: Given a natural number \\( n = 13 \\) and base \\( b = 3 \\), what is the base-3 expansion of \\( n \\)? ",
    "A": " A: The base-3 expansion of \\( n = 13 \\) is \\( 111 \\) since \\( 13 = 1 \\cdot 3^2 + 1 \\cdot 3^1 + 1 \\cdot 3^0 \\)."
  },
  {
    "page": 302,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Example 7.3.53\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Then \\( n \\) is divisible by 3 if and only if the sum of the digits in the decimal expansion of \\( n \\) is divisible by 3. Likewise, \\( n \\) is divisible by 9 if and only if the sum of the digits in the decimal expansion \\( n \\) is divisible by 9.\r\n\r\nWe prove this for divisibility by 3. Let\r\n\r\n\\[\r\nn = d_r d_{r-1} \\cdots d_1 d_0\r\n\\]\r\n\r\nbe the decimal expansion of \\( n \\), and let \\( s = \\sum_{i=0}^{r} d_i \\) be the sum of the digits of \\( n \\).\r\n\r\nThen we have\r\n\r\n\\[\r\nn \\equiv \\sum_{i=0}^{r} d_i 10^i \\pmod{3} \\quad \\text{since } n = \\sum_i d_i 10^i\r\n\\]\r\n\r\n\\[\r\n\\equiv \\sum_{i=0}^{r} d_i 1^i \\pmod{3} \\quad \\text{since } 10 \\equiv 1 \\pmod{3}\r\n\\]\r\n\r\n\\[\r\n\\equiv \\sum_{i=0}^{r} d_i \\quad \\text{since } 1^i = 1 \\text{ for all } i\r\n\\]\r\n\r\n\\[\r\n\\equiv s \\quad \\text{by definition of } s\r\n\\]\r\n\r\nSince \\( n \\equiv s \\pmod{3} \\), it follows that \\( n \\) is divisible by 3 if and only if \\( s \\) is divisible by 3.\r\n\r\n### Exercise 7.3.54\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Prove that \\( n \\) is divisible by 5 if and only if the final digit in the decimal expansion of \\( n \\) is 5 or 0.\r\n\r\nMore generally, fix \\( k \\geq 1 \\) and let \\( m \\) be the number whose decimal expansion is given by the last \\( k \\) digits of that of \\( n \\). Prove that \\( n \\) is divisible by \\( 5^k \\) if and only if \\( m \\) is divisible by \\( 5^k \\). For example, we have\r\n\r\n\\[\r\n125 \\mid 9 \\, 550 \\, 828 \\, 230 \\, 495 \\, 875 \\quad \\Leftrightarrow \\quad 125 \\mid 875\r\n\\]\r\n\r\n### Exercise 7.3.55\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Prove that \\( n \\) is divisible by 11 if and only if the alternating sum of the digits of \\( n \\) is divisible by 11. That is, prove that if the decimal expansion of \\( n \\) is \\( d_r d_{r-2} \\cdots d_0 \\), then\r\n\r\n\\[\r\n11 \\mid n \\quad \\Leftrightarrow \\quad 11 \\mid d_0 - d_1 + d_2 - \\cdots + (-1)^r d_r\r\n\\]\r\n\r\n### Exercise 7.3.56\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Find a method for testing if \\( n \\) is divisible by 7 based on the decimal expansion of \\( n \\).\r\n</markdown>",
    "Q": "Q: What is a method for testing if a natural number \\( n \\) is divisible by 7 based on its decimal expansion? ",
    "A": " A: One method is to take the last digit of \\( n \\), double it, and subtract it from the rest of the digits. If the result is divisible by 7, then \\( n \\) is also divisible by 7. This process can be repeated until a small number is obtained."
  },
  {
    "page": 303,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n## Application: public-key cryptography\r\n\r\nPublic-key cryptography is a method of encryption and decryption that works according to the following principles:\r\n\r\n- Encryption is done using a **public key** that is available to anyone.\r\n- Decryption is done using a **private key** that is only known to the recipient.\r\n- Knowledge of the private key should be extremely difficult to derive from knowledge of the public key.\r\n\r\nSpecifically, suppose that Alice wants to securely send Bob a message. As the recipient of the message, Bob has a public key and a private key. So:\r\n\r\n- Bob sends the **public key** to Alice.\r\n- Alice uses the public key to encrypt the message.\r\n- Alice sends the encrypted message, which is visible (but encrypted) to anyone who intercepts it.\r\n- Bob keeps the private key secret, and uses it upon receipt of the message to decrypt the message.\r\n\r\nNotice that, since the public key can only be used to **encrypt** messages, a hacker has no useful information upon intercepting the message or the public key.\r\n\r\n**RSA encryption** is an algorithm which provides one means of doing public-key cryptography using the theory of modular arithmetic. It works as follows.\r\n\r\n**Step 1.** Let \\( p \\) and \\( q \\) be distinct positive prime numbers, and let \\( n = pq \\). Then \\( \\varphi(n) = (p-1)(q-1) \\).\r\n\r\n**Step 2.** Choose \\( e \\in \\mathbb{Z} \\) such that \\( 1 < e < \\varphi(n) \\) and \\( e \\perp \\varphi(n) \\). The pair \\( (n, e) \\) is called the **public key**.\r\n\r\n**Step 3.** Choose \\( d \\in \\mathbb{Z} \\) such that \\( de \\equiv 1 \\mod \\varphi(n) \\). The pair \\( (n, d) \\) is called the **private key**.\r\n\r\n**Step 4.** To encrypt a message \\( M \\) (which is encoded as an integer), compute \\( K \\in [n] \\) such that \\( K \\equiv M^e \\mod n \\). Then \\( K \\) is the encrypted message.\r\n\r\n**Step 5.** The original message \\( M \\) can be recovered since \\( M \\equiv K^d \\mod n \\).\r\n\r\nComputing the private key \\( (n, d) \\) from the knowledge of \\( (n, e) \\) would allow a hacker to decrypt an encrypted message. However, doing so is typically very difficult when the\r\n</markdown>",
    "Q": "Q: What is the relationship between \\( e \\) and \\( \\varphi(n) \\) required for the RSA encryption scheme? ",
    "A": " A: The relationship is that \\( 1 < e < \\varphi(n) \\) and \\( e \\) must be coprime to \\( \\varphi(n) \\), denoted as \\( e \\perp \\varphi(n) \\)."
  },
  {
    "page": 304,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nprime factors of \\( n \\) are large. So if we choose \\( p \\) and \\( q \\) to be very large primes—which we can do without much hassle at all—then it becomes computationally infeasible for a hacker to compute the private key.\r\n\r\n**Example.** Suppose I want to encrypt the message \\( M \\), which I have encoded as the integer 32. Let \\( p = 13 \\) and \\( q = 17 \\). Then \\( n = 221 \\) and \\( \\varphi(n) = 192 \\). Let \\( e = 7 \\), and note that \\( 7 \\perp 192 \\). Now \\( 7 \\times 55 \\equiv 1 \\mod 192 \\), so we can define \\( d = 55 \\).\r\n\r\n- The public key is \\( (221, 7) \\), which Bob sends to Alice. Now Alice can encrypt the message:\r\n  \\[\r\n  32^7 \\equiv 59 \\mod 221\r\n  \\]\r\n  Alice then sends Bob the encrypted message 59.\r\n\r\n- The private key is \\( (221, 55) \\), so Bob can decrypt the message:\r\n  \\[\r\n  59^{55} \\equiv 32 \\mod 221\r\n  \\]\r\n  so Bob has received Alice’s message 32.\r\n\r\n**Exercise 7.3.57**  \r\nProve that the RSA algorithm is correct. Specifically, prove:\r\n\r\n(a) If \\( n = pq \\), for distinct positive primes \\( p \\) and \\( q \\), then \\( \\varphi(n) = (p-1)(q-1) \\);\r\n\r\n(b) Given \\( 1 < e < \\varphi(n) \\) with \\( e \\perp \\varphi(n) \\), there exists \\( d \\in \\mathbb{Z} \\) with \\( de \\equiv 1 \\mod \\varphi(n) \\).\r\n\r\n(c) Given \\( M, K \\in \\mathbb{Z} \\) with \\( K \\equiv M^e \\mod n \\), it is indeed the case that \\( K^d \\equiv M \\mod n \\).\r\n\r\n**Application: Euler’s totient function**\r\n\r\nWe now derive a formula for computing the totient of an arbitrary integer using the tools from Section 8.1—in particular, if you chose to read this section before learning about the multiplication principle, you should skip over this material.\r\n\r\n**Theorem 7.3.58 (Multiplicativity of Euler’s totient function)**  \r\nLet \\( m, n \\in \\mathbb{Z} \\) and let \\( \\varphi : \\mathbb{Z} \\to \\mathbb{N} \\) be Euler’s totient function (see Definition 7.3.26). If \\( m \\) and \\( n \\) are coprime, then \\( \\varphi(mn) = \\varphi(m)\\varphi(n) \\).\r\n\r\n**Proof**  \r\nSince \\( \\varphi(-k) = \\varphi(k) \\) for all \\( k \\in \\mathbb{Z} \\), we may assume that \\( m \\geq 0 \\) and \\( n \\geq 0 \\). Moreover, if \\( m = 0 \\) or \\( n = 0 \\), then \\( \\varphi(m)\\varphi(n) = 0 \\) and \\( \\varphi(mn) = 0 \\), so the result is immediate. Hence we may assume that \\( m > 0 \\) and \\( n > 0 \\).\r\n</markdown>",
    "Q": "Q: If \\( p = 7 \\) and \\( q = 19 \\), what is the value of \\( \\varphi(n) \\) where \\( n = pq \\)? ",
    "A": " A: The value of \\( \\varphi(n) \\) is \\( (p-1)(q-1) = (7-1)(19-1) = 6 \\times 18 = 108 \\)."
  },
  {
    "page": 305,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nGiven \\( k \\in \\mathbb{Z} \\), define\r\n\r\n\\[\r\nC_k = \\{ a \\in [k] \\mid a \\perp k \\}\r\n\\]\r\n\r\nBy definition of Euler’s totient function, we thus have \\(|C_k| = \\varphi(k)\\) for all \\( k \\in \\mathbb{Z} \\). We will define a bijection\r\n\r\n\\[\r\nf : C_m \\times C_n \\to C_{mn}\r\n\\]\r\n\r\nusing the Chinese remainder theorem (Theorem 7.3.46).\r\n\r\nGiven \\( a \\in C_m \\) and \\( b \\in C_n \\), let \\( f(a,b) \\) be the element \\( x \\in [mn] \\) such that\r\n\r\n\\[\r\n\\begin{cases} \r\nx \\equiv a \\pmod{m} \\\\\r\nx \\equiv b \\pmod{n}\r\n\\end{cases}\r\n\\]\r\n\r\n- **\\( f \\) is well-defined.** We check the properties of totality, existence and uniqueness.\r\n  - **Totality.** We have accounted for all the elements of \\( C_m \\times C_n \\) in our specification of \\( f \\).\r\n  - **Existence.** By the Chinese remainder theorem, there exists \\( x \\in \\mathbb{Z} \\) such that \\( x \\equiv a \\pmod{m} \\) and \\( x \\equiv b \\pmod{n} \\). By adding an appropriate integer multiple of \\( mn \\) to \\( x \\), we may additionally require \\( x \\in [mn] \\). It remains to check that \\( x \\perp mn \\).\r\n\r\n    So let \\( d = \\gcd(x,mn) \\). If \\( d > 1 \\), then there is a positive prime \\( p \\) such that \\( p \\mid x \\) and \\( p \\mid mn \\). But then \\( p \\mid m \\) or \\( p \\mid n \\), meaning that either \\( p \\mid \\gcd(x,m) \\) or \\( p \\mid \\gcd(x,n) \\). But \\( x \\equiv a \\pmod{m} \\), so \\( \\gcd(x,m) = \\gcd(a,m) \\); and likewise \\( \\gcd(x,n) = \\gcd(b,n) \\). So this contradicts the assumption that \\( a \\perp m \\) and \\( b \\perp n \\). Hence \\( x \\perp mn \\) after all.\r\n  - **Uniqueness.** Suppose \\( x, y \\in C_{mn} \\) both satisfy the two congruences in question. By the Chinese remainder theorem, we have \\( x \\equiv y \\pmod{mn} \\), and hence \\( x = y + kmn \\) for some \\( k \\in \\mathbb{Z} \\). Since \\( x, y \\in [mn] \\), we have\r\n\r\n    \\[\r\n    |k|mn = |kmn| = |x - y| \\leq mn - 1 < mn\r\n    \\]\r\n\r\n    This implies \\(|k| < 1\\), so that \\( k = 0 \\) and \\( x = y \\).\r\n\r\n  so \\( f \\) is well-defined.\r\n\r\n- **\\( f \\) is injective.** Let \\( a, a' \\in C_m \\) and \\( b, b' \\in C_n \\), and suppose that \\( f(a,b) = f(a',b') \\). Then there is an element \\( x \\in C_{mn} \\) such that\r\n\r\n  \\[\r\n  \\begin{cases} \r\n  x \\equiv a \\pmod{m} \\\\\r\n  x \\equiv a' \\pmod{m} \\\\\r\n  x \\equiv b \\pmod{n} \\\\\r\n  x \\equiv b' \\pmod{n}\r\n  \\end{cases}\r\n  \\]\r\n\r\n  Hence \\( a \\equiv a' \\pmod{m} \\) and \\( b \\equiv b' \\pmod{n} \\). Since \\( a, a' \\in [m] \\) and \\( b, b' \\in [n] \\), we must have \\( a = a' \\) and \\( b = b' \\).\r\n</markdown>",
    "Q": "Q: If \\( a \\in C_m \\) and \\( b \\in C_n \\), how does the bijection \\( f \\) ensure that \\( x \\in C_{mn} \\) satisfies \\( x \\perp mn \\)? ",
    "A": " A: The bijection \\( f \\) ensures that \\( x \\perp mn \\) because if \\( d = \\gcd(x, mn) > 1 \\), it would imply that a prime \\( p \\) divides both \\( x \\) and \\( mn \\), which contradicts the fact that \\( a \\perp m \\) and \\( b \\perp n \\) give \\( \\gcd(x, m) = \\gcd(a, m) = 1 \\) and \\( \\gcd(x, n) = \\gcd(b, n) = 1 \\). Therefore, \\( x \\perp mn \\) holds."
  },
  {
    "page": 306,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n- *f* is surjective. Let \\( x \\in C_{mn} \\). Let \\( a \\in [m] \\) and \\( b \\in [n] \\) be the (unique) elements such that \\( x \\equiv a \\mod m \\) and \\( x \\equiv b \\mod n \\), respectively. If \\( a \\in C_m \\) and \\( b \\in C_n \\), then we’ll have \\( f(a, b) = x \\) by construction, so it remains to check that \\( a \\perp m \\) and \\( b \\perp n \\).\r\n\r\nSuppose \\( d \\in \\mathbb{Z} \\) with \\( d \\mid a \\) and \\( d \\mid m \\). We prove that \\( d = 1 \\). Since \\( x \\equiv a \\mod m \\), we have \\( d \\mid x \\) by Theorem 7.1.17. Since \\( m \\mid mn \\), we have \\( d \\mid mn \\). By definition of greatest common divisors, it follows that \\( d \\mid \\gcd(x, mn) \\). But \\( \\gcd(x, mn) = 1 \\), so that \\( d \\) is a unit, and so \\( a \\perp m \\) as required.\r\n\r\nThe proof that \\( b \\perp n \\) is similar.\r\n\r\nIt was a lot of work to check that it worked, but we have defined a bijection \\( f : C_m \\times C_n \\to C_{mn} \\). By the multiplication principle, we have\r\n\r\n\\[\r\n\\varphi(m) \\varphi(n) = |C_m| \\cdot |C_n| = |C_m \\times C_n| = |C_{mn}| = \\varphi(mn)\r\n\\]\r\n\r\nas required.\r\n\r\nIt turns out that [Theorem 7.3.58](#) and [Exercise 7.3.28](#) are precisely the ingredients we need to find a general formula for the totient of a nonzero integer.\r\n\r\n### Theorem 7.3.59 (Formula for Euler’s totient function)\r\n\r\nLet \\( n \\) be a nonzero integer. Then\r\n\r\n\\[\r\n\\varphi(n) = |n| \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nwhere the product is indexed over positive primes \\( p \\) dividing \\( n \\).\r\n\r\n**Proof**\r\n\r\nSince \\( \\varphi(n) = \\varphi(-n) \\) for all \\( n \\in \\mathbb{Z} \\), we may assume that \\( n > 0 \\). Moreover\r\n\r\n\\[\r\n\\varphi(1) = 1 = 1 \\cdot \\prod_{p \\mid 1} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nNote that the product here is empty, and hence equal to 1, since there are no positive primes \\( p \\) which divide 1. So now suppose \\( n > 1 \\).\r\n\r\nUsing the fundamental theorem of arithmetic ([Theorem 7.2.12](#)), we can write\r\n\r\n\\[\r\nn = p_1^{k_1} p_2^{k_2} \\cdots p_r^{k_r}\r\n\\]\r\n\r\nfor primes \\( 0 < p_1 < p_2 < \\cdots < p_r \\) and natural numbers \\( k_1, k_2, \\ldots, k_r \\geq 1 \\).\r\n\r\nBy repeated application of [Theorem 7.3.58](#), we have\r\n\r\n\\[\r\n\\varphi(n) = \\prod_{i=1}^{r} \\varphi(p_i^{k_i})\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the significance of the product in the formula for Euler's totient function, and how does it relate to the prime factorization of \\( n \\)? ",
    "A": " A: The product in the formula \\( \\varphi(n) = |n| \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right) \\) accounts for the contribution of each prime \\( p \\) dividing \\( n \\) to the count of integers that are coprime to \\( n \\). Specifically, if \\( n \\) has the prime factorization \\( n = p_1^{k_1} p_2^{k_2} \\cdots p_r^{k_r} \\), this product reflects how removing multiples of each prime \\( p \\) reduces the number of integers less than \\( n \\) that are coprime to \\( n \\)."
  },
  {
    "page": 308,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.E Chapter 7 Exercises",
    "content": "<markdown>\r\n## Section 7.E\r\n# Chapter 7 exercises\r\n\r\n### Greatest common divisors\r\n\r\nIn Questions 7.1 to 7.3, use the Euclidean algorithm (Strategy 7.1.18) to find the greatest common divisor of the given pair of integers.\r\n\r\n7.1. 382 and 218\r\n\r\n7.2. 368475 and 26010\r\n\r\n7.3. 24004512 and 10668672\r\n\r\n7.4. Let \\( a, b, c, d \\in \\mathbb{Z} \\) and suppose that \\( ad - bc = 1 \\). Prove that \\( a + b \\) and \\( c + d \\) are coprime.\r\n\r\n✦ **Definition 7.E.1**  \r\nLet \\( f(x) \\) and \\( g(x) \\) be polynomials over \\( \\mathbb{Z} \\). We say \\( f(x) \\) *divides* \\( g(x) \\) if there exists a polynomial \\( q(x) \\) over \\( \\mathbb{Z} \\) such that \\( g(x) = q(x)f(x) \\).\r\n\r\n7.5. Prove that \\( 1 - x \\) divides \\( 1 - x^2 \\) and that \\( 1 - x \\) does not divide \\( 1 + x^2 \\).\r\n\r\n7.6. Prove that \\( 1 + x + x^2 \\) divides \\( 1 + x^4 + x^5 \\).\r\n\r\n✦ **Definition 7.E.2**  \r\nLet \\( f(x) \\) be a polynomial over \\( \\mathbb{Z} \\). The *degree* of \\( f \\), written \\( \\deg(f(x)) \\), is the greatest power of \\( x \\) in \\( f \\) whose coefficient is nonzero, unless \\( f \\) is the zero polynomial, whose degree is defined to be \\(-\\infty\\). We adopt the convention that \\((-\\infty) + r = r + (-\\infty)\\) for all \\( r \\in \\mathbb{N} \\cup \\{-\\infty\\} \\).\r\n\r\n7.7. Let \\( f(x) \\) and \\( g(x) \\) be polynomials over \\( \\mathbb{Z} \\). Prove that \\( \\deg(f(x)g(x)) = \\deg(f(x)) + \\deg(g(x)) \\).\r\n\r\n7.8. Prove the following modified form of the division theorem (Theorem 7.1.1) for polynomials: given polynomials \\( f(x) \\) and \\( g(x) \\) over \\( \\mathbb{Z} \\), with \\( f(x) \\neq 0 \\), prove that there exist unique polynomials \\( q(x) \\) and \\( r(x) \\) over \\( \\mathbb{Z} \\) such that \\( g(x) = q(x)f(x) + r(x) \\) and \\( \\deg(r(x)) < \\deg(f(x)) \\).\r\n</markdown>",
    "Q": "Q: Using the Euclidean algorithm, what is the greatest common divisor of 368475 and 26010? ",
    "A": " A: The greatest common divisor of 368475 and 26010 is 15."
  },
  {
    "page": 309,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.E Chapter 7 Exercises",
    "content": "<markdown>\r\n## Prime numbers\r\n\r\n7.9. Prove that, for all \\( k \\in \\mathbb{N} \\), the function \\( i : \\mathbb{N}^k \\to \\mathbb{N} \\) defined by\r\n\r\n\\[\r\ni(n_1, n_2, \\ldots, n_k) = p_1^{n_1} p_2^{n_2} \\cdots p_k^{n_k}\r\n\\]\r\n\r\nfor all \\( (n_1, n_2, \\ldots, n_k) \\in \\mathbb{N}^k \\) is an injection, where \\( p_1, p_2, p_3, \\ldots \\) is an enumeration of the set of positive primes in increasing order. (Thus \\( p_1 = 2, p_2 = 3, p_3 = 5 \\), and so on.)\r\n\r\n7.10. Use the result of Question 7.9 to construct a bijection\r\n\r\n\\[\r\n\\bigcup_{k \\in \\mathbb{N}} \\left( \\mathbb{N}^k \\setminus \\{(0, 0, \\ldots, 0)\\} \\right) \\to \\{n \\in \\mathbb{N} \\mid n \\geq 2\\}\r\n\\]\r\n\r\n7.11. Use a method akin to that of Question 7.9 to define an injection \\( \\mathbb{Z}^k \\to \\mathbb{N} \\).\r\n\r\n7.12. Define a subset \\( A \\subseteq \\mathbb{Z} \\) by\r\n\r\n\\[\r\nA = \\{n \\in \\mathbb{N} \\mid \\exists k > 0, n \\mid 12^k - 1\\}\r\n\\]\r\n\r\nFind all prime numbers in \\( \\mathbb{Z} \\setminus A \\).\r\n\r\n## Base-\\( b \\) expansions\r\n\r\n7.13. Let \\( n \\in \\mathbb{N} \\). Prove that the number of trailing 0s in the decimal expansion of \\( n! \\) is equal to\r\n\r\n\\[\r\n\\sum_{k=1}^{d} \\left\\lfloor \\frac{n}{5^k} \\right\\rfloor\r\n\\]\r\n\r\nwhere \\( d \\in \\mathbb{N} \\) is least such that \\( 5^{d+1} > n \\), and where \\( \\lfloor x \\rfloor \\) (LaTeX code: \\texttt{\\textbackslash lfloor, \\textbackslash rfloor}) denotes the greatest integer less than or equal to \\( x \\in \\mathbb{R} \\) (called the floor of \\( x \\)).\r\n\r\n7.14. Let \\( b \\in \\mathbb{N} \\) with \\( b \\geq 2 \\). Find an expression in terms of \\( n \\in \\mathbb{N} \\) for the number of trailing 0s in the base-\\( b \\) expansion of \\( n! \\).\r\n\r\n## True–False questions\r\n\r\nIn Questions 7.15 to 7.20, determine (with proof) whether the statement is true or false.\r\n\r\n7.15. There is an integer that is not coprime to any integer.\r\n\r\n7.16. Every linear Diophantine equation has a solution.\r\n</markdown>",
    "Q": "Q: Given the function \\( i(n_1, n_2, \\ldots, n_k) = p_1^{n_1} p_2^{n_2} \\cdots p_k^{n_k} \\) defined in the context of prime numbers, prove that for any two different tuples \\( (n_1, n_2, \\ldots, n_k) \\) and \\( (m_1, m_2, \\ldots, m_k) \\), the outputs \\( i(n_1, n_2, \\ldots, n_k) \\) and \\( i(m_1, m_2, \\ldots, m_k) \\) are different. ",
    "A": " A: If \\( (n_1, n_2, \\ldots, n_k) \\neq (m_1, m_2, \\ldots, m_k) \\), then at least one \\( n_i \\) is different from \\( m_i \\), leading to \\( p_i^{n_i} \\neq p_i^{m_i} \\); thus, the product \\( i(n_1, n_2, \\ldots, n_k) \\neq i(m_1, m_2, \\ldots, m_k) \\) because distinct primes raised to different powers yield distinct integers."
  },
  {
    "page": 310,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.E Chapter 7 Exercises",
    "content": "<markdown>\r\n7.17. Every integer \\( n \\) is coprime to its successor \\( n + 1 \\).\r\n\r\n7.18. If the greatest common divisors of two integers is 3, and their least common multiple of 7, then their product is 21.\r\n\r\n7.19. Every integer is congruent modulo 7 to its remainder when divided by 21.\r\n\r\n7.20. Let \\( k \\geq 1 \\). Then \\( 15^k \\equiv 1 \\mod 6 \\).\r\n\r\n## Always–Sometimes–Never questions\r\n\r\nIn Questions 7.21 to 7.29, determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n7.21. Let \\( a, b, c \\in \\mathbb{Z} \\) and suppose that \\( \\gcd(a, b) = 2 \\) and \\( \\gcd(b, c) = 2 \\). Then \\( \\gcd(a, c) = 2 \\).\r\n\r\n7.22. Let \\( a, b \\in \\mathbb{Z} \\). Then \\( \\gcd(a, b) = \\gcd(a, \\gcd(a, b)) \\).\r\n\r\n7.23. Let \\( a, b \\geq 2 \\). Then \\( \\gcd(a, b) = \\text{lcm}(a, b) \\).\r\n\r\n7.24. Let \\( n \\in \\mathbb{Z} \\). Then \\( n^2 + 1 \\) is coprime to \\( n^4 + n^2 + 1 \\).\r\n\r\n7.25. Let \\( p \\in \\mathbb{Z} \\) be prime. Then \\( p \\) is coprime to all integers \\( a \\neq p \\).\r\n\r\n7.26. Let \\( p, q, r, s \\in \\mathbb{Z} \\) be positive primes and suppose that \\( pq = rs \\). Then \\( p = r \\) and \\( q = s \\).\r\n\r\n7.27. Let \\( p_1, p_2, \\ldots, p_s, q_1, q_2, \\ldots, q_t \\in \\mathbb{Z} \\) be prime and suppose that \\( p_1 p_2 \\ldots p_s = q_1 q_2 \\ldots q_t \\). Then \\( s = t \\).\r\n\r\n7.28. Let \\( a, b \\in \\mathbb{Z} \\) and let \\( p \\) be a positive prime. Then \\( p \\mid (a + b)^p - a - b \\).\r\n\r\n7.29. Let \\( n \\geq 0 \\) and let \\( b > 0 \\). Then \\( n \\) is congruent modulo \\( b - 1 \\) to the sum of the digits in its base-\\( b \\) expansion.\r\n</markdown>",
    "Q": "Q: If \\( a, b, c \\in \\mathbb{Z} \\) such that \\( \\gcd(a, b) = 2 \\) and \\( \\gcd(b, c) = 2 \\), can we conclude that \\( \\gcd(a, c) \\) is also equal to 2? ",
    "A": " A: No, it is sometimes true; for example, let \\( a = 2 \\), \\( b = 4 \\), and \\( c = 6 \\), where \\( \\gcd(a, c) = 2\\), but choosing \\( a = 2 \\), \\( b = 4 \\), and \\( c = 10 \\) gives \\( \\gcd(a, c) = 2 \\) as well. However, if \\( a=2 \\), \\( b=4 \\), and \\( c=0 \\), then \\( \\gcd(a, c) = 2\\). Thus, \\( \\gcd(a, c) \\) being equal to 2 is not guaranteed."
  },
  {
    "page": 312,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n## Section 8.1\r\n\r\n# Counting principles\r\n\r\nIn [Section 6.1](#) we were interested in establishing conditions under which a set is finite, and proving that we may perform certain operations on finite sets—such as unions and cartesian products—without losing the property of finiteness.\r\n\r\nIn this section, our attention turns to the task of finding the size of a set that is known to be finite. This process is called *counting* and is at the core of the mathematical field of combinatorics.\r\n\r\n### Binomials and factorials revisited\r\n\r\nWe defined binomial coefficients \\(\\binom{n}{k}\\) and factorials \\(n!\\) recursively in [Chapter 4](#), and proved elementary facts about them by induction. We will now re-define them combinatorially—that is, we give them meaning in terms of sizes of particular finite sets. We will prove that the combinatorial and recursive definitions are equivalent, and prove facts about them using combinatorial arguments.\r\n\r\nThe reasons for doing so are manifold. The combinatorial definitions allow us to reason about binomials and factorials with direct reference to descriptions of finite sets, which will be particularly useful when we prove identities about them using *double counting*. Moreover, the combinatorial definitions remove the seemingly arbitrary nature of the recursive definitions—for example, they provide a reason why it makes sense to define \\(0! = 1\\) and \\(\\binom{0}{0} = 1\\).\r\n\r\n✦ **Definition 8.1.1**  \r\nLet \\(X\\) be a set and let \\(k \\in \\mathbb{N}\\). A *k-element subset* of \\(X\\) is a subset \\(U \\subseteq X\\) such that \\(|U| = k\\). The set of all k-element subsets of \\(X\\) is denoted \\(\\binom{X}{k}\\) (read: ‘X choose k’) ([LaTeX code: \\texttt{\\textbackslash binom\\{X\\}\\{k\\}}]).\r\n\r\nIntuitively, \\(\\binom{X}{k}\\) is the set of ways of picking \\(k\\) elements from \\(X\\), without repetitions, in such a way that order doesn’t matter. (If order mattered, the elements would be *sequences* instead of subsets.)\r\n\r\n✐ **Example 8.1.2**  \r\nWe find \\(\\binom{[4]}{k}\\) for all \\(k \\in \\mathbb{N}\\).\r\n\r\n- \\(\\binom{[4]}{0} = \\{\\emptyset\\}\\) since the only set with 0 elements is \\(\\emptyset\\);\r\n</markdown>",
    "Q": "Q: What is the combinatorial meaning of the binomial coefficient \\(\\binom{n}{k}\\) in terms of a set \\(X\\) with \\(n\\) elements?  \r\n",
    "A": "  \r\nA: The binomial coefficient \\(\\binom{n}{k}\\) represents the number of ways to choose \\(k\\) elements from a set \\(X\\) with \\(n\\) elements, where the order of selection does not matter and repetitions are not allowed."
  },
  {
    "page": 313,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n## Section 8.1. Counting principles\r\n\r\n- \\( \\binom{[4]}{1} = \\{ \\{1\\}, \\{2\\}, \\{3\\}, \\{4\\} \\} \\);\r\n- \\( \\binom{[4]}{2} = \\{ \\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}, \\{2,4\\}, \\{3,4\\} \\} \\);\r\n- \\( \\binom{[4]}{3} = \\{ \\{1,2,3\\}, \\{1,2,4\\}, \\{1,3,4\\}, \\{2,3,4\\} \\} \\);\r\n- \\( \\binom{[4]}{4} = \\{ \\{1,2,3,4\\} \\} \\);\r\n\r\n- If \\( k > 5 \\) then \\( \\binom{[4]}{k} = \\emptyset \\), since by Exercise 6.1.17, no subset of \\([4]\\) can have more than 4 elements.\r\n\r\n### Proposition 8.1.3\r\n\r\nIf \\( X \\) is a finite set, then \\( \\mathcal{P}(X) = \\bigcup_{k \\leq |X|} \\binom{X}{k} \\).\r\n\r\n**Proof**\r\n\r\nLet \\( U \\subseteq X \\). By Exercise 6.1.17, \\( U \\) is finite and \\(|U| \\leq |X|\\). Thus \\( U \\in \\binom{X}{|U|} \\), and hence\r\n\r\n\\[\r\nU \\in \\bigcup_{k \\leq |X|} \\binom{X}{k}.\r\n\\]\r\n\r\nThis proves that \\( \\mathcal{P}(X) \\subseteq \\bigcup_{k \\leq |X|} \\binom{X}{k} \\).\r\n\r\nThe fact that \\( \\bigcup_{k \\leq |X|} \\binom{X}{k} \\subseteq \\mathcal{P}(X) \\) is immediate, since elements of \\( \\binom{X}{k} \\) are defined to be subsets of \\( X \\), and hence elements of \\( \\mathcal{P}(X) \\).\r\n\r\n### Definition 8.1.4\r\n\r\nLet \\( n, k \\in \\mathbb{N} \\). Denote by \\( \\binom{n}{k} \\) (read: ‘n choose k’) the number of \\( k \\)-element subsets of \\([n]\\). That is, we define \\( \\binom{n}{k} = \\left| \\binom{[n]}{k} \\right| \\). The numbers \\( \\binom{n}{k} \\) are called binomial coefficients.\r\n\r\nSome authors use the notation \\( nC_k \\) or \"C_k\" instead of \\( \\binom{n}{k} \\). We avoid this, as it is unnecessarily clunky.\r\n\r\nIntuitively, \\( \\binom{n}{k} \\) is the number of ways of selecting \\( k \\) things from \\( n \\), without repetitions, in such a way that order doesn’t matter.\r\n\r\nThe value behind this notation is that it allows us to express huge numbers in a concise and meaningful way. For example,\r\n\r\n\\[\r\n\\binom{4000}{11} = 103\\,640\\,000\\,280\\,154\\,258\\,645\\,590\\,429\\,564\\,000\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the value of \\( \\binom{5}{2} \\) and what does it represent in terms of combinations? ",
    "A": " A: The value of \\( \\binom{5}{2} \\) is \\( 10 \\), which represents the number of ways to choose 2 elements from a set of 5 elements without regard to the order."
  },
  {
    "page": 314,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nAlthough these two numbers are equal, their *expressions* are very different; the expression on the left is meaningful, but the expression on the right is completely meaningless out of context.\r\n\r\n### ✤ Writing tip\r\nWhen expressing the sizes of finite sets described combinatorially, it is best to *avoid* evaluating the expression; that is, leave in the powers, products, sums, binomial coefficients and factorials! The reason for this is that performing the calculations takes the meaning away from the expressions.\r\n\r\n### 🖹 Example 8.1.5\r\nIn Example 8.1.2 we proved that:\r\n\r\n\\[\r\n\\binom{4}{0} = 1, \\quad \\binom{4}{1} = 4, \\quad \\binom{4}{2} = 6, \\quad \\binom{4}{3} = 4, \\quad \\binom{4}{4} = 1\r\n\\]\r\n\r\nand that \\(\\binom{4}{k} = 0\\) for all \\(k > 5\\).\r\n\r\n### 🖹 Exercise 8.1.6\r\nFix \\(n \\in \\mathbb{N}\\). Prove that \\(\\binom{n}{0} = 1\\), \\(\\binom{n}{1} = n\\) and \\(\\binom{n}{n} = 1\\).\r\n\r\n### ✦ Definition 8.1.7\r\nLet \\(X\\) be a set. A *permutation* of \\(X\\) is a bijection \\(X \\to X\\). Denote the set of all permutations of \\(X\\) by \\(\\mathrm{Sym}(X)\\) and write \\(S_n = \\mathrm{Sym}([n])\\) for \\(n \\in \\mathbb{N}\\).\r\n\r\n### 🖹 Example 8.1.8\r\nThere are six permutations of the set \\([3]\\). Representing each \\(f \\in S_3\\) by the ordered triple \\((f(1), f(2), f(3))\\), these permutations are thus given by\r\n\r\n\\[\r\n(1, 2, 3), \\quad (1, 3, 2), \\quad (2, 1, 3), \\quad (2, 3, 1), \\quad (3, 1, 2), \\quad (3, 2, 1)\r\n\\]\r\n\r\nFor example, \\((2, 3, 1)\\) represents the permutation \\(f : [3] \\to [3]\\) defined by \\(f(1) = 2\\), \\(f(2) = 3\\) and \\(f(3) = 1\\).\r\n\r\n### 🖹 Exercise 8.1.9\r\nList all the permutations of the set \\([4]\\).\r\n\r\n### ✦ Definition 8.1.10\r\nLet \\(n \\in \\mathbb{N}\\). Denote by \\(n!\\) (read: ‘n factorial’) the number of permutations of a set of size \\(n\\). That is, \\(n! = |S_n|\\). The numbers \\(n!\\) are called *factorials*.\r\n\r\n### 🖹 Example 8.1.11\r\nExample 8.1.8 shows that \\(3! = 6\\).\r\n</markdown>",
    "Q": "Q: How many permutations are there for the set \\([5]\\) and what is the value of \\(5!\\)? ",
    "A": " A: There are \\(120\\) permutations for the set \\([5]\\), and the value of \\(5!\\) is equal to \\(120\\)."
  },
  {
    "page": 315,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n# Products and procedures\r\n\r\nWe saw in Proposition 6.1.23 that, given two finite sets \\( X \\) and \\( Y \\), the product \\( X \\times Y \\) is finite. We also found a formula for its size, namely \\( |X \\times Y| = |X| \\cdot |Y| \\). The *multiplication principle* (Strategy 8.1.20) generalises this formula to products that may contain any finite number of sets, not just two.\r\n\r\n### Lemma 8.1.12\r\n\r\nLet \\(\\{X_1, \\ldots, X_n\\}\\) be a family of finite sets, with \\( n \\geq 1 \\). Then \\(\\prod_{i=1}^{n} X_i\\) is finite, and\r\n\r\n\\[\r\n\\left| \\prod_{i=1}^{n} X_i \\right| = |X_1| \\cdot |X_2| \\cdot \\ldots \\cdot |X_n|\r\n\\]\r\n\r\n**Proof**\r\n\r\nWe proceed by induction on \\( n \\).\r\n\r\n- **(Base case)** When \\( n = 1 \\), an element of \\(\\prod_{i=1}^{1} X_i\\) is ‘officially’ a sequence \\((x_1)\\) with \\( x_1 \\in X_1 \\). This is the same as an element of \\( X_1 \\), in the sense that the assignments \\((x_1) \\mapsto x_1\\) and \\( x_1 \\mapsto (x_1)\\) define mutually inverse (hence bijective) functions between \\(\\prod_{i=1}^{1} X_i\\) and \\( X_1 \\), and so\r\n\r\n  \\[\r\n  \\left| \\prod_{i=1}^{1} X_i \\right| = |X_1|\r\n  \\]\r\n\r\n- **(Induction step)** Fix \\( n \\in \\mathbb{N} \\), and suppose that\r\n\r\n  \\[\r\n  \\left| \\prod_{i=1}^{n} X_i \\right| = |X_1| \\cdot |X_2| \\cdot \\ldots \\cdot |X_n|\r\n  \\]\r\n\r\n  for all sets \\( X_i \\) for \\( i \\in [n] \\). This is our induction hypothesis.\r\n\r\nNow let \\( X_1, \\ldots, X_n, X_{n+1} \\) be sets. We define a function\r\n\r\n\\[\r\nF : \\prod_{i=1}^{n+1} X_i \\to \\left( \\prod_{i=1}^{n} X_i \\right) \\times X_{n+1}\r\n\\]\r\n\r\nby letting \\( F((x_1, \\ldots, x_n, x_{n+1})) = ((x_1, \\ldots, x_n), x_{n+1}) \\). It is again easy to check that \\( F \\) is a bijection, and hence\r\n\r\n\\[\r\n\\left| \\prod_{i=1}^{n+1} X_i \\right| = \\left| \\prod_{i=1}^{n} X_i \\right| \\cdot |X_{n+1}|\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( |X| = 3 \\) and \\( |Y| = 4 \\), what is the size of the product \\( |X \\times Y| \\)? ",
    "A": " A: \\( |X \\times Y| = |X| \\cdot |Y| = 3 \\cdot 4 = 12 \\)."
  },
  {
    "page": 316,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nby Proposition 6.1.23. Applying the induction hypothesis, we obtain the desired result, namely\r\n\r\n\\[\r\n\\left| \\prod_{i=1}^{n+1} X_i \\right| = |X_1| \\cdot |X_2| \\cdot \\ldots \\cdot |X_n| \\cdot |X_{n+1}|\r\n\\]\r\n\r\nBy induction, we’re done. □\r\n\r\nLemma 8.1.12 gives rise to a useful strategy for computing the size of a finite set \\( X \\)—see Strategy 8.1.13. Intuitively, by devising a step-by-step procedure for specifying an element of \\( X \\), we are constructing a cartesian product \\(\\prod_{k=1}^{n} X_k\\), where \\( X_k \\) is the set of choices to be made in the \\( k \\)th step. This establishes a bijection \\(\\prod_{k=1}^{n} X_k \\to X\\), which by bijective proof (Strategy 6.1.16(c)) lets us compute \\( |X| \\) as the product of the numbers of choices that can be made in each step.\r\n\r\n### Strategy 8.1.13 (Multiplication principle (independent version))\r\nLet \\( X \\) be a finite set. In order to compute \\( |X| \\), it suffices to find a step-by-step procedure for specifying elements of \\( X \\), such that:\r\n\r\n- Each element is specified by a unique sequence of choices;\r\n- Each step in the procedure is independent of the previous step;\r\n- There are finitely many choices to be made at each step.\r\n\r\nIf there are \\( n \\in \\mathbb{N} \\) steps and \\( m_k \\in \\mathbb{N} \\) possible choices in the \\( k \\)th step, then \\( |X| = \\prod_{k=1}^{n} m_k \\).\r\n\r\n### Example 8.1.14\r\nYou go to an ice cream stand selling the following flavours:\r\n\r\nvanilla, strawberry, chocolate, rum and raisin, mint choc chip, toffee crunch\r\n\r\nYou can have your ice cream in a tub, a regular cone or a choco-cone. You can have one, two or three scoops. We will compute how many options you have.\r\n\r\nTo select an ice cream, you follow the following procedure:\r\n\r\n- **Step 1.** Choose a flavour. There are 6 ways to do this.\r\n</markdown>",
    "Q": "Q: What is the total number of unique options available for selecting an ice cream if there are 6 flavours, 3 types of serving, and a choice of 1, 2, or 3 scoops? ",
    "A": " A: The total number of unique options is \\( |X| = 6 \\text{ (flavours)} \\times 3 \\text{ (types of serving)} \\times 3 \\text{ (scoops)} = 54 \\)."
  },
  {
    "page": 317,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n**Step 2.** Choose whether you’d like it in a tub, regular cone or choco-cone. There are 3 ways to do this.\r\n\r\n**Step 3.** Choose how many scoops you’d like. There are 3 ways to do this.\r\n\r\nHence there are \\(6 \\times 3 \\times 3 = 54\\) options in total.\r\n\r\nThis may feel informal, but really what we are doing is establishing a bijection. Letting \\(X\\) be the set of options, the above procedure defines a bijection\r\n\r\n\\[ F \\times C \\times S \\to X \\]\r\n\r\nwhere \\(F\\) is the set of flavours, \\(C = \\{\\text{tub, regular cone, choco-cone}\\}\\) and \\(S = [3]\\) is the set of possible numbers of scoops.\r\n\r\n✿ **Example 8.1.15**\r\n\r\nWe will prove that \\(|\\mathcal{P}(X)| = 2^{|X|}\\) for all finite sets \\(X\\).\r\n\r\nLet \\(X\\) be a finite set and let \\(n = |X|\\). Write\r\n\r\n\\[ X = \\{x_k \\mid k \\in [n]\\} = \\{x_1, x_2, \\ldots, x_n\\} \\]\r\n\r\nIntuitively, specifying an element of \\(\\mathcal{P}(X)\\)—that is, a subset \\(U \\subseteq X\\)—is equivalent to deciding, for each \\(k \\in [n]\\), whether \\(x_k \\in U\\) or \\(x_k \\notin U\\) (‘in or out’), which in turn is equivalent to specifying an element of \\(\\{in, out\\}^n\\).\r\n\r\nFor example, taking \\(X = [7]\\), the subset \\(U = \\{1, 2, 6\\}\\) corresponds with the choices\r\n\r\n1 in, 2 in, 3 out, 4 out, 5 out, 6 in, 7 out\r\n\r\nand hence the element \\((in, in, out, out, out, in, out) \\in \\{in, out\\}^7\\).\r\n\r\nThis defines a function \\(i : \\mathcal{P}(X) \\to \\{in, out\\}^n\\). This function is injective, since different subsets determine different sequences; and it is surjective, since each sequence determines a subset.\r\n\r\nThe above argument is sufficient for most purposes, but since this is the first bijective proof we have come across, we now give a more formal presentation of the details.\r\n\r\nDefine a function\r\n\r\n\\[ i : \\mathcal{P}(X) \\to \\{in, out\\}^n \\]\r\n\r\nby letting the \\(k\\)th component of \\(i(U)\\) be ‘in’ if \\(x_k \\in U\\) or ‘out’ if \\(x_k \\notin U\\), for each \\(k \\in [n]\\).\r\n\r\nWe prove that \\(i\\) is a bijection.\r\n</markdown>",
    "Q": "Q: If \\(X\\) is a finite set with \\(|X| = 5\\), how many subsets does \\(X\\) have? ",
    "A": " A: Since \\(|\\mathcal{P}(X)| = 2^{|X|}\\), the number of subsets of \\(X\\) is \\(2^{5} = 32\\)."
  },
  {
    "page": 318,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n- *i* is injective. To see this, take \\( U, V \\subseteq X \\) and suppose \\( i(U) = i(V) \\). We prove that \\( U = V \\). So fix \\( x \\in X \\) and let \\( k \\in [n] \\) be such that \\( x = x_k \\). Then\r\n\r\n  \\[\r\n  x \\in U \\iff \\text{the } k\\text{th component of } i(U) \\text{ is ‘in’} \\quad \\text{by definition of } i\r\n  \\]\r\n  \\[\r\n  \\iff \\text{the } k\\text{th component of } i(V) \\text{ is ‘in’} \\quad \\text{since } i(U) = i(V)\r\n  \\]\r\n  \\[\r\n  \\iff x \\in V \\quad \\text{by definition of } i\r\n  \\]\r\n\r\n  so indeed we have \\( U = V \\), as required.\r\n\r\n- *i* is surjective. To see this, let \\( v \\in \\{ \\text{in, out} \\}^n \\), and let\r\n\r\n  \\[\r\n  U = \\{ x_k \\mid \\text{the } k\\text{th component of } v \\text{ is ‘in’} \\}\r\n  \\]\r\n\r\n  Then \\( i(U) = v \\), since for each \\( k \\in [n] \\) we have \\( x_k \\in U \\) if and only if the \\( k \\)th component of \\( v \\) is ‘in’, which is precisely the definition of \\( i(U) \\).\r\n\r\nHence\r\n\r\n\\[\r\n|\\mathcal{P}(X)| = |\\{\\text{in, out}\\}^n| = 2^n\r\n\\]\r\n\r\nas required.\r\n\r\nSome authors actually write \\( 2^X \\) to refer to the power set of a set \\( X \\). This is justified by Example 8.1.15.\r\n\r\n**Exercise 8.1.16**  \r\nLet \\( X \\) and \\( Y \\) be finite sets, and recall that \\( Y^X \\) denotes the set of functions from \\( X \\) to \\( Y \\). Prove that \\( |Y^X| = |Y|^{|X|} \\).\r\n\r\n**Exercise 8.1.17**  \r\nSince September 2001, car number plates on the island of Great Britain have taken the form XX NN XXX, where each X can be any letter of the alphabet except for ‘I’, ‘Q’ or ‘Z’, and NN is the last two digits of the year. [This is a slight simplification of what is really the case, but let’s not concern ourselves with too many details!] How many possible number plates are there? Number plates of vehicles registered in the region of Yorkshire begin with the letter ‘Y’. How many Yorkshire number plates can be issued in a given year?\r\n\r\nThe multiplication principle in the form of Strategy 8.1.13 does not allow for steps later in a procedure to depend on those earlier in the procedure. To see why this is a problem, suppose we want to count the size of the set \\( X = \\{ (a, b) \\in [n] \\times [n] \\mid a \\neq b \\} \\). A step-by-step procedure for specifying such an element is as follows:\r\n\r\n- **Step 1.** Select an element \\( a \\in [n] \\). There are \\( n \\) choices.\r\n\r\n- **Step 2.** Select an element \\( b \\in [n] \\) with \\( b \\neq a \\). There are \\( n - 1 \\) choices.\r\n</markdown>",
    "Q": "Q: Given a set \\( X \\) with \\( |X| = n \\), how many functions can be defined from \\( X \\) to itself? ",
    "A": " A: The number of functions from \\( X \\) to itself is \\( |X|^{|X|} = n^n \\)."
  },
  {
    "page": 319,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nWe would like to use Strategy 8.1.13 to deduce that \\(|X| = n(n - 1)\\). Unfortunately, this is not valid because the possible choices available to us in Step 2 depend on the choice made in Step 1. Elements of cartesian products do not depend on one another, and so the set of sequences of choices made cannot necessarily be expressed as a cartesian product of two sets. Thus we cannot apply Lemma 8.1.12. Oh no!\r\n\r\nHowever, provided that the *number* of choices in each step remains constant, in spite of the choices themselves changing, it turns out that we can still compute the size of the set in question by multiplying together the numbers of choices.\r\n\r\nThis is what we prove next. We begin with a pairwise version (analogous to Exercise 6.1.22) and then prove the general version by induction (like in Lemma 8.1.12).\r\n\r\n### Lemma 8.1.18\r\nFix \\(m, n \\in \\mathbb{N}\\). Let \\(X\\) be a finite set with \\(|X| = m\\), and for each \\(a \\in X\\), let \\(Y_a\\) be a finite set with \\(|Y_a| = n\\). Then the set\r\n\r\n\\[ \r\nP = \\{(a, b) \\mid a \\in X \\text{ and } b \\in Y_a \\} \r\n\\]\r\n\r\nis finite and \\(|P| = mn\\).\r\n\r\n**Proof**\r\n\r\nFix bijections \\(f : [m] \\to X\\) and \\(g_a : [n] \\to Y_a\\) for each \\(a \\in X\\). Define \\(h : [m] \\times [n] \\to P\\) by letting \\(h(i, j) = (f(i), g_{f(i)}(j))\\) for each \\((i, j) \\in [m] \\times [n]\\). Then:\r\n\r\n- \\(h\\) is well-defined, since for all \\(i \\in [m]\\) and \\(j \\in [n]\\) we have \\(f(i) \\in X\\) and \\(g_{f(i)}(j) \\in Y_{f(i)}\\).\r\n\r\n- \\(h\\) is injective. To see this, fix \\((i, j), (k, \\ell) \\in [m] \\times [n]\\) and assume that \\(h(i, j) = h(k, \\ell)\\). Then \\((f(i), g_{f(i)}(j)) = (f(k), g_{f(k)}(\\ell))\\), so that \\(f(i) = f(k)\\) and \\(g_{f(i)}(j) = g_{f(k)}(\\ell)\\). Since \\(f\\) is injective, we have \\(i = k\\)—therefore \\(g_{f(i)}(j) = g_{f(i)}(\\ell)\\), and then since \\(g_{f(i)}\\) is injective, we have \\(j = \\ell\\). Thus \\((i, j) = (k, \\ell)\\), as required.\r\n\r\n- \\(h\\) is surjective. To see this, let \\((a, b) \\in P\\). Since \\(f\\) is surjective and \\(a \\in X\\), we have \\(a = f(i)\\) for some \\(i \\in [m]\\). Since \\(g_a\\) is surjective and \\(b \\in Y_a\\), we have \\(b = g_a(j)\\) for some \\(j \\in [n]\\). But then\r\n\r\n  \\[\r\n  (a, b) = (f(i), g_a(j)) = (f(i), g_{f(i)}(j)) = h(i, j)\r\n  \\]\r\n\r\n  so that \\(h\\) is surjective.\r\n\r\nSince \\(h\\) is a bijection, we have \\(|P| = |[m] \\times [n]|\\) by Theorem 6.1.14(iii), which is equal to \\(mn\\) by Proposition 6.1.23. □\r\n\r\nWe are now ready to state and prove the theorem giving rise to the multiplication principle in its full generality.\r\n</markdown>",
    "Q": "Q: If \\(|X| = 3\\) and each \\(Y_a\\) has \\(|Y_a| = 4\\), what is the size of the set \\(P = \\{(a, b) \\mid a \\in X \\text{ and } b \\in Y_a \\}\\)?  \r\n",
    "A": "  \r\nA: The size of the set \\(P\\) is \\(|P| = 3 \\times 4 = 12\\)."
  },
  {
    "page": 320,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Theorem 8.1.19 (Multiplication principle)\r\n\r\nLet \\( n \\geq 1 \\) and \\( m_1, m_2, \\ldots, m_n \\in \\mathbb{N} \\). Suppose for each \\( i \\in [n] \\) that we are given finite sets \\( X_{a_1, \\ldots, a_{i-1}}^{(i)} \\) with \\(|X_{a_1, \\ldots, a_{i-1}}^{(i)}| = m_i\\), where \\( a_j \\in X_{a_1, \\ldots, a_{j-1}}^{(j)} \\) for each \\( j < i \\). Define\r\n\r\n\\[\r\nP = \\{ (a_1, a_2, \\ldots, a_n) \\mid a_1 \\in X^{(1)}, a_2 \\in X_{a_1}^{(2)}, \\ldots, a_n \\in X_{a_1, \\ldots, a_{n-1}}^{(n)} \\}\r\n\\]\r\n\r\nThen \\( P \\) is finite and \\(|P| = m_1 \\times m_2 \\times \\cdots \\times m_n\\).\r\n\r\n#### Proof\r\n\r\nWe proceed by induction on \\( n \\geq 1 \\).\r\n\r\n- **(Base case)** When \\( n = 1 \\), the statement says that given \\( m_1 \\in \\mathbb{N} \\) and a finite set \\( X^{(1)} \\) with \\(|X^{(1)}| = m_1\\), then \\( P = \\{ (a_1) \\mid a_1 \\in X^{(1)} \\} \\) is finite and \\(|P| = m_1\\). This is true, since the function \\( X^{(1)} \\to P \\) defined by \\( a \\mapsto (a) \\) is evidently a bijection.\r\n\r\n- **(Induction step)** Fix \\( n \\geq 1 \\) and assume that the statement is true for this value of \\( n \\).\r\n\r\nLet \\( m_1, m_2, \\ldots, m_n, m_{n+1} \\in \\mathbb{N} \\) and suppose that we are given finite sets \\( X_{a_1, \\ldots, a_{i-1}}^{(i)} \\) for each \\( i \\in [n+1] \\) just as in the statement of the theorem, and let\r\n\r\n\\[\r\nP = \\{ (a_1, a_2, \\ldots, a_{n+1}) \\mid a_1 \\in X^{(1)}, a_2 \\in X_{a_1}^{(2)}, \\ldots, a_{n+1} \\in X_{a_1, \\ldots, a_n}^{(n+1)} \\}\r\n\\]\r\n\r\nWe need to prove that \\(|P| = m_1 \\times m_2 \\times \\cdots \\times m_n \\times m_{n+1}\\).\r\n\r\nSo define\r\n\r\n\\[\r\nQ = \\{ (a_1, a_2, \\ldots, a_n) \\mid a_1 \\in X^{(1)}, a_2 \\in X_{a_1}^{(2)}, \\ldots, a_n \\in X_{a_1, \\ldots, a_{n-1}}^{(n)} \\}\r\n\\]\r\n\r\nand, given \\( q = (a_1, \\ldots, a_n) \\in Q \\), define \\( Y_q = X_{a_1, \\ldots, a_n}^{(n+1)} \\). Observe that there is an evident bijection\r\n\r\n\\[\r\n\\{ (q, a_{n+1}) \\mid q \\in Q, a_{n+1} \\in Y_q \\} \\to P\r\n\\]\r\n\r\ndefined by \\(((a_1, a_2, \\ldots, a_n), a_{n+1}) \\mapsto (a_1, a_2, \\ldots, a_n, a_{n+1})\\).\r\n\r\nNow \\(|Q| = m_1 \\times m_2 \\times \\cdots \\times m_n\\), and \\(|Y_q| = m_{n+1}\\) for each \\( q \\in Q \\), so it follows from Lemma 8.1.18 that\r\n\r\n\\[\r\n|P| = (m_1 \\times m_2 \\times \\cdots \\times m_n) \\times m_{n+1} = m_1 \\times m_2 \\times \\cdots \\times m_n \\times m_{n+1}\r\n\\]\r\n\r\nas required.\r\n\r\nStrategy 8.1.20 summarises how Theorem 8.1.19 is useful in our proofs.\r\n</markdown>",
    "Q": "Q: If \\( m_1 = 2 \\), \\( m_2 = 3 \\), and \\( m_3 = 4 \\), what is the total number of elements in the set \\( P \\) as defined by Theorem 8.1.19? ",
    "A": " A: The total number of elements in the set \\( P \\) is \\( m_1 \\times m_2 \\times m_3 = 2 \\times 3 \\times 4 = 24 \\)."
  },
  {
    "page": 321,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Strategy 8.1.20 (Counting using the multiplication principle)\r\n\r\nLet \\( X \\) be a finite set. In order to compute \\(|X|\\), it suffices to find a step-by-step procedure for specifying elements of \\( X \\), such that:\r\n\r\n- Each element is specified by a unique sequence of choices;\r\n- The choices available in each step depend only on choices made in previous steps;\r\n- There are finitely many choices available in each step;\r\n- The *number* of choices available in each step does not depend on choices made in previous steps;\r\n\r\nIf there are \\( n \\in \\mathbb{N} \\) steps and \\( m_k \\in \\mathbb{N} \\) possible choices in the \\( k \\)th step, then \\(|X| = \\prod_{k=1}^{n} m_k\\).\r\n\r\n### Example 8.1.21\r\n\r\nWe prove that there are six bijections \\([3] \\to [3]\\). We can specify a bijection \\( f : [3] \\to [3] \\) according to the following procedure.\r\n\r\n- **Step 1.** Choose the value of \\( f(1) \\). There are 3 choices.\r\n\r\n- **Step 2.** Choose the value of \\( f(2) \\). The values \\( f(2) \\) can take depend on the chosen value of \\( f(1) \\).\r\n  - If \\( f(1) = 1 \\), then \\( f(2) \\) can be equal to 2 or 3.\r\n  - If \\( f(1) = 2 \\), then \\( f(2) \\) can be equal to 1 or 3.\r\n  - If \\( f(1) = 3 \\), then \\( f(2) \\) can be equal to 1 or 2.\r\n\r\n  In each case, there are 2 choices for the value of \\( f(2) \\).\r\n\r\n- **Step 3.** Choose the value of \\( f(3) \\). The values \\( f(3) \\) can take depend on the values of \\( f(1) \\) and \\( f(2) \\). We could split into the (six!) cases based on the values of \\( f(1) \\) and \\( f(2) \\) chosen in Steps 1 and 2; but we won’t. Instead, note that \\(\\{f(1), f(2)\\}\\) has two elements, and by injectivity \\( f(3) \\) must have a distinct value, so that \\([3] \\setminus \\{f(1), f(2)\\}\\) has one element. This element must be the value of \\( f(3) \\). Hence there is only possible choice of \\( f(3) \\).\r\n\r\nBy the multiplication principle, there are \\( 3 \\times 2 \\times 1 = 6 \\) bijections \\([3] \\to [3]\\).\r\n\r\n### Exercise 8.1.22\r\n\r\nCount the number of injections \\([3] \\to [4]\\).\r\n\r\n### Example 8.1.23\r\n\r\nWe count the number of ways we can shuffle a standard deck of cards in such a way that the colour of the cards alternate between red and black.\r\n</markdown>",
    "Q": "Q: How many distinct injections can be formed from the set \\([4]\\) to the set \\([3]\\)?  \r\n",
    "A": "  \r\nA: There are 0 distinct injections from \\([4]\\) to \\([3]\\) because an injection requires distinct elements in the codomain for every element in the domain, and there aren't enough elements in \\([3]\\) to cover all four elements in \\([4]\\)."
  },
  {
    "page": 322,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nA procedure for choosing the order of the cards is as follows:\r\n\r\n(i) Choose the colour of the first card. There are 2 such choices. This then determines the colours of the remaining cards, since they have to alternate.\r\n\r\n(ii) Choose the order of the red cards. There are 26! such choices.\r\n\r\n(iii) Choose the order of the black cards. There are 26! such choices.\r\n\r\nBy the multiplication principle, there are \\(2 \\cdot (26!)^2\\) such rearrangements. This number is huge, and in general there is no reason to write it out. Just for fun, though:\r\n\r\n325 288 005 235 264 929 014 077 766 819 257 214 042 112 000 000 000 000\r\n\r\n## Sums and partitions\r\n\r\nWe saw in Proposition 6.1.19 that, given two finite sets \\(X\\) and \\(Y\\), the union \\(X \\cup Y\\) is finite. We also found formulae for their size, namely \\(|X \\cup Y| = |X| + |Y| - |X \\cap Y|\\). The addition principle (Strategy 8.1.26) generalises this formula to any finite number of sets, provided the sets have no elements in common with one another—that is they are pairwise disjoint. [The hypothesis of pairwise disjointness is removed in the inclusion–exclusion principle, which is studied in Section 8.2.]\r\n\r\nIf you have not covered Section 5.2 yet, you are encouraged to take a brief detour to read from Definition 5.2.21 to Exercise 5.2.26; the definition of a partition of a set is recalled below.\r\n\r\n✦ **Definition 5.2.21**  \r\nA **partition** of a set \\(X\\) is a collection \\(\\mathcal{U} = \\{U_i \\mid i \\in I\\}\\) of subsets of \\(X\\) such that the following conditions hold:\r\n\r\n(a) For each \\(i \\in I\\), the subset \\(U_i\\) is inhabited;\r\n\r\n(b) The sets \\(U_i\\) for \\(i \\in I\\) are pairwise disjoint—that is, \\(U_i \\cap U_j\\) is empty for all \\(i, j \\in I\\) with \\(i \\neq j\\);\r\n\r\n(c) \\(\\bigcup_{i \\in I} U_i = X\\).\r\n\r\nIn this section, we will simplify matters in two ways:\r\n</markdown>",
    "Q": "Q: How can we verify if a collection \\(\\mathcal{U} = \\{U_1, U_2, \\ldots, U_n\\}\\) forms a partition of a set \\(X\\)? ",
    "A": " A: To verify if \\(\\mathcal{U}\\) is a partition of \\(X\\), ensure that: (1) each \\(U_i\\) is non-empty, (2) \\(U_i \\cap U_j = \\emptyset\\) for all \\(i \\neq j\\), and (3) \\(\\bigcup_{i=1}^{n} U_i = X\\)."
  },
  {
    "page": 323,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n- When we say ‘partition’ in this section (and [Section 8.2](#)), we will allow the sets in the partition to be empty—that is, we will just need conditions (b) and (c) of [Definition 5.2.21](#) to hold.\r\n\r\n- Since our sets are finite, so will the index set \\( I \\) be; so we will only ever partition our sets into finitely many pieces. That is, all of our partitions will take form \\(\\{U_1, U_2, \\ldots, U_n\\}\\) for some \\( n \\in \\mathbb{N} \\).\r\n\r\nWith all of this said, let’s get right to it.\r\n\r\n### Theorem 8.1.24 (Addition principle)\r\nLet \\( X \\) be a set and let \\(\\{U_1, \\ldots, U_n\\}\\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\), such that each set \\( U_i \\) is finite. Then \\( X \\) is finite, and\r\n\r\n\\[\r\n|X| = |U_1| + |U_2| + \\cdots + |U_n|\r\n\\]\r\n\r\n### Exercise 8.1.25\r\nProve [Theorem 8.1.24](#). The proof follows the same pattern as that of [Lemma 8.1.12](#). Be careful to make sure you identify where you use the hypothesis that the sets \\( U_i \\) are pairwise disjoint!\r\n\r\n### Strategy 8.1.26 (Counting using the addition principle)\r\nLet \\( X \\) be a finite set. In order to compute \\( |X| \\), it suffices to find a partition \\( U_1, U_2, \\ldots, U_n \\) of \\( X \\); it then follows that\r\n\r\n\\[\r\n|X| = \\sum_{k=1}^{n} |U_i|.\r\n\\]\r\n\r\n### Example 8.1.27\r\nWe will count the number of inhabited subsets of \\([7]\\) which either contain only even numbers, or contain only odd numbers.\r\n\r\nLet \\( O \\) denote the set of inhabited subsets of \\([7]\\) containing only odd numbers, and let \\( E \\) denote the set of inhabited subsets of \\([7]\\) containing only even numbers. Note that \\(\\{O, E\\}\\) forms a partition of the set we are counting, and so our set has \\(|O| + |E|\\) elements.\r\n\r\n- An element of \\( O \\) must be a subset of \\(\\{1, 3, 5, 7\\}\\). By [Example 8.1.15](#) there are \\(2^4 = 16\\) such subsets. Thus the number of inhabited subsets of \\([7]\\) containing only odd numbers is 15, since we must exclude the empty set. That is, \\(|O| = 15\\).\r\n\r\n- A subset containing only even numbers must be a subset of \\(\\{2, 4, 6\\}\\). Again by [Example 8.1.15](#) there are \\(2^3 = 8\\) such subsets. Hence there are 7 inhabited subsets of \\([7]\\) containing only even numbers. That is, \\(|E| = 7\\).\r\n\r\nHence there are \\(15 + 7 = 22\\) inhabited subsets of \\([7]\\) containing only even or only odd numbers.\r\n</markdown>",
    "Q": "Q: If we partition the set \\( X = \\{1, 2, 3, 4, 5, 6, 7\\} \\) into sets of even and odd numbers, how many inhabited subsets can we find containing only odd numbers or only even numbers? ",
    "A": " A: The number of inhabited subsets containing only odd numbers is 15 (from the set \\( \\{1, 3, 5, 7\\} \\)), and the number of inhabited subsets containing only even numbers is 7 (from the set \\( \\{2, 4, 6\\} \\)). Thus, the total number of inhabited subsets is \\( 15 + 7 = 22 \\)."
  },
  {
    "page": 324,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nnumbers. And here they are:\r\n\r\n\\[\r\n\\{1\\} \\quad \\{3\\} \\quad \\{5\\} \\quad \\{7\\} \\quad \\{1,3\\} \\quad \\{2\\} \\quad \\{4\\} \\quad \\{6\\} \\\\\r\n\\{1,5\\} \\quad \\{1,7\\} \\quad \\{3,5\\} \\quad \\{3,7\\} \\quad \\{5,7\\} \\quad \\{2,4\\} \\quad \\{2,6\\} \\quad \\{4,6\\} \\\\\r\n\\{1,3,5\\} \\quad \\{1,3,7\\} \\quad \\{1,5,7\\} \\quad \\{3,5,7\\} \\quad \\{1,3,5,7\\} \\quad \\{2,4,6\\}\r\n\\]\r\n\r\n**Exercise 8.1.28**  \r\nPick your favourite integer \\( n > 1000 \\). For this value of \\( n \\), how many inhabited subsets of \\([n]\\) contain either only even or only odd numbers? (You need not evaluate exponents.)\r\n\r\nWe now consider some examples of finite sets which use both the multiplication principle and the addition principle.\r\n\r\n**Example 8.1.29**  \r\nA city has \\( 6n \\) inhabitants. The favourite colour of \\( n \\) of the inhabitants is orange, the favourite colour of \\( 2n \\) of the inhabitants is pink, and the favourite colour of \\( 3n \\) of the inhabitants is turquoise. The city government wishes to form a committee with equal representation from the three colour preference groups to decide how the new city hall should be painted. We count the number of ways this can be done.\r\n\r\nLet \\( X \\) be the set of possible committees. First note that\r\n\r\n\\[\r\nX = \\bigcup_{k=0}^{n} X_k\r\n\\]\r\n\r\nwhere \\( X_k \\) is the set of committees with exactly \\( k \\) people from each colour preference group. Indeed, we must have \\( k \\leq n \\), since it is impossible to have a committee with more than \\( n \\) people from the orange preference group.\r\n\r\nMoreover, if \\( k \\neq \\ell \\) then \\( X_k \\cap X_\\ell = \\emptyset \\), since if \\( k \\neq \\ell \\) then a committee cannot simultaneously have exactly \\( k \\) people and exactly \\( \\ell \\) people from each preference group.\r\n\r\nBy the addition principle, we have\r\n\r\n\\[\r\n|X| = \\sum_{k=0}^{n} |X_k|\r\n\\]\r\n\r\nWe count \\( X_k \\) for fixed \\( k \\) using the following procedure:\r\n\r\n- **Step 1.** Choose \\( k \\) people from the orange preference group to be on the committee. There are \\(\\binom{n}{k}\\) choices.\r\n- **Step 2.** Choose \\( k \\) people from the pink preference group to be on the committee. There are \\(\\binom{2n}{k}\\) choices.\r\n</markdown>",
    "Q": "Q: In the context of the city committee formation described, if a committee consists of \\( k = 3 \\) members from each colour preference group, how many different committees can be formed if there are \\( n = 10 \\) inhabitants with a preference for orange, \\( 20 \\) inhabitants for pink, and \\( 30 \\) inhabitants for turquoise? ",
    "A": " A: The number of different committees that can be formed is given by \\( |X_3| = \\binom{10}{3} \\times \\binom{20}{3} \\times \\binom{30}{3} \\). Calculating this yields \\( |X_3| = 120 \\times 1140 \\times 4060 = 5,547,840,000 \\)."
  },
  {
    "page": 325,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Section 8.1. Counting principles\r\n\r\n- **Step 3.** Choose \\( k \\) people from the turquoise preference group to be on the committee. There are \\(\\binom{3n}{k}\\) choices.\r\n\r\nBy the multiplication principle, it follows that \\(|X_k| = \\binom{n}{k} \\binom{2n}{k} \\binom{3n}{k}\\). Hence\r\n\r\n\\[\r\n|X| = \\sum_{k=0}^{n} \\binom{n}{k} \\binom{2n}{k} \\binom{3n}{k}\r\n\\]\r\n\r\n### Exercise 8.1.30\r\n\r\nIn Example 8.1.29, how many ways could a committee be formed with a **representative** number of people from each colour preference group? That is, the proportion of people on the committee which prefer any of the three colours should be equal to the corresponding proportion of the population of the city.\r\n\r\n### Pigeonhole principle\r\n\r\nA nice application of the addition principle is to prove the **pigeonhole principle**, which is used heavily in combinatorics.\r\n\r\nInformally, the pigeonhole principle says that if you assign pigeons to pigeonholes, and there are more pigeons than pigeonholes, then some pigeonhole must have more than one pigeon in it. We can (and do) generalise this slightly: it says that given \\( q \\in \\mathbb{N} \\), if you have more than \\( q \\) times as many pigeons than pigeonholes, then some pigeonhole must have more than \\( q \\) pigeons in it.\r\n\r\nThe proof is deceptively simple.\r\n\r\n#### Theorem 8.1.31 (Pigeonhole principle)\r\n\r\nLet \\( q \\in \\mathbb{N} \\), and let \\( X \\) and \\( Y \\) be finite sets with \\(|X| = m \\in \\mathbb{N}\\) and \\(|Y| = n \\in \\mathbb{N}\\). Then:\r\n\r\n(a) If \\( m > qn \\), then for every function \\( f : X \\to Y \\), there is some \\( a \\in Y \\) such that \\(|f^{-1}(\\{a\\})| > q\\).\r\n\r\n(b) If \\( m \\leq qn \\), then there is a function \\( f : X \\to Y \\) such that \\(|f^{-1}(\\{a\\})| \\leq q\\) for all \\( a \\in Y \\).\r\n\r\n**Proof of (a)**\r\n\r\nSuppose \\( m > qn \\). It follows from Exercise 5.2.25 that the sets \\( f^{-1}(\\{a\\}) \\) partition \\( X \\). Towards a contradiction, assume \\(|f^{-1}(\\{a\\})| \\leq q\\) for all \\( a \\in Y \\). Then by the addition principle\r\n\r\n\\[\r\nm = |X| = \\left| \\bigcup_{a \\in Y} f^{-1}(\\{a\\}) \\right| = \\sum_{a \\in Y} |f^{-1}(\\{a\\})| \\leq \\sum_{a \\in Y} q = |Y| \\cdot q = qn\r\n\\]\r\n</markdown>",
    "Q": "Q: How many different ways can a committee of size \\( k \\) be formed if the population consists of \\( n \\) individuals from each of three different colour preference groups, ensuring the committee reflects the proportional representation of each group? ",
    "A": " A: The number of ways to form the committee is given by \\( \\sum_{k=0}^{n} \\binom{n}{k} \\binom{2n}{k} \\binom{3n}{k} \\)."
  },
  {
    "page": 326,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nThis contradicts the assumption that \\( m > qn \\).\r\n\r\n### Exercise 8.1.32\r\nProve part (b) of Theorem 8.1.31.\r\n\r\n### Example 8.1.33\r\nLet \\( n, k \\in \\mathbb{N} \\). Assume that you have \\( n \\) pairs of socks in a drawer, and each sock is one of \\( k \\) colours. We wish to know how many socks you must take out of the drawer before you can guarantee that you have a matching pair.\r\n\r\nLet \\( C \\) be set of colours of the socks, so that \\( |C| = k \\), and let \\( X \\) be the set of socks that you have selected. We obtain a function \\( f : X \\to C \\) that assigns to each sock \\( x \\) its colour \\( f(x) \\in C \\). Given a colour \\( c \\in C \\), the preimage \\( f^{-1}[\\{c\\}] \\) is the set of socks of colour \\( c \\) that we have selected.\r\n\r\nThus the question becomes: what size must \\( X \\) be in order to have \\( |f^{-1}[\\{c\\}]| \\geq 2 \\) for some \\( c \\in C \\)? [The English translation of this question is: how many socks must we have picked in order for two of the socks to have the same colour?]\r\n\r\nWell, by the pigeonhole principle, we can guarantee \\( |f^{-1}[\\{c\\}]| \\geq 2 \\) (or equivalently \\( > 1 \\)) if and only if \\( |X| > |C| \\). That is, we need to select at least \\( k + 1 \\) socks to guarantee a matching pair.\r\n\r\n### Exercise 8.1.34\r\nSix people are in a room. The atmosphere is tense, since each pair of people is either friends or enemies. There are no allegiances, so for example it is possible for a friend of a friend to be an enemy, or an enemy of a friend to be a friend, and so on. Prove that there is some set of three people that are either all each other’s friends or all each other’s enemies.\r\n\r\n## Double counting\r\n\r\n**Double counting** (also known as **counting in two ways**) is a proof technique that allows us to prove that two natural numbers are equal by establishing they are two expressions for the size of the same set. (More generally, by Theorem 6.1.14(iii), we can relate them to the sizes of two sets which are in bijection.)\r\n\r\nThe proof of Proposition 8.1.35 illustrates this proof very nicely. We proved it already by induction in Example 4.2.13; the combinatorial proof we now provide is much shorter and cleaner.\r\n\r\n### Proposition 8.1.35\r\nLet \\( n \\in \\mathbb{N} \\). Then \\( 2^n = \\sum_{k=0}^{n} \\binom{n}{k} \\).\r\n</markdown>",
    "Q": "Q: If there are \\( n = 10 \\) pairs of socks of \\( k = 3 \\) different colours, what is the minimum number of socks you must take out of the drawer to guarantee that at least one colour has a matching pair? ",
    "A": " A: You must take out at least \\( k + 1 = 3 + 1 = 4 \\) socks to guarantee a matching pair."
  },
  {
    "page": 300,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### ★ Exercise 7.3.49\r\n\r\nGeneralise the Chinese remainder theorem to systems of arbitrarily (finitely) many congruences. That is, given \\( r \\in \\mathbb{N} \\), find precisely the conditions on moduli \\( n_1, n_2, \\ldots, n_r \\) and integers \\( a_1, a_2, \\ldots, a_r \\) such that an integer solution exists to the congruences\r\n\r\n\\[\r\nx \\equiv a_1 \\mod n_1, \\quad x \\equiv a_2 \\mod n_2, \\quad \\ldots \\quad x \\equiv a_r \\mod n_r\r\n\\]\r\n\r\nFind an explicit formula for such a value of \\( x \\), and find a suitable modulus \\( n \\) in terms of \\( n_1, n_2, \\ldots, n_r \\) such that any two solutions to the system of congruences are congruent modulo \\( n \\).\r\n\r\n### ★ Exercise 7.3.50\r\n\r\nProve that gaps between consecutive primes can be made arbitrarily large. That is, prove that for all \\( n \\in \\mathbb{N} \\), there exists an integer \\( a \\) such that the numbers\r\n\r\n\\[\r\na, \\quad a+1, \\quad a+2, \\quad \\ldots, \\quad a+n\r\n\\]\r\n\r\nare all composite.\r\n\r\n### Application: tests for divisibility\r\n\r\nThe language of modular arithmetic provides a practical setting for proving tests for divisibility using number bases. Number bases were introduced in Chapter 0, and we gave a preliminary definition in Definition 0.6 of what a number base is. Our first job will be to justify why this definition makes sense at all—that is, we need to prove that every natural number has a base-\\( b \\) expansion, and moreover, that it only has one of them. Theorem 7.3.51 says exactly this.\r\n\r\n### Theorem 7.3.51\r\n\r\nLet \\( n \\in \\mathbb{N} \\) and let \\( b \\in \\mathbb{N} \\) with \\( b \\geq 2 \\). Then there exist unique \\( r \\in \\mathbb{N} \\) and \\( d_0, d_1, \\ldots, d_r \\in \\{0, 1, \\ldots, b-1\\} \\) such that\r\n\r\n\\[\r\nn = \\sum_{i=0}^{r} d_i b^i\r\n\\]\r\n\r\nand such that \\( d_r \\neq 0 \\), except \\( n = 0 \\), in which case \\( r = 0 \\) and \\( d_0 = 0 \\).\r\n\r\n**Proof**\r\n\r\nWe proceed by strong induction on \\( n \\).\r\n\r\n- (BC) We imposed the requirement that if \\( n = 0 \\) then \\( r = 0 \\) and \\( d_0 = 0 \\); and this evidently satisfies the requirement that \\( n = \\sum_{i=0}^{r} d_i b^i \\).\r\n</markdown>",
    "Q": "Q: What are the necessary and sufficient conditions on the moduli \\( n_1, n_2, \\ldots, n_r \\) for which the system of congruences \\( x \\equiv a_1 \\mod n_1, x \\equiv a_2 \\mod n_2, \\ldots, x \\equiv a_r \\mod n_r \\) has a solution, and how can we express the solution explicitly? ",
    "A": " A: A solution exists if and only if for every pair of moduli \\( n_i \\) and \\( n_j \\), the greatest common divisor \\( \\gcd(n_i, n_j) \\) divides \\( a_j - a_i \\). An explicit solution for \\( x \\) can be given using the formula: \r\n\r\n\\[\r\nx \\equiv \\sum_{i=1}^{r} a_i \\cdot M_i \\cdot y_i \\mod n\r\n\\]\r\n\r\nwhere \\( M = n_1 n_2 \\cdots n_r \\), \\( M_i = \\frac{M}{n_i} \\), and \\( y_i \\) is the modular inverse of \\( M_i \\) modulo \\( n_i \\). The modulus \\( n \\) can be chosen as the least common multiple \\( \\text{lcm}(n_1, n_2, \\ldots, n_r) \\)."
  },
  {
    "page": 301,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n- **(IS)** Fix \\( n \\geq 0 \\) and suppose that the requirements of the theorem are satisfied for all the natural numbers up to and including \\( n \\).\r\n\r\nBy the division theorem ([Theorem 7.1.1](#)), there exist unique \\( u, v \\in \\mathbb{N} \\) such that\r\n\r\n\\[\r\nn + 1 = ub + v \\quad \\text{and} \\quad v \\in \\{0, 1, \\ldots, b - 1\\}\r\n\\]\r\n\r\nSince \\( b \\geq 2 \\), we have \\( u < n + 1 \\), and so \\( u \\leq n \\). It follows from the induction hypothesis that there exist unique \\( r \\in \\mathbb{N} \\) and \\( d_1, \\ldots, d_r \\in \\{0, 1, \\ldots, b - 1\\} \\) such that\r\n\r\n\\[\r\nu = \\sum_{i=0}^{r} d_{i+1} b^i\r\n\\]\r\n\r\nand \\( d_r \\neq 0 \\). Writing \\( d_0 = v \\) yields\r\n\r\n\\[\r\nn = ub + v = \\sum_{i=0}^{r} d_{i+1} b^{i+1} + d_0 = \\sum_{i=0}^{r} d_i b^i\r\n\\]\r\n\r\nSince \\( d_r \\neq 0 \\), this proves existence.\r\n\r\nFor uniqueness, suppose that there exists \\( s \\in \\mathbb{N} \\) and \\( e_0, \\ldots, e_s \\in \\{0, 1, \\ldots, b - 1\\} \\) such that\r\n\r\n\\[\r\nn + 1 = \\sum_{j=0}^{s} e_j b^j\r\n\\]\r\n\r\nand \\( e_s \\neq 0 \\). Then\r\n\r\n\\[\r\nn + 1 = \\left( \\sum_{j=1}^{s} e_j b^{j-1} \\right) b + e_0\r\n\\]\r\n\r\nso by the division theorem we have \\( e_0 = d_0 = v \\). Hence\r\n\r\n\\[\r\nu = \\frac{n + 1 - v}{b} = \\sum_{j=1}^{s} e_j b^{j-1} = \\sum_{i=1}^{r} d_i b^{i-1}\r\n\\]\r\n\r\nso by the induction hypothesis, it follows that \\( r = s \\) and \\( d_i = e_i \\) for all \\( 1 \\leq i \\leq r \\). This proves uniqueness.\r\n\r\nBy induction, we’re done.\r\n\r\nWe now re-state the definition of base-\\( b \\) expansion, confident in the knowledge that this definition makes sense.\r\n\r\n✦ **Definition 7.3.52**\r\n\r\nLet \\( n \\in \\mathbb{N} \\). The **base-\\( b \\) expansion** of \\( n \\) is the unique string \\( d_r d_{r-1} \\ldots d_0 \\) such that the conditions in [Theorem 7.3.51](#) are satisfied. The base-2 expansion is also known as the **binary expansion**, and the base-10 expansion is called the **decimal expansion**.\r\n</markdown>",
    "Q": "Q: Given the base-\\( b \\) expansion of a natural number \\( n \\) expressed as \\( n = d_r b^r + d_{r-1} b^{r-1} + \\ldots + d_0 \\), what is the maximum possible value of \\( n \\) if the digits \\( d_i \\) are restricted to \\( \\{0, 1, \\ldots, b - 1\\} \\)?  \r\n",
    "A": "  \r\nA: The maximum possible value of \\( n \\) occurs when all digits \\( d_i \\) are at their maximum value, \\( b - 1 \\). Hence, the maximum value is given by\r\n\r\n\\[\r\nn_{\\text{max}} = (b-1) \\cdot (b^r + b^{r-1} + \\ldots + b^0) = (b-1) \\cdot \\frac{b^{r+1} - 1}{b - 1} = b^{r+1} - 1.\r\n\\]"
  },
  {
    "page": 302,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n### Example 7.3.53\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Then \\( n \\) is divisible by 3 if and only if the sum of the digits in the decimal expansion of \\( n \\) is divisible by 3. Likewise, \\( n \\) is divisible by 9 if and only if the sum of the digits in the decimal expansion \\( n \\) is divisible by 9.\r\n\r\nWe prove this for divisibility by 3. Let\r\n\r\n\\[\r\nn = d_r d_{r-1} \\cdots d_1 d_0\r\n\\]\r\n\r\nbe the decimal expansion of \\( n \\), and let \\( s = \\sum_{i=0}^{r} d_i \\) be the sum of the digits of \\( n \\).\r\n\r\nThen we have\r\n\r\n\\[\r\nn \\equiv \\sum_{i=0}^{r} d_i 10^i \\pmod{3} \\quad \\text{since } n = \\sum_i d_i 10^i\r\n\\]\r\n\r\n\\[\r\n\\equiv \\sum_{i=0}^{r} d_i 1^i \\pmod{3} \\quad \\text{since } 10 \\equiv 1 \\pmod{3}\r\n\\]\r\n\r\n\\[\r\n\\equiv \\sum_{i=0}^{r} d_i \\quad \\text{since } 1^i = 1 \\text{ for all } i\r\n\\]\r\n\r\n\\[\r\n\\equiv s \\quad \\text{by definition of } s\r\n\\]\r\n\r\nSince \\( n \\equiv s \\pmod{3} \\), it follows that \\( n \\) is divisible by 3 if and only if \\( s \\) is divisible by 3.\r\n\r\n### Exercise 7.3.54\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Prove that \\( n \\) is divisible by 5 if and only if the final digit in the decimal expansion of \\( n \\) is 5 or 0.\r\n\r\nMore generally, fix \\( k \\geq 1 \\) and let \\( m \\) be the number whose decimal expansion is given by the last \\( k \\) digits of that of \\( n \\). Prove that \\( n \\) is divisible by \\( 5^k \\) if and only if \\( m \\) is divisible by \\( 5^k \\). For example, we have\r\n\r\n\\[\r\n125 \\mid 9 \\, 550 \\, 828 \\, 230 \\, 495 \\, 875 \\quad \\Leftrightarrow \\quad 125 \\mid 875\r\n\\]\r\n\r\n### Exercise 7.3.55\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Prove that \\( n \\) is divisible by 11 if and only if the alternating sum of the digits of \\( n \\) is divisible by 11. That is, prove that if the decimal expansion of \\( n \\) is \\( d_r d_{r-2} \\cdots d_0 \\), then\r\n\r\n\\[\r\n11 \\mid n \\quad \\Leftrightarrow \\quad 11 \\mid d_0 - d_1 + d_2 - \\cdots + (-1)^r d_r\r\n\\]\r\n\r\n### Exercise 7.3.56\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Find a method for testing if \\( n \\) is divisible by 7 based on the decimal expansion of \\( n \\).\r\n</markdown>",
    "Q": "Q: How can you determine if a natural number \\( n \\) is divisible by 7 using its decimal expansion? ",
    "A": " A: One method to test if \\( n \\) is divisible by 7 involves taking the last digit of \\( n \\), doubling it, and then subtracting this from the rest of the number obtained by removing the last digit. If the resulting number is divisible by 7, then \\( n \\) is also divisible by 7. This process can be repeated until a manageable number is obtained."
  },
  {
    "page": 303,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n## Application: public-key cryptography\r\n\r\nPublic-key cryptography is a method of encryption and decryption that works according to the following principles:\r\n\r\n- Encryption is done using a **public key** that is available to anyone.\r\n- Decryption is done using a **private key** that is only known to the recipient.\r\n- Knowledge of the private key should be extremely difficult to derive from knowledge of the public key.\r\n\r\nSpecifically, suppose that Alice wants to securely send Bob a message. As the recipient of the message, Bob has a public key and a private key. So:\r\n\r\n- Bob sends the **public key** to Alice.\r\n- Alice uses the public key to encrypt the message.\r\n- Alice sends the encrypted message, which is visible (but encrypted) to anyone who intercepts it.\r\n- Bob keeps the private key secret, and uses it upon receipt of the message to decrypt the message.\r\n\r\nNotice that, since the public key can only be used to **encrypt** messages, a hacker has no useful information upon intercepting the message or the public key.\r\n\r\n**RSA encryption** is an algorithm which provides one means of doing public-key cryptography using the theory of modular arithmetic. It works as follows.\r\n\r\n**Step 1.** Let \\( p \\) and \\( q \\) be distinct positive prime numbers, and let \\( n = pq \\). Then \\( \\varphi(n) = (p-1)(q-1) \\).\r\n\r\n**Step 2.** Choose \\( e \\in \\mathbb{Z} \\) such that \\( 1 < e < \\varphi(n) \\) and \\( e \\perp \\varphi(n) \\). The pair \\( (n, e) \\) is called the **public key**.\r\n\r\n**Step 3.** Choose \\( d \\in \\mathbb{Z} \\) such that \\( de \\equiv 1 \\mod \\varphi(n) \\). The pair \\( (n, d) \\) is called the **private key**.\r\n\r\n**Step 4.** To encrypt a message \\( M \\) (which is encoded as an integer), compute \\( K \\in [n] \\) such that \\( K \\equiv M^e \\mod n \\). Then \\( K \\) is the encrypted message.\r\n\r\n**Step 5.** The original message \\( M \\) can be recovered since \\( M \\equiv K^d \\mod n \\).\r\n\r\nComputing the private key \\( (n, d) \\) from the knowledge of \\( (n, e) \\) would allow a hacker to decrypt an encrypted message. However, doing so is typically very difficult when the\r\n</markdown>",
    "Q": "Q: Given the RSA encryption process, how can the security of the public key encryption be compromised, and what mathematical concept underlies this vulnerability? ",
    "A": " A: The security of public key encryption can be compromised if an attacker can efficiently factor the product \\( n = pq \\) into its prime components \\( p \\) and \\( q \\). This vulnerability underlies the complexity of integer factorization, which is a hard problem in number theory."
  },
  {
    "page": 304,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nprime factors of \\( n \\) are large. So if we choose \\( p \\) and \\( q \\) to be very large primes—which we can do without much hassle at all—then it becomes computationally infeasible for a hacker to compute the private key.\r\n\r\n**Example.** Suppose I want to encrypt the message \\( M \\), which I have encoded as the integer 32. Let \\( p = 13 \\) and \\( q = 17 \\). Then \\( n = 221 \\) and \\( \\varphi(n) = 192 \\). Let \\( e = 7 \\), and note that \\( 7 \\perp 192 \\). Now \\( 7 \\times 55 \\equiv 1 \\mod 192 \\), so we can define \\( d = 55 \\).\r\n\r\n- The public key is \\( (221, 7) \\), which Bob sends to Alice. Now Alice can encrypt the message:\r\n  \\[\r\n  32^7 \\equiv 59 \\mod 221\r\n  \\]\r\n  Alice then sends Bob the encrypted message 59.\r\n\r\n- The private key is \\( (221, 55) \\), so Bob can decrypt the message:\r\n  \\[\r\n  59^{55} \\equiv 32 \\mod 221\r\n  \\]\r\n  so Bob has received Alice’s message 32.\r\n\r\n**Exercise 7.3.57**  \r\nProve that the RSA algorithm is correct. Specifically, prove:\r\n\r\n(a) If \\( n = pq \\), for distinct positive primes \\( p \\) and \\( q \\), then \\( \\varphi(n) = (p-1)(q-1) \\);\r\n\r\n(b) Given \\( 1 < e < \\varphi(n) \\) with \\( e \\perp \\varphi(n) \\), there exists \\( d \\in \\mathbb{Z} \\) with \\( de \\equiv 1 \\mod \\varphi(n) \\).\r\n\r\n(c) Given \\( M, K \\in \\mathbb{Z} \\) with \\( K \\equiv M^e \\mod n \\), it is indeed the case that \\( K^d \\equiv M \\mod n \\).\r\n\r\n**Application: Euler’s totient function**\r\n\r\nWe now derive a formula for computing the totient of an arbitrary integer using the tools from Section 8.1—in particular, if you chose to read this section before learning about the multiplication principle, you should skip over this material.\r\n\r\n**Theorem 7.3.58 (Multiplicativity of Euler’s totient function)**  \r\nLet \\( m, n \\in \\mathbb{Z} \\) and let \\( \\varphi : \\mathbb{Z} \\to \\mathbb{N} \\) be Euler’s totient function (see Definition 7.3.26). If \\( m \\) and \\( n \\) are coprime, then \\( \\varphi(mn) = \\varphi(m)\\varphi(n) \\).\r\n\r\n**Proof**  \r\nSince \\( \\varphi(-k) = \\varphi(k) \\) for all \\( k \\in \\mathbb{Z} \\), we may assume that \\( m \\geq 0 \\) and \\( n \\geq 0 \\). Moreover, if \\( m = 0 \\) or \\( n = 0 \\), then \\( \\varphi(m)\\varphi(n) = 0 \\) and \\( \\varphi(mn) = 0 \\), so the result is immediate. Hence we may assume that \\( m > 0 \\) and \\( n > 0 \\).\r\n</markdown>",
    "Q": "Q: Given distinct positive primes \\( p = 19 \\) and \\( q = 23 \\), calculate \\( n \\) and \\( \\varphi(n) \\). What are the values of \\( n \\) and \\( \\varphi(n) \\)? ",
    "A": " A: The value of \\( n \\) is \\( n = pq = 19 \\times 23 = 437 \\). The value of \\( \\varphi(n) \\) is \\( \\varphi(n) = (p-1)(q-1) = (19-1)(23-1) = 18 \\times 22 = 396 \\)."
  },
  {
    "page": 305,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nGiven \\( k \\in \\mathbb{Z} \\), define\r\n\r\n\\[\r\nC_k = \\{ a \\in [k] \\mid a \\perp k \\}\r\n\\]\r\n\r\nBy definition of Euler’s totient function, we thus have \\(|C_k| = \\varphi(k)\\) for all \\( k \\in \\mathbb{Z} \\). We will define a bijection\r\n\r\n\\[\r\nf : C_m \\times C_n \\to C_{mn}\r\n\\]\r\n\r\nusing the Chinese remainder theorem (Theorem 7.3.46).\r\n\r\nGiven \\( a \\in C_m \\) and \\( b \\in C_n \\), let \\( f(a,b) \\) be the element \\( x \\in [mn] \\) such that\r\n\r\n\\[\r\n\\begin{cases} \r\nx \\equiv a \\pmod{m} \\\\\r\nx \\equiv b \\pmod{n}\r\n\\end{cases}\r\n\\]\r\n\r\n- **\\( f \\) is well-defined.** We check the properties of totality, existence and uniqueness.\r\n  - **Totality.** We have accounted for all the elements of \\( C_m \\times C_n \\) in our specification of \\( f \\).\r\n  - **Existence.** By the Chinese remainder theorem, there exists \\( x \\in \\mathbb{Z} \\) such that \\( x \\equiv a \\pmod{m} \\) and \\( x \\equiv b \\pmod{n} \\). By adding an appropriate integer multiple of \\( mn \\) to \\( x \\), we may additionally require \\( x \\in [mn] \\). It remains to check that \\( x \\perp mn \\).\r\n\r\n    So let \\( d = \\gcd(x,mn) \\). If \\( d > 1 \\), then there is a positive prime \\( p \\) such that \\( p \\mid x \\) and \\( p \\mid mn \\). But then \\( p \\mid m \\) or \\( p \\mid n \\), meaning that either \\( p \\mid \\gcd(x,m) \\) or \\( p \\mid \\gcd(x,n) \\). But \\( x \\equiv a \\pmod{m} \\), so \\( \\gcd(x,m) = \\gcd(a,m) \\); and likewise \\( \\gcd(x,n) = \\gcd(b,n) \\). So this contradicts the assumption that \\( a \\perp m \\) and \\( b \\perp n \\). Hence \\( x \\perp mn \\) after all.\r\n  - **Uniqueness.** Suppose \\( x, y \\in C_{mn} \\) both satisfy the two congruences in question. By the Chinese remainder theorem, we have \\( x \\equiv y \\pmod{mn} \\), and hence \\( x = y + kmn \\) for some \\( k \\in \\mathbb{Z} \\). Since \\( x, y \\in [mn] \\), we have\r\n\r\n    \\[\r\n    |k|mn = |kmn| = |x - y| \\leq mn - 1 < mn\r\n    \\]\r\n\r\n    This implies \\(|k| < 1\\), so that \\( k = 0 \\) and \\( x = y \\).\r\n\r\n  so \\( f \\) is well-defined.\r\n\r\n- **\\( f \\) is injective.** Let \\( a, a' \\in C_m \\) and \\( b, b' \\in C_n \\), and suppose that \\( f(a,b) = f(a',b') \\). Then there is an element \\( x \\in C_{mn} \\) such that\r\n\r\n  \\[\r\n  \\begin{cases} \r\n  x \\equiv a \\pmod{m} \\\\\r\n  x \\equiv a' \\pmod{m} \\\\\r\n  x \\equiv b \\pmod{n} \\\\\r\n  x \\equiv b' \\pmod{n}\r\n  \\end{cases}\r\n  \\]\r\n\r\n  Hence \\( a \\equiv a' \\pmod{m} \\) and \\( b \\equiv b' \\pmod{n} \\). Since \\( a, a' \\in [m] \\) and \\( b, b' \\in [n] \\), we must have \\( a = a' \\) and \\( b = b' \\).\r\n</markdown>",
    "Q": "Q: If \\( a \\in C_m \\) and \\( b \\in C_n \\) are coprime to \\( m \\) and \\( n \\) respectively, show that \\( f(a, b) \\) belongs to \\( C_{mn} \\). What condition must hold for \\( a \\) and \\( b \\) regarding \\( m \\) and \\( n \\)?  \r\n",
    "A": "  \r\nA: For \\( f(a, b) \\) to belong to \\( C_{mn} \\), it must satisfy \\( f(a, b) \\perp mn \\). Given that \\( a \\perp m \\) and \\( b \\perp n \\), the condition that must hold is that \\( \\gcd(m, n) = 1 \\). This ensures that any common prime factors are excluded, thus confirming that \\( f(a, b) \\perp mn \\)."
  },
  {
    "page": 306,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\n- *f* is surjective. Let \\( x \\in C_{mn} \\). Let \\( a \\in [m] \\) and \\( b \\in [n] \\) be the (unique) elements such that \\( x \\equiv a \\mod m \\) and \\( x \\equiv b \\mod n \\), respectively. If \\( a \\in C_m \\) and \\( b \\in C_n \\), then we’ll have \\( f(a, b) = x \\) by construction, so it remains to check that \\( a \\perp m \\) and \\( b \\perp n \\).\r\n\r\nSuppose \\( d \\in \\mathbb{Z} \\) with \\( d \\mid a \\) and \\( d \\mid m \\). We prove that \\( d = 1 \\). Since \\( x \\equiv a \\mod m \\), we have \\( d \\mid x \\) by Theorem 7.1.17. Since \\( m \\mid mn \\), we have \\( d \\mid mn \\). By definition of greatest common divisors, it follows that \\( d \\mid \\gcd(x, mn) \\). But \\( \\gcd(x, mn) = 1 \\), so that \\( d \\) is a unit, and so \\( a \\perp m \\) as required.\r\n\r\nThe proof that \\( b \\perp n \\) is similar.\r\n\r\nIt was a lot of work to check that it worked, but we have defined a bijection \\( f : C_m \\times C_n \\to C_{mn} \\). By the multiplication principle, we have\r\n\r\n\\[\r\n\\varphi(m) \\varphi(n) = |C_m| \\cdot |C_n| = |C_m \\times C_n| = |C_{mn}| = \\varphi(mn)\r\n\\]\r\n\r\nas required.\r\n\r\nIt turns out that [Theorem 7.3.58](#) and [Exercise 7.3.28](#) are precisely the ingredients we need to find a general formula for the totient of a nonzero integer.\r\n\r\n### Theorem 7.3.59 (Formula for Euler’s totient function)\r\n\r\nLet \\( n \\) be a nonzero integer. Then\r\n\r\n\\[\r\n\\varphi(n) = |n| \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nwhere the product is indexed over positive primes \\( p \\) dividing \\( n \\).\r\n\r\n**Proof**\r\n\r\nSince \\( \\varphi(n) = \\varphi(-n) \\) for all \\( n \\in \\mathbb{Z} \\), we may assume that \\( n > 0 \\). Moreover\r\n\r\n\\[\r\n\\varphi(1) = 1 = 1 \\cdot \\prod_{p \\mid 1} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nNote that the product here is empty, and hence equal to 1, since there are no positive primes \\( p \\) which divide 1. So now suppose \\( n > 1 \\).\r\n\r\nUsing the fundamental theorem of arithmetic ([Theorem 7.2.12](#)), we can write\r\n\r\n\\[\r\nn = p_1^{k_1} p_2^{k_2} \\cdots p_r^{k_r}\r\n\\]\r\n\r\nfor primes \\( 0 < p_1 < p_2 < \\cdots < p_r \\) and natural numbers \\( k_1, k_2, \\ldots, k_r \\geq 1 \\).\r\n\r\nBy repeated application of [Theorem 7.3.58](#), we have\r\n\r\n\\[\r\n\\varphi(n) = \\prod_{i=1}^{r} \\varphi(p_i^{k_i})\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( n = 30 \\), which primes divide \\( n \\) and what is the value of \\( \\varphi(30) \\) using the formula for Euler’s totient function? ",
    "A": " A: The primes dividing \\( n = 30 \\) are \\( 2, 3, \\) and \\( 5 \\). Using the formula, we have \r\n\r\n\\[\r\n\\varphi(30) = 30 \\left(1 - \\frac{1}{2}\\right) \\left(1 - \\frac{1}{3}\\right) \\left(1 - \\frac{1}{5}\\right) = 30 \\cdot \\frac{1}{2} \\cdot \\frac{2}{3} \\cdot \\frac{4}{5} = 8.\r\n\\]"
  },
  {
    "page": 307,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.3 Modular Arithmetic",
    "content": "<markdown>\r\nBy Exercise 7.3.28, we have\r\n\r\n\\[\r\n\\varphi(p_i^{k_i}) = p_i^{k_i} - p_i^{k_i-1} = p_i^{k_i} \\left(1 - \\frac{1}{p_i}\\right)\r\n\\]\r\n\r\nCombining these two results, it follows that\r\n\r\n\\[\r\n\\varphi(n) = \\prod_{i=1}^{r} p_i^{k_i} \\left(1 - \\frac{1}{p_i}\\right) = \\left(\\prod_{i=1}^{r} p_i^{k_i}\\right) \\left(\\prod_{i=1}^{r} \\left(1 - \\frac{1}{p_i}\\right)\\right) = n \\cdot \\prod_{i=1}^{r} \\left(1 - \\frac{1}{p_i}\\right)\r\n\\]\r\n\r\nwhich is as required.\r\n</markdown>",
    "Q": "Q: If \\( n = p_1^{k_1} p_2^{k_2} \\cdots p_r^{k_r} \\) is the prime factorization of \\( n \\), express \\( \\varphi(n) \\) in terms of \\( n \\) and its prime factors. ",
    "A": " A: \\( \\varphi(n) = n \\cdot \\prod_{i=1}^{r} \\left(1 - \\frac{1}{p_i}\\right) \\) where \\( p_i \\) are the distinct prime factors of \\( n \\)."
  },
  {
    "page": 308,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.E Chapter 7 Exercises",
    "content": "<markdown>\r\n## Section 7.E\r\n# Chapter 7 exercises\r\n\r\n### Greatest common divisors\r\n\r\nIn Questions 7.1 to 7.3, use the Euclidean algorithm (Strategy 7.1.18) to find the greatest common divisor of the given pair of integers.\r\n\r\n7.1. 382 and 218\r\n\r\n7.2. 368475 and 26010\r\n\r\n7.3. 24004512 and 10668672\r\n\r\n7.4. Let \\( a, b, c, d \\in \\mathbb{Z} \\) and suppose that \\( ad - bc = 1 \\). Prove that \\( a + b \\) and \\( c + d \\) are coprime.\r\n\r\n✦ **Definition 7.E.1**  \r\nLet \\( f(x) \\) and \\( g(x) \\) be polynomials over \\( \\mathbb{Z} \\). We say \\( f(x) \\) *divides* \\( g(x) \\) if there exists a polynomial \\( q(x) \\) over \\( \\mathbb{Z} \\) such that \\( g(x) = q(x)f(x) \\).\r\n\r\n7.5. Prove that \\( 1 - x \\) divides \\( 1 - x^2 \\) and that \\( 1 - x \\) does not divide \\( 1 + x^2 \\).\r\n\r\n7.6. Prove that \\( 1 + x + x^2 \\) divides \\( 1 + x^4 + x^5 \\).\r\n\r\n✦ **Definition 7.E.2**  \r\nLet \\( f(x) \\) be a polynomial over \\( \\mathbb{Z} \\). The *degree* of \\( f \\), written \\( \\deg(f(x)) \\), is the greatest power of \\( x \\) in \\( f \\) whose coefficient is nonzero, unless \\( f \\) is the zero polynomial, whose degree is defined to be \\(-\\infty\\). We adopt the convention that \\((-\\infty) + r = r + (-\\infty)\\) for all \\( r \\in \\mathbb{N} \\cup \\{-\\infty\\} \\).\r\n\r\n7.7. Let \\( f(x) \\) and \\( g(x) \\) be polynomials over \\( \\mathbb{Z} \\). Prove that \\( \\deg(f(x)g(x)) = \\deg(f(x)) + \\deg(g(x)) \\).\r\n\r\n7.8. Prove the following modified form of the division theorem (Theorem 7.1.1) for polynomials: given polynomials \\( f(x) \\) and \\( g(x) \\) over \\( \\mathbb{Z} \\), with \\( f(x) \\neq 0 \\), prove that there exist unique polynomials \\( q(x) \\) and \\( r(x) \\) over \\( \\mathbb{Z} \\) such that \\( g(x) = q(x)f(x) + r(x) \\) and \\( \\deg(r(x)) < \\deg(f(x)) \\).\r\n</markdown>",
    "Q": "Q: Prove that if \\( f(x) \\) is a polynomial of degree \\( n \\) and \\( g(x) \\) is a polynomial of degree \\( m \\), then the product polynomial \\( f(x)g(x) \\) has a degree that can be expressed in terms of \\( n \\) and \\( m \\). ",
    "A": " A: The degree of the polynomial \\( f(x)g(x) \\) is given by \\( \\deg(f(x)g(x)) = n + m \\)."
  },
  {
    "page": 309,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.E Chapter 7 Exercises",
    "content": "<markdown>\r\n## Prime numbers\r\n\r\n7.9. Prove that, for all \\( k \\in \\mathbb{N} \\), the function \\( i : \\mathbb{N}^k \\to \\mathbb{N} \\) defined by\r\n\r\n\\[\r\ni(n_1, n_2, \\ldots, n_k) = p_1^{n_1} p_2^{n_2} \\cdots p_k^{n_k}\r\n\\]\r\n\r\nfor all \\( (n_1, n_2, \\ldots, n_k) \\in \\mathbb{N}^k \\) is an injection, where \\( p_1, p_2, p_3, \\ldots \\) is an enumeration of the set of positive primes in increasing order. (Thus \\( p_1 = 2, p_2 = 3, p_3 = 5 \\), and so on.)\r\n\r\n7.10. Use the result of Question 7.9 to construct a bijection\r\n\r\n\\[\r\n\\bigcup_{k \\in \\mathbb{N}} \\left( \\mathbb{N}^k \\setminus \\{(0, 0, \\ldots, 0)\\} \\right) \\to \\{n \\in \\mathbb{N} \\mid n \\geq 2\\}\r\n\\]\r\n\r\n7.11. Use a method akin to that of Question 7.9 to define an injection \\( \\mathbb{Z}^k \\to \\mathbb{N} \\).\r\n\r\n7.12. Define a subset \\( A \\subseteq \\mathbb{Z} \\) by\r\n\r\n\\[\r\nA = \\{n \\in \\mathbb{N} \\mid \\exists k > 0, n \\mid 12^k - 1\\}\r\n\\]\r\n\r\nFind all prime numbers in \\( \\mathbb{Z} \\setminus A \\).\r\n\r\n## Base-\\( b \\) expansions\r\n\r\n7.13. Let \\( n \\in \\mathbb{N} \\). Prove that the number of trailing 0s in the decimal expansion of \\( n! \\) is equal to\r\n\r\n\\[\r\n\\sum_{k=1}^{d} \\left\\lfloor \\frac{n}{5^k} \\right\\rfloor\r\n\\]\r\n\r\nwhere \\( d \\in \\mathbb{N} \\) is least such that \\( 5^{d+1} > n \\), and where \\( \\lfloor x \\rfloor \\) (LaTeX code: \\texttt{\\textbackslash lfloor, \\textbackslash rfloor}) denotes the greatest integer less than or equal to \\( x \\in \\mathbb{R} \\) (called the floor of \\( x \\)).\r\n\r\n7.14. Let \\( b \\in \\mathbb{N} \\) with \\( b \\geq 2 \\). Find an expression in terms of \\( n \\in \\mathbb{N} \\) for the number of trailing 0s in the base-\\( b \\) expansion of \\( n! \\).\r\n\r\n## True–False questions\r\n\r\nIn Questions 7.15 to 7.20, determine (with proof) whether the statement is true or false.\r\n\r\n7.15. There is an integer that is not coprime to any integer.\r\n\r\n7.16. Every linear Diophantine equation has a solution.\r\n</markdown>",
    "Q": "Q: How can you define an injection from the set of all pairs of natural numbers \\((n_1, n_2) \\in \\mathbb{N}^2\\) to the set of natural numbers \\(\\mathbb{N}\\) using prime numbers, similar to question 7.9? ",
    "A": " A: You can define the injection \\( f(n_1, n_2) = p_1^{n_1} \\cdot p_2^{n_2} \\) where \\( p_1 = 2 \\) and \\( p_2 = 3 \\), which maps each pair of non-negative integers to a unique natural number by using the first two primes."
  },
  {
    "page": 310,
    "title": "Ii Topics In Pure Mathematics/7 Number Theory/7.E Chapter 7 Exercises",
    "content": "<markdown>\r\n7.17. Every integer \\( n \\) is coprime to its successor \\( n + 1 \\).\r\n\r\n7.18. If the greatest common divisors of two integers is 3, and their least common multiple of 7, then their product is 21.\r\n\r\n7.19. Every integer is congruent modulo 7 to its remainder when divided by 21.\r\n\r\n7.20. Let \\( k \\geq 1 \\). Then \\( 15^k \\equiv 1 \\mod 6 \\).\r\n\r\n## Always–Sometimes–Never questions\r\n\r\nIn Questions 7.21 to 7.29, determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n7.21. Let \\( a, b, c \\in \\mathbb{Z} \\) and suppose that \\( \\gcd(a, b) = 2 \\) and \\( \\gcd(b, c) = 2 \\). Then \\( \\gcd(a, c) = 2 \\).\r\n\r\n7.22. Let \\( a, b \\in \\mathbb{Z} \\). Then \\( \\gcd(a, b) = \\gcd(a, \\gcd(a, b)) \\).\r\n\r\n7.23. Let \\( a, b \\geq 2 \\). Then \\( \\gcd(a, b) = \\text{lcm}(a, b) \\).\r\n\r\n7.24. Let \\( n \\in \\mathbb{Z} \\). Then \\( n^2 + 1 \\) is coprime to \\( n^4 + n^2 + 1 \\).\r\n\r\n7.25. Let \\( p \\in \\mathbb{Z} \\) be prime. Then \\( p \\) is coprime to all integers \\( a \\neq p \\).\r\n\r\n7.26. Let \\( p, q, r, s \\in \\mathbb{Z} \\) be positive primes and suppose that \\( pq = rs \\). Then \\( p = r \\) and \\( q = s \\).\r\n\r\n7.27. Let \\( p_1, p_2, \\ldots, p_s, q_1, q_2, \\ldots, q_t \\in \\mathbb{Z} \\) be prime and suppose that \\( p_1 p_2 \\ldots p_s = q_1 q_2 \\ldots q_t \\). Then \\( s = t \\).\r\n\r\n7.28. Let \\( a, b \\in \\mathbb{Z} \\) and let \\( p \\) be a positive prime. Then \\( p \\mid (a + b)^p - a - b \\).\r\n\r\n7.29. Let \\( n \\geq 0 \\) and let \\( b > 0 \\). Then \\( n \\) is congruent modulo \\( b - 1 \\) to the sum of the digits in its base-\\( b \\) expansion.\r\n</markdown>",
    "Q": "Q: If \\( a, b \\in \\mathbb{Z} \\) and \\( \\gcd(a, b) = d \\), what can be said about \\( \\gcd(a, k \\cdot b) \\) for any integer \\( k \\)? ",
    "A": " A: \\( \\gcd(a, k \\cdot b) = d \\cdot \\gcd\\left(1, k\\right) \\), so if \\( k \\) is coprime to \\( a \\), \\( \\gcd(a, k \\cdot b) = d \\)."
  },
  {
    "page": 312,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n## Section 8.1\r\n\r\n# Counting principles\r\n\r\nIn [Section 6.1](#) we were interested in establishing conditions under which a set is finite, and proving that we may perform certain operations on finite sets—such as unions and cartesian products—without losing the property of finiteness.\r\n\r\nIn this section, our attention turns to the task of finding the size of a set that is known to be finite. This process is called *counting* and is at the core of the mathematical field of combinatorics.\r\n\r\n### Binomials and factorials revisited\r\n\r\nWe defined binomial coefficients \\(\\binom{n}{k}\\) and factorials \\(n!\\) recursively in [Chapter 4](#), and proved elementary facts about them by induction. We will now re-define them combinatorially—that is, we give them meaning in terms of sizes of particular finite sets. We will prove that the combinatorial and recursive definitions are equivalent, and prove facts about them using combinatorial arguments.\r\n\r\nThe reasons for doing so are manifold. The combinatorial definitions allow us to reason about binomials and factorials with direct reference to descriptions of finite sets, which will be particularly useful when we prove identities about them using *double counting*. Moreover, the combinatorial definitions remove the seemingly arbitrary nature of the recursive definitions—for example, they provide a reason why it makes sense to define \\(0! = 1\\) and \\(\\binom{0}{0} = 1\\).\r\n\r\n✦ **Definition 8.1.1**  \r\nLet \\(X\\) be a set and let \\(k \\in \\mathbb{N}\\). A *k-element subset* of \\(X\\) is a subset \\(U \\subseteq X\\) such that \\(|U| = k\\). The set of all k-element subsets of \\(X\\) is denoted \\(\\binom{X}{k}\\) (read: ‘X choose k’) ([LaTeX code: \\texttt{\\textbackslash binom\\{X\\}\\{k\\}}]).\r\n\r\nIntuitively, \\(\\binom{X}{k}\\) is the set of ways of picking \\(k\\) elements from \\(X\\), without repetitions, in such a way that order doesn’t matter. (If order mattered, the elements would be *sequences* instead of subsets.)\r\n\r\n✐ **Example 8.1.2**  \r\nWe find \\(\\binom{[4]}{k}\\) for all \\(k \\in \\mathbb{N}\\).\r\n\r\n- \\(\\binom{[4]}{0} = \\{\\emptyset\\}\\) since the only set with 0 elements is \\(\\emptyset\\);\r\n</markdown>",
    "Q": "Q: How many different 2-element subsets can be formed from the set \\(X = \\{1, 2, 3, 4\\}\\)? ",
    "A": " A: The number of different 2-element subsets is given by \\(\\binom{4}{2} = 6\\)."
  },
  {
    "page": 313,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n## Section 8.1. Counting principles\r\n\r\n- \\( \\binom{[4]}{1} = \\{ \\{1\\}, \\{2\\}, \\{3\\}, \\{4\\} \\} \\);\r\n- \\( \\binom{[4]}{2} = \\{ \\{1,2\\}, \\{1,3\\}, \\{1,4\\}, \\{2,3\\}, \\{2,4\\}, \\{3,4\\} \\} \\);\r\n- \\( \\binom{[4]}{3} = \\{ \\{1,2,3\\}, \\{1,2,4\\}, \\{1,3,4\\}, \\{2,3,4\\} \\} \\);\r\n- \\( \\binom{[4]}{4} = \\{ \\{1,2,3,4\\} \\} \\);\r\n\r\n- If \\( k > 5 \\) then \\( \\binom{[4]}{k} = \\emptyset \\), since by Exercise 6.1.17, no subset of \\([4]\\) can have more than 4 elements.\r\n\r\n### Proposition 8.1.3\r\n\r\nIf \\( X \\) is a finite set, then \\( \\mathcal{P}(X) = \\bigcup_{k \\leq |X|} \\binom{X}{k} \\).\r\n\r\n**Proof**\r\n\r\nLet \\( U \\subseteq X \\). By Exercise 6.1.17, \\( U \\) is finite and \\(|U| \\leq |X|\\). Thus \\( U \\in \\binom{X}{|U|} \\), and hence\r\n\r\n\\[\r\nU \\in \\bigcup_{k \\leq |X|} \\binom{X}{k}.\r\n\\]\r\n\r\nThis proves that \\( \\mathcal{P}(X) \\subseteq \\bigcup_{k \\leq |X|} \\binom{X}{k} \\).\r\n\r\nThe fact that \\( \\bigcup_{k \\leq |X|} \\binom{X}{k} \\subseteq \\mathcal{P}(X) \\) is immediate, since elements of \\( \\binom{X}{k} \\) are defined to be subsets of \\( X \\), and hence elements of \\( \\mathcal{P}(X) \\).\r\n\r\n### Definition 8.1.4\r\n\r\nLet \\( n, k \\in \\mathbb{N} \\). Denote by \\( \\binom{n}{k} \\) (read: ‘n choose k’) the number of \\( k \\)-element subsets of \\([n]\\). That is, we define \\( \\binom{n}{k} = \\left| \\binom{[n]}{k} \\right| \\). The numbers \\( \\binom{n}{k} \\) are called binomial coefficients.\r\n\r\nSome authors use the notation \\( nC_k \\) or \"C_k\" instead of \\( \\binom{n}{k} \\). We avoid this, as it is unnecessarily clunky.\r\n\r\nIntuitively, \\( \\binom{n}{k} \\) is the number of ways of selecting \\( k \\) things from \\( n \\), without repetitions, in such a way that order doesn’t matter.\r\n\r\nThe value behind this notation is that it allows us to express huge numbers in a concise and meaningful way. For example,\r\n\r\n\\[\r\n\\binom{4000}{11} = 103\\,640\\,000\\,280\\,154\\,258\\,645\\,590\\,429\\,564\\,000\r\n\\]\r\n</markdown>",
    "Q": "Q: Given a set \\( X = \\{1, 2, 3, 4, 5\\} \\), what is the value of \\( \\binom{|X|}{3} \\)? ",
    "A": " A: \\( \\binom{5}{3} = 10 \\)"
  },
  {
    "page": 314,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nAlthough these two numbers are equal, their *expressions* are very different; the expression on the left is meaningful, but the expression on the right is completely meaningless out of context.\r\n\r\n### ✤ Writing tip\r\nWhen expressing the sizes of finite sets described combinatorially, it is best to *avoid* evaluating the expression; that is, leave in the powers, products, sums, binomial coefficients and factorials! The reason for this is that performing the calculations takes the meaning away from the expressions.\r\n\r\n### 🖹 Example 8.1.5\r\nIn Example 8.1.2 we proved that:\r\n\r\n\\[\r\n\\binom{4}{0} = 1, \\quad \\binom{4}{1} = 4, \\quad \\binom{4}{2} = 6, \\quad \\binom{4}{3} = 4, \\quad \\binom{4}{4} = 1\r\n\\]\r\n\r\nand that \\(\\binom{4}{k} = 0\\) for all \\(k > 5\\).\r\n\r\n### 🖹 Exercise 8.1.6\r\nFix \\(n \\in \\mathbb{N}\\). Prove that \\(\\binom{n}{0} = 1\\), \\(\\binom{n}{1} = n\\) and \\(\\binom{n}{n} = 1\\).\r\n\r\n### ✦ Definition 8.1.7\r\nLet \\(X\\) be a set. A *permutation* of \\(X\\) is a bijection \\(X \\to X\\). Denote the set of all permutations of \\(X\\) by \\(\\mathrm{Sym}(X)\\) and write \\(S_n = \\mathrm{Sym}([n])\\) for \\(n \\in \\mathbb{N}\\).\r\n\r\n### 🖹 Example 8.1.8\r\nThere are six permutations of the set \\([3]\\). Representing each \\(f \\in S_3\\) by the ordered triple \\((f(1), f(2), f(3))\\), these permutations are thus given by\r\n\r\n\\[\r\n(1, 2, 3), \\quad (1, 3, 2), \\quad (2, 1, 3), \\quad (2, 3, 1), \\quad (3, 1, 2), \\quad (3, 2, 1)\r\n\\]\r\n\r\nFor example, \\((2, 3, 1)\\) represents the permutation \\(f : [3] \\to [3]\\) defined by \\(f(1) = 2\\), \\(f(2) = 3\\) and \\(f(3) = 1\\).\r\n\r\n### 🖹 Exercise 8.1.9\r\nList all the permutations of the set \\([4]\\).\r\n\r\n### ✦ Definition 8.1.10\r\nLet \\(n \\in \\mathbb{N}\\). Denote by \\(n!\\) (read: ‘n factorial’) the number of permutations of a set of size \\(n\\). That is, \\(n! = |S_n|\\). The numbers \\(n!\\) are called *factorials*.\r\n\r\n### 🖹 Example 8.1.11\r\nExample 8.1.8 shows that \\(3! = 6\\).\r\n</markdown>",
    "Q": "Q: How many permutations are there for a set of size \\(4\\), and how is this value represented mathematically?  \r\n",
    "A": "  \r\nA: The number of permutations for a set of size \\(4\\) is \\(4!\\), which equals \\(24\\)."
  },
  {
    "page": 316,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nby Proposition 6.1.23. Applying the induction hypothesis, we obtain the desired result, namely\r\n\r\n\\[\r\n\\left| \\prod_{i=1}^{n+1} X_i \\right| = |X_1| \\cdot |X_2| \\cdot \\ldots \\cdot |X_n| \\cdot |X_{n+1}|\r\n\\]\r\n\r\nBy induction, we’re done. □\r\n\r\nLemma 8.1.12 gives rise to a useful strategy for computing the size of a finite set \\( X \\)—see Strategy 8.1.13. Intuitively, by devising a step-by-step procedure for specifying an element of \\( X \\), we are constructing a cartesian product \\(\\prod_{k=1}^{n} X_k\\), where \\( X_k \\) is the set of choices to be made in the \\( k \\)th step. This establishes a bijection \\(\\prod_{k=1}^{n} X_k \\to X\\), which by bijective proof (Strategy 6.1.16(c)) lets us compute \\( |X| \\) as the product of the numbers of choices that can be made in each step.\r\n\r\n### Strategy 8.1.13 (Multiplication principle (independent version))\r\nLet \\( X \\) be a finite set. In order to compute \\( |X| \\), it suffices to find a step-by-step procedure for specifying elements of \\( X \\), such that:\r\n\r\n- Each element is specified by a unique sequence of choices;\r\n- Each step in the procedure is independent of the previous step;\r\n- There are finitely many choices to be made at each step.\r\n\r\nIf there are \\( n \\in \\mathbb{N} \\) steps and \\( m_k \\in \\mathbb{N} \\) possible choices in the \\( k \\)th step, then \\( |X| = \\prod_{k=1}^{n} m_k \\).\r\n\r\n### Example 8.1.14\r\nYou go to an ice cream stand selling the following flavours:\r\n\r\nvanilla, strawberry, chocolate, rum and raisin, mint choc chip, toffee crunch\r\n\r\nYou can have your ice cream in a tub, a regular cone or a choco-cone. You can have one, two or three scoops. We will compute how many options you have.\r\n\r\nTo select an ice cream, you follow the following procedure:\r\n\r\n- **Step 1.** Choose a flavour. There are 6 ways to do this.\r\n</markdown>",
    "Q": "Q: If you want to determine the total number of different ice cream combinations possible by following the strategy outlined, how many options will you have if you can choose one of the 6 flavors, one of 3 types of serving, and one of 3 scoop sizes? ",
    "A": " A: The total number of options can be calculated using the multiplication principle. There are \\(6\\) choices for flavors, \\(3\\) choices for types of serving, and \\(3\\) choices for scoop sizes, so the total number of options is \\( |X| = 6 \\cdot 3 \\cdot 3 = 54 \\)."
  },
  {
    "page": 317,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n**Step 2.** Choose whether you’d like it in a tub, regular cone or choco-cone. There are 3 ways to do this.\r\n\r\n**Step 3.** Choose how many scoops you’d like. There are 3 ways to do this.\r\n\r\nHence there are \\(6 \\times 3 \\times 3 = 54\\) options in total.\r\n\r\nThis may feel informal, but really what we are doing is establishing a bijection. Letting \\(X\\) be the set of options, the above procedure defines a bijection\r\n\r\n\\[ F \\times C \\times S \\to X \\]\r\n\r\nwhere \\(F\\) is the set of flavours, \\(C = \\{\\text{tub, regular cone, choco-cone}\\}\\) and \\(S = [3]\\) is the set of possible numbers of scoops.\r\n\r\n✿ **Example 8.1.15**\r\n\r\nWe will prove that \\(|\\mathcal{P}(X)| = 2^{|X|}\\) for all finite sets \\(X\\).\r\n\r\nLet \\(X\\) be a finite set and let \\(n = |X|\\). Write\r\n\r\n\\[ X = \\{x_k \\mid k \\in [n]\\} = \\{x_1, x_2, \\ldots, x_n\\} \\]\r\n\r\nIntuitively, specifying an element of \\(\\mathcal{P}(X)\\)—that is, a subset \\(U \\subseteq X\\)—is equivalent to deciding, for each \\(k \\in [n]\\), whether \\(x_k \\in U\\) or \\(x_k \\notin U\\) (‘in or out’), which in turn is equivalent to specifying an element of \\(\\{in, out\\}^n\\).\r\n\r\nFor example, taking \\(X = [7]\\), the subset \\(U = \\{1, 2, 6\\}\\) corresponds with the choices\r\n\r\n1 in, 2 in, 3 out, 4 out, 5 out, 6 in, 7 out\r\n\r\nand hence the element \\((in, in, out, out, out, in, out) \\in \\{in, out\\}^7\\).\r\n\r\nThis defines a function \\(i : \\mathcal{P}(X) \\to \\{in, out\\}^n\\). This function is injective, since different subsets determine different sequences; and it is surjective, since each sequence determines a subset.\r\n\r\nThe above argument is sufficient for most purposes, but since this is the first bijective proof we have come across, we now give a more formal presentation of the details.\r\n\r\nDefine a function\r\n\r\n\\[ i : \\mathcal{P}(X) \\to \\{in, out\\}^n \\]\r\n\r\nby letting the \\(k\\)th component of \\(i(U)\\) be ‘in’ if \\(x_k \\in U\\) or ‘out’ if \\(x_k \\notin U\\), for each \\(k \\in [n]\\).\r\n\r\nWe prove that \\(i\\) is a bijection.\r\n</markdown>",
    "Q": "Q: If \\(X\\) has 7 elements, how many subsets does \\(X\\) have, and how can this be expressed in terms of the elements of \\(X\\)? ",
    "A": " A: The number of subsets of \\(X\\) is given by \\(|\\mathcal{P}(X)| = 2^{|X|} = 2^7 = 128\\)."
  },
  {
    "page": 318,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n- *i* is injective. To see this, take \\( U, V \\subseteq X \\) and suppose \\( i(U) = i(V) \\). We prove that \\( U = V \\). So fix \\( x \\in X \\) and let \\( k \\in [n] \\) be such that \\( x = x_k \\). Then\r\n\r\n  \\[\r\n  x \\in U \\iff \\text{the } k\\text{th component of } i(U) \\text{ is ‘in’} \\quad \\text{by definition of } i\r\n  \\]\r\n  \\[\r\n  \\iff \\text{the } k\\text{th component of } i(V) \\text{ is ‘in’} \\quad \\text{since } i(U) = i(V)\r\n  \\]\r\n  \\[\r\n  \\iff x \\in V \\quad \\text{by definition of } i\r\n  \\]\r\n\r\n  so indeed we have \\( U = V \\), as required.\r\n\r\n- *i* is surjective. To see this, let \\( v \\in \\{ \\text{in, out} \\}^n \\), and let\r\n\r\n  \\[\r\n  U = \\{ x_k \\mid \\text{the } k\\text{th component of } v \\text{ is ‘in’} \\}\r\n  \\]\r\n\r\n  Then \\( i(U) = v \\), since for each \\( k \\in [n] \\) we have \\( x_k \\in U \\) if and only if the \\( k \\)th component of \\( v \\) is ‘in’, which is precisely the definition of \\( i(U) \\).\r\n\r\nHence\r\n\r\n\\[\r\n|\\mathcal{P}(X)| = |\\{\\text{in, out}\\}^n| = 2^n\r\n\\]\r\n\r\nas required.\r\n\r\nSome authors actually write \\( 2^X \\) to refer to the power set of a set \\( X \\). This is justified by Example 8.1.15.\r\n\r\n**Exercise 8.1.16**  \r\nLet \\( X \\) and \\( Y \\) be finite sets, and recall that \\( Y^X \\) denotes the set of functions from \\( X \\) to \\( Y \\). Prove that \\( |Y^X| = |Y|^{|X|} \\).\r\n\r\n**Exercise 8.1.17**  \r\nSince September 2001, car number plates on the island of Great Britain have taken the form XX NN XXX, where each X can be any letter of the alphabet except for ‘I’, ‘Q’ or ‘Z’, and NN is the last two digits of the year. [This is a slight simplification of what is really the case, but let’s not concern ourselves with too many details!] How many possible number plates are there? Number plates of vehicles registered in the region of Yorkshire begin with the letter ‘Y’. How many Yorkshire number plates can be issued in a given year?\r\n\r\nThe multiplication principle in the form of Strategy 8.1.13 does not allow for steps later in a procedure to depend on those earlier in the procedure. To see why this is a problem, suppose we want to count the size of the set \\( X = \\{ (a, b) \\in [n] \\times [n] \\mid a \\neq b \\} \\). A step-by-step procedure for specifying such an element is as follows:\r\n\r\n- **Step 1.** Select an element \\( a \\in [n] \\). There are \\( n \\) choices.\r\n\r\n- **Step 2.** Select an element \\( b \\in [n] \\) with \\( b \\neq a \\). There are \\( n - 1 \\) choices.\r\n</markdown>",
    "Q": "Q: Given that \\( i: U \\rightarrow Y^X \\) is injective and surjective, what can you conclude about the cardinality of the power set of \\( X \\) compared to the set of functions from \\( X \\) to \\( Y \\)? ",
    "A": " A: Since \\( i \\) is surjective, we have \\( |\\mathcal{P}(X)| = |Y^X| = |Y|^{|X|} = 2^{|X|} \\)."
  },
  {
    "page": 319,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nWe would like to use Strategy 8.1.13 to deduce that \\(|X| = n(n - 1)\\). Unfortunately, this is not valid because the possible choices available to us in Step 2 depend on the choice made in Step 1. Elements of cartesian products do not depend on one another, and so the set of sequences of choices made cannot necessarily be expressed as a cartesian product of two sets. Thus we cannot apply Lemma 8.1.12. Oh no!\r\n\r\nHowever, provided that the *number* of choices in each step remains constant, in spite of the choices themselves changing, it turns out that we can still compute the size of the set in question by multiplying together the numbers of choices.\r\n\r\nThis is what we prove next. We begin with a pairwise version (analogous to Exercise 6.1.22) and then prove the general version by induction (like in Lemma 8.1.12).\r\n\r\n### Lemma 8.1.18\r\nFix \\(m, n \\in \\mathbb{N}\\). Let \\(X\\) be a finite set with \\(|X| = m\\), and for each \\(a \\in X\\), let \\(Y_a\\) be a finite set with \\(|Y_a| = n\\). Then the set\r\n\r\n\\[ \r\nP = \\{(a, b) \\mid a \\in X \\text{ and } b \\in Y_a \\} \r\n\\]\r\n\r\nis finite and \\(|P| = mn\\).\r\n\r\n**Proof**\r\n\r\nFix bijections \\(f : [m] \\to X\\) and \\(g_a : [n] \\to Y_a\\) for each \\(a \\in X\\). Define \\(h : [m] \\times [n] \\to P\\) by letting \\(h(i, j) = (f(i), g_{f(i)}(j))\\) for each \\((i, j) \\in [m] \\times [n]\\). Then:\r\n\r\n- \\(h\\) is well-defined, since for all \\(i \\in [m]\\) and \\(j \\in [n]\\) we have \\(f(i) \\in X\\) and \\(g_{f(i)}(j) \\in Y_{f(i)}\\).\r\n\r\n- \\(h\\) is injective. To see this, fix \\((i, j), (k, \\ell) \\in [m] \\times [n]\\) and assume that \\(h(i, j) = h(k, \\ell)\\). Then \\((f(i), g_{f(i)}(j)) = (f(k), g_{f(k)}(\\ell))\\), so that \\(f(i) = f(k)\\) and \\(g_{f(i)}(j) = g_{f(k)}(\\ell)\\). Since \\(f\\) is injective, we have \\(i = k\\)—therefore \\(g_{f(i)}(j) = g_{f(i)}(\\ell)\\), and then since \\(g_{f(i)}\\) is injective, we have \\(j = \\ell\\). Thus \\((i, j) = (k, \\ell)\\), as required.\r\n\r\n- \\(h\\) is surjective. To see this, let \\((a, b) \\in P\\). Since \\(f\\) is surjective and \\(a \\in X\\), we have \\(a = f(i)\\) for some \\(i \\in [m]\\). Since \\(g_a\\) is surjective and \\(b \\in Y_a\\), we have \\(b = g_a(j)\\) for some \\(j \\in [n]\\). But then\r\n\r\n  \\[\r\n  (a, b) = (f(i), g_a(j)) = (f(i), g_{f(i)}(j)) = h(i, j)\r\n  \\]\r\n\r\n  so that \\(h\\) is surjective.\r\n\r\nSince \\(h\\) is a bijection, we have \\(|P| = |[m] \\times [n]|\\) by Theorem 6.1.14(iii), which is equal to \\(mn\\) by Proposition 6.1.23. □\r\n\r\nWe are now ready to state and prove the theorem giving rise to the multiplication principle in its full generality.\r\n</markdown>",
    "Q": "Q: If \\( |X| = m \\) and each \\( Y_a \\) has \\( |Y_a| = n \\), how can we deduce the number of ordered pairs \\((a,b)\\) formed by choosing an element \\(a \\in X\\) and an element \\(b \\in Y_a\\)? ",
    "A": " A: The number of ordered pairs \\((a,b)\\) is given by \\(|P| = mn\\), where \\(P = \\{(a, b) \\mid a \\in X \\text{ and } b \\in Y_a\\}\\)."
  },
  {
    "page": 320,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Theorem 8.1.19 (Multiplication principle)\r\n\r\nLet \\( n \\geq 1 \\) and \\( m_1, m_2, \\ldots, m_n \\in \\mathbb{N} \\). Suppose for each \\( i \\in [n] \\) that we are given finite sets \\( X_{a_1, \\ldots, a_{i-1}}^{(i)} \\) with \\(|X_{a_1, \\ldots, a_{i-1}}^{(i)}| = m_i\\), where \\( a_j \\in X_{a_1, \\ldots, a_{j-1}}^{(j)} \\) for each \\( j < i \\). Define\r\n\r\n\\[\r\nP = \\{ (a_1, a_2, \\ldots, a_n) \\mid a_1 \\in X^{(1)}, a_2 \\in X_{a_1}^{(2)}, \\ldots, a_n \\in X_{a_1, \\ldots, a_{n-1}}^{(n)} \\}\r\n\\]\r\n\r\nThen \\( P \\) is finite and \\(|P| = m_1 \\times m_2 \\times \\cdots \\times m_n\\).\r\n\r\n#### Proof\r\n\r\nWe proceed by induction on \\( n \\geq 1 \\).\r\n\r\n- **(Base case)** When \\( n = 1 \\), the statement says that given \\( m_1 \\in \\mathbb{N} \\) and a finite set \\( X^{(1)} \\) with \\(|X^{(1)}| = m_1\\), then \\( P = \\{ (a_1) \\mid a_1 \\in X^{(1)} \\} \\) is finite and \\(|P| = m_1\\). This is true, since the function \\( X^{(1)} \\to P \\) defined by \\( a \\mapsto (a) \\) is evidently a bijection.\r\n\r\n- **(Induction step)** Fix \\( n \\geq 1 \\) and assume that the statement is true for this value of \\( n \\).\r\n\r\nLet \\( m_1, m_2, \\ldots, m_n, m_{n+1} \\in \\mathbb{N} \\) and suppose that we are given finite sets \\( X_{a_1, \\ldots, a_{i-1}}^{(i)} \\) for each \\( i \\in [n+1] \\) just as in the statement of the theorem, and let\r\n\r\n\\[\r\nP = \\{ (a_1, a_2, \\ldots, a_{n+1}) \\mid a_1 \\in X^{(1)}, a_2 \\in X_{a_1}^{(2)}, \\ldots, a_{n+1} \\in X_{a_1, \\ldots, a_n}^{(n+1)} \\}\r\n\\]\r\n\r\nWe need to prove that \\(|P| = m_1 \\times m_2 \\times \\cdots \\times m_n \\times m_{n+1}\\).\r\n\r\nSo define\r\n\r\n\\[\r\nQ = \\{ (a_1, a_2, \\ldots, a_n) \\mid a_1 \\in X^{(1)}, a_2 \\in X_{a_1}^{(2)}, \\ldots, a_n \\in X_{a_1, \\ldots, a_{n-1}}^{(n)} \\}\r\n\\]\r\n\r\nand, given \\( q = (a_1, \\ldots, a_n) \\in Q \\), define \\( Y_q = X_{a_1, \\ldots, a_n}^{(n+1)} \\). Observe that there is an evident bijection\r\n\r\n\\[\r\n\\{ (q, a_{n+1}) \\mid q \\in Q, a_{n+1} \\in Y_q \\} \\to P\r\n\\]\r\n\r\ndefined by \\(((a_1, a_2, \\ldots, a_n), a_{n+1}) \\mapsto (a_1, a_2, \\ldots, a_n, a_{n+1})\\).\r\n\r\nNow \\(|Q| = m_1 \\times m_2 \\times \\cdots \\times m_n\\), and \\(|Y_q| = m_{n+1}\\) for each \\( q \\in Q \\), so it follows from Lemma 8.1.18 that\r\n\r\n\\[\r\n|P| = (m_1 \\times m_2 \\times \\cdots \\times m_n) \\times m_{n+1} = m_1 \\times m_2 \\times \\cdots \\times m_n \\times m_{n+1}\r\n\\]\r\n\r\nas required.\r\n\r\nStrategy 8.1.20 summarises how Theorem 8.1.19 is useful in our proofs.\r\n</markdown>",
    "Q": "Q: If we have three finite sets \\( X^{(1)}, X_{a_1}^{(2)}, \\) and \\( X_{a_1, a_2}^{(3)} \\) with \\(|X^{(1)}| = 2\\), \\(|X_{a_1}^{(2)}| = 3\\), and \\(|X_{a_1, a_2}^{(3)}| = 4\\), what is the total number of elements in the set \\( P \\) described by Theorem 8.1.19? ",
    "A": " A: The total number of elements in the set \\( P \\) is given by \\(|P| = |X^{(1)}| \\times |X_{a_1}^{(2)}| \\times |X_{a_1, a_2}^{(3)}| = 2 \\times 3 \\times 4 = 24\\)."
  },
  {
    "page": 321,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Strategy 8.1.20 (Counting using the multiplication principle)\r\n\r\nLet \\( X \\) be a finite set. In order to compute \\(|X|\\), it suffices to find a step-by-step procedure for specifying elements of \\( X \\), such that:\r\n\r\n- Each element is specified by a unique sequence of choices;\r\n- The choices available in each step depend only on choices made in previous steps;\r\n- There are finitely many choices available in each step;\r\n- The *number* of choices available in each step does not depend on choices made in previous steps;\r\n\r\nIf there are \\( n \\in \\mathbb{N} \\) steps and \\( m_k \\in \\mathbb{N} \\) possible choices in the \\( k \\)th step, then \\(|X| = \\prod_{k=1}^{n} m_k\\).\r\n\r\n### Example 8.1.21\r\n\r\nWe prove that there are six bijections \\([3] \\to [3]\\). We can specify a bijection \\( f : [3] \\to [3] \\) according to the following procedure.\r\n\r\n- **Step 1.** Choose the value of \\( f(1) \\). There are 3 choices.\r\n\r\n- **Step 2.** Choose the value of \\( f(2) \\). The values \\( f(2) \\) can take depend on the chosen value of \\( f(1) \\).\r\n  - If \\( f(1) = 1 \\), then \\( f(2) \\) can be equal to 2 or 3.\r\n  - If \\( f(1) = 2 \\), then \\( f(2) \\) can be equal to 1 or 3.\r\n  - If \\( f(1) = 3 \\), then \\( f(2) \\) can be equal to 1 or 2.\r\n\r\n  In each case, there are 2 choices for the value of \\( f(2) \\).\r\n\r\n- **Step 3.** Choose the value of \\( f(3) \\). The values \\( f(3) \\) can take depend on the values of \\( f(1) \\) and \\( f(2) \\). We could split into the (six!) cases based on the values of \\( f(1) \\) and \\( f(2) \\) chosen in Steps 1 and 2; but we won’t. Instead, note that \\(\\{f(1), f(2)\\}\\) has two elements, and by injectivity \\( f(3) \\) must have a distinct value, so that \\([3] \\setminus \\{f(1), f(2)\\}\\) has one element. This element must be the value of \\( f(3) \\). Hence there is only possible choice of \\( f(3) \\).\r\n\r\nBy the multiplication principle, there are \\( 3 \\times 2 \\times 1 = 6 \\) bijections \\([3] \\to [3]\\).\r\n\r\n### Exercise 8.1.22\r\n\r\nCount the number of injections \\([3] \\to [4]\\).\r\n\r\n### Example 8.1.23\r\n\r\nWe count the number of ways we can shuffle a standard deck of cards in such a way that the colour of the cards alternate between red and black.\r\n</markdown>",
    "Q": "Q: How many ways can you create an injection from a set of 4 elements to a set of 5 elements? ",
    "A": " A: There are \\(5 \\times 4 \\times 3 \\times 2 = 120\\) injections from a set of 4 elements to a set of 5 elements."
  },
  {
    "page": 322,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nA procedure for choosing the order of the cards is as follows:\r\n\r\n(i) Choose the colour of the first card. There are 2 such choices. This then determines the colours of the remaining cards, since they have to alternate.\r\n\r\n(ii) Choose the order of the red cards. There are 26! such choices.\r\n\r\n(iii) Choose the order of the black cards. There are 26! such choices.\r\n\r\nBy the multiplication principle, there are \\(2 \\cdot (26!)^2\\) such rearrangements. This number is huge, and in general there is no reason to write it out. Just for fun, though:\r\n\r\n325 288 005 235 264 929 014 077 766 819 257 214 042 112 000 000 000 000\r\n\r\n## Sums and partitions\r\n\r\nWe saw in Proposition 6.1.19 that, given two finite sets \\(X\\) and \\(Y\\), the union \\(X \\cup Y\\) is finite. We also found formulae for their size, namely \\(|X \\cup Y| = |X| + |Y| - |X \\cap Y|\\). The addition principle (Strategy 8.1.26) generalises this formula to any finite number of sets, provided the sets have no elements in common with one another—that is they are pairwise disjoint. [The hypothesis of pairwise disjointness is removed in the inclusion–exclusion principle, which is studied in Section 8.2.]\r\n\r\nIf you have not covered Section 5.2 yet, you are encouraged to take a brief detour to read from Definition 5.2.21 to Exercise 5.2.26; the definition of a partition of a set is recalled below.\r\n\r\n✦ **Definition 5.2.21**  \r\nA **partition** of a set \\(X\\) is a collection \\(\\mathcal{U} = \\{U_i \\mid i \\in I\\}\\) of subsets of \\(X\\) such that the following conditions hold:\r\n\r\n(a) For each \\(i \\in I\\), the subset \\(U_i\\) is inhabited;\r\n\r\n(b) The sets \\(U_i\\) for \\(i \\in I\\) are pairwise disjoint—that is, \\(U_i \\cap U_j\\) is empty for all \\(i, j \\in I\\) with \\(i \\neq j\\);\r\n\r\n(c) \\(\\bigcup_{i \\in I} U_i = X\\).\r\n\r\nIn this section, we will simplify matters in two ways:\r\n</markdown>",
    "Q": "Q: How many different ways can you arrange a set of 52 cards consisting of 26 red and 26 black cards, ensuring the colors alternate? ",
    "A": " A: There are \\(2 \\cdot (26!)^2\\) ways to arrange the cards, which amounts to \\(325,288,005,235,264,929,014,077,766,819,257,214,042,112,000,000,000,000\\)."
  },
  {
    "page": 323,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n- When we say ‘partition’ in this section (and [Section 8.2](#)), we will allow the sets in the partition to be empty—that is, we will just need conditions (b) and (c) of [Definition 5.2.21](#) to hold.\r\n\r\n- Since our sets are finite, so will the index set \\( I \\) be; so we will only ever partition our sets into finitely many pieces. That is, all of our partitions will take form \\(\\{U_1, U_2, \\ldots, U_n\\}\\) for some \\( n \\in \\mathbb{N} \\).\r\n\r\nWith all of this said, let’s get right to it.\r\n\r\n### Theorem 8.1.24 (Addition principle)\r\nLet \\( X \\) be a set and let \\(\\{U_1, \\ldots, U_n\\}\\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\), such that each set \\( U_i \\) is finite. Then \\( X \\) is finite, and\r\n\r\n\\[\r\n|X| = |U_1| + |U_2| + \\cdots + |U_n|\r\n\\]\r\n\r\n### Exercise 8.1.25\r\nProve [Theorem 8.1.24](#). The proof follows the same pattern as that of [Lemma 8.1.12](#). Be careful to make sure you identify where you use the hypothesis that the sets \\( U_i \\) are pairwise disjoint!\r\n\r\n### Strategy 8.1.26 (Counting using the addition principle)\r\nLet \\( X \\) be a finite set. In order to compute \\( |X| \\), it suffices to find a partition \\( U_1, U_2, \\ldots, U_n \\) of \\( X \\); it then follows that\r\n\r\n\\[\r\n|X| = \\sum_{k=1}^{n} |U_i|.\r\n\\]\r\n\r\n### Example 8.1.27\r\nWe will count the number of inhabited subsets of \\([7]\\) which either contain only even numbers, or contain only odd numbers.\r\n\r\nLet \\( O \\) denote the set of inhabited subsets of \\([7]\\) containing only odd numbers, and let \\( E \\) denote the set of inhabited subsets of \\([7]\\) containing only even numbers. Note that \\(\\{O, E\\}\\) forms a partition of the set we are counting, and so our set has \\(|O| + |E|\\) elements.\r\n\r\n- An element of \\( O \\) must be a subset of \\(\\{1, 3, 5, 7\\}\\). By [Example 8.1.15](#) there are \\(2^4 = 16\\) such subsets. Thus the number of inhabited subsets of \\([7]\\) containing only odd numbers is 15, since we must exclude the empty set. That is, \\(|O| = 15\\).\r\n\r\n- A subset containing only even numbers must be a subset of \\(\\{2, 4, 6\\}\\). Again by [Example 8.1.15](#) there are \\(2^3 = 8\\) such subsets. Hence there are 7 inhabited subsets of \\([7]\\) containing only even numbers. That is, \\(|E| = 7\\).\r\n\r\nHence there are \\(15 + 7 = 22\\) inhabited subsets of \\([7]\\) containing only even or only odd numbers.\r\n</markdown>",
    "Q": "Q: If \\( X \\) is a finite set with \\( |X| = 20 \\), and you partition \\( X \\) into three subsets such that \\( |U_1| = 8 \\), \\( |U_2| = 6 \\), and \\( |U_3| \\) is unknown, what is the value of \\( |U_3| \\)? ",
    "A": " A: Since \\( |X| = |U_1| + |U_2| + |U_3| \\), we have \\( 20 = 8 + 6 + |U_3| \\). Thus, \\( |U_3| = 20 - 14 = 6 \\)."
  },
  {
    "page": 324,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nnumbers. And here they are:\r\n\r\n\\[\r\n\\{1\\} \\quad \\{3\\} \\quad \\{5\\} \\quad \\{7\\} \\quad \\{1,3\\} \\quad \\{2\\} \\quad \\{4\\} \\quad \\{6\\} \\\\\r\n\\{1,5\\} \\quad \\{1,7\\} \\quad \\{3,5\\} \\quad \\{3,7\\} \\quad \\{5,7\\} \\quad \\{2,4\\} \\quad \\{2,6\\} \\quad \\{4,6\\} \\\\\r\n\\{1,3,5\\} \\quad \\{1,3,7\\} \\quad \\{1,5,7\\} \\quad \\{3,5,7\\} \\quad \\{1,3,5,7\\} \\quad \\{2,4,6\\}\r\n\\]\r\n\r\n**Exercise 8.1.28**  \r\nPick your favourite integer \\( n > 1000 \\). For this value of \\( n \\), how many inhabited subsets of \\([n]\\) contain either only even or only odd numbers? (You need not evaluate exponents.)\r\n\r\nWe now consider some examples of finite sets which use both the multiplication principle and the addition principle.\r\n\r\n**Example 8.1.29**  \r\nA city has \\( 6n \\) inhabitants. The favourite colour of \\( n \\) of the inhabitants is orange, the favourite colour of \\( 2n \\) of the inhabitants is pink, and the favourite colour of \\( 3n \\) of the inhabitants is turquoise. The city government wishes to form a committee with equal representation from the three colour preference groups to decide how the new city hall should be painted. We count the number of ways this can be done.\r\n\r\nLet \\( X \\) be the set of possible committees. First note that\r\n\r\n\\[\r\nX = \\bigcup_{k=0}^{n} X_k\r\n\\]\r\n\r\nwhere \\( X_k \\) is the set of committees with exactly \\( k \\) people from each colour preference group. Indeed, we must have \\( k \\leq n \\), since it is impossible to have a committee with more than \\( n \\) people from the orange preference group.\r\n\r\nMoreover, if \\( k \\neq \\ell \\) then \\( X_k \\cap X_\\ell = \\emptyset \\), since if \\( k \\neq \\ell \\) then a committee cannot simultaneously have exactly \\( k \\) people and exactly \\( \\ell \\) people from each preference group.\r\n\r\nBy the addition principle, we have\r\n\r\n\\[\r\n|X| = \\sum_{k=0}^{n} |X_k|\r\n\\]\r\n\r\nWe count \\( X_k \\) for fixed \\( k \\) using the following procedure:\r\n\r\n- **Step 1.** Choose \\( k \\) people from the orange preference group to be on the committee. There are \\(\\binom{n}{k}\\) choices.\r\n- **Step 2.** Choose \\( k \\) people from the pink preference group to be on the committee. There are \\(\\binom{2n}{k}\\) choices.\r\n</markdown>",
    "Q": "Q: How many inhabited subsets of \\([n]\\) can be formed that contain exactly three odd numbers when \\( n > 1000 \\)? ",
    "A": " A: The number of inhabited subsets of \\([n]\\) that contain exactly three odd numbers is given by \\(\\binom{m}{3}\\), where \\( m = \\frac{n + 1}{2} \\) (the total number of odd numbers in \\([n]\\))."
  },
  {
    "page": 325,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Section 8.1. Counting principles\r\n\r\n- **Step 3.** Choose \\( k \\) people from the turquoise preference group to be on the committee. There are \\(\\binom{3n}{k}\\) choices.\r\n\r\nBy the multiplication principle, it follows that \\(|X_k| = \\binom{n}{k} \\binom{2n}{k} \\binom{3n}{k}\\). Hence\r\n\r\n\\[\r\n|X| = \\sum_{k=0}^{n} \\binom{n}{k} \\binom{2n}{k} \\binom{3n}{k}\r\n\\]\r\n\r\n### Exercise 8.1.30\r\n\r\nIn Example 8.1.29, how many ways could a committee be formed with a **representative** number of people from each colour preference group? That is, the proportion of people on the committee which prefer any of the three colours should be equal to the corresponding proportion of the population of the city.\r\n\r\n### Pigeonhole principle\r\n\r\nA nice application of the addition principle is to prove the **pigeonhole principle**, which is used heavily in combinatorics.\r\n\r\nInformally, the pigeonhole principle says that if you assign pigeons to pigeonholes, and there are more pigeons than pigeonholes, then some pigeonhole must have more than one pigeon in it. We can (and do) generalise this slightly: it says that given \\( q \\in \\mathbb{N} \\), if you have more than \\( q \\) times as many pigeons than pigeonholes, then some pigeonhole must have more than \\( q \\) pigeons in it.\r\n\r\nThe proof is deceptively simple.\r\n\r\n#### Theorem 8.1.31 (Pigeonhole principle)\r\n\r\nLet \\( q \\in \\mathbb{N} \\), and let \\( X \\) and \\( Y \\) be finite sets with \\(|X| = m \\in \\mathbb{N}\\) and \\(|Y| = n \\in \\mathbb{N}\\). Then:\r\n\r\n(a) If \\( m > qn \\), then for every function \\( f : X \\to Y \\), there is some \\( a \\in Y \\) such that \\(|f^{-1}(\\{a\\})| > q\\).\r\n\r\n(b) If \\( m \\leq qn \\), then there is a function \\( f : X \\to Y \\) such that \\(|f^{-1}(\\{a\\})| \\leq q\\) for all \\( a \\in Y \\).\r\n\r\n**Proof of (a)**\r\n\r\nSuppose \\( m > qn \\). It follows from Exercise 5.2.25 that the sets \\( f^{-1}(\\{a\\}) \\) partition \\( X \\). Towards a contradiction, assume \\(|f^{-1}(\\{a\\})| \\leq q\\) for all \\( a \\in Y \\). Then by the addition principle\r\n\r\n\\[\r\nm = |X| = \\left| \\bigcup_{a \\in Y} f^{-1}(\\{a\\}) \\right| = \\sum_{a \\in Y} |f^{-1}(\\{a\\})| \\leq \\sum_{a \\in Y} q = |Y| \\cdot q = qn\r\n\\]\r\n</markdown>",
    "Q": "Q: If a committee is formed with \\( k \\) representatives from each of the three colour preference groups, how can the total number of ways to form this committee be expressed using the binomial coefficient?\r\n\r\n",
    "A": " \r\n\r\nA: The total number of ways to form the committee can be expressed as \r\n\r\n\\[\r\n|X| = \\sum_{k=0}^{n} \\binom{n}{k} \\binom{2n}{k} \\binom{3n}{k}\r\n\\] \r\nwhere \\( n \\) represents the number of individuals in each group."
  },
  {
    "page": 326,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nThis contradicts the assumption that \\( m > qn \\).\r\n\r\n### Exercise 8.1.32\r\nProve part (b) of Theorem 8.1.31.\r\n\r\n### Example 8.1.33\r\nLet \\( n, k \\in \\mathbb{N} \\). Assume that you have \\( n \\) pairs of socks in a drawer, and each sock is one of \\( k \\) colours. We wish to know how many socks you must take out of the drawer before you can guarantee that you have a matching pair.\r\n\r\nLet \\( C \\) be set of colours of the socks, so that \\( |C| = k \\), and let \\( X \\) be the set of socks that you have selected. We obtain a function \\( f : X \\to C \\) that assigns to each sock \\( x \\) its colour \\( f(x) \\in C \\). Given a colour \\( c \\in C \\), the preimage \\( f^{-1}[\\{c\\}] \\) is the set of socks of colour \\( c \\) that we have selected.\r\n\r\nThus the question becomes: what size must \\( X \\) be in order to have \\( |f^{-1}[\\{c\\}]| \\geq 2 \\) for some \\( c \\in C \\)? [The English translation of this question is: how many socks must we have picked in order for two of the socks to have the same colour?]\r\n\r\nWell, by the pigeonhole principle, we can guarantee \\( |f^{-1}[\\{c\\}]| \\geq 2 \\) (or equivalently \\( > 1 \\)) if and only if \\( |X| > |C| \\). That is, we need to select at least \\( k + 1 \\) socks to guarantee a matching pair.\r\n\r\n### Exercise 8.1.34\r\nSix people are in a room. The atmosphere is tense, since each pair of people is either friends or enemies. There are no allegiances, so for example it is possible for a friend of a friend to be an enemy, or an enemy of a friend to be a friend, and so on. Prove that there is some set of three people that are either all each other’s friends or all each other’s enemies.\r\n\r\n## Double counting\r\n\r\n**Double counting** (also known as **counting in two ways**) is a proof technique that allows us to prove that two natural numbers are equal by establishing they are two expressions for the size of the same set. (More generally, by Theorem 6.1.14(iii), we can relate them to the sizes of two sets which are in bijection.)\r\n\r\nThe proof of Proposition 8.1.35 illustrates this proof very nicely. We proved it already by induction in Example 4.2.13; the combinatorial proof we now provide is much shorter and cleaner.\r\n\r\n### Proposition 8.1.35\r\nLet \\( n \\in \\mathbb{N} \\). Then \\( 2^n = \\sum_{k=0}^{n} \\binom{n}{k} \\).\r\n</markdown>",
    "Q": "Q: How many colors of socks must you have in the drawer to guarantee that you can select a matching pair by picking only two socks? ",
    "A": " A: You must have at least 2 colors of socks in the drawer to guarantee that selecting 2 socks will yield a matching pair."
  },
  {
    "page": 327,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n**Proof**\r\n\r\nWe know that \\( |\\mathcal{P}([n])| = 2^n \\) by Example 8.1.15 and that \\(\\mathcal{P}([n]) = \\bigcup_{k=0}^{n} \\binom{[n]}{k} \\) by Proposition 8.1.3. Moreover, the sets \\(\\binom{[n]}{k}\\) are pairwise disjoint, so by the addition principle it follows that\r\n\r\n\\[\r\n2^n = |\\mathcal{P}([n])| = \\left| \\bigcup_{k=0}^{n} \\binom{[n]}{k} \\right| = \\sum_{k=0}^{n} \\left| \\binom{[n]}{k} \\right| = \\sum_{k=0}^{n} \\binom{n}{k}\r\n\\]\r\n\r\n❖ **Strategy 8.1.36 (Double counting)**\r\n\r\nIn order to prove that two expressions involving natural numbers are equal, it suffices to define a set \\( X \\) and devise two counting arguments to show that \\( |X| \\) is equal to both expressions.\r\n\r\nThe next example counts elements of *different* sets and puts them in bijection to establish an identity.\r\n\r\n✣ **Proposition 8.1.37**\r\n\r\nLet \\( n, k \\in \\mathbb{N} \\) with \\( n \\geq k \\). Then\r\n\r\n\\[\r\n\\binom{n}{k} = \\binom{n}{n-k}\r\n\\]\r\n\r\n**Proof**\r\n\r\nFirst note that \\(\\binom{n}{k} = \\left| \\binom{[n]}{k} \\right|\\) and \\(\\binom{n}{n-k} = \\left| \\binom{[n]}{n-k} \\right|\\), so in order to prove \\(\\binom{n}{k} = \\binom{n}{n-k}\\), it suffices by Strategy 6.1.16 to find a bijection \\( f : \\binom{[n]}{k} \\to \\binom{[n]}{n-k} \\). Intuitively, this bijection arises because choosing \\( k \\) elements from \\([n]\\) to put into a subset is equivalent to choosing \\( n-k \\) elements from \\([n]\\) to leave out of the subset. Specifically, we define\r\n\r\n\\[\r\nf(U) = [n] \\setminus U \\text{ for all } U \\in \\binom{[n]}{k}\r\n\\]\r\n\r\nNote first that \\( f \\) is well-defined, since if \\( U \\subseteq [n] \\) with \\(|U| = k\\), then \\([n] \\setminus U \\subseteq [n]\\) and \\(|[n] \\setminus U| = |[n]| - |U| = n-k\\) by Exercise 6.1.21. We now prove \\( f \\) is a bijection:\r\n\r\n- \\( f \\) is injective. Let \\( U, V \\subseteq [n] \\) and suppose \\([n] \\setminus U = [n] \\setminus V\\). Then for all \\( k \\in [n] \\), we have\r\n\r\n  \\[\r\n  k \\in U \\iff k \\notin [n] \\setminus U \\quad \\text{by definition of set difference}\r\n  \\]\r\n  \\[\r\n  \\iff k \\notin [n] \\setminus V \\quad \\text{since } [n] \\setminus U = [n] \\setminus V\r\n  \\]\r\n  \\[\r\n  \\iff k \\in V \\quad \\text{by definition of set difference}\r\n  \\]\r\n\r\n  so \\( U = V \\), as required.\r\n</markdown>",
    "Q": "Q: How can we interpret the identity \\( \\binom{n}{k} = \\binom{n}{n-k} \\) in terms of a real-world scenario involving selections? ",
    "A": " A: This identity can be interpreted as stating that choosing \\( k \\) items from a set of \\( n \\) items is equivalent to choosing \\( n-k \\) items to leave out. For example, if you have 10 fruits and you want to select 3 to put in a basket, it is the same as deciding which 7 fruits to leave out of the basket."
  },
  {
    "page": 328,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n- **\\( f \\) is surjective.** Let \\( V \\in \\binom{[n]}{n-k} \\). Then \\(|[n] \\setminus V| = n - (n-k) = k\\) by Exercise 6.1.21, so that \\([n] \\setminus V \\in \\binom{[n]}{k}\\). But then\r\n\r\n  \\[\r\n  f([n] \\setminus V) = [n] \\setminus ([n] \\setminus V) = V\r\n  \\]\r\n\r\n  by Exercise 2.2.30.\r\n\r\nSince \\( f \\) is a bijection, we have\r\n\r\n\\[\r\n\\binom{n}{k} = \\left| \\binom{[n]}{k} \\right| = \\left| \\binom{[n]}{n-k} \\right| = \\binom{n}{n-k}\r\n\\]\r\n\r\nas required.\r\n\r\nWe put a lot of detail into this proof. A slightly less formal proof might simply say that \\(\\binom{n}{k} = \\binom{n}{n-k}\\) since choosing \\( k \\) elements from \\([n]\\) to put into a subset is equivalent to choosing \\( n-k \\) elements from \\([n]\\) to leave out of the subset. This would be fine as long as the members of the intended audience of your proof could reasonably be expected to construct the bijection by themselves.\r\n\r\nThe proof of Proposition 8.1.38 follows this more informal format.\r\n\r\n### Proposition 8.1.38\r\nLet \\( n, k, \\ell \\in \\mathbb{N} \\) with \\( n \\geq k \\geq \\ell \\). Then\r\n\r\n\\[\r\n\\binom{n}{k} \\binom{k}{\\ell} = \\binom{n}{\\ell} \\binom{n-\\ell}{k-\\ell}\r\n\\]\r\n\r\n**Proof**\r\n\r\nLet’s home in on the left-hand side of the equation. By the multiplication principle, \\(\\binom{n}{k} \\binom{k}{\\ell}\\) is the number of ways of selecting a \\( k \\)-element subset of \\([n]\\) and an \\(\\ell\\)-element subset of \\([k]\\). Equivalently, it’s the number of ways of selecting a \\( k \\)-element subset of \\([n]\\) and then an \\(\\ell\\)-element subset of the \\( k \\)-element subset that we just selected. To make this slightly more concrete, let’s put it this way:\r\n\r\n\\(\\binom{n}{k} \\binom{k}{\\ell}\\) is the number of ways of painting \\( k \\) balls red from a bag of \\( n \\) balls, and painting \\(\\ell\\) of the red balls blue. This leaves us with \\(\\ell\\) blue balls and \\( k - \\ell \\) red balls.\r\n\r\nNow we need to find an equivalent interpretation of \\(\\binom{n}{\\ell} \\binom{n-\\ell}{k-\\ell}\\). Well, suppose we pick the \\(\\ell\\) elements to be coloured blue first. To make up the rest of the \\( k \\)-element subset, we now have to select \\( k - \\ell \\) elements, and there are now \\( n - \\ell \\) to choose from. Thus\r\n\r\n\\(\\binom{n}{\\ell} \\binom{n-\\ell}{k-\\ell}\\) is the number of ways of painting \\(\\ell\\) balls from a bag of \\( n \\) balls blue, and painting \\( k - \\ell \\) of the remaining balls red.\r\n</markdown>",
    "Q": "Q: In the context of Proposition 8.1.38, how many different ways can you select a \\( k \\)-element subset from \\( n \\) items, ensuring that \\( \\ell \\) specific items are included in the selection? ",
    "A": " A: You can first choose the \\( \\ell \\) items in \\( \\binom{n}{\\ell} \\) ways, and then select the remaining \\( k - \\ell \\) items from the remaining \\( n - \\ell \\) items, which can be done in \\( \\binom{n - \\ell}{k - \\ell} \\) ways. Thus, the total number of ways is given by \\( \\binom{n}{\\ell} \\binom{n - \\ell}{k - \\ell} \\)."
  },
  {
    "page": 329,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nThus, both numbers represent the number of ways of painting $\\ell$ balls blue and $k - \\ell$ balls red from a bag of $n$ balls. Hence they are equal.\r\n\r\n### Exercise 8.1.39\r\nMake the proof of [Proposition 8.1.38](#) more formal by defining a bijection between sets of the appropriate sizes.\r\n\r\n### Exercise 8.1.40\r\nProvide a combinatorial proof that if $n, k \\in \\mathbb{N}$ with $n \\geq k$, then\r\n\r\n\\[\r\n\\binom{n+1}{k+1} = \\binom{n}{k} + \\binom{n}{k+1}\r\n\\]\r\n\r\nDeduce that the combinatorial definition of binomial coefficients ([Definition 8.1.4](#)) is equivalent to the recursive definition ([Definition 4.1.15](#)).\r\n\r\nThe following proposition demonstrates that the combinatorial definition of factorials ([Definition 8.1.10](#)) is equivalent to the recursive definition ([Definition 4.1.14](#)).\r\n\r\n### Theorem 8.1.41\r\n$0! = 1$ and if $n \\in \\mathbb{N}$ then $(n+1)! = (n+1) \\cdot n!$.\r\n\r\n**Proof**  \r\nThe only permutation of $\\emptyset$ is the empty function $e : \\emptyset \\to \\emptyset$. Hence $S_0 = \\{e\\}$ and $0! = |S_0| = 1$.\r\n\r\nLet $n \\in \\mathbb{N}$. A permutation of $[n+1]$ is a bijection $f : [n+1] \\to [n+1]$. Specifying such a bijection is equivalent to carrying out the following procedure:\r\n\r\n- Choose the (unique!) element $k \\in [n+1]$ such that $f(k) = n+1$. There are $n+1$ choices for $k$.\r\n\r\n- Choose the values of $f$ at each $\\ell \\in [n+1]$ with $\\ell \\neq k$. This is equivalent to finding a bijection $[n+1] \\setminus \\{k\\} \\to [n]$. Since $|[n+1] \\setminus \\{k\\}| = |[n]| = n$, there are $n!$ such choices.\r\n\r\nBy the multiplication principle, we have\r\n\r\n\\[\r\n(n+1)! = |S_{n+1}| = (n+1) \\cdot n!\r\n\\]\r\n\r\nso we’re done.\r\n\r\nWe now revisit [Theorem 4.2.14](#); this time, our proof will be combinatorial, rather than inductive.\r\n</markdown>",
    "Q": "Q: How can we interpret the combinatorial identity \\(\\binom{n+1}{k+1} = \\binom{n}{k} + \\binom{n}{k+1}\\) in terms of choosing subsets from a set of \\(n+1\\) elements?  \r\n",
    "A": "  \r\nA: The identity can be interpreted as follows: to choose \\(k+1\\) elements from \\(n+1\\), we can either include a specific element (say the last element) and choose \\(k\\) from the remaining \\(n\\), or we can exclude that element and choose all \\(k+1\\) from the first \\(n\\) elements, which corresponds to the terms \\(\\binom{n}{k}\\) and \\(\\binom{n}{k+1}\\) respectively."
  },
  {
    "page": 330,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\n### Theorem 8.1.42\r\nLet \\( n, k \\in \\mathbb{N} \\). Then\r\n\r\n\\[\r\n\\binom{n}{k} = \r\n\\begin{cases} \r\n\\frac{n!}{k!(n-k)!} & \\text{if } k \\leq n \\\\ \r\n0 & \\text{if } k > n \r\n\\end{cases}\r\n\\]\r\n\r\n**Proof**  \r\nSuppose \\( k > n \\). By Exercise 6.1.17, if \\( U \\subseteq [n] \\) then \\(|U| \\leq n\\). Hence if \\( k > n \\), then \\(\\binom{n}{k} = \\emptyset\\), and so \\(\\binom{n}{k} = 0\\), as required.\r\n\r\nNow suppose \\( k \\leq n \\). We will prove that \\( n! = \\binom{n}{k} \\cdot k! \\cdot (n-k)! \\); the result then follows by dividing through by \\( k!(n-k)! \\). We prove this equation by counting the number of elements of \\( S_n \\).\r\n\r\nA procedure for defining an element of \\( S_n \\) is as follows:\r\n\r\n(i) Choose which elements will appear in the first \\( k \\) positions of the list. There are \\(\\binom{n}{k}\\) such choices.\r\n\r\n(ii) Choose the order of these \\( k \\) elements. There are \\( k! \\) such choices.\r\n\r\n(iii) Choose the order of the remaining \\( n-k \\) elements. There are \\( (n-k)! \\) such choices.\r\n\r\nBy the multiplication principle, \\( n! = \\binom{n}{k} \\cdot k! \\cdot (n-k)! \\).\r\n\r\nNote that the proof of Theorem 8.1.42 relied only on the combinatorial definitions of binomial coefficients and factorials; we didn’t need to know how to compute them at all! The proof was *much* shorter, cleaner and, in some sense, more meaningful, than the inductive proof we gave in Theorem 4.2.14.\r\n\r\nWe conclude this section with some more examples and exercises in which double counting can be used.\r\n\r\n### Exercise 8.1.43\r\nLet \\( n, k \\in \\mathbb{N} \\) with \\( k \\leq n + 1 \\). Prove that\r\n\r\n\\[\r\nk \\binom{n}{k} = (n-k+1) \\binom{n}{k-1}\r\n\\]\r\n\r\n### Example 8.1.44\r\nLet \\( m, n, k \\in \\mathbb{N} \\). We prove that\r\n\r\n\\[\r\n\\sum_{\\ell=0}^{k} \\binom{m}{\\ell} \\binom{n}{k-\\ell} = \\binom{m+n}{k}\r\n\\]\r\n</markdown>",
    "Q": "Q: How can we interpret the equation \\( k \\binom{n}{k} = (n-k+1) \\binom{n}{k-1} \\) combinatorially? ",
    "A": " A: This equation can be interpreted as choosing \\( k \\) elements from a set of \\( n \\) elements in two different ways: the left-hand side counts the choices of \\( k \\) elements where one specific element is designated in the selection process (hence multiplied by \\( k \\)), while the right-hand side counts the choices by choosing \\( k-1 \\) elements from the remaining \\( n-1 \\) and then choosing one of the remaining \\( n-k+1 \\) elements to include in the selection."
  },
  {
    "page": 331,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.1 Counting Principles",
    "content": "<markdown>\r\nby finding a procedure for counting the number of \\( k \\)-element subsets of an appropriate \\((m+n)\\)-element set. Specifically, let \\( X \\) be a set containing \\( m \\) cats and \\( n \\) dogs. Then \\(\\binom{m+n}{k}\\) is the number of \\( k \\)-element subsets \\( U \\subseteq X \\). We can specify such a subset according to the following procedure.\r\n\r\n- **Step 1.** Split into cases based on the number \\( \\ell \\) of cats in \\( U \\). Note that we must have \\( 0 \\leq \\ell \\leq k \\), since the number of cats must be a natural number and cannot exceed \\( k \\) as \\(|U| = k\\). Moreover, these cases are mutually exclusive. Hence by the addition principle we have\r\n\r\n  \\[\r\n  \\binom{m+n}{k} = \\sum_{\\ell=0}^{k} a_\\ell\r\n  \\]\r\n\r\n  where \\( a_\\ell \\) is the number of subsets of \\( X \\) containing \\( \\ell \\) cats and \\( k-\\ell \\) dogs.\r\n\r\n- **Step 2.** Choose \\( \\ell \\) cats from the \\( m \\) cats in \\( X \\) to be elements of \\( U \\). There are \\(\\binom{m}{\\ell}\\) such choices.\r\n\r\n- **Step 3.** Choose \\( k-\\ell \\) dogs from the \\( n \\) dogs in \\( X \\) to be elements of \\( U \\). There are \\(\\binom{n}{k-\\ell}\\) such choices.\r\n\r\nThe multiplication principle shows that \\( a_\\ell = \\binom{m}{\\ell} \\binom{n}{k-\\ell} \\). Hence\r\n\r\n\\[\r\n\\binom{m+n}{k} = \\sum_{\\ell=0}^{k} \\binom{m}{\\ell} \\binom{n}{k-\\ell}\r\n\\]\r\n\r\nas required.\r\n\r\n✑ **Exercise 8.1.45**\r\n\r\nGiven natural numbers \\( n, a, b, c \\) with \\( a + b + c = n \\), define the trinomial coefficient\r\n\r\n\\[\r\n\\binom{n}{a, b, c}\r\n\\]\r\n\r\nto be the number of ways of partitioning \\([n]\\) into three sets of sizes \\( a, b \\) and \\( c \\), respectively. That is, \r\n\r\n\\[\r\n\\binom{n}{a, b, c}\r\n\\]\r\n\r\nis the size of the set\r\n\r\n\\[\r\n\\left\\{ (A, B, C) \\mid A \\subseteq [n], \\, B \\subseteq [n], \\, C \\subseteq [n], \\, |A| = a, \\, |B| = b, \\, |C| = c, \\, \\text{and} \\, A \\cup B \\cup C = [n] \\right\\}\r\n\\]\r\n\r\nBy considering trinomial coefficients, prove that if \\( a, b, c \\in \\mathbb{N} \\), then \\((a+b+c)!\\) is divisible by \\( a! \\cdot b! \\cdot c! \\).\r\n</markdown>",
    "Q": "Q: How can we express the relation between the trinomial coefficient \\(\\binom{n}{a, b, c}\\) and the factorials \\(a!\\), \\(b!\\), and \\(c!\\) to show that \\((a+b+c)!\\) is divisible by \\(a! \\cdot b! \\cdot c!\\)? ",
    "A": " A: The trinomial coefficient is given by \r\n\r\n\\[\r\n\\binom{n}{a, b, c} = \\frac{n!}{a! \\cdot b! \\cdot c!}\r\n\\]\r\n\r\nwhere \\(n = a + b + c\\). Since \\(\\binom{n}{a, b, c}\\) counts the number of ways to partition a set of size \\(n\\), it is a natural number. Therefore, we can conclude that \r\n\r\n\\[\r\n(a+b+c)! = n! \\text{ is divisible by } a! \\cdot b! \\cdot c!.\r\n\\]"
  },
  {
    "page": 332,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n## Section 8.2\r\n\r\n# Alternating sums\r\n\r\nUsing the addition principle, together with double counting, turned out to be very useful for proving combinatorial identities involving sums in [Section 8.1](#). In this section, we turn our attention to **alternating sums**, which are sums whose terms alternate between positive and negative. As we will see later, sums of this kind can be used to computing sizes of unions of not-necessarily-disjoint sets—this has all manner of uses and applications.\r\n\r\nAn example of such a sum is the following.\r\n\r\n\\[\r\n\\binom{6}{0} - \\binom{6}{1} + \\binom{6}{2} - \\binom{6}{3} + \\binom{6}{4} - \\binom{6}{5} + \\binom{6}{6}\r\n\\]\r\n\r\nWe can express such sums more succinctly by observing that, given \\( k \\in \\mathbb{N} \\), we have\r\n\r\n\\[\r\n(-1)^k = \r\n\\begin{cases} \r\n1 & \\text{if } k \\text{ is even} \\\\\r\n-1 & \\text{if } k \\text{ is odd}\r\n\\end{cases}\r\n\\]\r\n\r\nFor example, the sum above could be expressed as\r\n\r\n\\[\r\n\\sum_{k=0}^{6} (-1)^k \\binom{6}{k}\r\n\\]\r\n\r\nIt so happens that this sum evaluates to zero:\r\n\r\n\\[\r\n1 - 6 + 15 - 20 + 15 - 6 + 1 = 0\r\n\\]\r\n\r\nThe goal of the following exercise is to demonstrate how... annoying... it is to prove identities involving alternating sums using induction.\r\n\r\n### Exercise 8.2.1\r\n\r\nProve by induction that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\nEvidently we need a better approach.\r\n\r\nIf you stare at the equation in Exercise 8.2.1 for long enough, you should be able to convince yourself that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = \\sum_{\\text{even } k} \\binom{n}{k} - \\sum_{\\text{odd } k} \\binom{n}{k}\r\n\\]\r\n\r\nand it suffices to prove that\r\n\r\n\\[\r\n\\sum_{\\text{even } k} \\binom{n}{k} = \\sum_{\\text{odd } k} \\binom{n}{k}\r\n\\]\r\n\r\nThis will be our strategy in the proof of Proposition 8.2.2, which serves as our prototype for the abstract material to come.\r\n</markdown>",
    "Q": "Q: Prove that the even-indexed binomial coefficients satisfy the equation \r\n\r\n\\[\r\n\\sum_{\\text{even } k} \\binom{n}{k} = \\sum_{\\text{odd } k} \\binom{n}{k}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\) using combinatorial arguments. ",
    "A": " A: One way to show this is by interpreting the binomial coefficients as counting subsets. Consider a set with \\( n \\) elements. The sum of binomial coefficients for even \\( k \\) counts the number of subsets with an even number of elements, and the sum for odd \\( k \\) counts those with an odd number of elements. By pairing each subset of size \\( k \\) with its complement of size \\( n-k \\), we see that for each subset of even size, there is a corresponding subset of odd size and vice versa. Hence, there are equal numbers of subsets of even and odd size, leading to \r\n\r\n\\[\r\n\\sum_{\\text{even } k} \\binom{n}{k} = \\sum_{\\text{odd } k} \\binom{n}{k}.\r\n\\]"
  },
  {
    "page": 333,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\nFor the sake of readability, we left implicit that \\( k \\) is varying over (the even or odd elements of) the set \\(\\{0, 1, \\ldots, n\\}\\) in each sum—we shall adopt this practice throughout this section.\r\n\r\n### Proposition 8.2.2\r\n\r\nLet \\( n \\in \\mathbb{N} \\). Then\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0.\r\n\\]\r\n\r\n**Proof**\r\n\r\nAs we observed, it suffices to prove\r\n\r\n\\[\r\n\\sum_{\\text{even } k} \\binom{n}{k} = \\sum_{\\text{odd } k} \\binom{n}{k}\r\n\\]\r\n\r\nSo define\r\n\r\n\\[\r\n\\mathcal{E} = \\{ U \\subseteq [n] \\mid |U| \\text{ is even} \\} \\quad \\text{and} \\quad \\mathcal{O} = \\{ U \\subseteq [n] \\mid |U| \\text{ is odd} \\}\r\n\\]\r\n\r\nThat is, \\(\\mathcal{E}\\) is the set of all even-sized subsets of \\([n]\\), and \\(\\mathcal{O}\\) is the set of all odd-sized subsets of \\([n]\\).\r\n\r\nNote that the sets \\(\\binom{[n]}{k}\\) for even \\(k \\leq n\\) partition \\(\\mathcal{E}\\), and the sets \\(\\binom{[n]}{k}\\) for odd \\(k \\leq n\\) partition \\(\\mathcal{O}\\). So by the addition principle, we have\r\n\r\n\\[\r\n|\\mathcal{E}| = \\bigcup_{\\text{even } k} \\binom{[n]}{k} = \\sum_{\\text{even } k} \\binom{n}{k} \\quad \\text{and} \\quad |\\mathcal{O}| = \\bigcup_{\\text{odd } k} \\binom{[n]}{k} = \\sum_{\\text{odd } k} \\binom{n}{k}\r\n\\]\r\n\r\nIt suffices to show that \\(|\\mathcal{E}| = |\\mathcal{O}|\\). To do this, define a function \\( f : \\mathcal{E} \\to \\mathcal{O} \\) for \\( U \\in \\mathcal{E} \\) by\r\n\r\n\\[\r\nf(U) = \r\n\\begin{cases} \r\nU \\cup \\{n\\} & \\text{if } n \\notin U \\\\\r\nU \\setminus \\{n\\} & \\text{if } n \\in U \r\n\\end{cases}\r\n\\]\r\n\r\nThat is, \\( f \\) puts \\( n \\) into a subset if it wasn’t already there, and removes it if it was. Then:\r\n\r\n- **\\( f \\) is well-defined.** Given \\( U \\in \\mathcal{E} \\), note that \\(|f(U)| = |U| \\pm 1\\); since \\(|U|\\) is even, we have that \\(|f(U)|\\) is odd, so that \\( f(U) \\in \\mathcal{O} \\).\r\n\r\n- **\\( f \\) is bijective.** Define \\( g : \\mathcal{O} \\to \\mathcal{E} \\) by letting\r\n\r\n\\[\r\ng(V) = \r\n\\begin{cases} \r\nV \\cup \\{n\\} & \\text{if } n \\notin V \\\\\r\nV \\setminus \\{n\\} & \\text{if } n \\in V \r\n\\end{cases}\r\n\\]\r\n\r\nfor all \\( V \\in \\mathcal{O} \\). The proof that \\( g \\) is well-defined is identical to that of \\( f \\). Moreover, given \\( U \\in \\mathcal{E} \\), we have:\r\n</markdown>",
    "Q": "Q: What does the proposition \\(\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0\\) reveal about the relationship between even and odd-sized subsets of \\([n]\\)? ",
    "A": " A: The proposition indicates that the number of even-sized subsets of \\([n]\\) is equal to the number of odd-sized subsets of \\([n]\\), as demonstrated by the equation \\(\\sum_{\\text{even } k} \\binom{n}{k} = \\sum_{\\text{odd } k} \\binom{n}{k}\\)."
  },
  {
    "page": 334,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\nIf \\( n \\in U \\), then \\( f(U) = U \\setminus \\{n\\} \\), so that \\( g(f(U)) = (U \\setminus \\{n\\}) \\cup \\{n\\} = U \\).\r\n\r\nIf \\( n \\notin U \\), then \\( f(U) = U \\cup \\{n\\} \\), so that \\( g(f(U)) = (U \\cup \\{n\\}) \\setminus \\{n\\} = U \\).\r\n\r\nHence \\( g(f(U)) = U \\) for all \\( U \\in \\mathcal{E} \\). An identical computation reveals that \\( f(g(V)) = V \\) for all \\( V \\in \\mathcal{O} \\), and so \\( g \\) is an inverse for \\( f \\).\r\n\r\nPutting all of this together, it follows from the fact that \\( f : \\mathcal{E} \\to \\mathcal{O} \\) is a bijection that \\( |\\mathcal{E}| = |\\mathcal{O}| \\), and so\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = \\sum_{\\text{even } k} \\binom{n}{k} - \\sum_{\\text{odd } k} \\binom{n}{k} = |\\mathcal{E}| - |\\mathcal{O}| = 0\r\n\\]\r\n\r\nas required.\r\n\r\nWait a minute—didn’t I say this would be a *better* approach than induction? That proof felt like a lot of work. The reason for working through this proof is that it highlights the ideas that we will use throughout this section. These ideas will allow us to derive a general proof strategy, called the *involution principle* (Strategy 8.2.24), which greatly simplifies proofs of results of this nature—indeed, we will prove Proposition 8.2.2 again using the involution principle in Example 8.2.25.\r\n\r\nWith that said, Proposition 8.2.2 highlights the following general strategy for proving that an alternating sum evaluates to zero.\r\n\r\n**Strategy 8.2.3** (Proving that an alternating sum evaluates to zero)\r\n\r\nLet \\( a_0, a_1, \\ldots, a_n \\in \\mathbb{N} \\). In order to prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k a_k = 0,\r\n\\]\r\n\r\nit suffices to find:\r\n\r\n(i) A partition \\( U_0, U_2, \\ldots \\) of a set \\( \\mathcal{E} \\), with \\( |U_k| = a_k \\) for all even \\( k \\);\r\n\r\n(ii) A partition \\( U_1, U_3, \\ldots \\) of a set \\( \\mathcal{O} \\), with \\( |U_k| = a_k \\) for all odd \\( k \\); and\r\n\r\n(iii) A bijection \\( \\mathcal{E} \\to \\mathcal{O} \\).\r\n\r\n**Exercise 8.2.4**\r\n\r\nUse Strategy 8.2.3 to prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\cdot k \\cdot \\binom{n}{k} = 0\r\n\\]\r\n\r\nfor all \\( n \\geq 2 \\).\r\n\r\nUnfortunately Strategy 8.2.3 is still somewhat limited. For a start, it tells us nothing about how to evaluate an alternating sum that *doesn’t* end up being equal to zero. Also,\r\n</markdown>",
    "Q": "Q: How can you apply the involution principle to demonstrate that the alternating sum \r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\cdot k \\cdot \\binom{n}{k} = 0\r\n\\]\r\n\r\nfor \\( n \\geq 2 \\)? ",
    "A": " A: By partitioning the set of \\( k \\cdot \\binom{n}{k} \\) into two subsets based on the parity of \\( k \\) (even or odd) and finding a bijection between them, we can show that the number of elements in the even indexed partition matches the odd indexed partition, leading to the conclusion that the alternating sum equals zero."
  },
  {
    "page": 335,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\nit ignores a key clue from the proof of Proposition 8.2.2: namely, the function \\( f : \\mathcal{E} \\to \\mathcal{O} \\) and its inverse \\( g : \\mathcal{O} \\to \\mathcal{E} \\) were defined identically. They are both restrictions of a function \\( h : \\mathcal{P}([n]) \\to \\mathcal{P}([n]) \\) defined in the same way:\r\n\r\n\\[\r\nh(U) = \r\n\\begin{cases} \r\nU \\cup \\{n\\} & \\text{if } n \\notin U \\\\\r\nU \\setminus \\{n\\} & \\text{if } n \\in U \r\n\\end{cases}\r\n\\]\r\n\r\nThis function has the property that \\( h(h(U)) = U \\) for all \\( U \\subseteq [n] \\) (that is, \\( h \\) is an involution), and \\( h \\) restricts to a bijection between the set of even-sized subsets of \\([n]\\) and the set of odd-sized subsets of \\([n]\\) (that is, \\( h \\) swaps parity).\r\n\r\nThis property of being a parity-swapping involution will be the key to deriving the involution principle.\r\n\r\n## Involutions\r\n\r\nAn involution is a function that is its own inverse.\r\n\r\n### Definition 8.2.5\r\nLet \\( X \\) be a set. An **involution** of \\( X \\) is a function \\( h : X \\to X \\) such that \\( h \\circ h = \\text{id}_X \\).\r\n\r\n### Example 8.2.6\r\nConsider the function \\( h : \\mathbb{R} \\to \\mathbb{R} \\) defined by \\( h(x) = 1 - x \\) for each \\( x \\in \\mathbb{R} \\). Then \\( h \\) is an involution, since for all \\( x \\in \\mathbb{R} \\) we have \\( h(h(x)) = 1 - (1 - x) = x \\).\r\n\r\n### Exercise 8.2.7\r\nGiven a set \\( X \\), prove that the relative complement function \\( r : \\mathcal{P}(X) \\to \\mathcal{P}(X) \\), defined by \\( r(U) = X \\setminus U \\) for all \\( U \\subseteq X \\), is an involution.\r\n\r\n### Exercise 8.2.8\r\nProve that every involution is a bijection.\r\n\r\n### Exercise 8.2.9\r\nLet \\( h : X \\to X \\) be an involution and let \\( a \\in X \\). Prove that \\( h \\) either fixes \\( a \\)—that is, \\( h(a) = a \\)—or swaps it with another element \\( b \\in X \\)—that is, \\( h(a) = b \\) and \\( h(b) = a \\).\r\n\r\nThe involution that we used in the proof of Proposition 8.2.2 was an instance of toggling an element in a subset—that is, removing it if it is there, and putting it in if it is not.\r\n\r\nToggling is so useful that we assign special notation.\r\n</markdown>",
    "Q": "Q: Given the description of an involution, can you provide an example of a function defined on a finite set that serves as an involution and verify its properties? ",
    "A": " A: Consider the function \\( h : \\{1, 2, 3\\} \\to \\{1, 2, 3\\} \\) defined as follows:\r\n\\[\r\nh(x) = \r\n\\begin{cases} \r\n2 & \\text{if } x = 1 \\\\ \r\n1 & \\text{if } x = 2 \\\\ \r\n3 & \\text{if } x = 3 \r\n\\end{cases}\r\n\\]\r\nTo verify that \\( h \\) is an involution, we compute \\( h(h(x)) \\):\r\n- \\( h(h(1)) = h(2) = 1 \\)\r\n- \\( h(h(2)) = h(1) = 2 \\)\r\n- \\( h(h(3)) = h(3) = 3 \\)\r\n\r\nThus, \\( h \\) satisfies \\( h(h(x)) = x \\) for all \\( x \\in \\{1, 2, 3\\} \\), confirming that \\( h \\) is indeed an involution."
  },
  {
    "page": 336,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Definition 8.2.10\r\n\r\nLet \\( X \\) be a set. The toggle operation \\(\\oplus\\) (LaTeX code: `\\oplus`) is defined by letting\r\n\r\n\\[\r\nU \\oplus a = \r\n\\begin{cases} \r\nU \\cup \\{a\\} & \\text{if } a \\notin U \\\\\r\nU \\setminus \\{a\\} & \\text{if } a \\in U \r\n\\end{cases}\r\n\\]\r\n\r\nfor each \\( U \\subseteq X \\) and each \\( a \\in X \\).\r\n\r\n### Example 8.2.11\r\n\r\nTaking \\( X = [3] \\) and \\( a = 3 \\), we have:\r\n\r\n\\[\r\n\\begin{align*}\r\n\\emptyset \\oplus 3 &= \\{3\\} \\\\\r\n\\{1\\} \\oplus 3 &= \\{1, 3\\} \\\\\r\n\\{2\\} \\oplus 3 &= \\{2, 3\\} \\\\\r\n\\{1, 2\\} \\oplus 3 &= \\{1, 2, 3\\} \\\\\r\n\\{3\\} \\oplus 3 &= \\emptyset \\\\\r\n\\{1, 3\\} \\oplus 3 &= \\{1\\} \\\\\r\n\\{2, 3\\} \\oplus 3 &= \\{2\\} \\\\\r\n\\{1, 2, 3\\} \\oplus 3 &= \\{1, 2\\}\r\n\\end{align*}\r\n\\]\r\n\r\nThe next two exercises are generalisations of facts that we showed in the proof of Proposition 8.2.2.\r\n\r\n### Exercise 8.2.12\r\n\r\nLet \\( X \\) be a set and let \\( a \\in X \\). Prove that the function \\( T_a : \\mathcal{P}(X) \\to \\mathcal{P}(X) \\) defined by \\( T_a(U) = U \\oplus a \\) for all \\( U \\subseteq X \\) is an involution.\r\n\r\n### Exercise 8.2.13\r\n\r\nLet \\( X \\) be a finite set and let \\( a \\in X \\). Prove that, for all \\( U \\subseteq X \\), if \\( |U| \\) is even then \\( |U \\oplus a| \\) is odd, and if \\( |U| \\) is odd then \\( |U \\oplus a| \\) is even.\r\n\r\nThe property of the toggle operation that you proved in Exercise 8.2.13 is an instance of **parity-swapping**. While toggling swaps the parity of the size of a subset, we can generalise the notion of parity more generally, provided we have a notion of what it means for an element of a set to be ‘even’ or ‘odd’.\r\n\r\nA first attempt to define ‘even’ and ‘odd’ might be to simply partition a set \\( X \\) as \\( X = E \\cup O \\), for disjoint subsets \\( E, O \\subseteq X \\)—the elements of \\( E \\) will be deemed to be ‘even’ and the elements of \\( O \\) will be deemed to be ‘odd’. But it will be helpful later on to go one step further than this: we will partition \\( X \\) into finitely many pieces, indexed by natural numbers, and the natural number will determine the parities of the elements of \\( X \\).\r\n</markdown>",
    "Q": "Q: If \\( U \\subseteq X \\) is a set such that \\( |U| = n \\) (where \\( n \\) is a natural number), what can be inferred about the size of \\( U \\oplus a \\) if \\( n \\) is a multiple of 3? ",
    "A": " A: If \\( n \\) is a multiple of 3, then \\( |U \\oplus a| \\) will not necessarily be a multiple of 3; it will simply be \\( n + 1 \\) if \\( a \\notin U \\) and \\( n - 1 \\) if \\( a \\in U \\), thus the parity condition remains that \\( |U \\oplus a| \\) will be either odd or even depending on the original size \\( n \\)."
  },
  {
    "page": 337,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Definition 8.2.14\r\n\r\nLet \\( X \\) be a set and let \\( \\mathcal{U} = \\{U_0, U_1, \\ldots, U_n\\} \\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\). The **parity** of an element \\( a \\in X \\) (relative to \\( \\mathcal{U} \\)) is the parity—**even** or **odd**—of the unique \\( k \\in \\{0, 1, \\ldots, n\\} \\) such that \\( a \\in U_k \\).\r\n\r\nWrite \\( X^+ = \\{a \\in X \\mid a \\text{ has even parity}\\} \\) (\\(\\LaTeX\\) code: \\( X^+ \\)) and \\( X^- = \\{a \\in X \\mid a \\text{ has odd parity}\\} \\) (\\(\\LaTeX\\) code: \\( X^- \\)).\r\n\r\nNote that, with notation as in Definition 8.2.14, we have partitions of \\( X^+ \\) and \\( X^- \\) as\r\n\r\n\\[\r\nX^+ = \\bigcup_{\\text{even } k} U_k \\quad \\text{and} \\quad X^- = \\bigcup_{\\text{odd } k} U_k\r\n\\]\r\n\r\n### Example 8.2.15\r\n\r\nLet \\( X \\) be a finite set, and consider the partition of \\( \\mathcal{P}(X) \\) given by \\( U_k = \\binom{X}{k} \\) for all \\( 0 \\leq k \\leq n \\). With respect to this partition, an element \\( U \\in \\mathcal{P}(X) \\) has even parity if and only if \\(|U|\\) is even, and odd parity if and only if \\(|U|\\) is odd.\r\n\r\nFor example, we have\r\n\r\n\\[\r\n\\mathcal{P}([2])^+ = \\{\\emptyset, \\{1, 2\\}\\} \\quad \\text{and} \\quad \\mathcal{P}([2])^- = \\{\\{1\\}, \\{2\\}\\}\r\n\\]\r\n\r\n### Example 8.2.16\r\n\r\nLet \\( m, n \\in \\mathbb{N} \\) and let \\( X \\) be the set of all functions \\([n] \\to [n]\\). For each \\( k \\leq n \\), define\r\n\r\n\\[\r\nX_k = \\{f : [n] \\to [n] \\mid |\\{a \\in [n] \\mid f(a) = a\\}| = k\\}\r\n\\]\r\n\r\nThat is, for each \\( k \\leq n \\), the set \\( X_k \\) is the set of all functions \\( f : [n] \\to [n] \\) that fix exactly \\( k \\) elements of \\([n]\\).\r\n\r\nA function \\( f : [n] \\to [n] \\) has even parity with respect to this partition if it fixes an even number of elements, and odd parity if it fixes an odd number of elements.\r\n\r\n### Definition 8.2.17\r\n\r\nLet \\( X \\) be a set and let \\(\\{U_0, U_1, \\ldots, U_n\\}\\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\). A function \\( f : X \\to X \\) **swaps parity** (or is **parity-swapping**) if, for all \\( a \\in X \\), if \\( a \\) has even parity then \\( f(a) \\) has odd parity, and if \\( a \\) has odd parity then \\( f(a) \\) has even parity.\r\n\r\n### Example 8.2.18\r\n\r\nWith parity defined as in Example 8.2.15, the result of Exercise 8.2.12 says precisely that, for every set \\( X \\) and element \\( a \\in X \\), the toggle function \\( T_a : \\mathcal{P}(X) \\to \\mathcal{P}(X) \\) swaps parity, where \\( T_a \\) is defined by \\( T_a(U) = U \\oplus a \\) for all \\( U \\subseteq X \\).\r\n</markdown>",
    "Q": "Q: How can we determine the parity of an element \\( a \\) in a finite set \\( X \\) when \\( X \\) is partitioned into subsets of different sizes? ",
    "A": " A: The parity of an element \\( a \\) in a finite set \\( X \\) can be determined by identifying the unique subset \\( U_k \\) in the partition of \\( X \\) that contains \\( a \\). If \\( k \\) is even, then \\( a \\) has even parity; if \\( k \\) is odd, then \\( a \\) has odd parity."
  },
  {
    "page": 338,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Exercise 8.2.19\r\nLet \\( X \\) be a finite set. Under what conditions does the involution \\( r : \\mathcal{P}(X) \\to \\mathcal{P}(X) \\) given by \\( r(U) = X \\setminus U \\) for all \\( U \\subseteq X \\) swap parity?\r\n\r\n### Exercise 8.2.20\r\nLet \\( n \\in \\mathbb{N} \\) and let \\( X \\) be the set of all functions \\([n] \\to [n]\\), partitioned as in Example 8.2.16, so that a function \\( f : [n] \\to [n] \\) has even parity if it fixes an even number of elements, and odd parity if it fixes an odd number of elements. Find a parity-swapping function \\( X \\to X \\).\r\n\r\nThe next two following technical results will be used fundamentally in the proof of Theorem 8.2.23.\r\n\r\n### Lemma 8.2.21\r\nLet \\( X \\) be a finite set, let \\(\\{U_0, U_1, \\ldots, U_n\\}\\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\), and let \\( h : X \\to X \\) be a parity-swapping involution. Then \\( h \\) induces a bijection \\( f : X^+ \\to X^- \\) defined by \\( f(x) = h(x) \\) for all \\( x \\in X^+ \\).\r\n\r\n**Proof**\r\n\r\nFirst note that the definition of \\( f : X^+ \\to X^- \\) by letting \\( f(x) = h(x) \\) for all \\( x \\in X^+ \\) is well-defined since \\( h \\) swaps parity. Indeed, if \\( x \\in X^+ \\), then \\( x \\) has even parity, so that \\( f(x) = h(x) \\) has odd parity, meaning that \\( f(x) \\in X^- \\).\r\n\r\nTo see that \\( f \\) is a bijection, define a function \\( g : X^- \\to X^+ \\) by \\( g(x) = h(x) \\) for all \\( x \\in X^- \\). Again, \\( g \\) is well-defined since \\( h \\) swaps parity.\r\n\r\nFinally note that \\( g \\) is an inverse for \\( f \\)—given \\( x \\in X^+ \\), we have\r\n\\[ \r\ng(f(x)) = h(h(x)) = x \r\n\\]\r\nand likewise \\( f(g(x)) = x \\) for all \\( x \\in X^- \\).\r\n\r\nSince \\( f \\) has an inverse, it is a bijection.\r\n\r\n### Lemma 8.2.22\r\nLet \\( X \\) be a finite set, let \\(\\{U_1, U_2, \\ldots, U_n\\}\\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\), and let \\( h : X \\to X \\) be a parity-swapping involution. Then\r\n\\[\r\n\\sum_{k=1}^{n} (-1)^k |U_k| = 0\r\n\\]\r\n\r\n**Proof**\r\n\r\nBy Lemma 8.2.21 we know that \\( h : X \\to X \\) restricts to a bijection \\( X^+ \\to X^- \\), and so we have \\(|X^+| = |X^-|\\). By the addition principle, we have\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k |U_k| = \\sum_{\\text{even } k} |U_k| - \\sum_{\\text{odd } k} |U_k| = |X^+| - |X^-| = 0\r\n\\]\r\n</markdown>",
    "Q": "Q: Given a finite set \\( X \\) and a parity-swapping involution \\( h : X \\to X \\), how can we demonstrate that the sizes of the sets of elements with even and odd parity are equal? ",
    "A": " A: The sizes of the sets of elements with even and odd parity are equal because the involution \\( h \\) induces a bijection between the two sets, meaning that every element with even parity has a corresponding unique element with odd parity, thus \\( |X^+| = |X^-| \\)."
  },
  {
    "page": 339,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\nLemma 8.2.22 gets us well on our way to deriving the involution principle. In fact, it already makes Strategy 8.2.3 obsolete: we can now prove that an alternating sum is equal to zero simply by finding a parity-swapping involution from a suitably partitioned set to itself!\r\n\r\nBut in practice, it might not be easy (or even possible) to define a parity-swapping involution \\( h : X \\to X \\) on the whole set \\( X \\). In such cases, we do the best that we can: define \\( h \\) on some subset \\( D \\subseteq X \\), and worry about what is left over afterwards.\r\n\r\n### Theorem 8.2.23\r\nLet \\( X \\) be a finite set, let \\( \\{U_1, U_2, \\ldots, U_n\\} \\) be a partition of \\( X \\) for some \\( n \\in \\mathbb{N} \\), let \\( D \\subseteq X \\), let \\( h : D \\to D \\) be a parity-swapping involution, and let \\( F_k = U_k \\setminus D \\) for each \\( k \\in [n] \\). Then\r\n\r\n\\[\r\n\\sum_{k=1}^{n} (-1)^k |U_k| = \\sum_{k=1}^{n} (-1)^k |F_k|\r\n\\]\r\n\r\n**Proof**\r\n\r\nNote first that the sets \\( U_k \\cap D \\) for \\( k \\in [n] \\) partition \\( D \\), with the elements of \\( D \\) having the same parities as they did when they were considered as elements of \\( X \\).\r\n\r\nIt follows from Lemma 8.2.22 that\r\n\r\n\\[\r\n\\sum_{k=1}^{n} |U_k \\cap D| = 0\r\n\\]\r\n\r\nMoreover \\( |U_k| = |U_k \\cap D| + |U_k \\setminus D| \\) for each \\( k \\in [n] \\) by the addition principle. Since \\( F_k = U_k \\setminus D \\) for each \\( k \\in [n] \\), we have\r\n\r\n\\[\r\n\\sum_{k=1}^{n} (-1)^k |U_k| = \\sum_{k=1}^{n} (-1)^k |U_k \\cap D| + \\sum_{k=1}^{n} (-1)^k |U_k \\setminus D| = \\sum_{k=1}^{n} (-1)^k |F_k|\r\n\\]\r\n\r\nas required.\r\n\r\nWe have suggestively used the letter \\( D \\) to refer to where the involution is defined, and the letter \\( F \\) to refer to the elements where the involution fails.\r\n</markdown>",
    "Q": "Q: Given a finite set \\( X \\) with a partition \\( \\{U_1, U_2, \\ldots, U_n\\} \\) and a subset \\( D \\subseteq X \\) where a parity-swapping involution \\( h \\) is defined, can you express how the alternating sum of the sizes of the sets \\( U_k \\) relates to the sizes of the sets \\( F_k \\) defined as \\( F_k = U_k \\setminus D \\)? ",
    "A": " A: Yes, according to Theorem 8.2.23, the relationship is given by the equation \r\n\r\n\\[\r\n\\sum_{k=1}^{n} (-1)^k |U_k| = \\sum_{k=1}^{n} (-1)^k |F_k|.\r\n\\]"
  },
  {
    "page": 340,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Strategy 8.2.24 (Involution principle)\r\n\r\nLet \\( a_1, a_2, \\ldots, a_n \\in \\mathbb{N} \\). In order to evaluate an alternating sum \\(\\sum_{k=1}^{n} (-1)^k a_k\\), it suffices to follow the following steps:\r\n\r\n(i) Find a set \\( X \\) with a partition \\(\\{U_1, U_2, \\ldots, U_n\\}\\), such that \\(|U_k| = a_k\\) for all \\( k \\in [n] \\).\r\n\r\n(ii) Find a parity-swapping involution \\( h : D \\to D \\) for some subset \\( D \\subseteq X \\)—often it is easiest to specify the values of \\( h \\) first, and take \\( D \\) to be the set of elements of \\( X \\) for which the specification makes sense.\r\n\r\n(iii) Evaluate \\(\\sum_{k=1}^{n} (-1)^k |F_k|\\), where \\( F_k = U_k \\setminus D \\) for all \\( k \\in [n] \\)—that is, count the elements of each \\( U_k \\) where the involution failed to be well-defined, and add them positively or negatively according to their parity.\r\n\r\nIt will often be the case that many of the sets \\( F_k \\) are empty, simplifying matters greatly.\r\n\r\n---\r\n\r\nThis is rather abstract, so let’s see some examples of the involution principle in action.\r\n\r\n### Example 8.2.25\r\n\r\nHere is a succinct proof that \\(\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0\\) for all \\( n \\in \\mathbb{N} \\) using the involution principle.\r\n\r\nLet \\( n \\in \\mathbb{N} \\) and define \\( U_k = \\binom{[n]}{k} \\) for all \\( 0 \\leq k \\leq n \\)—these sets form a partition of \\(\\mathcal{P}([n])\\), and \\(|U_k| = \\binom{n}{k}\\) for each \\( 0 \\leq k \\leq n \\).\r\n\r\nBy Exercise 8.2.12, the function \\( h : \\mathcal{P}([n]) \\to \\mathcal{P}([n]) \\) defined by \\( h(U) = U \\oplus n \\) is a parity-swapping involution. By the involution principle (Strategy 8.2.24) with \\( D = \\mathcal{P}([n]) \\), we have \\( U_k \\setminus D = \\emptyset \\) for each \\( 0 \\leq k \\leq n \\), and hence\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} = 0\r\n\\]\r\n\r\nas required.\r\n\r\n### Exercise 8.2.26\r\n\r\nRepeat Exercise 8.2.4 using the involution principle—that is, use the involution principle to prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\cdot k \\cdot \\binom{n}{k} = 0\r\n\\]\r\n\r\nfor all \\( n \\geq 2 \\).\r\n</markdown>",
    "Q": "Q: Using the involution principle, how can we prove that \r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\cdot k^2 \\cdot \\binom{n}{k} = 0\r\n\\]\r\n\r\nfor all \\( n \\geq 2 \\)? ",
    "A": " A: To prove this, we can consider the sets \\( U_k = \\{(S, x) : S \\subseteq [n], |S| = k, x \\in [n] \\setminus S \\} \\) for \\( k = 0, 1, \\ldots, n \\), where \\( |U_k| = k \\cdot \\binom{n-1}{k-1} \\). Define an involution \\( h \\) that swaps \\( (S,x) \\) with \\( (S \\oplus x, x) \\), which affects the count based on parity. The alternating sum then simplifies to show that when evaluated, it results in zero due to mutual cancellations across all \\( k \\)."
  },
  {
    "page": 341,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Exercise 8.2.27\r\n\r\nUse the involution principle to prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k \\binom{n}{k} \\binom{k}{\\ell} = 0\r\n\\]\r\n\r\nfor all \\( n, \\ell \\in \\mathbb{N} \\) with \\( \\ell < n \\).\r\n\r\nThe next example is slightly more involved, because we find an involution that is not defined on the whole set being counted. This generalises the result of Example 8.2.25.\r\n\r\n### Proposition 8.2.28\r\n\r\nLet \\( n, r \\in \\mathbb{N} \\) with \\( r \\leq n \\). Then\r\n\r\n\\[\r\n\\sum_{k=0}^{r} (-1)^k \\binom{n}{k} = (-1)^r \\binom{n-1}{r}.\r\n\\]\r\n\r\n**Proof**\r\n\r\nLet \\( X \\) be the set of subsets of \\([n]\\) of size \\(\\leq r\\), and for each \\( 0 \\leq k \\leq r \\), let \\( U_k = \\binom{[n]}{k} \\).\r\n\r\nNote that the sets \\( U_k \\) partition \\( X \\) for \\( 0 \\leq k \\leq r \\).\r\n\r\nDefine \\( h(U) = U \\oplus n \\) for all \\( U \\in X \\). Since \\( h \\) is defined by toggling \\( n \\), it is a parity-swapping involution.\r\n\r\nThe only way that \\( h \\) can fail to be well-defined is if \\(|h(U)| > r\\). Since \\(|U \\oplus n| = |U| \\pm 1\\) for all \\( U \\in X \\), the only way we can have \\(|h(U)| > r\\) is if \\(|U| = r\\) and \\( n \\notin U \\), in which case \\( h(U) = U \\cup \\{n\\} \\) has size \\( r + 1 \\).\r\n\r\nHence \\( F_k = \\emptyset \\) for all \\( k < r \\), and \\( F_r = \\{ U \\subseteq [n] \\mid |U| = r \\text{ and } n \\notin U \\} \\). Specifying an element of \\( F_r \\) is therefore equivalent to specifying a subset of \\([n-1]\\) of size \\( r \\), so that\r\n\r\n\\[\r\n|F_r| = \\binom{n-1}{r}.\r\n\\]\r\n\r\nPutting this all together, we obtain\r\n\r\n\\[\r\n\\sum_{k=0}^{r} (-1)^k \\binom{n}{k} = \\sum_{k=0}^{r} (-1)^k |F_k| = (-1)^r \\binom{n-1}{r}\r\n\\]\r\n\r\nas required.\r\n\r\nThe next example is slightly more colourful.\r\n\r\n### Example 8.2.29\r\n\r\nLet \\( a, b, r \\in \\mathbb{N} \\) with \\( a \\leq r \\leq b \\). We prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{r} (-1)^k \\binom{a}{k} \\binom{b}{r-k} = \\binom{b-a}{r}\r\n\\]\r\n</markdown>",
    "Q": "Q: How does the involution principle apply to show that \r\n\r\n\\[\r\n\\sum_{k=0}^{r} (-1)^k \\binom{a}{k} \\binom{b}{r-k} = \\binom{b-a}{r}\r\n\\]\r\n\r\nfor \\( a \\leq r \\leq b \\)? ",
    "A": " A: The involution principle allows us to define an involution that matches subsets counted by the left-hand side to those counted by the right-hand side, where we toggle membership in the subset with respect to an element. This results in a cancellation of terms for all cases where the conditions do not hold, ultimately equating the sums and proving the equality."
  },
  {
    "page": 342,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\nConsider a population of \\( b \\) animals, of which exactly \\( a \\) are cats. A government of exactly \\( r \\) animals must be formed, and a Feline Affairs Committee—which is a branch of the government—must be chosen from amongst the cats. The Feline Affairs Committee may have any size, but its size is bounded by the size of the government.\r\n\r\nLet \\( X \\) be the set of all pairs \\( (G, C) \\), where \\( G \\) is a government and \\( C \\subseteq G \\) is the Feline Affairs Committee.\r\n\r\nFor \\( k \\leq r \\), let \\( U_k \\) be the set of all government–committee pairs \\( (G, C) \\) such that \\( |C| = k \\)—that is, such that exactly \\( k \\) cats sit on the Feline Affairs Committee. Note that parity is determined by the number of cats on the Feline Affairs Committee: indeed, \\( (G, C) \\) has even parity if \\( |C| \\) is even, and odd parity if \\( |C| \\) is odd.\r\n\r\nGiven a government–committee pair \\( (G, C) \\), let \\( h(G, C) = (G, C \\oplus x) \\), where \\( x \\in G \\) is the youngest cat on the government. That is, if the youngest cat on the government is on the Feline Affairs Committee, then that cat is removed from the committee; and if the youngest cat on the government is not on the Feline Affairs Committee, then that cat is added to the committee.\r\n\r\nEvidently \\( h \\) is an involution, and it swaps parity since it adds or removes one cat to or from the Feline Affairs Committee.\r\n\r\nThe only way that \\( h \\) can fail to be well-defined is if there are no cats on the government, in which case \\( k = 0 \\). Thus by the involution principle\r\n\r\n\\[\r\n\\sum_{k=0}^{r} (-1)^k \\binom{a}{k} \\binom{b}{r-k} = (-1)^0 \\cdot \\left| \\left\\{ (G, \\emptyset) \\in X \\mid G \\text{ contains no cats} \\right\\} \\right|\r\n\\]\r\n\r\nBut there are exactly \\( b-a \\) non-cats in the animal population, so that\r\n\r\n\\[\r\n\\left| \\left\\{ (G, \\emptyset) \\in X \\mid G \\text{ contains no cats} \\right\\} \\right| = \\binom{b-a}{r}\r\n\\]\r\n\r\nand hence we have\r\n\r\n\\[\r\n\\sum_{k=0}^{r} (-1)^k \\binom{a}{k} \\binom{b}{r-k} = \\binom{b-a}{r}, \\text{ as required.}\r\n\\]\r\n\r\nIf you dislike reasoning about animals, Example 8.2.29 could be reformulated by taking:\r\n\r\n- \\( X = \\{ (A, B) \\mid A \\subseteq B \\cap [a], B \\subseteq [b], |B| = r \\} \\);\r\n- \\( U_k = \\{ (A, B) \\in X \\mid |A| = k \\} \\) for all \\( k \\leq r \\); and\r\n- \\( h(A, B) = h(A \\oplus x, B) \\), where \\( x \\) is the least element of \\( B \\cap [a] \\).\r\n\r\nYou are encouraged to verify the details!\r\n</markdown>",
    "Q": "Q: Given a population of \\( b \\) animals with exactly \\( a \\) cats, how can you determine the number of government-committee pairs \\( (G, C) \\) where the Feline Affairs Committee has an odd number of cats if a government of size \\( r \\) is formed? ",
    "A": " A: The number of government-committee pairs \\( (G, C) \\) with an odd number of cats can be found using the alternating sum, specifically by evaluating the expression \\( \\sum_{k=0}^{r} (-1)^k \\binom{a}{k} \\binom{b}{r-k} \\) for \\( k \\) values that yield odd counts of \\( |C| \\). The result will equal \\( \\binom{b-a}{r} \\) for those configurations where the government contains no cats."
  },
  {
    "page": 343,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Exercise 8.2.30\r\n\r\nLet \\( n \\in \\mathbb{N} \\) and consider the set\r\n\r\n\\[ \r\nX = \\{(k, i) \\mid k \\leq n, \\, i \\in [k]\\} \r\n\\]\r\n\r\nFor example, if \\( n = 3 \\) then \\( X = \\{(1, 1), (2, 1), (2, 2), (3, 1), (3, 2), (3, 3)\\} \\).\r\n\r\n(a) Prove that \\(|X| = \\sum_{k=0}^{n} k\\).\r\n\r\n(b) Use the involution principle to prove that\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k k = \r\n\\begin{cases} \r\n\\frac{n}{2} & \\text{if } n \\text{ is even} \\\\ \r\n\\frac{n+1}{2} & \\text{if } n \\text{ is odd} \r\n\\end{cases}\r\n\\]\r\n\r\n### Inclusion–exclusion principle\r\n\r\nOur final application of the involution principle will be to prove the inclusion–exclusion principle, which is used for computing the sizes of unions of sets that are not necessarily pairwise disjoint.\r\n\r\nWe saw in Proposition 6.1.19 how to compute the size of a union of two not-necessarily-disjoint sets:\r\n\r\n\\[\r\n|X \\cup Y| = |X| + |Y| - |X \\cap Y|\r\n\\]\r\n\r\nSo far so good. But what if we have three or four sets instead of just two?\r\n\r\n### Exercise 8.2.31\r\n\r\nLet \\( X, Y, Z \\) be sets. Show that\r\n\r\n\\[\r\n|X \\cup Y \\cup Z| = |X| + |Y| + |Z| - |X \\cap Y| - |X \\cap Z| - |Y \\cap Z| + |X \\cap Y \\cap Z|\r\n\\]\r\n\r\nLet \\( W \\) be another set. Derive a similar formula for \\(|W \\cup X \\cup Y \\cup Z|\\).\r\n\r\nThe inclusion–exclusion principle is a generalisation of Exercise 8.2.31 to arbitrary finite collections of finite sets, but it is stated in a slightly different way in order to make the proof more convenient.\r\n</markdown>",
    "Q": "Q: Prove that the size of the union of four sets \\( |W \\cup X \\cup Y \\cup Z| \\) can be expressed using the sizes of the individual sets and their intersections as follows:\r\n\r\n\\[\r\n|W \\cup X \\cup Y \\cup Z| = |W| + |X| + |Y| + |Z| - |W \\cap X| - |W \\cap Y| - |W \\cap Z| - |X \\cap Y| - |X \\cap Z| - |Y \\cap Z| + |W \\cap X \\cap Y| + |W \\cap X \\cap Z| + |W \\cap Y \\cap Z| + |X \\cap Y \\cap Z| - |W \\cap X \\cap Y \\cap Z|.\r\n\\] \r\n\r\n",
    "A": " A: The formula for \\(|W \\cup X \\cup Y \\cup Z|\\) using the inclusion-exclusion principle is derived in a similar manner to that of three sets, accounting for all pairwise intersections, triple intersections, and the intersection of all four sets. Thus, it can be succinctly expressed as:\r\n\r\n\\[\r\n|W \\cup X \\cup Y \\cup Z| = |W| + |X| + |Y| + |Z| - |W \\cap X| - |W \\cap Y| - |W \\cap Z| - |X \\cap Y| - |X \\cap Z| - |Y \\cap Z| + |W \\cap X \\cap Y| + |W \\cap X \\cap Z| + |W \\cap Y \\cap Z| + |X \\cap Y \\cap Z| - |W \\cap X \\cap Y \\cap Z|.\r\n\\]"
  },
  {
    "page": 344,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Theorem 8.2.32 (Inclusion–exclusion principle)\r\n\r\nLet \\( n \\in \\mathbb{N} \\), let \\( X_i \\) be a finite set for each \\( i \\in [n] \\), and let \\( X = X_1 \\cup X_2 \\cup \\cdots \\cup X_n \\). Then\r\n\r\n\\[\r\n\\sum_{I \\subseteq [n]} (-1)^{|I|} |X_I| = 0\r\n\\]\r\n\r\nwhere \\( X_I = \\{ a \\in X \\mid a \\in X_i \\text{ for all } i \\in I \\} \\).\r\n\r\nThe statement of Theorem 8.2.32 looks fairly abstract, so before we prove it, let’s examine its content. The sum is over all subsets \\( I \\subseteq [n] \\), and then the power \\((-1)^{|I|}\\) is equal to 1 if \\( I \\) has an even number of elements, and \\(-1\\) if \\( I \\) has an odd number of elements. Moreover, if \\( I \\) is inhabited then \\( X_I \\) is the intersection of the sets \\( X_i \\) for \\( i \\in I \\)—for example \\( X_{\\{2,3,5\\}} = X_2 \\cap X_3 \\cap X_5 \\); on the other hand, a careful examination of the definition of \\( X_I \\) reveals that \\( X_\\emptyset = X \\).\r\n\r\nThus when \\( n = 3 \\), the sum \\(\\sum_{I \\subseteq [3]} (-1)^{|I|} |X_I|\\) can be evaluated as\r\n\r\n\\[\r\n|X| - |X_1| - |X_2| - |X_3| + |X_1 \\cap X_2| + |X_1 \\cap X_3| + |X_2 \\cap X_3| - |X_1 \\cap X_2 \\cap X_3|\r\n\\]\r\n\r\nThe theorem says that this sum is equal to zero, and solving for \\(|X| = |X_1 \\cup X_2 \\cup X_3|\\) yields an equivalent equation to that in Exercise 8.2.31.\r\n\r\n#### Proof of Theorem 8.2.32\r\n\r\nWe will prove the inclusion–exclusion principle using the involution principle.\r\n\r\nFirst we introduce some notation:\r\n\r\n- Define \\( S = \\{ (I, a) \\mid I \\subseteq [n], a \\in X_I \\} \\). We can think of an element \\((I, a) \\in S\\) as being an element \\( a \\in X \\) together with a label \\( I \\) indicating that \\( a \\in X_i \\) for all \\( i \\in I \\).\r\n\r\n- For each \\( 0 \\leq k \\leq n \\), define \\( S_k = \\{ (I, a) \\in S \\mid |I| = k \\} \\).\r\n\r\n- For each \\( a \\in X \\), let \\( i_a = \\min \\{ k \\in [n] \\mid a \\in X_k \\} \\).\r\n\r\nNote that the sets \\( S_0, S_1, S_2, \\ldots, S_n \\) form a partition of \\( S \\), so we can consider the parity of an element \\((I, a) \\in S\\)—namely, the parity of \\((I, a)\\) is even if \\(|I|\\) is even, and odd if \\(|I|\\) is odd.\r\n\r\nDefine a function \\( f : S \\to S \\) by letting\r\n\r\n\\[\r\nf(I, a) = (I \\oplus i_a, a)\r\n\\]\r\n\r\nfor each \\( I \\subseteq [n] \\) and each \\( a \\in X_I \\). Then:\r\n\r\n- \\( f \\) is an involution since by Exercise 8.2.12 we have\r\n\r\n\\[\r\nf(f(I, a)) = f(I \\oplus i_a, a) = ((I \\oplus i_a) \\oplus i_a, a) = (I, a)\r\n\\]\r\n</markdown>",
    "Q": "Q: How does the Inclusion-Exclusion Principle apply to three sets, specifically in determining the size of the union \\( |X_1 \\cup X_2 \\cup X_3| \\)? ",
    "A": " A: The principle states that \\( |X| = |X_1| + |X_2| + |X_3| - |X_1 \\cap X_2| - |X_1 \\cap X_3| - |X_2 \\cap X_3| + |X_1 \\cap X_2 \\cap X_3| \\). Thus, \\( |X_1 \\cup X_2 \\cup X_3| \\) accounts for all single sets, subtracts overlaps, and adds back the intersection of all three sets."
  },
  {
    "page": 345,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n- \\( f \\) is parity-swapping, since \\(|I \\oplus i_a|\\) and \\(|I|\\) have opposite parity for each \\(a \\in X\\).\r\n\r\nBy the involution principle, we have\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k |S_k| = 0\r\n\\]\r\n\r\nNow for fixed \\(I \\subseteq [n]\\), let \\(T_I = \\{(I, a) \\mid a \\in X\\}\\). Then for each \\(0 \\leq k \\leq n\\), the sets \\(T_I\\) for \\(|I| = k\\) partition \\(S_k\\), and moreover \\((-1)^k = (-1)^{|I|}\\), so that by the addition principle we have\r\n\r\n\\[\r\n\\sum_{k=0}^{n} (-1)^k |S_k| = \\sum_{k=0}^{n} \\sum_{I \\in \\binom{[n]}{k}} (-1)^{|I|} |T_I| = \\sum_{I \\subseteq [n]} (-1)^{|I|} |T_I| = 0\r\n\\]\r\n\r\nFinally note that, for each \\(I \\subseteq [n]\\), the function \\(g_I : X_I \\to T_I\\) defined by \\(g_I(a) = (I, a)\\) for all \\(a \\in X_I\\) is a bijection, with inverse given by \\(g_I^{-1}(I, a) = a\\) for all \\((I, a) \\in T_I\\).\r\n\r\nHence \\(|X_I| = |T_I|\\), and the result is proved.\r\n\r\nIt is more common to see the inclusion–exclusion principle stated in one two equivalent forms, stated here as Corollaries 8.2.33 and 8.2.34.\r\n\r\n### Corollary 8.2.33\r\nLet \\(X_1, X_2, \\ldots, X_n\\) be sets. Then\r\n\r\n\\[\r\n\\left| \\bigcup_{i=1}^{n} X_i \\right| = \\sum_{k=1}^{n} \\left( \\sum_{1 \\leq i_1 < i_2 < \\cdots < i_k \\leq n} (-1)^{k-1} |X_{i_1} \\cap X_{i_2} \\cap \\cdots \\cap X_{i_k}| \\right)\r\n\\]\r\n\r\n**Proof**\r\n\r\nMoving all terms to the left-hand side of the equation and observing that \\(-(-1)^{k-1} = (-1)^k\\), the statement is equivalent to\r\n\r\n\\[\r\n\\left| \\bigcup_{i=1}^{n} X_i \\right| - \\sum_{k=1}^{n} \\sum_{1 \\leq i_1 < i_2 < \\cdots < i_k \\leq n} (-1)^k |X_{i_1} \\cap X_{i_2} \\cap \\cdots \\cap X_{i_k}| = 0\r\n\\]\r\n\r\nBut using the notation of Theorem 8.2.32, we have\r\n\r\n\\[\r\n\\left| \\bigcup_{i=1}^{n} X_i \\right| = |X| = (-1)^{|\\emptyset|} |X_{\\emptyset}|\r\n\\]\r\n\r\nand for all \\(1 \\leq i_1 < i_2 < \\cdots < i_k \\leq n\\), we have\r\n\r\n\\[\r\n(-1)^k |X_{i_1} \\cap X_{i_2} \\cap \\cdots \\cap X_{i_k}| = (-1)^{| \\{i_1, i_2, \\ldots, i_k\\} |} |X_{\\{i_1, i_2, \\ldots, i_k\\}}|\r\n\\]\r\n\r\nand so we see that this is just a restatement of Theorem 8.2.32.\r\n</markdown>",
    "Q": "Q: How can we express the size of the union of \\( n \\) sets \\( X_1, X_2, \\ldots, X_n \\) using the inclusion-exclusion principle? ",
    "A": " A: The size of the union can be expressed as \r\n\r\n\\[\r\n\\left| \\bigcup_{i=1}^{n} X_i \\right| = \\sum_{k=1}^{n} \\left( \\sum_{1 \\leq i_1 < i_2 < \\cdots < i_k \\leq n} (-1)^{k-1} |X_{i_1} \\cap X_{i_2} \\cap \\cdots \\cap X_{i_k}| \\right).\r\n\\]"
  },
  {
    "page": 346,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n### Corollary 8.2.34\r\n\r\nLet \\( X \\) be a set and let \\( U_1, U_2, \\ldots, U_n \\subseteq X \\). Then\r\n\r\n\\[\r\n\\left| X \\setminus \\bigcup_{i=1}^{n} U_i \\right| = |X| + \\sum_{k=1}^{n} \\left( \\sum_{1 \\leq i_1 < i_2 < \\cdots < i_k \\leq n} (-1)^k |U_{i_1} \\cap U_{i_2} \\cap \\cdots \\cap U_{i_k}| \\right)\r\n\\]\r\n\r\n**Proof**\r\n\r\nSince \\(\\bigcup_{i=1}^{n} U_i \\subseteq X\\), we have\r\n\r\n\\[\r\n\\left| X \\setminus \\bigcup_{i=1}^{n} U_i \\right| = |X| - \\left| \\bigcup_{i=1}^{n} U_i \\right|\r\n\\]\r\n\r\nThe result then follows immediately from [Corollary 8.2.33](#).\r\n\r\n### Strategy 8.2.35 (Finding the size of a union by inclusion–exclusion)\r\n\r\nIn order to find the size of a union of \\(\\bigcup_{i=1}^{n} X_i\\), it suffices to:\r\n\r\n- Add the sizes of the individual sets \\(X_i\\);\r\n- Subtract the sizes of the double-intersections \\(X_i \\cap X_j\\);\r\n- Add the sizes of the triple-intersections \\(X_i \\cap X_j \\cap X_k\\);\r\n- Subtract the sizes of the quadruple-intersections \\(X_i \\cap X_j \\cap X_k \\cap X_\\ell\\);\r\n- \\(\\ldots\\) and so on \\(\\ldots\\)\r\n\r\nContinue alternating until the intersection of all the sets is covered.\r\n\r\n### Example 8.2.36\r\n\r\nWe count how many subsets of \\([12]\\) contain a multiple of 3. Precisely, we count the number of elements of the set\r\n\r\n\\[\r\nX_3 \\cup X_6 \\cup X_9 \\cup X_{12}\r\n\\]\r\n\r\nwhere \\(X_k = \\{ S \\subseteq [12] \\mid k \\in S \\}\\). We will apply the inclusion–exclusion principle:\r\n\r\n(i) An element \\(S \\in X_3\\) is precisely a set of the form \\(\\{3\\} \\cup S'\\), where \\(S' \\subseteq [12] \\setminus \\{3\\}\\). Since \\([12] \\setminus \\{3\\}\\) has 11 elements, there are \\(2^{11}\\) such subsets. So \\(|X_3| = 2^{11}\\), and likewise \\(|X_6| = |X_9| = |X_{12}| = 2^{11}\\).\r\n\r\n(ii) An element \\(S \\in X_3 \\cap X_6\\) is a set of the form \\(\\{3, 6\\} \\cup S'\\), where \\(S' \\subseteq [12] \\setminus \\{3, 6\\}\\). Thus there are \\(2^{10}\\) such subsets, so \\(|X_3 \\cap X_6| = 2^{10}\\). And likewise\r\n\r\n\\[\r\n|X_3 \\cap X_9| = |X_3 \\cap X_{12}| = |X_6 \\cap X_9| = |X_6 \\cap X_{12}| = |X_9 \\cap X_{12}| = 2^{10}\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the size of the union \\( |X_3 \\cup X_6 \\cup X_9 \\cup X_{12}| \\) given the sizes of individual sets and their intersections using the inclusion-exclusion principle? ",
    "A": " A: The size of the union is given by\r\n\r\n\\[\r\n|X_3 \\cup X_6 \\cup X_9 \\cup X_{12}| = |X_3| + |X_6| + |X_9| + |X_{12}| - |X_3 \\cap X_6| - |X_3 \\cap X_9| - |X_3 \\cap X_{12}| - |X_6 \\cap X_9| - |X_6 \\cap X_{12}| - |X_9 \\cap X_{12}| + |X_3 \\cap X_6 \\cap X_9| + |X_3 \\cap X_6 \\cap X_{12}| + |X_3 \\cap X_9 \\cap X_{12}| + |X_6 \\cap X_9 \\cap X_{12}| - |X_3 \\cap X_6 \\cap X_9 \\cap X_{12}|\r\n\\]\r\n\r\nSubstituting the values, we find that\r\n\r\n\\[\r\n|X_3 \\cup X_6 \\cup X_9 \\cup X_{12}| = 4 \\times 2^{11} - 6 \\times 2^{10} + 4 \\times 2^{9} - 2^{8} = 4096.\r\n\\]"
  },
  {
    "page": 347,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.2 Alternating Sums",
    "content": "<markdown>\r\n(iii) Reasoning as in the last two cases, we see that\r\n\r\n\\[\r\n|X_3 \\cap X_6 \\cap X_9| = |X_3 \\cap X_6 \\cap X_{12}| = |X_3 \\cap X_9 \\cap X_{12}| = |X_6 \\cap X_9 \\cap X_{12}| = 2^9\r\n\\]\r\n\r\n(iv) \\ldots and \\(|X_3 \\cap X_6 \\cap X_9 \\cap X_{12}| = 2^8\\).\r\n\r\nThus the number of subsets of \\([12]\\) which contain a multiple of 3 is\r\n\r\n\\[\r\n\\underbrace{4 \\times 2^{11}}_{\\text{by (i)}} - \\underbrace{6 \\times 2^{10}}_{\\text{by (ii)}} + \\underbrace{4 \\times 2^9}_{\\text{by (iii)}} - \\underbrace{2^8}_{\\text{by (iv)}}\r\n\\]\r\n\r\nwhich is equal to 3840.\r\n\r\n**Exercise 8.2.37**  \r\nHow many natural numbers less than 1000 are multiples of 2, 3, 5 or 7?\r\n</markdown>",
    "Q": "Q: How many natural numbers less than 1000 are multiples of 2, 3, 5, or 7? ",
    "A": " A: There are 428 natural numbers less than 1000 that are multiples of 2, 3, 5, or 7."
  },
  {
    "page": 348,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.E Chapter 8 Exercises",
    "content": "<markdown>\r\n## Chapter 8 exercises\r\n\r\n### Finite sets\r\n\r\n8.1. Let \\( n \\in \\mathbb{N} \\) and let \\( f : [n] \\to [n] \\) be a function. Prove that \\( f \\) is injective if and only if \\( f \\) is surjective.\r\n\r\n8.2. Prove that \\( |\\mathbb{Z}/n\\mathbb{Z}| = n \\) for all \\( n \\geq 1 \\).\r\n\r\n8.3. Let \\( A, B \\) and \\( C \\) be sets. Prove that if \\( A \\triangle B \\) and \\( B \\triangle C \\) are finite, then \\( A \\triangle C \\) is finite, where the notation \\( \\triangle \\) refers to the symmetric difference operation (Definition 2.E.1)—that is, \\( A \\triangle B = (A \\setminus B) \\cup (B \\setminus A) \\), and so on.\r\n\r\n### Counting\r\n\r\n8.4. Let \\( X \\) and \\( Y \\) be finite sets with \\( |X| = m \\in \\mathbb{N} \\) and \\( |Y| = n \\in \\mathbb{N} \\). Prove that there are \\( 2^{mn} \\) relations from \\( X \\) to \\( Y \\).\r\n\r\n8.5. Let \\( X \\) be a set and let \\( R \\) be a relation on \\( X \\). Prove that \\( R \\) is reflexive if and only if \\( \\Delta_X \\subseteq \\text{Gr}(R) \\), where \\( \\Delta_X \\) is the diagonal subset of \\( X \\times X \\) (see Definition 5.1.17). Deduce that if \\( X \\) is finite and \\( |X| = n \\in \\mathbb{N} \\), then there are \\( 2^{n(n-1)} \\) reflexive relations on \\( X \\).\r\n\r\n8.6. Let \\( X \\) be a finite set with \\( |X| = n \\in \\mathbb{N} \\). Prove that there are \\( 2^{\\binom{n}{2}} \\cdot 2^n \\) symmetric relations on \\( X \\).\r\n\r\n8.7. Let \\( X \\) be a finite set with \\( |X| = n \\in \\mathbb{N} \\). Prove that there are \\( 3^{\\binom{n}{2}} \\cdot 2^n \\) antisymmetric relations on \\( X \\).\r\n\r\n8.8. Let \\( X \\) be a finite set with \\( |X| = n \\in \\mathbb{N} \\), let \\( \\sim \\) be an equivalence relation on \\( X \\), and suppose that there is some natural number \\( k \\) such that \\( |[a]_\\sim| = k \\) for all \\( a \\in X \\). Prove that \\( k \\) divides \\( n \\), and that \\( |X/\\sim| = \\frac{n}{k} \\).\r\n\r\n8.9. Let \\( n, k \\in \\mathbb{N} \\) with \\( k \\leq n \\). Prove that the number of functions \\( f : [n] \\to [n] \\) that fix exactly \\( k \\) elements of \\( [n] \\) is equal to \\( \\binom{n}{k} (n-1)^{n-k} \\).\r\n\r\n### Double counting\r\n\r\n8.10. Let \\( a, b, m, n \\in \\mathbb{N} \\). Prove each of the following by double counting.\r\n</markdown>",
    "Q": "Q: Let \\( A \\) and \\( B \\) be finite sets with \\( |A| = a \\) and \\( |B| = b \\). If we know that there are \\( a \\times b \\) ordered pairs that can be created from the elements of \\( A \\) and \\( B \\), how many total subsets can be formed from the Cartesian product \\( A \\times B \\)?  \r\n",
    "A": "  \r\nA: The total number of subsets that can be formed from the Cartesian product \\( A \\times B \\) is \\( 2^{ab} \\)."
  },
  {
    "page": 349,
    "title": "Ii Topics In Pure Mathematics/8 Enumerative Combinatorics/8.E Chapter 8 Exercises",
    "content": "<markdown>\r\n### Section 8.E. Chapter 8 exercises\r\n\r\n(a) \\( a(m+n) = am + an \\)  \r\n(b) \\( a^{m+n} = a^m \\cdot a^n \\)  \r\n(c) \\( (a^m)^n = a^{mn} \\)  \r\n(d) \\( (ab)^n = a^n \\cdot b^n \\)\r\n\r\n8.11. Prove that \r\n\r\n\\[\r\n\\sum_{k=0}^{n} \\binom{n}{k}^2 = \\binom{2n}{n}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\n8.12. Prove that \r\n\r\n\\[\r\n\\sum_{k=m}^{n} \\binom{n}{k} \\binom{k}{m} = 2^{n-m} \\binom{n}{m}\r\n\\]\r\n\r\nfor all \\( m, n \\in \\mathbb{N} \\) with \\( m \\leq n \\).\r\n\r\n8.13. Prove that \r\n\r\n\\[\r\n\\sum_{j=0}^{k} \\binom{n-j}{k-j} = \\binom{n+1}{k}\r\n\\]\r\n\r\nfor all \\( n, k \\in \\mathbb{N} \\) with \\( k \\leq n \\).\r\n\r\n8.14. Prove that \r\n\r\n\\[\r\n\\sum_{k=1}^{n} \\sum_{\\ell=0}^{k} \\binom{n}{k} \\binom{n-k}{\\ell} = n \\cdot 3^{n-1}\r\n\\]\r\n\r\nfor all \\( n \\in \\mathbb{N} \\).\r\n\r\n8.15. Prove that \r\n\r\n\\[\r\n\\binom{n}{r+s+1} = \\sum_{k=r+1}^{n-s} \\binom{k-1}{r} \\binom{n-k}{s}\r\n\\]\r\n\r\nfor all \\( n, r, s \\in \\mathbb{N} \\).\r\n\r\n8.16. Let \\( a_1, a_2, \\ldots, a_r \\in \\mathbb{N} \\) and let \\( n = a_1 + a_2 + \\cdots + a_r \\). Prove that \r\n\r\n\\[\r\n\\binom{n}{(a_1, a_2, \\ldots, a_r)} = \\prod_{k=0}^{r-1} \\left( n - \\sum_{i=1}^{k} a_i \\right) \\binom{n}{a_{k+1}}\r\n\\]\r\n\r\nwhere \r\n\r\n\\[\r\n\\binom{n}{(a_1, a_2, \\ldots, a_r)}\r\n\\]\r\n\r\nis the number of ordered \\( r \\)-tuples \\( (U_1, U_2, \\ldots, U_r) \\) such that \\( U_1, U_2, \\ldots, U_r \\) is a partition of \\([n]\\) and \\(|U_k| = a_k\\) for all \\( k \\in [r] \\).\r\n\r\n### Alternating sums\r\n\r\n8.17. Let \\( X \\) be a finite set. Prove that if \\(|X|\\) is odd then there is no parity-swapping involution \\( X \\to X \\).\r\n\r\n8.18. Find the number of subsets of \\([100]\\) that do not contain a multiple of 8.\r\n\r\n### Miscellaneous exercises\r\n\r\n8.19. Let \\( n \\in \\mathbb{N} \\). For each \\( k \\in \\mathbb{N} \\), find the coefficient of \\( x^k \\) in the polynomial \\( p(x) \\) defined by \\( p(x) = (1 + x + x^2)^n \\).\r\n</markdown>",
    "Q": "Q: Prove that \r\n\r\n\\[\r\n\\sum_{k=0}^{n} \\binom{n}{k} \\binom{k}{m} = \\binom{n+1}{m+1}\r\n\\]\r\n\r\nfor all \\( m, n \\in \\mathbb{N} \\) with \\( m \\leq n \\)?  \r\n",
    "A": "  \r\nA: The identity can be proven by combinatorial arguments. The left-hand side counts the number of ways to choose a committee of size \\( m \\) from \\( n \\) candidates, summing over all committees of size \\( k \\) from \\( n \\) and then choosing \\( m \\) from \\( k \\). The right-hand side counts the number of ways to choose a committee of size \\( m+1 \\) from \\( n+1 \\) candidates, where one candidate is fixed. Thus, both expressions represent the same quantity and are equal."
  },
  {
    "page": 352,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n## Section 9.1  \r\nInequalities and means\r\n\r\nWe first encountered the real numbers in [Chapter 0](#), when the real numbers were introduced using a vague (but intuitive) notion of an *infinite number line* ([Definition 0.25](#)):\r\n\r\n\\[\r\n\\begin{array}{cccccccccc}\r\n-5 & -4 & -3 & -2 & -1 & 0 & 1 & 2 & 3 & 4 & 5 \\\\\r\n\\end{array}\r\n\\]\r\n\r\nThis section will scrutinise the set of real numbers in its capacity as a *complete ordered field*. Decomposing what this means:\r\n\r\n- A *field* is a set with a notion of ‘zero’ and ‘one’, in which it makes sense to talk about addition, subtraction, multiplication, and division by everything except zero. Examples are \\(\\mathbb{Q}\\), \\(\\mathbb{R}\\), and \\(\\mathbb{Z}/p\\mathbb{Z}\\) when \\(p\\) is a prime number (but not when \\(p\\) is composite). However, \\(\\mathbb{Z}\\) is not a field, since we can’t freely divide by nonzero elements—for example, \\(1 \\in \\mathbb{Z}\\) and \\(2 \\in \\mathbb{Z}\\), but no integer \\(n\\) satisfies \\(2n = 1\\).\r\n\r\n- An *ordered field* is a field which is equipped with a well-behaved notion of order. Both \\(\\mathbb{Q}\\) and \\(\\mathbb{R}\\) are ordered fields, but \\(\\mathbb{Z}/p\\mathbb{Z}\\) is not. We’ll see why soon.\r\n\r\n- A *complete ordered field* is an ordered field in which every set with an upper bound has a *least upper bound*. As we will see, \\(\\mathbb{Q}\\) is not a complete ordered field, but \\(\\mathbb{R}\\) is.\r\n\r\nThis is made (extremely) precise in [Section B.2](#).\r\n\r\n## Magnitude and scalar product\r\n\r\nIn this part of the section, we home in on sets of the form \\(\\mathbb{R}^n\\), for \\(n \\in \\mathbb{N}\\). Elements of \\(\\mathbb{R}^n\\) are sequences of the form \\((x_1, x_2, \\ldots, x_n)\\), where each \\(x_i \\in \\mathbb{R}\\). With our interpretation of the reals \\(\\mathbb{R}\\) as a *line*, we can interpret a sequence \\((x_1, x_2, \\ldots, x_n)\\) as a point in *n-dimensional space*:\r\n\r\n- 0-dimensional space is a single point. The set \\(\\mathbb{R}^0\\) has one element, namely the empty sequence \\(()\\), so this makes sense.\r\n\r\n- 1-dimensional space is a line. This matches our intuition that \\(\\mathbb{R} = \\mathbb{R}^1\\) forms a line.\r\n\r\n- 2-dimensional space is a *plane*. The elements of \\(\\mathbb{R}^2\\) are pairs \\((x, y)\\), where \\(x\\) and \\(y\\) are both real numbers. We can interpret the pair \\((x, y)\\) as *coordinates* for a point which is situated \\(x\\) units to the right of \\((0, 0)\\) and \\(y\\) units above \\((0, 0)\\) (where negative values of \\(x\\) or \\(y\\) reverse this direction)—see [Figure 9.1](#).\r\n</markdown>",
    "Q": "Q: What is the significance of \\(\\mathbb{R}\\) being a complete ordered field compared to \\(\\mathbb{Q}\\)?  \r\n",
    "A": "  \r\nA: The significance is that in \\(\\mathbb{R}\\), every set that has an upper bound has a least upper bound (supremum), which is not the case in \\(\\mathbb{Q}\\). For example, the set of rational numbers less than \\(\\sqrt{2}\\) is bounded above but lacks a least upper bound in \\(\\mathbb{Q}\\)."
  },
  {
    "page": 353,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nWith this intuition in mind, we set up the following notation.\r\n\r\n### Notation 9.1.1\r\nLet \\( n \\in \\mathbb{N} \\). Elements of \\( \\mathbb{R}^n \\) will be denoted \\( \\vec{x}, \\vec{y}, \\vec{z}, \\ldots \\) (\\LaTeX{} code: `\\vec`) and called (n-dimensional) vectors. Given a vector \\( \\vec{x} \\in \\mathbb{R}^n \\), we write \\( x_i \\) for the \\( i \\)th component of \\( \\vec{x} \\), so that\r\n\r\n\\[\r\n\\vec{x} = (x_1, x_2, \\ldots, x_n)\r\n\\]\r\n\r\nThe element \\( (0, 0, \\ldots, 0) \\in \\mathbb{R}^n \\) is called the **origin** or **zero vector** of \\( \\mathbb{R}^n \\), and is denoted by \\( \\vec{0} \\).\r\n\r\nMoreover, if \\( \\vec{x}, \\vec{y} \\in \\mathbb{R}^n \\) and \\( a \\in \\mathbb{R} \\) we write\r\n\r\n\\[\r\n\\vec{x} + \\vec{y} = (x_1 + y_1, x_2 + y_2, \\ldots, x_n + y_n) \\quad \\text{and} \\quad a\\vec{x} = (ax_1, ax_2, \\ldots, ax_n)\r\n\\]\r\n\r\n### Example 9.1.2\r\nFor all \\( \\vec{x} \\in \\mathbb{R}^n \\), we have\r\n\r\n\\[\r\n\\vec{x} + \\vec{0} = \\vec{x} \\quad \\text{and} \\quad 1\\vec{x} = \\vec{x}\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( \\vec{x} = (2, 3, 5) \\) and \\( \\vec{y} = (1, 0, 4) \\) are vectors in \\( \\mathbb{R}^3 \\), what is the result of \\( \\vec{x} + \\vec{y} \\)? ",
    "A": " A: \\( \\vec{x} + \\vec{y} = (2+1, 3+0, 5+4) = (3, 3, 9) \\)."
  },
  {
    "page": 354,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Definition 9.1.3\r\n\r\nLet \\(\\vec{x} \\in \\mathbb{R}^n\\). The **magnitude** of \\(\\vec{x}\\) is the real number \\(\\|\\vec{x}\\|\\) (LaTeX code: `\\lVert \\vec{x} \\rVert`) defined by\r\n\r\n\\[\r\n\\|\\vec{x}\\| = \\sqrt{\\sum_{i=1}^{n} x_i^2} = \\sqrt{x_1^2 + x_2^2 + \\cdots + x_n^2}\r\n\\]\r\n\r\nGiven vectors \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\), the **distance** from \\(\\vec{x}\\) to \\(\\vec{y}\\) is defined to be \\(\\|\\vec{y} - \\vec{x}\\|\\). Thus the magnitude of a vector can be thought of as the distance from that vector to the origin.\r\n\r\n### Example 9.1.4\r\n\r\nIn \\(\\mathbb{R}^2\\), Definition 9.1.3 says that\r\n\r\n\\[\r\n\\| (x, y) \\| = \\sqrt{x^2 + y^2}\r\n\\]\r\n\r\nThis matches the intuition obtained from the Pythagorean theorem on the sides of right-hand triangles. For example, consider the triangle with vertices \\((0,0)\\), \\((4,0)\\) and \\((4,3)\\):\r\n\r\nThe hypotenuse of the triangle has magnitude\r\n\r\n\\[\r\n\\| (4, 3) \\| = \\sqrt{4^2 + 3^2} = \\sqrt{25} = 5\r\n\\]\r\n\r\n### Exercise 9.1.5\r\n\r\nLet \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\). Prove that \\(\\|\\vec{x} - \\vec{y}\\| = \\|\\vec{y} - \\vec{x}\\|\\). That is, the distance from \\(\\vec{x}\\) to \\(\\vec{y}\\) is equal to the distance from \\(\\vec{y}\\) to \\(\\vec{x}\\).\r\n\r\n### Exercise 9.1.6\r\n\r\nProve that if \\(x \\in \\mathbb{R}\\) then the magnitude \\(\\| (x) \\|\\) is equal to the absolute value \\(|x|\\).\r\n\r\n### Exercise 9.1.7\r\n\r\nLet \\(\\vec{x} \\in \\mathbb{R}^n\\). Prove that \\(\\|\\vec{x}\\| = 0\\) if and only if \\(\\vec{x} = \\vec{0}\\).\r\n</markdown>",
    "Q": "Q: If \\(\\vec{a} = (3, 4)\\) and \\(\\vec{b} = (1, 2)\\), calculate the distance \\(\\|\\vec{b} - \\vec{a}\\|\\) and verify its equality to \\(\\|\\vec{a} - \\vec{b}\\|\\). ",
    "A": " A: To calculate the distance \\(\\|\\vec{b} - \\vec{a}\\|\\):\r\n\r\n\\[\r\n\\vec{b} - \\vec{a} = (1 - 3, 2 - 4) = (-2, -2)\r\n\\]\r\n\\[\r\n\\|\\vec{b} - \\vec{a}\\| = \\sqrt{(-2)^2 + (-2)^2} = \\sqrt{4 + 4} = \\sqrt{8} = 2\\sqrt{2}\r\n\\]\r\n\r\nNow for \\(\\|\\vec{a} - \\vec{b}\\|\\):\r\n\r\n\\[\r\n\\vec{a} - \\vec{b} = (3 - 1, 4 - 2) = (2, 2)\r\n\\]\r\n\\[\r\n\\|\\vec{a} - \\vec{b}\\| = \\sqrt{2^2 + 2^2} = \\sqrt{4 + 4} = \\sqrt{8} = 2\\sqrt{2}\r\n\\]\r\n\r\nThus, \\(\\|\\vec{b} - \\vec{a}\\| = \\|\\vec{a} - \\vec{b}\\| = 2\\sqrt{2}\\)."
  },
  {
    "page": 355,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n## The triangle inequality and the Cauchy–Schwarz inequality\r\n\r\nThe first, and simplest, inequality that we investigate is the (one-dimensional version of the) **triangle inequality** (Theorem 9.1.9). It is so named because of a generalisation to higher dimensions (Theorem 9.1.19), which can be interpreted geometrically as saying that the sum of two side lengths of a triangle is greater than or equal to the third side length.\r\n\r\nThe triangle inequality is used very frequently in mathematical proofs—you will encounter it repeatedly in this chapter—yet its proof is surprisingly simple.\r\n\r\nBefore we can prove the triangle inequality, we need the following fact about square roots of real numbers.\r\n\r\n### Lemma 9.1.8\r\nLet \\( x, y \\in \\mathbb{R} \\). If \\( 0 \\leq x \\leq y \\), then \\( \\sqrt{x} \\leq \\sqrt{y} \\).\r\n\r\n**Proof**  \r\nSuppose \\( 0 \\leq x \\leq y \\). Note that, by definition of the square root symbol, we have \\( \\sqrt{x} \\geq 0 \\) and \\( \\sqrt{y} \\geq 0 \\).\r\n\r\nSuppose \\( \\sqrt{x} > \\sqrt{y} \\). By two applications of Theorem B.2.36(d), we have\r\n\r\n\\[\r\ny = \\sqrt{y} \\cdot \\sqrt{y} < \\sqrt{x} \\cdot \\sqrt{x} = x\r\n\\]\r\n\r\nso that \\( y < x \\). But this contradicts the assumption that \\( x \\leq y \\). Hence \\( \\sqrt{x} \\leq \\sqrt{y} \\), as required.\r\n\r\n### Theorem 9.1.9 (Triangle inequality in one dimension)\r\nLet \\( x, y \\in \\mathbb{R} \\). Then \\( |x+y| \\leq |x| + |y| \\). Moreover, \\( |x+y| = |x| + |y| \\) if and only if \\( x \\) and \\( y \\) have the same sign.\r\n\r\n**Proof**  \r\nNote first that \\( xy \\leq |xy| \\); indeed, \\( xy \\) and \\( |xy| \\) are equal if \\( xy \\) is non-negative, and otherwise we have \\( xy < 0 < |xy| \\). Also \\( x^2 = |x|^2 \\) and \\( y^2 = |y|^2 \\). Hence\r\n\r\n\\[\r\n(x+y)^2 = x^2 + 2xy + y^2 \\leq |x|^2 + 2|xy| + |y|^2 = (|x| + |y|)^2\r\n\\]\r\n\r\nTaking (nonnegative) square roots yields\r\n\r\n\\[\r\n|x+y| \\leq ||x| + |y||\r\n\\]\r\n\r\nby Lemma 9.1.8. But \\( |x| + |y| \\geq 0 \\), so \\( ||x| + |y|| = |x| + |y| \\). This completes the first part of the proof.\r\n\r\nEquality holds in the above if and only if \\( xy = |xy| \\), which occurs if and only if \\( xy \\geq 0 \\). But this is true if and only if \\( x \\) and \\( y \\) are both non-negative or both non-positive—that is, they have the same sign.\r\n</markdown>",
    "Q": "Q: If \\( x = -3 \\) and \\( y = 5 \\), does the triangle inequality hold for these values? ",
    "A": " A: Yes, the triangle inequality holds since \\( |x+y| = |-3+5| = |2| = 2 \\) and \\( |x| + |y| = |-3| + |5| = 3 + 5 = 8 \\), thus \\( |x+y| \\leq |x| + |y| \\) is satisfied as \\( 2 \\leq 8 \\)."
  },
  {
    "page": 357,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Definition 9.1.13\r\n\r\nLet \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\). The **scalar product** (or **dot product**) of \\(\\vec{x}\\) with \\(\\vec{y}\\) is the real number \\(\\vec{x} \\cdot \\vec{y}\\) (LaTeX code: `\\cdot`) defined by\r\n\r\n\\[\r\n\\vec{x} \\cdot \\vec{y} = \\sum_{i=1}^{n} x_i y_i = x_1 y_1 + x_2 y_2 + \\cdots + x_n y_n\r\n\\]\r\n\r\n### Example 9.1.14\r\n\r\nLet \\(\\vec{x} \\in \\mathbb{R}^n\\). Then \\(\\vec{x} \\cdot \\vec{x} = \\|\\vec{x}\\|^2\\). Indeed\r\n\r\n\\[\r\n\\vec{x} \\cdot \\vec{x} = \\sum_{i=1}^{n} x_i^2 = \\|\\vec{x}\\|^2\r\n\\]\r\n\r\n### Exercise 9.1.15\r\n\r\nLet \\(\\vec{x}, \\vec{y}, \\vec{z}, \\vec{w} \\in \\mathbb{R}^n\\) and let \\(a, b, c, d \\in \\mathbb{R}\\). Prove that\r\n\r\n\\[\r\n(a\\vec{x} + b\\vec{y}) \\cdot (c\\vec{z} + d\\vec{w}) = ac(\\vec{x} \\cdot \\vec{z}) + ad(\\vec{x} \\cdot \\vec{w}) + bc(\\vec{y} \\cdot \\vec{z}) + bd(\\vec{y} \\cdot \\vec{w})\r\n\\]\r\n\r\nIntuitively, the scalar product of two vectors \\(\\vec{x}\\) and \\(\\vec{y}\\) measures the extent to which \\(\\vec{x}\\) and \\(\\vec{y}\\) fail to be **orthogonal**. In fact, if \\(\\theta\\) is the acute angle formed between the lines \\(\\ell_1\\) and \\(\\ell_2\\), where \\(\\ell_1\\) passes through \\(\\vec{0}\\) and \\(\\vec{x}\\) and \\(\\ell_2\\) passes through \\(\\vec{0}\\) and \\(\\vec{y}\\), then a formula for the scalar product of \\(\\vec{x}\\) and \\(\\vec{y}\\) is given by\r\n\r\n\\[\r\n\\vec{x} \\cdot \\vec{y} = \\|\\vec{x}\\| \\|\\vec{y}\\| \\cos \\theta\r\n\\]\r\n\r\nEvidently, \\(\\vec{x}\\) and \\(\\vec{y}\\) are orthogonal if and only if \\(\\cos \\theta = 0\\), in which case \\(\\vec{x} \\cdot \\vec{y} = 0\\) as well. We cannot prove this yet, though, as we have not yet defined trigonometric functions or explored their properties, but hopefully this provides some useful intuition.\r\n</markdown>",
    "Q": "Q: How can you express the dot product \\(\\vec{x} \\cdot \\vec{y}\\) using the magnitudes of the vectors and the angle between them? ",
    "A": " A: The dot product can be expressed as \\(\\vec{x} \\cdot \\vec{y} = \\|\\vec{x}\\| \\|\\vec{y}\\| \\cos \\theta\\), where \\(\\theta\\) is the angle between the vectors \\(\\vec{x}\\) and \\(\\vec{y}\\)."
  },
  {
    "page": 358,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nThe Cauchy–Schwarz inequality provides a useful comparison of the size of a scalar product of two vectors with the magnitudes of the vectors.\r\n\r\n### Theorem 9.1.16 (Cauchy–Schwarz inequality)\r\nLet \\( n \\in \\mathbb{N} \\) and let \\( x_i, y_i \\in \\mathbb{R} \\) for each \\( i \\in [n] \\). Then\r\n\r\n\\[\r\n|\\vec{x} \\cdot \\vec{y}| \\leq \\|\\vec{x}\\| \\|\\vec{y}\\|\r\n\\]\r\n\r\nwith equality if and only if \\( a\\vec{x} = b\\vec{y} \\) for some \\( a, b \\in \\mathbb{R} \\) which are not both zero.\r\n\r\n**Proof**\r\n\r\nIf \\( \\vec{y} = \\vec{0} \\), then this is trivial: both sides of the equation are equal to zero! So assume that \\( \\vec{y} \\neq \\vec{0} \\). In particular, by Exercise 9.1.7, we have \\( \\|\\vec{y}\\| > 0 \\).\r\n\r\nDefine \\( k = \\frac{\\vec{x} \\cdot \\vec{y}}{\\|\\vec{y}\\|^2} \\). Then\r\n\r\n\\[\r\n\\begin{align*}\r\n0 &\\leq \\|\\vec{x} - k\\vec{y}\\|^2 \\quad \\text{since squares are nonnegative} \\\\\r\n&= (\\vec{x} - k\\vec{y}) \\cdot (\\vec{x} - k\\vec{y}) \\quad \\text{by Example 9.1.14} \\\\\r\n&= (\\vec{x} \\cdot \\vec{x}) - 2k(\\vec{x} \\cdot \\vec{y}) + k^2(\\vec{y} \\cdot \\vec{y}) \\quad \\text{by Exercise 9.1.15} \\\\\r\n&= \\|\\vec{x}\\|^2 - \\frac{(\\vec{x} \\cdot \\vec{y})^2}{\\|\\vec{y}\\|^2} \\quad \\text{by definition of } k\r\n\\end{align*}\r\n\\]\r\n\r\nMultiplying through by \\( \\|\\vec{y}\\|^2 \\), which is non-negative and therefore doesn’t change the sign of the inequality, yields\r\n\r\n\\[\r\n0 \\leq \\|\\vec{x}\\|^2 \\|\\vec{y}\\|^2 - (\\vec{x} \\cdot \\vec{y})^2\r\n\\]\r\n\r\nwhich is equivalent to what was to be proved.\r\n\r\nEvidently, equality holds if and only if \\( \\|\\vec{x} - k\\vec{y}\\| = 0 \\), which by Exercise 9.1.7 occurs if and only if \\( \\vec{x} - k\\vec{y} = 0 \\). Now:\r\n\r\n- If \\( \\vec{x} - k\\vec{y} = 0 \\), then we have\r\n\r\n\\[\r\n\\vec{x} - k\\vec{y} = 0\r\n\\]\r\n\r\n\\[\r\n\\Leftrightarrow \\vec{x} - \\frac{\\vec{x} \\cdot \\vec{y}}{\\|\\vec{y}\\|^2} \\vec{y} = 0 \\quad \\text{by definition of } k\r\n\\]\r\n\r\n\\[\r\n\\Leftrightarrow \\|\\vec{y}\\|^2 \\vec{x} = (\\vec{x} \\cdot \\vec{y}) \\vec{y} \\quad \\text{rearranging}\r\n\\]\r\n\r\nIf \\( \\vec{y} \\neq \\vec{0} \\) then let \\( a = \\|\\vec{y}\\|^2 \\) and \\( b = \\vec{x} \\cdot \\vec{y} \\); otherwise, let \\( a = 0 \\) and \\( b = 1 \\). In both cases, we have \\( a\\vec{x} = b\\vec{y} \\) and \\( a, b \\) are not both zero.\r\n\r\nIf \\( a\\vec{x} = b\\vec{y} \\) for some \\( a, b \\in \\mathbb{R} \\) not both zero, then either:\r\n</markdown>",
    "Q": "Q: If \\( \\vec{x} = (3, 4) \\) and \\( \\vec{y} = (1, 2) \\), verify the Cauchy–Schwarz inequality by calculating \\( |\\vec{x} \\cdot \\vec{y}| \\) and comparing it to \\( \\|\\vec{x}\\| \\|\\vec{y}\\| \\). ",
    "A": " A: First, compute the dot product: \\( \\vec{x} \\cdot \\vec{y} = 3 \\cdot 1 + 4 \\cdot 2 = 3 + 8 = 11 \\). Next, calculate the magnitudes: \\( \\|\\vec{x}\\| = \\sqrt{3^2 + 4^2} = \\sqrt{9 + 16} = \\sqrt{25} = 5 \\) and \\( \\|\\vec{y}\\| = \\sqrt{1^2 + 2^2} = \\sqrt{1 + 4} = \\sqrt{5} \\). Now, \\( \\|\\vec{x}\\| \\|\\vec{y}\\| = 5 \\sqrt{5} \\). Since \\( 11 \\leq 5\\sqrt{5} \\approx 11.18 \\), the inequality holds true."
  },
  {
    "page": 359,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Section 9.1. Inequalities and means\r\n\r\n- \\( a = 0 \\) and \\( b \\neq 0 \\), in which case \\(\\vec{y} = 0\\) and we have equality in the Cauchy–Schwarz inequality; or\r\n- \\( a \\neq 0 \\), in which case \\(\\vec{y} = \\frac{b}{a} \\vec{x}\\). Write \\( c = \\frac{b}{a} \\). Then\r\n\r\n\\[\r\n|\\vec{x} \\cdot \\vec{y}| = |\\vec{x} \\cdot (c\\vec{x})| \\\\\r\n= |c(\\vec{x} \\cdot \\vec{x})| \\quad \\text{by Exercise 9.1.15} \\\\\r\n= |c| \\|\\vec{x}\\|^2 \\quad \\text{by Example 9.1.14} \\\\\r\n= \\|\\vec{x}\\| \\|c\\vec{x}\\| \\quad \\text{rearranging} \\\\\r\n= \\|\\vec{x}\\| \\|\\vec{y}\\|\r\n\\]\r\n\r\nIn either case, we have equality in the Cauchy–Schwarz inequality.\r\n\r\nSo equality holds if and only if \\( a\\vec{x} = b\\vec{y} \\) for some \\( a, b \\in \\mathbb{R} \\) not both zero.\r\n\r\n#### Example 9.1.17\r\nLet \\( a, b, c \\in \\mathbb{R} \\). We’ll prove that\r\n\r\n\\[\r\nab + bc + ca \\leq a^2 + b^2 + c^2\r\n\\]\r\n\r\nand examine when equality holds.\r\n\r\nLetting \\(\\vec{x} = (a, b, c)\\) and \\(\\vec{y} = (b, c, a)\\) yields\r\n\r\n\\[\r\n\\vec{x} \\cdot \\vec{y} = ab + bc + ca\r\n\\]\r\n\r\nand\r\n\r\n\\[\r\n\\|\\vec{x}\\| = \\sqrt{a^2 + b^2 + c^2} = \\sqrt{b^2 + c^2 + a^2} = \\|\\vec{y}\\|\r\n\\]\r\n\r\nHence \\(\\|\\vec{x}\\| \\|\\vec{y}\\| = a^2 + b^2 + c^2\\). By the Cauchy–Schwarz inequality, it follows that\r\n\r\n\\[\r\n\\vec{x} \\cdot \\vec{y} = ab + bc + ca \\leq a^2 + b^2 + c^2 = \\|\\vec{x}\\| \\|\\vec{y}\\|\r\n\\]\r\n\r\nas required. Equality holds if and only if \\( k(a, b, c) = \\ell(b, c, a) \\) for some \\( k, \\ell \\in \\mathbb{R} \\) not both zero. We may assume \\( k \\neq 0 \\)—otherwise, swap the vectors \\(\\vec{x}\\) and \\(\\vec{y}\\) in what follows. Then, letting \\( t = \\frac{\\ell}{k} \\), we have\r\n\r\n\\[\r\nk(a, b, c) = \\ell(b, c, a) \\\\\r\n\\Leftrightarrow (a, b, c) = (tb, tc, ta) \\quad \\text{by definition of } t \\\\\r\n\\Leftrightarrow (a, b, c) = (t^2c, t^2a, t^2b) \\quad \\text{substituting } a = tb \\text{ etc.} \\\\\r\n\\Leftrightarrow (a, b, c) = (t^3a, t^3b, t^3c) \\quad \\text{substituting } a = tb \\text{ etc. again} \\\\\r\n\\Leftrightarrow \\vec{x} = t^3 \\vec{x}\r\n\\]\r\n\r\nThis occurs if and only if either \\( (a, b, c) = (0, 0, 0) \\), or \\( t = 1 \\), in which case\r\n\r\n\\[\r\n(a, b, c) = (tb, tc, ta) = (b, c, a)\r\n\\]\r\n\r\nSo equality holds if and only if \\( a = b = c \\).\r\n</markdown>",
    "Q": "Q: Under what conditions does the Cauchy–Schwarz inequality yield equality for vectors \\(\\vec{x} = (a, b, c)\\) and \\(\\vec{y} = (b, c, a)\\)?  \r\n",
    "A": "  \r\nA: Equality holds in the Cauchy–Schwarz inequality if and only if \\( a = b = c \\)."
  },
  {
    "page": 360,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Exercise 9.1.18\r\n\r\nLet \\( r \\in \\mathbb{N} \\) and let \\( a_1, a_2, \\ldots, a_r \\in \\mathbb{R} \\) be such that \\( a_1^2 + a_2^2 + \\cdots + a_n^2 = 6 \\). Prove that\r\n\r\n\\[\r\n(a_1 + 2a_2 + \\cdots + na_n)^2 \\leq n(n+1)(2n+1)\r\n\\]\r\n\r\nand determine when equality holds.\r\n\r\nWe now use the Cauchy–Schwarz inequality to generalise the one-dimensional version of the triangle inequality (Theorem 9.1.9) to arbitrary (finite) dimensions.\r\n\r\n### Theorem 9.1.19 (Triangle inequality)\r\n\r\nLet \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\). Then\r\n\r\n\\[\r\n\\|\\vec{x} + \\vec{y}\\| \\leq \\|\\vec{x}\\| + \\|\\vec{y}\\|\r\n\\]\r\n\r\nwith equality if and only if \\( a\\vec{x} = b\\vec{y} \\) for some real numbers \\( a, b \\geq 0 \\).\r\n\r\n**Proof**\r\n\r\nWe proceed by calculation:\r\n\r\n\\[\r\n\\|\\vec{x} + \\vec{y}\\|^2 = (\\vec{x} + \\vec{y}) \\cdot (\\vec{x} + \\vec{y}) \\quad \\text{by Example 9.1.14}\r\n\\]\r\n\r\n\\[\r\n= (\\vec{x} \\cdot \\vec{x}) + 2(\\vec{x} \\cdot \\vec{y}) + (\\vec{y} \\cdot \\vec{y}) \\quad \\text{by Exercise 9.1.15}\r\n\\]\r\n\r\n\\[\r\n\\leq (\\vec{x} \\cdot \\vec{x}) + 2|\\vec{x} \\cdot \\vec{y}| + (\\vec{y} \\cdot \\vec{y}) \\quad \\text{since } a \\leq |a| \\text{ for all } a \\in \\mathbb{R}\r\n\\]\r\n\r\n\\[\r\n\\leq \\|\\vec{x}\\|^2 + 2\\|\\vec{x}\\|\\|\\vec{y}\\| + \\|\\vec{y}\\|^2 \\quad \\text{by Example 9.1.14 and Cauchy–Schwarz}\r\n\\]\r\n\r\n\\[\r\n= (\\|\\vec{x}\\| + \\|\\vec{y}\\|)^2 \\quad \\text{rearranging}\r\n\\]\r\n\r\nTaking (nonnegative) square roots of both sides yields\r\n\r\n\\[\r\n\\|\\vec{x} + \\vec{y}\\| \\leq \\|\\vec{x}\\| + \\|\\vec{y}\\|\r\n\\]\r\n\r\nby Lemma 9.1.8, as required.\r\n\r\nEquality holds if and only if the two ‘\\(\\leq\\)’ symbols in the above derivation are in fact ‘\\(=\\)’ symbols.\r\n\r\n- The first inequality is equality if and only if \\(\\vec{x} \\cdot \\vec{y} = |\\vec{x} \\cdot \\vec{y}|\\), which holds if and only if \\(\\vec{x} \\cdot \\vec{y} \\geq 0\\).\r\n\r\n- The second inequality is equality if and only if equality holds in the Cauchy–Schwarz inequality. In turn, this occurs if and only if \\( a\\vec{x} = b\\vec{y} \\) for some \\( a, b \\in \\mathbb{R} \\). We may, moreover, assume that \\( a \\geq 0 \\)—if not, replace \\( a \\) and \\( b \\) by their negatives.\r\n\r\nIf \\( a = 0 \\) then we can take \\( b = 0 \\). If \\( a > 0 \\), then by Example 9.1.14 and Exercise 9.1.15, we have\r\n\r\n\\[\r\n\\vec{x} \\cdot \\left( \\frac{b}{a} \\vec{x} \\right) = \\frac{b}{a} \\|\\vec{x}\\|^2\r\n\\]\r\n</markdown>",
    "Q": "Q: Using the context of the Cauchy–Schwarz inequality, prove that if \\( a_1^2 + a_2^2 + \\cdots + a_r^2 = 6 \\), then \r\n\r\n\\[\r\n(a_1 + a_2 + \\cdots + a_r)^2 \\leq r \\cdot 6\r\n\\]\r\n\r\nand determine the conditions under which equality holds. ",
    "A": " A: We start by applying the Cauchy–Schwarz inequality:\r\n\r\n\\[\r\n(a_1 + a_2 + \\cdots + a_r)^2 \\leq (1^2 + 1^2 + \\cdots + 1^2)(a_1^2 + a_2^2 + \\cdots + a_r^2) = r \\cdot 6.\r\n\\]\r\n\r\nEquality holds if and only if \\( a_1 = a_2 = \\cdots = a_r \\), which can be shown by showing that both quantities must be positive through the definition of Cauchy-Schwarz and that all terms must be proportionally equal."
  },
  {
    "page": 361,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nwhich is non-negative if and only if \\( b \\geq 0 \\), since we are assuming that \\( a \\geq 0 \\).\r\n\r\nThus, equality holds in the triangle inequality if and only if \\( a\\vec{x} = b\\vec{y} \\) for some \\( a, b \\geq 0 \\).\r\n\r\nThis general version of the triangle inequality has a geometric interpretation in terms of—you guessed it—triangles. Any three points \\( \\vec{a}, \\vec{b}, \\vec{c} \\in \\mathbb{R}^n \\) form a (potentially flat) triangle:\r\n\r\nThe side lengths \\( u, v, w \\) are given by the following equations:\r\n\r\n\\[\r\nu = \\|\\vec{b} - \\vec{a}\\|, \\quad v = \\|\\vec{c} - \\vec{b}\\|, \\quad w = \\|\\vec{a} - \\vec{c}\\|\r\n\\]\r\n\r\nThe triangle inequality says tells us that \\( u \\leq v + w \\). Indeed:\r\n\r\n\\[\r\n\\begin{align*}\r\nu &= \\|\\vec{b} - \\vec{a}\\| & \\text{by definition of } u \\\\\r\n  &= \\|(\\vec{b} - \\vec{c}) + (\\vec{c} - \\vec{a})\\| & \\text{rearranging} \\\\\r\n  &\\leq \\|\\vec{b} - \\vec{c}\\| + \\|\\vec{c} - \\vec{a}\\| & \\text{by the triangle inequality} \\\\\r\n  &= \\|\\vec{c} - \\vec{b}\\| + \\|\\vec{a} - \\vec{c}\\| & \\text{by Exercise 9.1.5} \\\\\r\n  &= v + w & \\text{by definition of } v \\text{ and } w\r\n\\end{align*}\r\n\\]\r\n\r\nThat is, the triangle inequality says that the sum of two side lengths of a triangle is greater than or equal to the third side length. Moreover, it tells us \\( u = v + w \\) precisely when \\( k(\\vec{a} - \\vec{c}) = \\ell(\\vec{c} - \\vec{b}) \\) for some \\( k, \\ell \\geq 0 \\). If \\( k = 0 \\) then\r\n\r\n\\[\r\n\\vec{c} = \\vec{b} = 0\\vec{a} + (1 - 0)\\vec{b}\r\n\\]\r\n\r\nif \\( k > 0 \\), then \\( k + \\ell > 0 \\), so we have\r\n\r\n\\[\r\n\\vec{c} = \\frac{k}{k + \\ell} \\vec{a} + \\frac{\\ell}{k + \\ell} \\vec{b} = \\frac{k}{k + \\ell} \\vec{a} + \\left(1 - \\frac{k}{k + \\ell}\\right) \\vec{b}\r\n\\]\r\n</markdown>",
    "Q": "Q: How can the triangle inequality be applied to show that for three points \\( \\vec{a}, \\vec{b}, \\vec{c} \\in \\mathbb{R}^n \\), the relationship \\( \\|\\vec{a} - \\vec{b}\\| + \\|\\vec{b} - \\vec{c}\\| \\geq \\|\\vec{a} - \\vec{c}\\| \\) holds? ",
    "A": " A: The triangle inequality states that for any vectors \\( \\vec{x} \\) and \\( \\vec{y} \\), the relationship \\( \\|\\vec{x} + \\vec{y}\\| \\leq \\|\\vec{x}\\| + \\|\\vec{y}\\| \\) holds. Applying this to \\( \\vec{b} - \\vec{a} = (\\vec{c} - \\vec{b}) + (\\vec{a} - \\vec{c}) \\), we have: \r\n\\[\r\n\\|\\vec{b} - \\vec{a}\\| = \\|(\\vec{c} - \\vec{b}) + (\\vec{a} - \\vec{c})\\| \\leq \\|\\vec{c} - \\vec{b}\\| + \\|\\vec{a} - \\vec{c}\\|,\r\n\\]\r\nwhich corresponds to the lengths \\( u, v, w \\) defined in the context. Thus, it follows that \\( \\|\\vec{a} - \\vec{b}\\| + \\|\\vec{b} - \\vec{c}\\| \\geq \\|\\vec{a} - \\vec{c}\\| \\)."
  },
  {
    "page": 362,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nExamining this a bit more closely yields that \\( u = v + w \\) if and only if\r\n\r\n\\[\r\n\\vec{c} = t \\vec{a} + (1 - t) \\vec{b}\r\n\\]\r\n\r\nfor some \\( 0 \\leq t \\leq 1 \\), which is to say precisely that \\(\\vec{c}\\) lies on the line segment between \\(\\vec{a}\\) and \\(\\vec{b}\\). In other words, equality holds in the triangle inequality only if the three vertices of the triangle are collinear, which is to say that the triangle whose vertices are the points \\(\\vec{a}, \\vec{b}\\) and \\(\\vec{c}\\), is flat.\r\n\r\n## Inequalities of means\r\n\r\nOur goal now is to explore different kinds of average—specifically, means—of finite sets of non-negative real numbers. We will compare the relative sizes of these means with respect to one another, with emphasis on three particular kinds of mean: the **arithmetic mean** (Definition 9.1.20), the **geometric mean** (Definition 9.1.21) and the **harmonic mean** (Definition 9.1.29). These means in fact assemble into a continuum of means, called **generalised means** (Definition 9.1.37), all of which can be compared with one another.\r\n\r\n### Definition 9.1.20\r\nLet \\( n \\geq 1 \\). The (arithmetic) mean of real numbers \\( x_1, \\ldots, x_n \\) is\r\n\r\n\\[\r\n\\frac{1}{n} \\sum_{i=1}^{n} x_i = \\frac{x_1 + x_2 + \\cdots + x_n}{n}\r\n\\]\r\n\r\n### Definition 9.1.21\r\nLet \\( n \\geq 1 \\). The geometric mean of non-negative real numbers \\( x_1, \\ldots, x_n \\) is\r\n\r\n\\[\r\n\\left( \\prod_{i=1}^{n} x_i \\right)^{1/n} = \\sqrt[n]{x_1 \\cdot x_2 \\cdot \\cdots \\cdot x_n}\r\n\\]\r\n\r\nThe following theorem is commonly known as the **AM–GM inequality**.\r\n\r\n### Theorem 9.1.22 (Inequality of arithmetic and geometric means)\r\nLet \\( n \\in \\mathbb{N} \\) and \\( x_1, x_2, \\ldots, x_n \\geq 0 \\). Then\r\n\r\n\\[\r\n\\sqrt[n]{x_1 \\cdots x_n} \\quad \\text{(geometric mean)} \\leq \\frac{x_1 + \\cdots + x_n}{n} \\quad \\text{(arithmetic mean)}\r\n\\]\r\n\r\nwith equality if and only if \\( x_1 = \\cdots = x_n \\).\r\n</markdown>",
    "Q": "Q: Under what conditions will the arithmetic mean of two non-negative real numbers \\( x_1 \\) and \\( x_2 \\) equal the geometric mean? ",
    "A": " A: The arithmetic mean of \\( x_1 \\) and \\( x_2 \\) will equal the geometric mean if and only if \\( x_1 = x_2 \\)."
  },
  {
    "page": 363,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n## Proof when \\( n = 2 \\)\r\n\r\nWe need to show that, if \\( x, y \\in \\mathbb{R} \\) with \\( x, y \\geq 0 \\), then\r\n\r\n\\[\r\n\\sqrt{xy} \\leq \\frac{x+y}{2}\r\n\\]\r\n\r\nwith equality if and only if \\( x = y \\).\r\n\r\nFirst note that the square roots of \\( x \\) and \\( y \\) exist since they are non-negative. Now\r\n\r\n\\[\r\n0 \\leq (\\sqrt{x} - \\sqrt{y})^2 \\quad \\text{since squares are nonnegative}\r\n\\]\r\n\r\n\\[\r\n= (\\sqrt{x})^2 - 2\\sqrt{xy} + (\\sqrt{y})^2 \\quad \\text{expanding}\r\n\\]\r\n\r\n\\[\r\n= x - 2\\sqrt{xy} + y \\quad \\text{rearranging}\r\n\\]\r\n\r\nRearranging the inequality \\( 0 \\leq x - 2\\sqrt{xy} + y \\) yields the desired result.\r\n\r\nIf \\( \\sqrt{xy} = \\frac{x+y}{2} \\), then we can rearrange the equation as follows:\r\n\r\n\\[\r\n\\sqrt{xy} = \\frac{x+y}{2} \\implies 2\\sqrt{xy} = x+y \\quad \\text{multiplying by 2}\r\n\\]\r\n\r\n\\[\r\n\\implies 4xy = x^2 + 2xy + y^2 \\quad \\text{squaring both sides}\r\n\\]\r\n\r\n\\[\r\n\\implies x^2 - 2xy + y^2 = 0 \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n\\implies (x-y)^2 = 0 \\quad \\text{factorising}\r\n\\]\r\n\r\n\\[\r\n\\implies x-y = 0 \\quad \\text{since } a^2 = 0 \\implies a = 0 \\text{ for } a \\in \\mathbb{R}\r\n\\]\r\n\r\n\\[\r\n\\implies x = y \\quad \\text{rearranging}\r\n\\]\r\n\r\nSo we have proved both parts of the theorem.\r\n\r\n### Example 9.1.23\r\n\r\nWe use the AM–GM inequality to prove that the area of a rectangle with fixed perimeter is maximised when the rectangle is a square.\r\n\r\nIndeed, fix a perimeter \\( p > 0 \\), and let \\( x, y > 0 \\) be side lengths of a rectangle with perimeter \\( p \\)—that is, \\( x \\) and \\( y \\) satisfy the equation \\( 2x + 2y = p \\). The area \\( a \\) of the rectangle satisfies \\( a = xy \\). By the AM–GM inequality, we have\r\n\r\n\\[\r\na = xy \\leq \\left( \\frac{x+y}{2} \\right)^2 = \\frac{p^2}{16}\r\n\\]\r\n\r\nEquality holds if and only if \\( x = y \\), in other words, if and only if the rectangle is a square.\r\n\r\n### Exercise 9.1.24\r\n\r\nLet \\( a, b > 0 \\) be real numbers. Prove that\r\n\r\n\\[\r\n\\frac{a^2 + b^2}{2} \\geq ab.\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that the inequality \\( \\frac{a^2 + b^2}{2} \\geq ab \\) holds for all \\( a, b > 0 \\) and determine under what condition equality occurs. ",
    "A": " A: The inequality \\( \\frac{a^2 + b^2}{2} \\geq ab \\) can be proven using the fact that \\( (a-b)^2 \\geq 0 \\). Expanding, we have \\( a^2 - 2ab + b^2 \\geq 0 \\), which rearranges to \\( \\frac{a^2 + b^2}{2} \\geq ab \\). Equality holds if and only if \\( a = b \\)."
  },
  {
    "page": 364,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Example 9.1.25\r\n\r\nLet \\( x > 0 \\). We find the minimum possible value of \\( x + \\frac{9}{x} \\). By the AM–GM inequality, we have\r\n\r\n\\[\r\nx + \\frac{9}{x} \\geq 2 \\sqrt{x \\cdot \\frac{9}{x}} = 2 \\sqrt{9} = 6\r\n\\]\r\n\r\nwith equality if and only if \\( x = \\frac{9}{x} \\), which occurs if and only if \\( x = 3 \\). Hence the minimum value of \\( x + \\frac{9}{x} \\) when \\( x > 0 \\) is 6.\r\n\r\n### Exercise 9.1.26\r\n\r\nLet \\( x > 0 \\) and let \\( n \\in \\mathbb{N} \\). Find the minimum possible value of \\( \\sum_{k=-n}^{n} x^k \\).\r\n\r\nExercises 9.1.27 and 9.1.28 complete the proof of the AM–GM inequality (Theorem 9.1.22). Before proceeding with the exercises, let’s fix some notation: for each \\( n \\in \\mathbb{N} \\), let \\( p_{\\text{AM–GM}}(n) \\) be the assertion that the AM–GM inequality holds for collections of \\( n \\) numbers; that is, \\( p_{\\text{AM–GM}}(n) \\) is the assertion:\r\n\r\nFor all \\( x_1, x_2, \\ldots, x_n \\geq 0 \\), we have\r\n\r\n\\[\r\n\\sqrt[n]{\\prod_{i=1}^{n} x_i} \\leq \\frac{1}{n} \\sum_{i=1}^{n} x_i\r\n\\]\r\n\r\nwith equality if and only if \\( x_1 = x_2 = \\cdots = x_n \\).\r\n\r\nNote that we already proved \\( p_{\\text{AM–GM}}(2) \\).\r\n\r\n### Exercise 9.1.27\r\n\r\nLet \\( r \\in \\mathbb{N} \\) and let \\( x_1, x_2, \\ldots, x_{2r} \\in \\mathbb{R} \\). Write\r\n\r\n\\[\r\na = \\frac{1}{r} \\sum_{i=1}^{r} x_i \\quad \\text{and} \\quad g = \\sqrt[r]{\\prod_{i=1}^{r} x_i}\r\n\\]\r\n\r\nfor the arithmetic and geometric means, respectively, of the numbers \\( x_1, \\ldots, x_r \\); write\r\n\r\n\\[\r\na' = \\frac{1}{r} \\sum_{i=r+1}^{2r} x_i \\quad \\text{and} \\quad g' = \\sqrt[r]{\\prod_{i=r+1}^{2r} x_i}\r\n\\]\r\n\r\nfor the arithmetic and geometric means, respectively, of the numbers \\( x_{r+1}, \\ldots, x_{2r} \\); and write\r\n\r\n\\[\r\nA = \\frac{1}{2r} \\sum_{i=1}^{2r} x_i \\quad \\text{and} \\quad G = \\sqrt[2r]{\\prod_{i=1}^{2r} x_i}\r\n\\]\r\n\r\nfor the arithmetic and geometric means, respectively, of all the numbers \\( x_1, \\ldots, x_{2r} \\).\r\n</markdown>",
    "Q": "Q: What can be inferred about the relationship between the arithmetic mean \\( A \\) and the geometric mean \\( G \\) for the numbers \\( x_1, x_2, \\ldots, x_{2r} \\) according to the AM-GM inequality? ",
    "A": " A: According to the AM-GM inequality, we have \\( G \\leq A \\) for the numbers \\( x_1, x_2, \\ldots, x_{2r} \\) with equality if and only if \\( x_1 = x_2 = \\cdots = x_{2r} \\)."
  },
  {
    "page": 365,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nProve that\r\n\r\n\\[\r\nA = \\frac{a + a'}{2} \\quad \\text{and} \\quad G = \\sqrt{gg'}\r\n\\]\r\n\r\nDeduce that, for each \\( r \\in \\mathbb{N} \\), if \\( p_{\\text{AM-GM}}(r) \\) is true then \\( p_{\\text{AM-GM}}(2r) \\) is true. Deduce further than \\( p_{\\text{AM-GM}}(2^m) \\) is true for all \\( m \\in \\mathbb{N} \\).\r\n\r\n### Exercise 9.1.28\r\nLet \\( r \\geq 2 \\) and let \\( x_1, \\ldots, x_{r-1} \\in \\mathbb{N} \\). Define\r\n\r\n\\[\r\nx_r = \\frac{1}{r-1} \\sum_{i=1}^{r-1} x_i\r\n\\]\r\n\r\nProve that\r\n\r\n\\[\r\n\\frac{1}{r} \\sum_{i=1}^{r} x_i = x_r\r\n\\]\r\n\r\nAssuming \\( p_{\\text{AM-GM}}(r) \\), deduce that\r\n\r\n\\[\r\nx_r^r \\geq \\prod_{i=1}^{r} x_i \\equiv \\left( \\prod_{i=1}^{r-1} x_i \\right) \\cdot x_r\r\n\\]\r\n\r\nwith equality if and only if \\( x_1 = x_2 = \\cdots = x_r \\). Deduce that \\( p_{\\text{AM-GM}}(r) \\) implies \\( p_{\\text{AM-GM}}(r-1) \\). Use Exercise 9.1.27 to deduce further that \\( p_{\\text{AM-GM}}(n) \\) is true for all \\( n \\geq 1 \\).\r\n\r\nWe now introduce another kind of mean, called the **harmonic mean**.\r\n\r\n### Definition 9.1.29\r\nLet \\( n \\in \\mathbb{N} \\). The **harmonic mean** of nonzero real numbers \\( x_1, x_2, \\ldots, x_n \\) is\r\n\r\n\\[\r\n\\left( \\frac{1}{n} \\sum_{i=1}^{n} x_i^{-1} \\right)^{-1} = \\frac{n}{\\frac{1}{x_1} + \\frac{1}{x_2} + \\cdots + \\frac{1}{x_n}}\r\n\\]\r\n\r\nThe harmonic mean of two nonzero real numbers \\( x \\) and \\( y \\) has a simpler expression:\r\n\r\n\\[\r\n\\left( \\frac{x^{-1} + y^{-1}}{2} \\right)^{-1} = \\frac{2xy}{x+y}\r\n\\]\r\n\r\nThe harmonic mean arises naturally when considering rates of change of quantities over fixed amounts of time.\r\n</markdown>",
    "Q": "Q: If the arithmetic mean \\( A \\) and geometric mean \\( G \\) of two nonzero real numbers \\( x \\) and \\( y \\) each satisfy the inequality \\( A \\geq G \\), how do we derive a relationship involving the harmonic mean \\( H \\) defined as \\( H = \\frac{2xy}{x+y} \\)? ",
    "A": " A: The relationship is given by the inequality \\( H \\leq G \\), which leads to the conclusion that for nonzero \\( x \\) and \\( y \\), the following inequality holds: \\( H \\leq G \\leq A \\)."
  },
  {
    "page": 366,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Example 9.1.30\r\n\r\nThe cities of York and Leeds are located \\( d > 0 \\) miles apart. Two cars drive from York to Leeds, then immediately turn around and drive back. The two cars depart from York at the same time and arrive back in York at the same time.\r\n\r\n- The first car drives from York to Leeds at a constant speed of \\( u \\) miles per hour, and drives back to York at a constant speed of \\( v \\) miles per hour.\r\n- The second car drives from York to Leeds and back again at the same constant speed of \\( w \\) miles per hour.\r\n\r\nAccording to the following formula from physics:\r\n\r\n\\[\r\n\\text{speed} \\times \\text{time} = \\text{distance}\r\n\\]\r\n\r\nthe time spent driving by the first car is \\( \\frac{d}{u} + \\frac{d}{v} \\), and the time spent driving by the second car is \\( \\frac{2d}{w} \\).\r\n\r\nSince the cars spend the same amount of time driving, it follows that\r\n\r\n\\[\r\n\\frac{2d}{w} = \\frac{d}{u} + \\frac{d}{v} \\implies w = \\frac{2uv}{u+v}\r\n\\]\r\n\r\nThat is, the second car’s speed is the harmonic mean of the two speeds driven by the first car.\r\n\r\nAs might be expected, we now prove a theorem relating the harmonic means with the other means we have established so far—this theorem is known as the GM–HM inequality.\r\n\r\n### Theorem 9.1.31 (Inequality of geometric and harmonic means)\r\n\r\nLet \\( n \\in \\mathbb{N} \\) and \\( x_1, x_2, \\ldots, x_n > 0 \\). Then\r\n\r\n\\[\r\n\\frac{n}{\\frac{1}{x_1} + \\frac{1}{x_2} + \\cdots + \\frac{1}{x_n}} \\leq \\sqrt[n]{x_1 x_2 \\cdots x_n}\r\n\\]\r\n\r\nwith equality if and only if \\( x_1 = \\cdots = x_n \\).\r\n\r\n**Proof when \\( n = 2 \\)**\r\n\r\nWe need to prove that if \\( x, y > 0 \\), then\r\n\r\n\\[\r\n\\frac{2}{\\frac{1}{x} + \\frac{1}{y}} \\leq \\sqrt{xy}\r\n\\]\r\n</markdown>",
    "Q": "Q: If two cars have speeds \\( u \\) and \\( v \\), what is the condition for the harmonic mean \\( w \\) of their speeds to equal the arithmetic mean of \\( u \\) and \\( v \\)? ",
    "A": " A: The condition is that the speeds \\( u \\) and \\( v \\) must be equal, i.e., \\( u = v \\)."
  },
  {
    "page": 367,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nThis is almost immediate from the AM–GM inequality (Theorem 9.1.22). Indeed, since all numbers in sight are positive, we can take reciprocals to see that this inequality is equivalent to the assertion that\r\n\r\n\\[\r\n\\frac{1}{\\sqrt{xy}} \\leq \\frac{x^{-1} + y^{-1}}{2}\r\n\\]\r\n\r\nBut \\(\\frac{1}{\\sqrt{xy}} = \\sqrt{x^{-1}y^{-1}}\\), so this is immediate from the AM–GM inequality.\r\n\r\n✎ **Exercise 9.1.32**  \r\nProve the GM–HM inequality for general values of \\(n \\in \\mathbb{N}\\).\r\n\r\nAnother example of a mean that has applications in probability theory and statistics is that of the quadratic mean.\r\n\r\n✦ **Definition 9.1.33**  \r\nLet \\(n \\in \\mathbb{N}\\). The quadratic mean (or root-mean-square) of real numbers \\(x_1, x_2, \\ldots, x_n\\) is\r\n\r\n\\[\r\n\\left( \\frac{1}{n} \\sum_{i=1}^{n} x_i^2 \\right)^{\\frac{1}{2}} = \\sqrt{\\frac{x_1^2 + x_2^2 + \\cdots + x_n^2}{n}}\r\n\\]\r\n\r\nThe following theorem is, predictably, known as the QM–AM inequality (or RMS–AM inequality); it is a nice application of the Cauchy–Schwarz inequality.\r\n\r\n✤ **Theorem 9.1.34 (Inequality of quadratic and arithmetic means)**  \r\nLet \\(n > 0\\) and \\(x_1, x_2, \\ldots, x_n \\geq 0\\). Then\r\n\r\n\\[\r\n\\frac{x_1 + \\cdots + x_n}{n} \\leq \\sqrt{\\frac{x_1^2 + x_2^2 + \\cdots + x_n^2}{n}}\r\n\\]\r\n\r\nwith equality if and only if \\(x_1 = \\cdots = x_n\\).\r\n\r\n**Proof**  \r\nDefine \\(\\vec{x} = (x_1, x_2, \\ldots, x_n)\\) and \\(\\vec{y} = (1, 1, \\ldots, 1)\\).\r\n\r\nThen\r\n\r\n\\[\r\nx_1 + x_2 + \\cdots + x_n = \\vec{x} \\cdot \\vec{y} \\quad \\text{by definition of scalar product}\r\n\\]\r\n\r\n\\[\r\n\\leq \\|\\vec{x}\\| \\|\\vec{y}\\| \\quad \\text{by Cauchy–Schwarz}\r\n\\]\r\n\r\n\\[\r\n= \\sqrt{x_1^2 + x_2^2 + \\cdots + x_n^2} \\cdot \\sqrt{n} \\quad \\text{evaluating the magnitudes}\r\n\\]\r\n</markdown>",
    "Q": "Q: Using the Cauchy–Schwarz inequality, how can we express the magnitude of the scalar product \\(\\vec{x} \\cdot \\vec{y}\\) in terms of the quadratic mean and the arithmetic mean? ",
    "A": " A: By the Cauchy–Schwarz inequality, we have \\(\\vec{x} \\cdot \\vec{y} \\leq \\|\\vec{x}\\| \\|\\vec{y}\\|\\), which leads to \\(x_1 + x_2 + \\cdots + x_n \\leq \\sqrt{x_1^2 + x_2^2 + \\cdots + x_n^2} \\cdot \\sqrt{n}\\), demonstrating that the arithmetic mean is less than or equal to the quadratic mean."
  },
  {
    "page": 368,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\nDividing through by \\( n \\) yields\r\n\r\n\\[\r\n\\frac{x_1 + x_2 + \\cdots + x_n}{n} \\leq \\sqrt{\\frac{x_1^2 + x_2^2 + \\cdots + x_n^2}{n}}\r\n\\]\r\n\r\nas required. Equality holds if and only if equality holds in the Cauchy–Schwarz inequality, which occurs if and only if\r\n\r\n\\[\r\n(ax_1, ax_2, \\ldots, ax_n) = (b, b, \\ldots, b)\r\n\\]\r\n\r\nfor some \\( a, b \\in \\mathbb{R} \\) not both zero. If \\( a = 0 \\) then \\( b = 0 \\), so we must have \\( a \\neq 0 \\). Hence equality holds if and only if \\( x_i = \\frac{b}{a} \\) for all \\( i \\in [n] \\)—in particular, if and only if \\( x_1 = x_2 = \\cdots = x_n \\).\r\n\r\nTo summarise, what we have proved so far is\r\n\r\n\\[\r\n\\text{harmonic mean} \\leq \\text{geometric mean} \\leq \\text{arithmetic mean} \\leq \\text{quadratic mean}\r\n\\]\r\n\r\nwith equality in each case if and only if the real numbers whose means we are taking are all equal.\r\n\r\nThe following exercise allows us to bookend our chain of inequalities with the minimum and maximum of the collections of numbers.\r\n\r\n**Exercise 9.1.35**  \r\nLet \\( n > 0 \\) and let \\( x_1, x_2, \\ldots, x_n \\) be positive real numbers. Prove that\r\n\r\n\\[\r\n\\min\\{x_1, x_2, \\ldots, x_n\\} \\leq \\left( \\frac{1}{n} \\sum_{i=1}^{n} x_i^{-1} \\right)^{-1} \\quad \\text{and} \\quad \\max\\{x_1, x_2, \\ldots, x_n\\} \\geq \\left( \\frac{1}{n} \\sum_{i=1}^{n} x_i^2 \\right)^{\\frac{1}{2}}\r\n\\]\r\n\r\nwith equality in each case if and only if \\( x_1 = x_2 = \\cdots = x_n \\).\r\n\r\n★ **Generalised means**\r\n\r\nWe conclude this section by mentioning a generalisation of the results we have proved about means. We are not yet ready to prove the results that we mention; they are only here for the sake of interest.\r\n\r\n✦ **Definition 9.1.36**  \r\nThe extended real number line is the (ordered) set \\([-∞, ∞]\\), defined by\r\n\r\n\\[\r\n[-∞, ∞] = \\mathbb{R} \\cup \\{-∞, ∞\\}\r\n\\]\r\n\r\nwhere \\(\\mathbb{R}\\) is the set of real numbers with its usual ordering, and \\(-∞, ∞\\) are new elements ordered in such a way that \\(-∞ < x < ∞\\) for all \\( x \\in \\mathbb{R} \\).\r\n</markdown>",
    "Q": "Q: How can we express the inequality involving the harmonic mean and geometric mean in a concise mathematical form for positive real numbers \\(x_1, x_2, \\ldots, x_n\\)? ",
    "A": " A: The inequality can be expressed as \r\n\r\n\\[\r\n\\text{harmonic mean} \\leq \\text{geometric mean} \\leq \\text{arithmetic mean} \\leq \\text{quadratic mean}\r\n\\] \r\n\r\nwith equality holding if and only if \\( x_1 = x_2 = \\cdots = x_n \\)."
  },
  {
    "page": 369,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Section 9.1. Inequalities and means\r\n\r\nNote that the extended real line does not form a field—the arithmetic operations are not defined on \\(-\\infty\\) or \\(\\infty\\), and we will at no point treat \\(-\\infty\\) and \\(\\infty\\) as real numbers; they are merely elements which extend the reals to add a least element and a greatest element.\r\n\r\n✦ **Definition 9.1.37**  \r\nLet \\( p \\in [-\\infty, \\infty] \\), let \\( n \\in \\mathbb{N} \\), and let \\( x_1, x_2, \\ldots, x_n \\) be positive real numbers. The **generalised mean with exponent** \\( p \\) (or simply **p-mean**) \\( x_1, x_2, \\ldots, x_n \\) is the real number \\( M_p(x_1, x_2, \\ldots, x_n) \\) defined by\r\n\r\n\\[\r\nM_p(x_1, x_2, \\ldots, x_n) = \\left( \\frac{1}{n} \\sum_{i=1}^{n} x_i^p \\right)^{\\frac{1}{p}}\r\n\\]\r\n\r\nif \\( p \\not\\in \\{-\\infty, 0, \\infty\\} \\), and by\r\n\r\n\\[\r\nM_p(x_1, x_2, \\ldots, x_n) = \\lim_{q \\to p} M_q(x_1, x_2, \\ldots, x_n)\r\n\\]\r\n\r\nif \\( p \\in \\{-\\infty, 0, \\infty\\} \\), where the notation \\(\\lim\\) refers to the limit as \\( q \\) tends to \\( p \\), as discussed in Section B.3.\r\n\r\nWe can see immediately that the harmonic, arithmetic and quadratic means of a finite set of positive real numbers are the p-means for a suitable value of \\( p \\): the harmonic mean is the \\((-1)\\)-mean, the arithmetic mean is the 1-mean, and the quadratic mean is the 2-mean. Furthermore, Proposition 9.1.38 exhibits the **minimum** as the \\((-∞)\\)-mean, the **geometric mean** as the 0-mean, and the **maximum** as the \\(\\infty\\)-mean.\r\n\r\n✤ **Proposition 9.1.38**  \r\nLet \\( n > 0 \\) and let \\( x_1, x_2, \\ldots, x_n > 0 \\). Then\r\n\r\n- \\( M_{-\\infty}(x_1, x_2, \\ldots, x_n) = \\min\\{x_1, x_2, \\ldots, x_n\\} \\);\r\n- \\( M_0(x_1, x_2, \\ldots, x_n) = \\sqrt[n]{x_1 x_2 \\cdots x_n} \\); and\r\n- \\( M_{\\infty}(x_1, x_2, \\ldots, x_n) = \\max\\{x_1, x_2, \\ldots, x_n\\} \\).\r\n\r\nAll of the inequalities of means we have seen so far will be subsumed by Theorem 9.1.39, which compares the p-mean and q-mean of a set of numbers for all values of \\( p, q \\in [-\\infty, \\infty] \\).\r\n</markdown>",
    "Q": "Q: What is the relationship between the generalized mean \\( M_p(x_1, x_2, \\ldots, x_n) \\) and other specific means such as the harmonic mean, arithmetic mean, and geometric mean?  \r\n",
    "A": "  \r\nA: The generalized mean \\( M_p(x_1, x_2, \\ldots, x_n) \\) encompasses specific types of means: the harmonic mean is the \\((-1)\\)-mean, the arithmetic mean is the \\(1\\)-mean, and the geometric mean is the \\(0\\)-mean."
  },
  {
    "page": 370,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.1 Inequalities And Means",
    "content": "<markdown>\r\n### Theorem 9.1.39\r\n\r\nLet \\( n > 0 \\), let \\( x_1, x_2, \\ldots, x_n \\geq 0 \\) and let \\( p, q \\in [-\\infty, \\infty] \\) with \\( p < q \\). Then\r\n\r\n\\[\r\nM_p(x_1, x_2, \\ldots, x_n) \\leq M_q(x_1, x_2, \\ldots, x_n)\r\n\\]\r\n\r\nwith equality if and only if \\( x_1 = x_2 = \\cdots = x_n \\).\r\n\r\nTheorem 9.1.39 implies each of the following:\r\n\r\n- **HM–min inequality** ([Exercise 9.1.35](#)): take \\( p = -\\infty \\) and \\( q = -1 \\);\r\n- **GM–HM inequality** ([Theorem 9.1.31](#)): take \\( p = -1 \\) and \\( q = 0 \\);\r\n- **AM–GM inequality** ([Theorem 9.1.22](#)): take \\( p = 0 \\) and \\( q = 1 \\);\r\n- **QM–AM inequality** ([Theorem 9.1.34](#)): take \\( p = 1 \\) and \\( q = 2 \\);\r\n- **max–QM inequality** ([Exercise 9.1.35](#)): take \\( p = 2 \\) and \\( q = \\infty \\).\r\n</markdown>",
    "Q": "Q: If \\( x_1 = 1, x_2 = 2, x_3 = 3 \\), verify the equality condition of Theorem 9.1.39 with appropriate \\( p \\) and \\( q \\). What are the values of \\( M_p(x_1, x_2, x_3) \\) and \\( M_q(x_1, x_2, x_3) \\)? ",
    "A": " A: Since \\( x_1, x_2, x_3 \\) are not equal, we have \\( M_p(1, 2, 3) < M_q(1, 2, 3) \\) for any \\( p < q \\). For example, with \\( p = -\\infty \\) and \\( q = -1 \\), \\( M_{-\\infty}(1, 2, 3) = 1 \\) and \\( M_{-1}(1, 2, 3) = \\frac{1}{3}(1^{-1} + 2^{-1} + 3^{-1}) \\approx 0.833 < 1 \\). Thus, the equality condition does not hold."
  },
  {
    "page": 371,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n## Section 9.2\r\n**Completeness and convergence**\r\n\r\nFor most of the results that we proved in [Section 9.1](#), it did not matter that we were talking about real numbers. We could just as well have been working with any other ordered field, such as the rational numbers—that is, most of the results in [Section 9.1](#) remain true by replacing \\(\\mathbb{R}\\) by \\(\\mathbb{Q}\\) (or any other ordered field) throughout.\r\n\r\nFrom here onwards, we isolate the property of \\(\\mathbb{R}\\) that separates it from \\(\\mathbb{Q}\\)—namely, **completeness**. It is completeness that will allow us to define and explore the fundamental concepts of mathematical analysis: sequences, functions, convergence, limits, continuity, differentiability, and so on.\r\n\r\nThe property of completeness concerns least upper bounds for certain sets of real numbers.\r\n\r\n### Definition 9.2.1\r\nLet \\(A \\subseteq \\mathbb{R}\\). A real number \\(m\\) is an **upper bound** for \\(A\\) if \\(a \\leq m\\) for all \\(a \\in A\\). A **supremum** of \\(A\\) is a least upper bound of \\(A\\); that is, a real number \\(m\\) such that:\r\n\r\n(i) \\(m\\) is an upper bound of \\(A\\)—that is, \\(a \\leq m\\) for all \\(a \\in A\\); and\r\n\r\n(ii) \\(m\\) is least amongst all upper bounds for \\(A\\)—that is, for all \\(x \\in \\mathbb{R}\\), if \\(a \\leq x\\) for all \\(a \\in A\\), then \\(x \\leq m\\).\r\n\r\n### Example 9.2.2\r\nWe prove that 1 is a supremum of the open interval \\((0, 1)\\).\r\n\r\n(i) Let \\(a \\in (0, 1)\\). Then \\(a < 1\\), so that 1 is an upper bound of \\((0, 1)\\).\r\n\r\n(ii) Let \\(x \\in \\mathbb{R}\\) be another upper bound of \\((0, 1)\\). If \\(x < 1\\), then we have\r\n\r\n\\[\r\nx = \\frac{x + x}{2} < \\frac{x + 1}{2} < \\frac{1 + 1}{2} = 1\r\n\\]\r\n\r\nand so \\(x < \\frac{x + 1}{2} \\in (0, 1)\\). This contradicts the assumption that \\(x\\) is an upper bound of \\((0, 1)\\). It follows that \\(x \\geq 1\\), as required.\r\n\r\nHence 1 is indeed a supremum of \\((0, 1)\\).\r\n\r\n### Exercise 9.2.3\r\nDefine the notions of **lower bound** and **infimum**, and find the infimum of the open interval \\((0, 1)\\).\r\n</markdown>",
    "Q": "Q: What is the infimum of the open interval \\((0, 1)\\), and how can we justify this result? ",
    "A": " A: The infimum of the open interval \\((0, 1)\\) is \\(0\\). Justification: For any \\(a \\in (0, 1)\\), we have \\(a > 0\\), so \\(0\\) is a lower bound for \\((0, 1)\\). Furthermore, for any \\(x < 0\\), it cannot be a lower bound, since there exists \\(a \\in (0, 1)\\) such that \\(a > x\\). Therefore, \\(0\\) is the greatest lower bound, or infimum, of the interval \\((0, 1)\\)."
  },
  {
    "page": 372,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nThe following proposition provides a convenient way of testing whether a real number is a supremum of a subset.\r\n\r\n### Proposition 9.2.4\r\nLet \\( A \\subseteq \\mathbb{R} \\) and suppose \\( m \\in \\mathbb{R} \\) is an upper bound of \\( A \\). Then \\( m \\) is a supremum of \\( A \\) if and only if, for all \\( \\varepsilon > 0 \\), there exists \\( a \\in A \\) such that \\( a > m - \\varepsilon \\).\r\n\r\n**Proof**\r\n\r\n- (\\(\\Rightarrow\\)). Suppose \\( m \\) is a supremum of \\( A \\), and let \\( \\varepsilon > 0 \\). If there is no \\( a \\in A \\) such that \\( a > m - \\varepsilon \\), then \\( a \\leq m - \\varepsilon \\) for all \\( a \\in A \\). But this contradicts the assumption that \\( m \\) is a supremum of \\( a \\), since \\( m - \\varepsilon \\) is an upper bound of \\( A \\) that is less than \\( m \\). So there exists \\( a \\in A \\) with \\( a > m - \\varepsilon \\), as required.\r\n\r\n- (\\(\\Leftarrow\\)). Suppose that, for all \\( \\varepsilon > 0 \\), there exists \\( a \\in A \\) with \\( a > m - \\varepsilon \\), and let \\( x \\in \\mathbb{R} \\) be an upper bound of \\( A \\). In order to prove that \\( m \\) is a supremum of \\( A \\), we must prove that \\( m \\leq x \\).\r\n\r\n  Suppose \\( x < m \\), and define \\( \\varepsilon = m - x \\). Then \\( \\varepsilon > 0 \\), so there exists \\( a \\in A \\) such that\r\n\r\n  \\[\r\n  a > m - \\varepsilon = m - (m - x) = x\r\n  \\]\r\n\r\n  But this contradicts the assumption that \\( x \\) is an upper bound of \\( A \\). So we must have \\( m \\leq x \\), as required.\r\n\r\n### Theorem 9.2.5 (Uniqueness of suprema)\r\nLet \\( A \\) be a subset of \\( \\mathbb{R} \\). If \\( m_1 \\) and \\( m_2 \\) are suprema of \\( A \\), then \\( m_1 = m_2 \\).\r\n\r\n**Proof**\r\n\r\nSince \\( m_1 \\) is an upper bound of \\( A \\) and \\( m_2 \\) is a supremum of \\( A \\), we have \\( m_2 \\leq m_1 \\) by Definition 9.2.1(ii). Likewise, since \\( m_2 \\) is an upper bound of \\( A \\) and \\( m_1 \\) is a supremum of \\( A \\), we have \\( m_1 \\leq m_2 \\) by Definition 9.2.1(ii) again. But this implies that \\( m_1 = m_2 \\).\r\n\r\nAn analogous result proves that a subset of \\( \\mathbb{R} \\) may have at most one infimum. This allows us to introduce the following notation.\r\n\r\n### Definition 9.2.6\r\nLet \\( A \\subseteq \\mathbb{R} \\). The supremum of \\( A \\), if it exists, is denoted by \\( \\sup(A) \\); the infimum of \\( A \\), if it exists, is denoted by \\( \\inf(A) \\).\r\n\r\nNow that we are more familiar with suprema, here is the completeness axiom in its full glory.\r\n</markdown>",
    "Q": "Q: If \\( A = \\{ 2, 3, 4, 5 \\} \\), what is \\( \\sup(A) \\)? ",
    "A": " A: \\( \\sup(A) = 5 \\)."
  },
  {
    "page": 373,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n### Axiom 9.2.7 (Completeness axiom)\r\nLet \\( A \\subseteq \\mathbb{R} \\) be inhabited. If \\( A \\) has an upper bound, then \\( A \\) has a supremum.\r\n\r\nThe true power of the completeness axiom will become apparent later in the section when we discuss the existence of limits of sequences of real numbers.\r\n\r\nBefore we embark on that adventure, we first prove that the rational numbers are not complete, by exhibiting a subset of \\( \\mathbb{Q} \\) that has no rational supremum.\r\n\r\n### Proposition 9.2.8\r\nLet \\( A = \\{ x \\in \\mathbb{Q} \\mid x^2 < 2 \\} \\). Then \\( A \\) does not have a rational supremum.\r\n\r\nA quick proof of Proposition 9.2.8 would be to verify that \\( \\sqrt{2} \\), which is irrational, is a supremum of \\( A \\), and use uniqueness of suprema to deduce that there can be no rational supremum. However, this is cheating. Failure of completeness is an intrinsic property—we should be able to prove Proposition 9.2.8 without venturing outside of the realm of rational numbers at all. That is, we cannot use irrational numbers in our proof. This makes the proof significantly longer, but significantly more satisfying.\r\n\r\n**Proof of Proposition 9.2.8**\r\n\r\nTowards a contradiction, suppose that \\( A \\) has a supremum \\( q \\).\r\n\r\nFirst note that \\( q > 0 \\). Indeed, \\( 1^2 < 2 \\), so that \\( 1 \\in A \\), and so \\( q \\geq 1 > 0 \\).\r\n\r\nNext, we prove that \\( q^2 = 2 \\). Indeed:\r\n\r\n- Assume \\( q^2 < 2 \\), so that \\( 2 - q^2 > 0 \\). For each \\( n \\geq 1 \\), we have\r\n\r\n  \\[\r\n  \\left( q + \\frac{1}{n} \\right)^2 = q^2 + \\frac{2q}{n} + \\frac{1}{n^2}\r\n  \\]\r\n\r\n  Choose \\( n \\) sufficiently large that \\( \\frac{2q}{n} < \\frac{2 - q^2}{2} \\) and \\( \\frac{1}{n^2} < \\frac{2 - q^2}{2} \\). Then by the above, we observe that\r\n\r\n  \\[\r\n  \\left( q + \\frac{1}{n} \\right)^2 < q^2 + \\frac{2 - q^2}{2} + \\frac{2 - q^2}{2} = q^2 + (2 - q^2) = 2\r\n  \\]\r\n\r\n  and so \\( q + \\frac{1}{n} \\in A \\). But \\( q + \\frac{1}{n} > q \\), so this contradicts the assumption that \\( q \\) is an upper bound of \\( A \\).\r\n\r\n- Assume \\( q^2 > 2 \\), so that \\( q^2 - 2 > 0 \\). For each \\( n \\geq 1 \\), we have\r\n\r\n  \\[\r\n  \\left( q - \\frac{1}{n} \\right)^2 = q^2 - \\frac{1}{n} \\left( 2q - \\frac{1}{n} \\right)\r\n  \\]\r\n</markdown>",
    "Q": "Q: If \\( A = \\{ x \\in \\mathbb{Q} \\mid x^2 < 2 \\} \\) does not have a rational supremum, what can be concluded about the set \\( B = \\{ x \\in \\mathbb{Q} \\mid x^2 \\leq 2 \\} \\)? ",
    "A": " A: The set \\( B \\) has a rational supremum as it includes the rational numbers \\( x \\) where \\( x^2 = 2 \\) is not within \\( \\mathbb{Q} \\), thus \\( B \\) is bounded above and its supremum is \\( \\sqrt{2} \\), which is irrational."
  },
  {
    "page": 374,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nChoose \\( n \\) sufficiently large that \\( \\frac{1}{n} < q (< 2q) \\) and \\( \\frac{2q}{n} < q^2 - 2 \\). Then by the above work, we observe that\r\n\r\n\\[\r\n\\left( q - \\frac{1}{n} \\right)^2 > q^2 - \\frac{2q}{n} > q^2 - (q^2 - 2) = 2\r\n\\]\r\n\r\nMoreover \\( q - \\frac{1}{n} > 0 \\) since \\( \\frac{1}{n} < q \\).\r\n\r\nSuppose that \\( q - \\frac{1}{n} \\) is not an upper bound for \\( A \\). Then there is some \\( x \\in A \\) with \\( x > q - \\frac{1}{n} > 0 \\). But then \\( (q - \\frac{1}{n})^2 < x^2 < 2 \\), contradicting the fact that \\( \\left( q - \\frac{1}{n} \\right)^2 > 2 \\).\r\n\r\nSo \\( q - \\frac{1}{n} \\) is an upper bound for \\( A \\), contradicting the fact that \\( q \\) is a supremum of \\( A \\).\r\n\r\nSo we must have \\( q^2 = 2 \\). But this is impossible—the proof is identical to that of Proposition 4.3.12, but with all instances of ‘\\(\\sqrt{2}\\)’ replaced by ‘\\( q \\)’ in the proof.\r\n\r\nSo \\(\\{ x \\in \\mathbb{Q} \\mid x^2 < 2 \\}\\) has no rational supremum.\r\n\r\n## Sequences of real numbers\r\n\r\nThe rest of this chapter is dedicated to studying **convergence** of sequences of real numbers. We will use the completeness axiom to find sufficient conditions for a sequence to converge.\r\n\r\n### Definition 9.2.9\r\n\r\nA **sequence of real numbers** is a function \\( x : \\mathbb{N} \\to \\mathbb{R} \\). Given a sequence \\( x \\), we write \\( x_n \\) instead of \\( x(n) \\) and write \\( (x_n)_{n \\geq 0} \\), or even just \\( (x_n) \\), instead of \\( x : \\mathbb{N} \\to \\mathbb{R} \\). The values \\( x_n \\) are called the **terms** of the sequence, and the variable \\( n \\) is called the **index** of the term \\( x_n \\).\r\n\r\n### Example 9.2.10\r\n\r\nSome very basic but very boring examples of sequences are **constant sequences**. For example, the constant sequence with value 0 is\r\n\r\n\\[\r\n(0, 0, 0, 0, 0, 0, \\ldots)\r\n\\]\r\n\r\nMore generally, for fixed \\( a \\in \\mathbb{R} \\), the constant sequence with value \\( a \\) is defined by \\( x_n = a \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n### Example 9.2.11\r\n\r\nSequences can be defined just like functions. For example, there is a sequence defined by \\( x_n = 2^n \\) for all \\( n \\in \\mathbb{N} \\). Writing out the first few terms, this sequence is\r\n\r\n\\[\r\n(1, 2, 4, 8, 16, \\ldots)\r\n\\]\r\n</markdown>",
    "Q": "Q: If \\( x_n = \\frac{1}{n} \\), what can you say about the convergence of the sequence \\( (x_n) \\) as \\( n \\) approaches infinity, and what is its limit? ",
    "A": " A: The sequence \\( (x_n) = \\left( \\frac{1}{n} \\right) \\) converges to \\( 0 \\) as \\( n \\) approaches infinity, since for any \\( \\epsilon > 0 \\), there exists a natural number \\( N \\) such that for all \\( n > N \\), \\( |x_n - 0| < \\epsilon \\)."
  },
  {
    "page": 375,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nSometimes it will be convenient to start the indexing of our sequence from numbers other than 0, particularly when an expression involving a variable \\( n \\) isn’t defined when \\( n = 0 \\). We’ll denote such sequences by \\( (x_n)_{n \\geq 1} \\) or \\( (x_n)_{n \\geq 2} \\), and so on.\r\n\r\n### Example 9.2.12\r\nLet \\( (z_n)_{n \\geq 2} \\) be the sequence defined by \\( z_n = \\frac{(n+1)(n+2)}{(n-1)n} \\) for all \\( n \\geq 2 \\):\r\n\r\n\\[\r\n\\left( 6, \\frac{10}{3}, \\frac{5}{2}, \\frac{21}{10}, \\cdots \\right)\r\n\\]\r\n\r\nThe indexing of this sequence begins at 2, rather than 0, since when \\( n = 0 \\) or \\( n = 1 \\), the expression \\( \\frac{(n+1)(n+2)}{(n-1)n} \\) is undefined. We could reindex the sequence: by letting \\( z'_n = z_{n+2} \\) for all \\( n \\geq 0 \\), we obtain a new sequence \\( (z'_n)_{n \\geq 0} \\) defined by \\( z'_n = \\frac{(n+3)(n+4)}{(n+1)(n+2)} \\) whose indexing starts from 0. Fortunately for us, such matters won’t cause any problems—it’s just important to make sure that whenever we define a sequence, we make sure the terms make sense for all of the indices.\r\n\r\n## Convergence of sequences\r\n\r\nOf particular interest to us will be sequences whose terms get closer and closer to a fixed real number. This phenomenon is called **convergence**.\r\n\r\n### Example 9.2.13\r\nConsider the sequence \\( (y_n)_{n \\geq 1} \\) defined by \\( y_n = \\frac{1}{n} \\) for all \\( n \\geq 1 \\):\r\n\r\n\\[\r\n\\left( 1, \\frac{1}{2}, \\frac{1}{3}, \\frac{1}{4}, \\frac{1}{5}, \\cdots \\right)\r\n\\]\r\n\r\nThe terms \\( y_n \\) become closer and closer to 0 as \\( n \\) grows.\r\n\r\n### Example 9.2.14\r\nDefine a sequence \\( (r_n)_{n \\geq 0} \\) by \\( r_n = \\frac{2n}{n+1} \\) for all \\( n \\in \\mathbb{N} \\). Some of the values of this sequence are illustrated in the following table:\r\n\r\n\\[\r\n\\begin{array}{c|c|c}\r\nn & r_n & \\text{decimal expansion} \\\\\r\n\\hline\r\n0 & 0 & 0 \\\\\r\n1 & 1 & 1 \\\\\r\n2 & \\frac{4}{3} & 1.333\\ldots \\\\\r\n3 & \\frac{3}{2} & 1.5 \\\\\r\n10 & \\frac{20}{11} & 1.818\\ldots \\\\\r\n100 & \\frac{200}{101} & 1.980\\ldots \\\\\r\n1000 & \\frac{2000}{1001} & 1.998\\ldots \\\\\r\n\\vdots & \\vdots & \\vdots \\\\\r\n\\end{array}\r\n\\]\r\n</markdown>",
    "Q": "Q: Given the sequence defined by \\( r_n = \\frac{2n}{n+1} \\) for \\( n \\in \\mathbb{N} \\), what is the limit of the sequence as \\( n \\) approaches infinity? ",
    "A": " A: The limit of the sequence \\( r_n \\) as \\( n \\) approaches infinity is \\( 2 \\)."
  },
  {
    "page": 376,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nAs \\( n \\) increases, the values of \\( r_n \\) become closer and closer to 2.\r\n\r\nThe precise sense in which the terms of the sequences in Examples 9.2.13 and 9.2.14 ‘get closer’ to 0 and 2, respectively, is called convergence, which we will define momentarily in Definition 9.2.15.\r\n\r\nFirst, let’s try to work out what the definition should be for a sequence \\( (x_n) \\) to converge to a real number \\( a \\).\r\n\r\nA naïve answer might be to say that the sequence is ‘eventually equal to \\( a \\)’—that is, after some point in the sequence, all terms are equal to \\( a \\). Unfortunately, this isn’t quite good enough: if it were, then the values \\( r_n = \\frac{2n}{n+1} \\) from Example 9.2.14 would be equal to 2 for sufficiently large \\( n \\). However, if for some \\( n \\in \\mathbb{N} \\) we have \\( \\frac{2n}{n+1} = 2 \\), then it follows that \\( 2n = 2(n+1) \\); rearranging this gives \\( 1 = 0 \\), which is a contradiction.\r\n\r\nHowever, this answer isn’t too far from giving us what we need. Instead of saying that the terms \\( x_n \\) are eventually equal to \\( a \\), we might want to say that they become infinitely close to \\( a \\), whatever that means.\r\n\r\nWe can’t really make sense of an ‘infinitely small positive distance’ (e.g. Exercise 1.1.41), so we might instead make sense of ‘infinitely close’ by saying that the terms \\( x_n \\) eventually become as close to \\( a \\) as we could possibly want them to be. Spelling this out, this means that for any positive distance \\( \\varepsilon \\) (read: ‘epsilon’)[^1] no matter how small, the terms \\( x_n \\) are eventually within distance \\( \\varepsilon \\) of \\( a \\). In summary:\r\n\r\n> **Definition 9.2.15**  \r\n> Let \\( (x_n) \\) be a sequence and let \\( a \\in \\mathbb{R} \\). We say that \\( (x_n) \\) converges to \\( a \\), and write \\( (x_n) \\to a \\), if the following condition holds:\r\n> \r\n> \\[\r\n> \\forall \\varepsilon > 0, \\exists N \\in \\mathbb{N}, \\forall n \\geq N, \\, |x_n - a| < \\varepsilon\r\n> \\]\r\n> \r\n> The value \\( a \\) is called a limit of \\( (x_n) \\). Moreover, we say that a sequence \\( (x_n) \\) converges if it has a limit, and diverges otherwise.\r\n\r\nSometimes, we may write ‘\\( x_n \\to a \\) as \\( n \\to \\infty \\)’ to mean \\( (x_n) \\to a \\); this indicates that the terms \\( x_n \\) approach \\( a \\) as \\( n \\) increases without bound. Take heed of the fact that the symbol ‘\\(\\infty\\)’ here does not have meaning on its own—it is simply a means of suggesting that as the index \\( n \\) gets greater, the values \\( x_n \\) of the terms in the sequence get closer to the limit.\r\n\r\n[^1]: The lower case Greek letter epsilon (\\(\\varepsilon\\)) is traditionally used in analysis to denote a positive quantity whose value can be made arbitrarily small. We will encounter this letter frequently in this section and the next when discussing convergence.\r\n</markdown>",
    "Q": "Q: What is the formal definition of convergence for a sequence \\( (x_n) \\) to a real number \\( a \\)? ",
    "A": " A: A sequence \\( (x_n) \\) converges to \\( a \\) if for every \\( \\varepsilon > 0 \\), there exists an \\( N \\in \\mathbb{N} \\) such that for all \\( n \\geq N \\), \\( |x_n - a| < \\varepsilon \\)."
  },
  {
    "page": 377,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nBefore we move onto some examples, let’s quickly digest the definition of the expression \\((x_n) \\to a\\). The following table presents a suggestion of how you might read the expression ‘\\(\\forall \\varepsilon > 0, \\exists N \\in \\mathbb{N}, \\forall n \\geq N, |x_n - a| < \\varepsilon\\)’ in English.\r\n\r\n| Symbols | English |\r\n|---------|---------|\r\n| \\(\\forall \\varepsilon > 0\\) | For any positive distance \\(\\varepsilon\\) (no matter how small)... |\r\n| \\(\\exists N \\in \\mathbb{N}\\) | ...there is a stage in the sequence... |\r\n| \\(\\forall n \\geq N\\) | ...after which all terms in the sequence... |\r\n| \\(|x_n - a| < \\varepsilon\\) | ...are within distance \\(\\varepsilon\\) of \\(a\\). |\r\n\r\nThus, a sequence \\((x_n)\\) converges to \\(a\\) if ‘for any positive distance \\(\\varepsilon\\) (no matter how small), there is a stage in the sequence after which all terms in the sequence are within \\(\\varepsilon\\) of \\(a\\)’. After reading this a few times, you should hopefully be content that this definition captures what is meant by saying that the terms in the sequence are eventually as close to \\(a\\) as we could possibly want them to be.\r\n\r\nWe are now ready to see some examples of convergent (and divergent) sequences. When reading the following proofs, keep in mind the logical structure—that is, the alternating quantifiers \\(\\forall \\varepsilon \\ldots \\exists N \\ldots \\forall n \\ldots\\)—in the definition of \\((x_n) \\to a\\).\r\n\r\n### Proposition 9.2.16\r\n\r\nThe sequence \\((y_n)\\) defined by \\(y_n = \\frac{1}{n}\\) for all \\(n \\geq 1\\) converges to 0.\r\n\r\n**Proof**\r\n\r\nBy Definition 9.2.15, we need to prove\r\n\r\n\\[\r\n\\forall \\varepsilon > 0, \\exists N \\in \\mathbb{N}, \\forall n \\geq N, \\left| \\frac{1}{n} - 0 \\right| < \\varepsilon\r\n\\]\r\n\r\nSo fix \\(\\varepsilon > 0\\). Our goal is to find \\(N \\in \\mathbb{N}\\) such that \\(\\left| \\frac{1}{n} \\right| < \\varepsilon\\) for all \\(n \\geq N\\).\r\n\r\nLet \\(N\\) be any natural number which is greater than \\(\\frac{1}{\\varepsilon}\\). Then for all \\(n \\geq N\\), we have\r\n\r\n\\[\r\n\\left| \\frac{1}{n} \\right| = \\frac{1}{n} \\quad \\text{since } \\frac{1}{n} > 0 \\text{ for all } n \\geq 1\r\n\\]\r\n\r\n\\[\r\n\\leq \\frac{1}{N} \\quad \\text{since } n \\geq N\r\n\\]\r\n\r\n\\[\r\n< \\frac{1}{1/\\varepsilon} \\quad \\text{since } N > \\frac{1}{\\varepsilon}\r\n\\]\r\n\r\n\\[\r\n= \\varepsilon\r\n\\]\r\n\r\nHence \\(|y_n| < \\varepsilon\\) for all \\(n \\geq N\\). Thus we have proved that \\((y_n) \\to 0\\).\r\n\r\n### Remark 9.2.17\r\n\r\nThe value of \\(N\\) you need to find in the proof of convergence will usually depend on\r\n</markdown>",
    "Q": "Q: If the sequence \\((z_n)\\) is defined by \\(z_n = \\frac{2}{n}\\) for all \\(n \\geq 1\\), does it converge, and if so, to what limit? ",
    "A": " A: Yes, the sequence \\((z_n)\\) converges to 0, as \\(\\forall \\varepsilon > 0, \\exists N \\in \\mathbb{N}\\) such that \\(|z_n - 0| < \\varepsilon\\) for all \\(n \\geq N\\), where \\(N\\) can be chosen as any natural number greater than \\(\\frac{2}{\\varepsilon}\\)."
  },
  {
    "page": 378,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nthe parameter \\(\\varepsilon\\). (For instance, in Proposition 9.2.16, we defined \\(N\\) to be some natural number greater than \\(\\frac{1}{\\varepsilon}\\).) This is to be expected—remember that \\(\\varepsilon\\) is the distance away from the limit that the terms are allowed to vary after the \\(N\\)th term. If you make this distance smaller, you’ll probably have to go further into the sequence before your terms are all close enough to \\(a\\). In particular, the value of \\(N\\) will usually grow as the value of \\(\\varepsilon\\) gets smaller. This was the case in Proposition 9.2.16: note that \\(\\frac{1}{\\varepsilon}\\) increases as \\(\\varepsilon\\) decreases.\r\n\r\n✐ **Example 9.2.18**\r\n\r\nLet \\((r_n)\\) be the sequence from Example 9.2.14 defined by \\(r_n = \\frac{2n}{n+1}\\) for all \\(n \\in \\mathbb{N}\\).\r\n\r\nWe’ll prove that \\((r_n) \\to 2\\). So fix \\(\\varepsilon > 0\\). We need to find \\(N \\in \\mathbb{N}\\) such that\r\n\r\n\\[\r\n\\left| \\frac{2n}{n+1} - 2 \\right| < \\varepsilon \\text{ for all } n \\geq N\r\n\\]\r\n\r\nTo find such a value of \\(n\\), we’ll first do some algebra. Note first that for all \\(n \\in \\mathbb{N}\\) we have\r\n\r\n\\[\r\n\\left| \\frac{2n}{n+1} - 2 \\right| = \\left| \\frac{2n - 2(n+1)}{n+1} \\right| = \\left| \\frac{-2}{n+1} \\right| = \\frac{2}{n+1}\r\n\\]\r\n\r\nRearranging the inequality \\(\\frac{2}{n+1} < \\varepsilon\\) gives \\(\\frac{n+1}{2} > \\frac{1}{\\varepsilon}\\), and hence \\(n > \\frac{2}{\\varepsilon} - 1\\).\r\n\r\nTo be clear, what we’ve shown so far is that a **necessary** condition for \\(|r_n - 2| < \\varepsilon\\) to hold is that \\(n > \\frac{2}{\\varepsilon} - 1\\). This informs us what the desired value of \\(N\\) might look like—we will then verify that the desired inequality holds.\r\n\r\nSo define \\(N = \\frac{2}{\\varepsilon} - 1\\). For all \\(n \\geq N\\), we have\r\n\r\n\\[\r\n\\left| \\frac{2n}{n+1} - 2 \\right| = \\frac{2}{n+1} \\quad \\text{by the above work}\r\n\\]\r\n\r\n\\[\r\n\\leq \\frac{2}{N+1} \\quad \\text{since } n \\geq N\r\n\\]\r\n\r\n\\[\r\n< \\frac{2}{\\left(\\frac{2}{\\varepsilon} - 1\\right) + 1} \\quad \\text{since } N > \\frac{2}{\\varepsilon} - 1\r\n\\]\r\n\r\n\\[\r\n= \\frac{2}{2/\\varepsilon} \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n= \\varepsilon \\quad \\text{rearranging}\r\n\\]\r\n\r\nThus, as claimed, we have \\(|r_n - 2| < \\varepsilon\\) for all \\(n \\geq N\\). It follows that \\((r_n) \\to 2\\), as required.\r\n\r\n✐ **Exercise 9.2.19**\r\n\r\nLet \\((x_n)\\) be the constant sequence with value \\(a \\in \\mathbb{R}\\). Prove that \\((x_n) \\to a\\).\r\n\r\n✐ **Exercise 9.2.20**\r\n\r\nProve that the sequence \\((z_n)\\) defined by \\(z_n = \\frac{n+1}{n+2}\\) converges to 1.\r\n</markdown>",
    "Q": "Q: Given the sequence \\((s_n)\\) defined by \\(s_n = \\frac{3n}{n+4}\\), determine the limit of \\((s_n)\\) as \\(n\\) approaches infinity, and find a natural number \\(M\\) such that \\(|s_n - 1| < \\varepsilon\\) for all \\(n \\geq M\\). ",
    "A": " A: The limit of the sequence \\((s_n)\\) as \\(n\\) approaches infinity is 1. To find \\(M\\), we have:\r\n\r\n\\[\r\n\\left| \\frac{3n}{n+4} - 1 \\right| = \\left| \\frac{3n - (n+4)}{n+4} \\right| = \\left| \\frac{2n - 4}{n+4} \\right| = \\frac{2(n-2)}{n+4}.\r\n\\]\r\n\r\nWe need:\r\n\r\n\\[\r\n\\frac{2(n-2)}{n+4} < \\varepsilon.\r\n\\]\r\n\r\nRearranging gives \\(n - 2 < \\frac{(n + 4)\\varepsilon}{2}\\), leading to:\r\n\r\n\\[\r\nn(1 - \\frac{\\varepsilon}{2}) < 2 + 2\\varepsilon \\implies n > \\frac{2 + 2\\varepsilon}{1 - \\frac{\\varepsilon}{2}}.\r\n\\]\r\n\r\nThus, we can choose \\(M = \\lceil \\frac{2 + 2\\varepsilon}{1 - \\frac{\\varepsilon}{2}} \\rceil\\) to ensure \\(|s_n - 1| < \\varepsilon\\) for all \\(n \\geq M\\)."
  },
  {
    "page": 379,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nHere's a slightly more involved example.\r\n\r\n### Proposition 9.2.21\r\nLet \\( r \\in (-1, 1) \\). Then \\( (r^n) \\to 0 \\).\r\n\r\n**Proof**\r\n\r\nIf \\( r = 0 \\), then \\( r^n = 0 \\) for all \\( n \\geq 1 \\), and so for any \\( \\varepsilon > 0 \\) and \\( n \\geq 1 \\) we have\r\n\r\n\\[\r\n|r^n - 0| = |0| = 0 < \\varepsilon\r\n\\]\r\n\r\nso that \\( (r^n) \\to 0 \\) as required.\r\n\r\nSo assume \\( r \\neq 0 \\) and let \\( a = \\frac{1}{|r|} > 1 \\). Then \\( a = 1 + \\delta \\) for some \\( \\delta > 0 \\), so that by the binomial theorem we have\r\n\r\n\\[\r\na^n = (1 + \\delta)^n = 1 + n\\delta + \\sum_{k=2}^{n} \\binom{n}{k} \\delta^{n-k} \\geq 1 + n\\delta\r\n\\]\r\n\r\nfor all \\( n \\geq 1 \\).\r\n\r\nNow let \\( \\varepsilon > 0 \\), and let \\( N \\geq 2 \\) be such that \\( 1 + N\\delta > \\frac{1}{\\varepsilon} \\); any \\( N > \\frac{1 - \\varepsilon}{\\delta \\varepsilon} \\) will do.\r\n\r\nThen for all \\( n \\geq N \\), we have\r\n\r\n\\[\r\n|r^n| = \\frac{1}{a^n} \\leq \\frac{1}{a^N} \\leq \\frac{1}{1 + N\\delta} < \\frac{1}{1/\\varepsilon} = \\varepsilon\r\n\\]\r\n\r\nand so \\( (r^n) \\to 0 \\), as required.\r\n\r\n### Divergence\r\n\r\nBefore we go too much further, let’s see some examples of sequences which diverge. Recall (Definition 9.2.15) that a sequence \\( (x_n) \\) converges if \\( (x_n) \\to a \\) for some \\( a \\in \\mathbb{R} \\). Spelling this out symbolically, to say ‘\\( (x_n) \\) converges’ is to say the following:\r\n\r\n\\[\r\n\\exists a \\in \\mathbb{R}, \\forall \\varepsilon > 0, \\exists N \\in \\mathbb{N}, \\forall n \\geq N, |x_n - a| < \\varepsilon\r\n\\]\r\n\r\nWe can negate this using the tools of Section 1.3: to say that a sequence \\( (x_n) \\) diverges is to say the following:\r\n\r\n\\[\r\n\\forall a \\in \\mathbb{R}, \\exists \\varepsilon > 0, \\forall N \\in \\mathbb{N}, \\exists n \\geq N, |x_n - a| \\geq \\varepsilon\r\n\\]\r\n\r\nIn more intuitive terms: for all possible candidates for a limit \\( a \\in \\mathbb{R} \\), there is a positive distance \\( \\varepsilon \\) such that, no matter how far down the sequence you go (say \\( x_N \\)), you can find a term \\( x_n \\) beyond that point which is at distance \\( \\geq \\varepsilon \\) away from \\( a \\).\r\n</markdown>",
    "Q": "Q: If \\( r = \\frac{1}{2} \\), show that the sequence \\( (r^n) \\) converges to 0 and determine the smallest \\( N \\) such that \\( |r^n - 0| < \\frac{1}{10} \\) for all \\( n \\geq N \\). ",
    "A": " A: Since \\( r = \\frac{1}{2} \\), we have \\( |r^n| = \\left(\\frac{1}{2}\\right)^n \\). We need to find \\( N \\) such that \\( \\left(\\frac{1}{2}\\right)^n < \\frac{1}{10} \\). This is satisfied when \\( n > \\log_{1/2}(\\frac{1}{10}) = \\frac{\\log(10)}{\\log(2)} \\approx 3.32 \\). Therefore, the smallest integer \\( N \\) is \\( 4 \\)."
  },
  {
    "page": 380,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n### Example 9.2.22\r\n\r\nLet \\((x_n)\\) be the sequence defined by \\(x_n = (-1)^n\\) for all \\(n \\in \\mathbb{N}\\):\r\n\r\n\\[\r\n(1, -1, 1, -1, 1, -1, \\ldots)\r\n\\]\r\n\r\nWe'll prove that \\((x_n)\\) diverges. Fix \\(a \\in \\mathbb{R}\\). Intuitively, if \\(a\\) is non-negative, then it must be at distance \\(\\geq 1\\) away from \\(-1\\), and if \\(a\\) is negative, then it must be at distance \\(\\geq 1\\) away from 1. We'll now make this precise.\r\n\r\nSo let \\(\\varepsilon = 1\\), and fix \\(N \\in \\mathbb{N}\\). We need to find \\(n \\geq N\\) such that \\(|(-1)^n - a| \\geq 1\\). We'll split into cases based on whether \\(a\\) is non-negative or negative.\r\n\r\n- Suppose \\(a \\geq 0\\). Then \\(-1 - a \\leq -1 < 0\\), so that we have\r\n\r\n  \\[\r\n  |-1 - a| = a - (-1) = a + 1 \\geq 1\r\n  \\]\r\n\r\n  So let \\(n = 2N + 1\\). Then \\(n \\geq N\\) and \\(n\\) is odd, so that\r\n\r\n  \\[\r\n  |x_n - a| = |(-1)^n - a| = |-1 - a| \\geq 1\r\n  \\]\r\n\r\n- Suppose \\(a < 0\\). Then \\(1 - a > 1 > 0\\), so that we have\r\n\r\n  \\[\r\n  |1 - a| = 1 - a > 1\r\n  \\]\r\n\r\n  So let \\(n = 2N\\). Then \\(n \\geq N\\) and \\(n\\) is even, so that\r\n\r\n  \\[\r\n  |x_n - a| = |(-1)^n - a| = |1 - a| \\geq 1\r\n  \\]\r\n\r\nIn both cases, we've found \\(n \\geq N\\) such that \\(|x_n - a| \\geq 1\\). It follows that \\((x_n)\\) diverges.\r\n\r\nExample 9.2.22 is an example of a **periodic sequence**—that is, it's a sequence that repeats itself. It is difficult for such sequences to converge since, intuitively speaking, they jump up and down a lot. (In fact, the only way that a periodic sequence can converge is if it is a constant sequence!)\r\n\r\n### Exercise 9.2.23\r\n\r\nLet \\((y_n)\\) be the sequence defined by \\(y_n = n\\) for all \\(n \\in \\mathbb{N}\\):\r\n\r\n\\[\r\n(0, 1, 2, 3, \\ldots)\r\n\\]\r\n\r\nProve that \\((y_n)\\) diverges.\r\n\r\n### Exercise 9.2.24\r\n\r\nLet \\(r \\in \\mathbb{R}\\). Recall that \\((r^n) \\to 0\\) if \\(|r| < 1\\) (this was Proposition 9.2.21) and that \\((r^n)\\) diverges if \\(r = -1\\) (this was Example 9.2.22). Prove that \\((r^n)\\) diverges if \\(|r| > 1\\).\r\n</markdown>",
    "Q": "Q: Given the sequence \\((z_n)\\) defined by \\(z_n = (-2)^n\\) for all \\(n \\in \\mathbb{N}\\), prove whether \\((z_n)\\) converges or diverges. ",
    "A": " A: The sequence \\((z_n)\\) diverges because \\(|-2| > 1\\), which implies that the terms of the sequence grow without bound as \\(n\\) increases. Specifically, the sequence produces values \\((-2, 4, -8, 16, \\ldots)\\), alternating in sign and increasing in magnitude, confirming divergence."
  },
  {
    "page": 381,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n# 'Eventually'\r\n\r\nConsider the following sequence:\r\n\r\n\\[\r\n\\left( 1, 2, -10, 7, \\frac{1}{\\sqrt{2}}, 0, 0, 0, 0, 0, \\ldots \\right)\r\n\\]\r\n\r\nIt takes some nonzero values initially, but after the 5th term in the sequence, it remains constant with the value 0. For most intents and purposes, we can treat it as a constant sequence: after a certain point, it is constant, and so any properties involving limits of constant sequences will also be true of this sequence.\r\n\r\nSituations like this arise frequently. For example, we might not need a sequence to be increasing ([Definition 9.2.44](#))—we might just need it to be increasing after some finite stage.\r\n\r\nWe use the word ‘eventually’ to refer to this phenomenon. (In fact, the word ‘eventually’ is a new kind of quantifier!)\r\n\r\n## Definition 9.2.25\r\n\r\nLet \\( p(x) \\) be a logical formula with free variable \\( x \\) ranging over sequences of real numbers. We say \\( p((x_n)_{n>0}) \\) is **eventually true** if \\( p((x_n)_{n \\geq k}) \\) is true for some \\( k \\in \\mathbb{N} \\).\r\n\r\n## Example 9.2.26\r\n\r\nSome examples of the word ‘eventually’ include:\r\n\r\n- A sequence \\( (x_n) \\) is **eventually constant** if \\( (x_n)_{n \\geq k} \\) is constant for some \\( k \\in \\mathbb{N} \\)—that is, if there is some \\( k \\in \\mathbb{N} \\) such that \\( x_m = x_n \\) for all \\( m, n \\geq k \\).\r\n\r\n- A sequence \\( (x_n) \\) is **eventually nonzero** if there is some \\( k \\in \\mathbb{N} \\) such that \\( x_n \\neq 0 \\) for all \\( n \\geq k \\).\r\n\r\n- Two sequences \\( (x_n) \\) and \\( (y_n) \\) are **eventually equal** if there is some \\( k \\in \\mathbb{N} \\) such that \\( x_n = y_n \\) for all \\( n \\geq k \\).\r\n\r\n## Example 9.2.27\r\n\r\nThe definition of \\( (x_n) \\to a \\) can be equivalently phrased as:\r\n\r\nFor all \\( \\varepsilon > 0 \\), the sequence \\( (x_n) \\) eventually satisfies \\( |x_n - a| < \\varepsilon \\).\r\n\r\nThis is because ‘\\(\\exists N \\in \\mathbb{N}, \\forall n \\geq N, |x_n - a| < \\varepsilon\\)’ means precisely that \\( |x_n - a| \\) is eventually less than \\( \\varepsilon \\).\r\n</markdown>",
    "Q": "Q: For the sequence \\( (x_n) = (1, 2, -10, 7, \\frac{1}{\\sqrt{2}}, 0, 0, 0, 0, \\ldots) \\), determine whether the sequence is eventually constant and justify your answer. ",
    "A": " A: Yes, the sequence \\( (x_n) \\) is eventually constant because for \\( n \\geq 6 \\), all terms of the sequence are equal to 0, hence it becomes constant at that point."
  },
  {
    "page": 382,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n### Exercise 9.2.28\r\nProve that if a sequence \\((x_n)\\) converges to a nonzero limit, then \\((x_n)\\) is eventually nonzero. Find a sequence \\((x_n)\\) that converges to zero, but is not eventually nonzero.\r\n\r\n### Exercise 9.2.29\r\nLet \\((x_n)\\) be a sequence and let \\(p(x)\\) be a logical formula. What does it mean to say that \\(p(x_n)\\) is not eventually true? Find a sentence involving the phrase ‘not eventually’ that is equivalent to the assertion that \\((x_n)\\) diverges.\r\n\r\nThe next theorem will allow us to use the word ‘eventually’ in our proofs, without worrying about whether we’re being precise.\r\n\r\n### Theorem 9.2.30 (‘Eventually’ preserves conjunction and disjunction)\r\nLet \\((x_n)\\) be a sequence, and let \\(p(x)\\) and \\(q(x)\\) be logical formula with free variable \\(x\\) ranging over sequences of real numbers.\r\n\r\n(a) If \\(p(x_n)\\) is eventually true and \\(q(x_n)\\) is eventually true, then \\(p(x_n) \\land q(x_n)\\) is eventually true.\r\n\r\n(b) If \\(p(x_n)\\) is eventually true or \\(q(x_n)\\) is eventually true, then \\(p(x_n) \\lor q(x_n)\\) is eventually true.\r\n\r\n**Proof**\r\n\r\n(a) Let \\(k, \\ell \\in \\mathbb{N}\\) be such that \\(p(x_n)\\) is true for all \\(n \\geq k\\) and \\(q(x_n)\\) is true for all \\(n \\geq \\ell\\). Define \\(N = \\max\\{k, \\ell\\}\\). Then for all \\(n \\geq N\\), we have \\(p(x_n)\\) is true since \\(n \\geq N \\geq k\\), and \\(q(x_n)\\) is true since \\(n \\geq N \\geq \\ell\\), so that \\(p(x_n) \\land q(x_n)\\) is true for all \\(n \\geq N\\). Hence \\(p(x_n) \\land q(x_n)\\) is eventually true.\r\n\r\n(b) Assume that \\(p(x_n)\\) is eventually true. Then there is some \\(k \\in \\mathbb{N}\\) such that \\(p(x_n)\\) is true for all \\(n \\geq k\\). But then \\(p(x_n) \\lor q(x_n)\\) is true for all \\(n \\geq k\\), so that \\(p(x_n) \\lor q(x_n)\\) is eventually true. Likewise, if \\(q(x_n)\\) is eventually true, then \\(p(x_n) \\lor q(x_n)\\) is eventually true.\r\n\r\nThe next exercise urges you not to become too complacent with your use of the word ‘eventually’.\r\n\r\n### Exercise 9.2.31 (‘Eventually’ does not preserve negation)\r\nFind a sequence \\((x_n)\\) and a logical formula \\(p(x)\\) such that \\(p(x_n)\\) is neither eventually true nor eventually false. (Thus ‘\\(p(x_n)\\) is eventually false’ does not imply ‘\\(\\neg p(x_n)\\) is eventually true’.)\r\n</markdown>",
    "Q": "Q: Assuming the sequence \\((x_n)\\) converges to a limit \\(L \\neq 0\\), what can be concluded about the values of \\((x_n)\\) for sufficiently large \\(n\\)? ",
    "A": " A: The values of the sequence \\((x_n)\\) will be nonzero for all sufficiently large \\(n\\)."
  },
  {
    "page": 383,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nThe following proposition justifies our use of ‘eventually’ in proofs regarding limits—it implies that limiting behaviour of a sequence is not affected by changing (or completely disregarding) the finitely many terms at the beginning of the sequence.\r\n\r\n### Theorem 9.2.32\r\nLet \\((x_n)\\) and \\((y_n)\\) be sequences. If \\((x_n)\\) and \\((y_n)\\) are eventually equal, then \\((x_n)\\) converges if and only if \\((y_n)\\) converges and, if \\((x_n) \\to a \\in \\mathbb{R}\\), then \\((y_n) \\to a\\) as well.\r\n\r\n**Proof**\r\n\r\n- First assume that \\((x_n)\\) converges to \\(a \\in \\mathbb{R}\\). We prove that \\((y_n) \\to a\\).\r\n\r\n  So fix \\(\\varepsilon > 0\\). Since \\((x_n) \\to a\\), eventually we have \\(|x_n - a| < \\varepsilon\\) by Example 9.2.27. But eventually \\(x_n = y_n\\), and so we eventually have\r\n\r\n  \\[\r\n  |y_n - a| = |x_n - a| < \\varepsilon\r\n  \\]\r\n\r\n  as required.\r\n\r\n- Now assume that \\((x_n)\\) diverges. We prove that \\((y_n)\\) diverges. So let \\(a \\in \\mathbb{R}\\), and fix \\(\\varepsilon > 0\\) such that, for all \\(N \\in \\mathbb{N}\\), we have \\(|x_n - a| \\geq \\varepsilon\\) for some \\(n \\geq N\\).\r\n\r\n  Let \\(M \\in \\mathbb{N}\\) and define \\(N = \\max\\{k, N\\}\\), where \\(k \\in \\mathbb{N}\\) is such that \\(x_n = y_n\\) for all \\(n \\geq k\\).\r\n\r\n  Since \\((x_n)\\) diverges, there is some \\(n \\geq N\\) such that \\(|x_n - a| \\geq \\varepsilon\\). But then \\(n \\geq N \\geq M\\) and\r\n\r\n  \\[\r\n  |y_n - a| = |x_n - a| \\geq \\varepsilon\r\n  \\]\r\n\r\n  so that \\((y_n)\\) diverges.\r\n\r\n### Computing limits\r\n\r\nFinding limits of sequences can be tricky. Theorem 9.2.34 makes it slightly easier by saying that if a sequence is built up using arithmetic operations—addition, subtraction, multiplication and division—from sequences whose limits you know, then you can simply apply those arithmetic operations to the limits.\r\n\r\nIn order to prove part of Theorem 9.2.34, however, the following lemma will be useful.\r\n\r\n### Lemma 9.2.33\r\nLet \\((x_n)\\) be a sequence of real numbers. If \\((x_n)\\) converges, then \\((x_n)\\) is bounded—that is, there is some real number \\(k\\) such that \\(|x_n| \\leq k\\) for all \\(n \\in \\mathbb{N}\\).\r\n\r\n**Proof**\r\n\r\nLet \\(a \\in \\mathbb{R}\\) be such that \\((x_n) \\to a\\). Letting \\(\\varepsilon = 1\\) in the definition of convergence, it\r\n</markdown>",
    "Q": "Q: If a sequence \\((x_n)\\) converges to a limit \\(a\\), what can be said about its boundedness according to Lemma 9.2.33?  \r\n",
    "A": "  \r\nA: According to Lemma 9.2.33, if the sequence \\((x_n)\\) converges to a limit \\(a\\), then it is bounded, meaning there exists a real number \\(k\\) such that \\(|x_n| \\leq k\\) for all \\(n \\in \\mathbb{N}\\)."
  },
  {
    "page": 384,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nfollows that there exists some \\( N \\in \\mathbb{N} \\) such that \\( |x_n - a| < 1 \\) for all \\( n \\geq N \\). It follows that \\(-1 < x_n - a < 1\\) for all \\( n \\geq N \\), and hence \\(-(1 - a) < x_n < 1 + a\\) for all \\( n \\geq N \\).\r\n\r\nNow define\r\n\r\n\\[\r\nk = \\max\\{ |x_0|, |x_1|, \\ldots, |x_{N-1}|, |1-a|, |1+a| \\} + 1\r\n\\]\r\n\r\nFor all \\( n < N \\), we have\r\n\r\n\\[\r\n-k < -|x_n| \\leq x_n \\leq |x_n| < k\r\n\\]\r\n\r\nso that \\( |x_n| < k \\). For all \\( n \\geq N \\), we have\r\n\r\n\\[\r\n-k < -|1-a| \\leq -(1-a) < x_n < 1+a \\leq |1+a| < k\r\n\\]\r\n\r\nso that \\( |x_n| < k \\).\r\n\r\nHence \\( |x_n| < k \\) for all \\( n \\in \\mathbb{N} \\), as required.\r\n\r\n\\[\r\n\\Box\r\n\\]\r\n\r\n### Theorem 9.2.34\r\n\r\nLet \\( (x_n) \\) and \\( (y_n) \\) be sequences of real numbers, let \\( a, b \\in \\mathbb{R} \\), and suppose that \\( (x_n) \\to a \\) and \\( (y_n) \\to b \\). Then\r\n\r\n(a) \\( (x_n + y_n) \\to a + b \\);\r\n\r\n(b) \\( (x_n - y_n) \\to a - b \\);\r\n\r\n(c) \\( (x_n y_n) \\to ab \\); and\r\n\r\n(d) \\( \\left( \\frac{x_n}{y_n} \\right) \\to \\frac{a}{b} \\), so long as \\( b \\neq 0 \\).\r\n\r\n**Proof of (a) and (c)**\r\n\r\n(a). Fix \\( \\varepsilon > 0 \\). We need to prove that eventually \\( |(x_n + y_n) - (a + b)| < \\varepsilon \\).\r\n\r\n- Since \\( (x_n) \\to a \\), we eventually have \\( |x_n - a| < \\frac{\\varepsilon}{2} \\);\r\n- Since \\( (y_n) \\to b \\), we eventually have \\( |y_n - b| < \\frac{\\varepsilon}{2} \\).\r\n\r\nIt follows from the triangle inequality (Theorem 9.1.9) that we eventually have\r\n\r\n\\[\r\n|(x_n + y_n) - (a + b)| = |(x_n - a) + (y_n - b)| \\leq |x_n - a| + |y_n - b| < \\frac{\\varepsilon}{2} + \\frac{\\varepsilon}{2}\r\n\\]\r\n\r\nas required.\r\n\r\n(c). This one is a little harder. Fix \\( \\varepsilon > 0 \\). Since \\( (x_n) \\) converges, it follows from Lemma 9.2.33 that there is some real number \\( k \\) with \\( |x_n| < k \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n- Since \\( (x_n) \\to a \\), we eventually have \\( |x_n - a| < \\frac{\\varepsilon}{2|b|} \\);\r\n</markdown>",
    "Q": "Q: Given the sequences \\( (x_n) \\) and \\( (y_n) \\) that converge to \\( a \\) and \\( b \\) respectively, what can one conclude about the limit of the product \\( (x_n y_n) \\) as \\( n \\) approaches infinity? ",
    "A": " A: The limit of the product \\( (x_n y_n) \\) converges to \\( ab \\), that is, \\( (x_n y_n) \\to ab \\) as \\( n \\to \\infty \\)."
  },
  {
    "page": 385,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nSince \\((y_n) \\to b\\), we eventually have \\(|x_n - b| < \\frac{\\varepsilon}{2k}\\).\r\n\r\nThen using the triangle inequality again, eventually we have:\r\n\r\n\\[\r\n\\begin{align*}\r\n|x_n y_n - ab| &= |x_n(y_n - b) + b(x_n - a)| & \\text{rearranging} \\\\\r\n&\\leq |x_n(y_n - b)| + |b(x_n - a)| & \\text{by the triangle inequality} \\\\\r\n&= |x_n||y_n - b| + |b||x_n - a| & \\text{rearranging} \\\\\r\n&< k|y_n - b| + |b||x_n - a| & \\text{since } |x_n| < k \\text{ for all } n \\\\\r\n&< k \\frac{\\varepsilon}{2k} + |b| \\frac{\\varepsilon}{2|b|} & \\text{(eventually)} \\\\\r\n&= \\varepsilon & \\text{rearranging}\r\n\\end{align*}\r\n\\]\r\n\r\nHence \\((x_n y_n) \\to ab\\), as required.\r\n\r\n✐ **Exercise 9.2.35**\r\n\r\nProve parts (b) and (d) of [Theorem 9.2.34](#).\r\n\r\nTheorem 9.2.34 *appears* obvious, but as you can see in the proof, it is more complicated than perhaps expected. It was worth the hard work, though, because we can now compute more complicated limits formed in terms of arithmetic operations by taking the limits of the individual components.\r\n\r\nThe following example uses Theorem 9.2.34 to prove that \\(\\left(\\frac{2n}{n+1}\\right) \\to 2\\) in a much simpler way than we saw in Example 9.2.18.\r\n\r\n✐ **Example 9.2.36**\r\n\r\nWe provide another proof that the sequence \\((r_n)\\) of Example 9.2.14, defined by \\(r_n = \\frac{2n}{n+1}\\) for all \\(n \\in \\mathbb{N}\\), converges to 2.\r\n\r\nFor all \\(n \\geq 1\\), dividing by the top and bottom gives\r\n\r\n\\[\r\nr_n = \\frac{2}{1 + \\frac{1}{n}}\r\n\\]\r\n\r\nThe constant sequences \\((2)\\) and \\((1)\\) converge to 2 and 1, respectively; and by Proposition 9.2.16, we know that \\(\\left(\\frac{1}{n}\\right) \\to 0\\). It follows that\r\n\r\n\\[\r\n(r_n) \\to \\frac{2}{1+0} = 2\r\n\\]\r\n\r\nas required.\r\n\r\n✐ **Exercise 9.2.37**\r\n\r\nLet \\((x_n)\\) be a sequence of real numbers converging to a real number \\(a\\), and let \\(p(x) = a_0 + a_1 x + \\cdots + a_d x^d\\) be a polynomial function. Prove that \\((p(x_n)) \\to p(a)\\), and that \\(\\left(\\frac{1}{p(x_n)}\\right) \\to \\frac{1}{p(a)}\\) if \\(p(a) \\neq 0\\).\r\n</markdown>",
    "Q": "Q: Given that \\((y_n) \\to b\\) and \\((x_n) \\to a\\), how can we show that \\(|x_n y_n - ab| < \\varepsilon\\) by using the properties of convergence and triangle inequality?  \r\n",
    "A": "  \r\nA: We can use the triangle inequality as follows:\r\n\r\n\\[\r\n|x_n y_n - ab| \\leq |x_n(y_n - b)| + |b(x_n - a)| < k|y_n - b| + |b||x_n - a| < k \\frac{\\varepsilon}{2k} + |b| \\frac{\\varepsilon}{2|b|} = \\varepsilon\r\n\\]\r\n\r\nThus, \\((x_n y_n) \\to ab\\)."
  },
  {
    "page": 386,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nThe so-called *squeeze theorem* provides another means of computing limits. It says that if we can eventually ‘squeeze’ the terms of a sequence \\((y_n)\\) between terms of two other sequences that converge to the same limit, then we can deduce that \\((y_n)\\) converges to the same limit.\r\n\r\n### Theorem 9.2.38 (Squeeze theorem)\r\nLet \\((x_n)\\), \\((y_n)\\) and \\((z_n)\\) be sequences of real numbers such that:\r\n\r\n(i) \\((x_n) \\to a\\) and \\((z_n) \\to a\\); and\r\n\r\n(ii) Eventually \\(x_n \\leq y_n \\leq z_n\\).\r\n\r\nThen \\((y_n) \\to a\\).\r\n\r\n**Proof**\r\n\r\nFix \\(\\varepsilon > 0\\). We need to prove that, eventually, \\(|y_n - a| < \\varepsilon\\).\r\n\r\nSince \\((x_n) \\to a\\) and \\((z_n) \\to a\\), we eventually have \\(|x_n - a| < \\varepsilon\\) and \\(|z_n - a| < \\varepsilon\\).\r\n\r\nFix \\(N \\in \\mathbb{N}\\) such that for all \\(n \\geq N\\) we have \\(|x_n - a| < \\varepsilon\\), \\(|z_n - a| < \\varepsilon\\) and \\(x_n < y_n < z_n\\). Given \\(n \\geq N\\):\r\n\r\n- If \\(y_n \\geq a\\), then we have \\(a \\leq y_n \\leq z_n\\), and so\r\n\r\n  \\[\r\n  |y_n - a| = y_n - a \\leq z_n - a = |z_n - a| < \\varepsilon\r\n  \\]\r\n\r\n- If \\(y_n < a\\), then we have \\(x_n \\leq y_n < a\\), and so\r\n\r\n  \\[\r\n  |y_n - a| = a - y_n \\leq a - x_n = |x_n - a| < \\varepsilon\r\n  \\]\r\n\r\nIn both cases we have proved \\(|y_n - a| < \\varepsilon\\). It follows that \\((y_n) \\to a\\).\r\n\r\n### Example 9.2.39\r\nFix \\(k \\geq 1\\). We prove that the sequence \\(\\left(\\frac{1}{n^k}\\right)_{n \\geq 1}\\) converges to zero.\r\n\r\nNote that \\(n^k > n\\), so that we have \\(0 < \\frac{1}{n^k} \\leq \\frac{1}{n}\\) for all \\(n \\in \\mathbb{N}\\). We know that \\(\\left(\\frac{1}{n}\\right) \\to 0\\) by Example 9.2.13, and \\((0) \\to 0\\) since it is a constant sequence, so the squeeze theorem implies that \\(\\left(\\frac{1}{n^k}\\right) \\to 0\\).\r\n\r\n### Exercise 9.2.40\r\nFix \\(r \\in \\mathbb{N}\\), and let \\(p(x) = a_0 + a_1x + \\cdots + a_rx^r\\) and \\(q(x) = b_0 + b_1x + \\cdots + b_rx^r\\) be polynomials with real coefficients. Prove that if \\(b_r \\neq 0\\), then \\(\\left(\\frac{p(n)}{q(n)}\\right) \\to \\frac{a_r}{b_r}\\).\r\n</markdown>",
    "Q": "Q: Given two sequences \\( (x_n) \\) and \\( (z_n) \\) such that \\( (x_n) \\to a \\) and \\( (z_n) \\to a \\), and a sequence \\( (y_n) \\) that satisfies \\( x_n \\leq y_n \\leq z_n \\) for all sufficiently large \\( n \\), how can we use the Squeeze Theorem to show that \\( (y_n) \\to a \\)? ",
    "A": " A: By the Squeeze Theorem, since \\( x_n \\to a \\) and \\( z_n \\to a \\) implies that both sequences get arbitrarily close to \\( a \\), and since \\( y_n \\) is squeezed between \\( x_n \\) and \\( z_n \\), we conclude that \\( |y_n - a| < \\varepsilon \\) for any \\( \\varepsilon > 0 \\) eventually, thus \\( (y_n) \\to a \\)."
  },
  {
    "page": 387,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n## Uniqueness of limits\r\n\r\nWe now prove that a sequence can have at most one limit. This will allow us to talk about ‘the’ limit of a sequence, and introduce notation for the limit of a sequence.\r\n\r\n### Theorem 9.2.41 (Uniqueness of limits)\r\nLet \\( (x_n) \\) be a sequence and let \\( a, b \\in \\mathbb{R} \\). If \\( (x_n) \\to a \\) and \\( (x_n) \\to b \\), then \\( a = b \\).\r\n\r\n**Proof**  \r\nWe’ll prove that \\( |a - b| = 0 \\), which will imply that \\( a = b \\). To do this, we’ll prove that \\( |a - b| \\) is not positive: we already know it’s non-negative, so this will imply that it is equal to zero. To prove that \\( |a - b| \\) is not positive, we’ll prove that it is less than every positive number.\r\n\r\nSo fix \\( \\varepsilon > 0 \\). Then also \\( \\frac{\\varepsilon}{2} > 0 \\). The definition of convergence ([Definition 9.2.15](#)) tells us that eventually \\( |x_n - a| < \\frac{\\varepsilon}{2} \\) and \\( |x_n - b| < \\frac{\\varepsilon}{2} \\).\r\n\r\nBy the triangle inequality ([Theorem 9.1.9](#)), it follows that eventually\r\n\r\n\\[\r\n|a - b| = |(a - x_n) + (x_n - b)| \\quad \\text{by cancelling the } x_n \\text{ terms}\r\n\\]\r\n\r\n\\[\r\n\\leq |a - x_n| + |x_n - b| \\quad \\text{by the triangle inequality}\r\n\\]\r\n\r\n\\[\r\n= |x_n - a| + |x_n - b| \\quad \\text{by Exercise 9.1.5}\r\n\\]\r\n\r\n\\[\r\n< \\frac{\\varepsilon}{2} + \\frac{\\varepsilon}{2} = \\varepsilon \\quad \\text{(eventually)}\r\n\\]\r\n\r\nSince \\( |a - b| < \\varepsilon \\) for all \\( \\varepsilon > 0 \\), it follows that \\( |a - b| \\) is a non-negative real number that is less than every positive real number, so that it is equal to zero.\r\n\r\nSince \\( |a - b| = 0 \\), we have \\( a - b = 0 \\), and so \\( a = b \\).\r\n\r\nTheorem 9.2.41 justifies the following notation.\r\n\r\n### Definition 9.2.42\r\nLet \\( (x_n) \\) be a convergent sequence. The limit of \\( (x_n) \\) is denoted by \\( \\lim_{n \\to \\infty} (x_n) \\) (LaTeX code: `\\lim_{n \\to \\infty}`).\r\n\r\n[The usual warnings about the symbol \\( \\infty \\) apply.]\r\n\r\n### Example 9.2.43\r\nProposition 9.2.16 and example 9.2.18 tell us that\r\n\r\n\\[\r\n\\lim_{n \\to \\infty} \\left( \\frac{1}{n} \\right) = 0 \\quad \\text{and} \\quad \\lim_{n \\to \\infty} \\left( \\frac{2n}{n+1} \\right) = 2\r\n\\]\r\n</markdown>",
    "Q": "Q: What can we conclude about the limits of the sequence \\( (x_n) \\) if \\( (x_n) \\to 3 \\) and \\( (x_n) \\to -1 \\)? ",
    "A": " A: We conclude that \\( 3 = -1 \\), which is a contradiction, indicating that such a sequence cannot have two different limits."
  },
  {
    "page": 388,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n## Existence of limits\r\n\r\nIt is often useful to know *that* a sequence converges, but not necessary to go to the arduous lengths of computing its limit. However, as it currently stands, we don’t really have any tools for proving that a sequence converges other than finding a limit for it! The remainder of this section is dedicated to deriving tools for finding out when a sequence does or does not converge, without needing to know exactly what the limit is.\r\n\r\nPerhaps the most fundamental result is the **monotone convergence theorem** (Theorem 9.2.48), since it underlies the proofs of all the other results that we will prove. What it says is that if the terms in a sequence always increase, or always decrease, and the set of terms in the sequence is bounded, then the sequence converges to a limit.\r\n\r\nThe sequence \\((r_n)\\) from Example 9.2.14, defined by \\(r_n = \\frac{2n}{n+1}\\) for all \\(n \\in \\mathbb{N}\\), is an example of such a sequence. We proved that it converged by computing its limit in Example 9.2.18 and again in Example 9.2.36. We will soon (Example 9.2.51) use the monotone convergence theorem to give *yet another proof* that it converges, but this time without going to the trouble of first finding its limit.\r\n\r\nBefore we can state the monotone convergence theorem, we must first define what we mean by a **monotonic sequence**.\r\n\r\n### Definition 9.2.44\r\nA sequence of real numbers \\((x_n)\\) is...\r\n\r\n- ...**increasing** if \\(m \\leq n\\) implies \\(x_m \\leq x_n\\) for all \\(m, n \\in \\mathbb{N}\\);\r\n- ...**decreasing** if \\(m \\leq n\\) implies \\(x_m \\geq x_n\\) for all \\(m, n \\in \\mathbb{N}\\).\r\n\r\nIf a sequence is either increasing or decreasing, we say it is **monotonic**.\r\n\r\n### Example 9.2.45\r\nThe sequence \\((x_n)\\) defined by \\(x_n = n^2\\) for all \\(n \\in \\mathbb{N}\\) is increasing, since for all \\(m, n \\in \\mathbb{N}\\), if \\(m \\leq n\\), then \\(m^2 \\leq n^2\\). To see this, note that if \\(m \\leq n\\), then \\(n - m \\geq 0\\) and \\(n + m \\geq 0\\), so that\r\n\r\n\\[\r\nn^2 - m^2 = (n - m)(n + m) \\geq 0 \\cdot 0 = 0\r\n\\]\r\n\r\nand hence \\(n^2 \\geq m^2\\), as required.\r\n\r\n### Example 9.2.46\r\nThe sequence \\((r_n)\\) from Examples 9.2.14 and 9.2.36, defined by \\(r_n = \\frac{2n}{n+1}\\) for all \\(n \\in \\mathbb{N}\\),\r\n</markdown>",
    "Q": "Q: If a sequence \\((x_n)\\) is defined such that \\(x_n = \\frac{3n}{n+2}\\) for all \\(n \\in \\mathbb{N}\\), is this sequence increasing, decreasing, or monotonic? ",
    "A": " A: The sequence \\((x_n)\\) is increasing since for \\(m \\leq n\\), \\(x_m \\leq x_n\\) holds true, and thus it satisfies the condition of a monotonic sequence."
  },
  {
    "page": 389,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nis increasing. To see this, suppose \\( m \\leq n \\). Then \\( n = m + k \\) for some \\( k \\geq 0 \\). Now\r\n\r\n\\[\r\n\\begin{align*}\r\n0 \\leq k & \\quad \\text{by assumption} \\\\\r\n\\Rightarrow m^2 + km + m \\leq m^2 + km + m + k & \\quad \\text{adding } m^2 + km + m \\text{ to both sides} \\\\\r\n\\Rightarrow m(m + k + 1) \\leq (m + 1)(m + k) & \\quad \\text{factorising} \\\\\r\n\\Rightarrow m(n + 1) \\leq (m + 1)n & \\quad \\text{since } n = m + k \\\\\r\n\\Rightarrow \\frac{m}{m + 1} \\leq \\frac{n}{n + 1} & \\quad \\text{dividing both sides by } (m + 1)(n + 1) \\\\\r\n\\Rightarrow r_m \\leq r_n & \\quad \\text{by definition of } (r_n)\r\n\\end{align*}\r\n\\]\r\n\r\nNote that the step where we divided through by \\( (m + 1)(n + 1) \\) is justified since this quantity is positive.\r\n\r\nIt is perhaps useful to add that to come up with this proof, it is more likely that you would start with the assumption \\( r_m \\leq r_n \\) and derive that \\( k \\geq 0 \\)—noting that all steps are reversible then allows us to write it in the ‘correct’ order.\r\n\r\n### Exercise 9.2.47\r\nProve that the sequence \\( (5^n - n^5)_{n \\geq 0} \\) is eventually increasing—that is, there is some \\( k \\in \\mathbb{N} \\) such that \\( (5^n - n^5)_{n \\geq k} \\) is an increasing sequence.\r\n\r\nThe monotone convergence theorem underlies all of the other tools for proving convergence of sequences that are to follow. It makes essential use of the completeness axiom.\r\n\r\n### Theorem 9.2.48 (Monotone convergence theorem)\r\nLet \\( (x_n) \\) be a sequence of real numbers.\r\n\r\n(a) If \\( (x_n) \\) is increasing and has an upper bound, then it converges;\r\n\r\n(b) If \\( (x_n) \\) is decreasing and has a lower bound, then it converges.\r\n\r\n**Proof of (a)**  \r\nWe prove (a) here—part (b) is Exercise 9.2.49.\r\n\r\nSo suppose \\( (x_n) \\) is increasing and has an upper bound. Then:\r\n\r\n(i) \\( x_m \\leq x_n \\) for all \\( m \\leq n \\); and\r\n\r\n(ii) There is some real number \\( u \\) such that \\( u \\geq x_n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\nCondition (ii) tells us that the set \\( \\{x_n \\mid n \\in \\mathbb{N}\\} \\subseteq \\mathbb{R} \\) has an upper bound. By the completeness axiom, it has a supremum \\( a \\). We prove that \\( (x_n) \\to a \\).\r\n\r\nSo let \\( \\varepsilon > 0 \\). We need to find \\( N \\in \\mathbb{N} \\) such that \\( |x_n - a| < \\varepsilon \\) for all \\( n \\geq N \\).\r\n</markdown>",
    "Q": "Q: Prove that the sequence \\( (3^n - n^3)_{n \\geq 0} \\) is eventually increasing—that is, there is some \\( k \\in \\mathbb{N} \\) such that \\( (3^n - n^3)_{n \\geq k} \\) is an increasing sequence. ",
    "A": " A: To show that the sequence is eventually increasing, we consider the difference \\( (3^{n+1} - (n+1)^3) - (3^n - n^3) \\). Simplifying this leads to \\( 3^{n+1} - 3^n - (n^3 + 3n^2 + 3n + 1 - n^3) = 2 \\cdot 3^n - (3n^2 + 3n + 1) \\). For sufficiently large \\( n \\), the term \\( 2 \\cdot 3^n \\) dominates \\( 3n^2 + 3n + 1 \\), ensuring the difference is positive. Thus, the sequence is eventually increasing for large \\( n \\)."
  },
  {
    "page": 390,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nSince \\( a \\) is a supremum of \\(\\{ x_n \\mid n \\in \\mathbb{N} \\}\\), there is some \\( N \\in \\mathbb{N} \\) such that \\( x_N > a - \\varepsilon \\).\r\n\r\nSince \\((x_n)\\) is increasing, by (i) we have \\( x_N \\leq x_n \\) for all \\( n \\geq N \\). Moreover, since \\( a \\) is an upper bound of the sequence, we actually have \\( x_N \\leq x_n \\leq a \\) for all \\( n \\geq N \\).\r\n\r\nPutting this together, for all \\( n \\geq N \\), we have\r\n\r\n\\[\r\n|x_n - a| = a - x_n \\quad \\text{since } x_n - a \\leq 0\r\n\\]\r\n\\[\r\n\\leq a - x_N \\quad \\text{since } x_N \\leq x_n \\text{ for all } n \\geq N\r\n\\]\r\n\\[\r\n< \\varepsilon \\quad \\text{since } x_N > a - \\varepsilon\r\n\\]\r\n\r\nIt follows that \\((x_n) \\to a\\), as required.\r\n\r\n### Exercise 9.2.49\r\nProve part (b) of the monotone convergence theorem ([Theorem 9.2.48](#)). That is, prove that if a sequence \\((x_n)\\) is decreasing and has a lower bound, then it converges.\r\n\r\n### Example 9.2.50\r\nThe monotone convergence theorem can be used to show that many of the sequences that we have already seen converge, although it doesn’t tell us what their limit is. For example, \\(\\left(\\frac{1}{n}\\right)\\) converges since it is a decreasing sequence that is bounded below by 0.\r\n\r\n### Example 9.2.51\r\nLet \\((r_n)\\) be our recurring example sequence from [Examples 9.2.14, 9.2.36 and 9.2.46](#), defined by \\( r_n = \\frac{2n}{n+1} \\) for all \\( n \\in \\mathbb{N} \\). We proved in [Example 9.2.46](#) that \\((r_n)\\) is increasing. Moreover, for all \\( n \\in \\mathbb{N} \\) we have\r\n\r\n\\[\r\nr_n = \\frac{2n}{n+1} < \\frac{2(n+1)}{n+1} = 2\r\n\\]\r\n\r\nand so \\((r_n)\\) is bounded above by 2. By the monotone convergence theorem, the sequence \\((r_n)\\) converges. Unfortunately, the monotone convergence theorem does not tell us what the limit of \\((r_n)\\) is, but we have already computed it twice!\r\n\r\n### Exercise 9.2.52\r\nUse the monotone convergence theorem to prove that the sequence \\(\\left(\\frac{n!}{n^n}\\right)\\) converges.\r\n\r\n### Exercise 9.2.53\r\nA sequence \\((x_n)\\) is defined recursively by \\( x_0 = 0 \\) and \\( x_{n+1} = \\sqrt{2 + x_n} \\) for all \\( n \\geq 0 \\). That is,\r\n\r\n\\[\r\nx_n = \\sqrt{2 + \\sqrt{2 + \\sqrt{\\cdots + \\sqrt{2}}}}\r\n\\]\r\n\r\nProve that \\((x_n)\\) converges.\r\n</markdown>",
    "Q": "Q: If the sequence \\((y_n)\\) is an increasing sequence that is bounded above by \\(b\\), can we conclude that \\((y_n)\\) converges, and if so, what is its limit? ",
    "A": " A: Yes, by the monotone convergence theorem, the sequence \\((y_n)\\) converges, and its limit is equal to the supremum of the sequence, which is \\(b\\)."
  },
  {
    "page": 391,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\n## Section 9.2. Completeness and convergence\r\n\r\nWe now define the notion of a **subsequence** of a sequence. A subsequence of a sequence is just like a subset of a set, except we can only pick out terms in a sequence in the order they appear.\r\n\r\n### Definition 9.2.54\r\nLet \\((x_n)\\) be a sequence of real numbers. A **subsequence** of \\((x_n)\\) is a sequence of the form \\((x_{n_i})_{i \\geq 0}\\), where \\(n_i < n_j\\) for all \\(0 \\leq i < j\\).\r\n\r\nIn Definition 9.2.54 we were careful to write \\((x_{n_i})_{i \\geq 0}\\) rather than just \\((x_{n_i})\\), because we wanted to emphasise that the indexing variable is \\(i\\), rather than \\(n\\). This is good practice in any situation where confusion might arise over which variable is the indexing variable.\r\n\r\n### Example 9.2.55\r\nDefine a sequence \\((x_n)\\) by \\(x_n = (-1)^n\\) for all \\(n \\geq 0\\).\r\n\r\n\\[\r\n(x_n)_{n \\geq 0} = (1, -1, 1, -1, 1, -1, \\ldots)\r\n\\]\r\n\r\nThe subsequence \\((x_{2i})\\) is the constant sequence with value 1, since for each \\(i \\geq 0\\) we have \\(x_{2i} = (-1)^{2i} = 1\\), and the subsequence \\((x_{2i+1})\\) is the constant sequence with value \\(-1\\), since for each \\(i \\geq 0\\) we have \\(x_{2i+1} = (-1)^{2i+1} = -1\\).\r\n\r\n### Theorem 9.2.56\r\nLet \\((x_n)\\) be a sequence, let \\(a \\in \\mathbb{R}\\), and suppose \\((x_n) \\to a\\). Then every subsequence of \\((x_n)\\) converges to \\(a\\).\r\n\r\n**Proof**\r\n\r\nLet \\((x_{n_i})_{i \\geq 0}\\) be a subsequence of \\((x_n)\\). We need to prove that \\((x_{n_i}) \\to a\\) as \\(i \\to \\infty\\). To this end, fix \\(\\varepsilon > 0\\). We need to find \\(I \\geq 0\\) such that \\(|x_{n_i} - a| < \\varepsilon\\) for all \\(i \\geq I\\).\r\n\r\nSince \\((x_n) \\to a\\) as \\(n \\to \\infty\\), there exists some \\(N \\geq 0\\) such that \\(|x_n - a| < \\varepsilon\\) for all \\(n \\geq N\\). Let \\(I \\geq 0\\) be least such that \\(n_I \\geq N\\). We know that \\(I\\) exists since we have \\(0 \\leq n_0 < n_1 < n_2 < \\ldots\\).\r\n\r\nBut then for all \\(i \\geq I\\), we have \\(n_i \\geq n_I \\geq N\\), and hence \\(|x_{n_i} - a| < \\varepsilon\\) by definition of \\(N\\).\r\n\r\nHence the subsequence \\((x_{n_i})\\) converges to \\(a\\), as required.\r\n\r\n### Exercise 9.2.57\r\nProve that a subsequence of an increasing sequence is increasing, that a subsequence of a decreasing sequence is decreasing, and that a subsequence of a constant sequence is constant.\r\n</markdown>",
    "Q": "Q: If the sequence \\((x_n)\\) is defined by \\(x_n = \\frac{1}{n}\\) for \\(n \\geq 1\\), what can you say about its subsequence \\((x_{2i})\\) and its convergence? ",
    "A": " A: The subsequence \\((x_{2i})\\) is given by \\(x_{2i} = \\frac{1}{2i}\\), which converges to 0 as \\(i \\to \\infty\\). Thus, the subsequence \\((x_{2i})\\) also converges to 0."
  },
  {
    "page": 392,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nWe can use the monotone convergence theorem and the squeeze theorem to prove the following very powerful result, which is related to a notion in the field of topology known as sequential compactness.\r\n\r\n### Theorem 9.2.58 (Bolzano–Weierstrass theorem)\r\nEvery bounded sequence of real numbers has a convergent subsequence.\r\n\r\n*Proof*  \r\nLet \\((x_n)\\) be a sequence of real numbers and let \\(a, b \\in \\mathbb{R}\\) be such that \\(a < x_n < b\\) for each \\(n \\geq 0\\)—the numbers \\(a\\) and \\(b\\) exist since the sequence \\((x_n)\\) is bounded.\r\n\r\nOur strategy is as follows. The sequence \\((x_n)\\) is entirely contained inside the interval \\([a, b]\\), which has length \\(\\ell = b - a\\). Letting \\(c = \\frac{a+b}{2}\\) be the (arithmetic) mean of \\(a\\) and \\(b\\), we see that one of the intervals \\([a, c]\\) or \\([c, b]\\), or possibly both, must contain infinitely many terms of the sequence \\((x_n)\\)—but then this defines a subsequence of \\((x_n)\\) which is entirely contained inside a sub-interval of \\([a, b]\\) whose length is \\(\\frac{\\ell}{2}\\). We iterate this process inductively, obtaining smaller and smaller intervals that contain infinitely many terms in the sequence \\((x_n)\\). The end-points of these intervals are then bounded monotone sequences—the sequence of lower end-points is increasing, and the sequence of upper end-points is decreasing. The monotone convergence theorem implies that both sequences converge. We will prove that they converge to the same limit, thereby ‘trapping’ a subsequence of \\((x_n)\\), which will converge by the squeeze theorem.\r\n\r\nNow let’s put our strategy into action. We will define the terms \\(n_i, a_i\\) and \\(b_i\\) by induction on \\(i\\), and then verify that the resulting subsequence \\((x_{n_i})_{i \\geq 0}\\) converges.\r\n\r\nFirst, define \\(n_0 = 0, a_0 = a\\) and \\(b_0 = b\\).\r\n\r\nNow fix \\(i \\geq 0\\) and suppose that the numbers \\(n_i, a_i\\) and \\(b_i\\) have been defined in such a way that:\r\n\r\n(i) \\(x_{n_i} \\in [a_i, b_i]\\);\r\n\r\n(ii) \\(x_n \\in [a_i, b_i]\\) for infinitely many \\(n > n_i\\);\r\n\r\n(iii) \\(a_j \\leq a_i < b_i \\leq b_j\\) for all \\(j \\leq i\\); and\r\n\r\n(iv) \\(b_i - a_i = \\frac{\\ell}{2^i}\\).\r\n\r\nWrite \\(c_i = \\frac{a_i + b_i}{2}\\). By condition (ii), it must be case that infinitely many of the terms \\(x_n\\), for \\(n > n_i\\), are contained in either \\([a_i, c_i]\\) or in \\([c_i, b_i]\\). In the former case, define \\(a_{i+1} = a_i\\) and \\(b_{i+1} = c_i\\); and in the latter case define \\(a_{i+1} = c_i\\) and \\(b_{i+1} = b_i\\); and then define \\(n_{i+1} > n_i\\) such that \\(x_{n_{i+1}} \\in [a_{i+1}, b_{i+1}]\\).\r\n\r\nNote that conditions (i)–(iv) are satisfied, with \\(i\\) now replaced by \\(i + 1\\). Indeed, (i) and (ii) are satisfied by definition of \\(a_{i+1}, b_{i+1}\\) and \\(n_{i+1}\\). Condition (iii) is satisfied since\r\n</markdown>",
    "Q": "Q: Given a bounded sequence \\((x_n)\\) such that \\(x_n \\in [a, b]\\) for all \\(n\\), how can we show that there exists a convergent subsequence of \\((x_n)\\)? ",
    "A": " A: By applying the Bolzano-Weierstrass theorem, we can use the method of bisection to construct nested intervals that contain infinitely many terms of the sequence. This process allows us to derive a convergent subsequence from the bounded sequence."
  },
  {
    "page": 393,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\neither \\( a_{i+1} = a_i \\) or \\( a_{i+1} = \\frac{a_i + c_i}{2} \\geq a_i \\), and likewise for \\( b_{i+1} \\). Condition (iv) is satisfied since\r\n\r\n\\[\r\nc_i - a_i = \\frac{a_i + b_i}{2} - a_i = \\frac{b_i - a_i}{2} = \\frac{\\ell / 2^i}{2} = \\frac{\\ell}{2^{i+1}}\r\n\\]\r\n\r\nand likewise \\( b_i - c_i = \\frac{\\ell}{2^{i+1}} \\).\r\n\r\nSince by construction we have \\( n_i < n_{i+1} \\) for each \\( i \\geq 0 \\), we have defined a subsequence \\( (x_{n_i})_{i \\geq 0} \\) of \\( (x_n) \\).\r\n\r\nNow the sequence \\( (a_i) \\) is increasing and is bounded above by \\( b \\), and the sequence \\( (b_i) \\) is decreasing and is bounded below by \\( a \\). By the monotone convergence theorem \\( (a_i) \\to a^\\star \\) and \\( (b_i) \\to b^\\star \\) for some \\( a^\\star, b^\\star \\in \\mathbb{R} \\). But moreover we have\r\n\r\n\\[\r\n\\frac{\\ell}{2^i} = b_i - a_i \\to b^\\star - a^\\star\r\n\\]\r\n\r\nSince \\(\\frac{\\ell}{2^i} \\to 0\\), we have \\( b^\\star - a^\\star = 0 \\) by uniqueness of limits, and so \\( a^\\star = b^\\star \\). Write \\( x^\\star \\) for the common value of \\( a^\\star \\) and \\( b^\\star \\).\r\n\r\nFinally, we have \\( a_i \\leq x_{n_i} \\leq b_i \\) for all \\( i \\geq 0 \\), so that \\( x_{n_i} \\to x^\\star \\) by the squeeze theorem.\r\n\r\nThe Bolzano–Weierstrass theorem can be used to prove that a sequence converges by verifying that its terms get arbitrarily close together. Such sequences are called Cauchy sequences, and the fact that all Cauchy sequences converge is proved in Theorem 9.2.62.\r\n\r\n### Definition 9.2.59\r\nA **Cauchy sequence** is a sequence \\( (x_n) \\) of real numbers such that, for all \\( \\varepsilon > 0 \\), there exists \\( N \\in \\mathbb{N} \\) such that \\( |x_m - x_n| < \\varepsilon \\) for all \\( m, n \\geq N \\).\r\n\r\n### Example 9.2.60\r\nLet \\( (r_n) \\) be our favourite recurring example sequence from Examples 9.2.14, 9.2.36, 9.2.46 and 9.2.51, defined by \\( r_n = \\frac{2n}{n+1} \\) for all \\( n \\in \\mathbb{N} \\). We prove that \\( (r_n) \\) is Cauchy.\r\n\r\nFirst note that, given \\( m, n \\geq 1 \\), we have\r\n\r\n\\[\r\n|r_m - r_n| = \\left| \\frac{2m}{m+1} - \\frac{2n}{n+1} \\right| = \\frac{2|m-n|}{(m+1)(n+1)} = \\frac{2\\left|\\frac{1}{n} - \\frac{1}{m}\\right|}{(1 + \\frac{1}{m})(1 + \\frac{1}{n})}\r\n\\]\r\n\r\nNow fix \\( \\varepsilon > 0 \\), and let \\( N \\in \\mathbb{N} \\) be such that \\( \\frac{1}{m} < \\frac{\\varepsilon}{2} \\) and \\( \\frac{1}{n} < \\frac{\\varepsilon}{2} \\) for all \\( m, n > N \\). Note that such a value of \\( N \\) exists by Example 9.2.13.\r\n</markdown>",
    "Q": "Q: Given a Cauchy sequence \\( (x_n) \\), explain how to determine whether it converges, and give an example of a Cauchy sequence that converges to a specific limit. ",
    "A": " A: To determine whether a Cauchy sequence \\( (x_n) \\) converges, one can use the definition of a Cauchy sequence which states that for every \\( \\varepsilon > 0 \\), there exists an \\( N \\in \\mathbb{N} \\) such that \\( |x_m - x_n| < \\varepsilon \\) for all \\( m, n \\geq N \\). An example of a Cauchy sequence is \\( r_n = \\frac{2n}{n+1} \\), which converges to the limit \\( 2 \\) as \\( n \\to \\infty \\)."
  },
  {
    "page": 394,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nNow let \\( m, n \\geq N \\). Then \\(\\left| \\frac{1}{n} - \\frac{1}{m} \\right| < \\frac{\\varepsilon}{2}\\) since both \\(\\frac{1}{m}\\) and \\(\\frac{1}{n}\\) are elements of \\((0, \\frac{\\varepsilon}{2})\\). Moreover \\(1 + \\frac{1}{m} > 1\\) and \\(1 + \\frac{1}{n} > 1\\). It follows that, for all \\(m, n \\geq N\\), we have\r\n\r\n\\[\r\n|r_m - r_n| < \\frac{2 \\cdot \\frac{\\varepsilon}{2}}{1 \\cdot 1} = \\varepsilon\r\n\\]\r\n\r\nHence \\((r_n)\\) is Cauchy, as claimed.\r\n\r\nThe following exercise generalises the previous example.\r\n\r\n**Exercise 9.2.61**  \r\nProve that every convergent sequence is a Cauchy sequence.\r\n\r\n**Theorem 9.2.62 (Cauchy criterion)**  \r\nEvery Cauchy sequence of real numbers converges.\r\n\r\n**Proof**  \r\nLet \\((x_n)\\) be a Cauchy sequence of real numbers.\r\n\r\nFirst note that \\((x_n)\\) is bounded. To see this, note that by definition of Cauchy sequences, there is some \\(N \\in \\mathbb{N}\\) such that \\(|x_m - x_n| < 1\\) for all \\(m, n \\geq N\\). In particular, \\(|x_m - x_N| < 1\\) for all \\(m \\geq N\\). This means that the sequence \\((x_n)\\) is bounded below by\r\n\r\n\\[\r\na = \\min\\{x_0, x_1, \\ldots, x_{N-1}, x_N - 1\\}\r\n\\]\r\n\r\nand is bounded above by\r\n\r\n\\[\r\nb = \\max\\{x_0, x_1, \\ldots, x_{N-1}, x_N + 1\\}\r\n\\]\r\n\r\nBy the Bolzano–Weierstrass theorem (Theorem 9.2.58), the sequence \\((x_n)\\) has a convergent subsequence \\((x_{n_i})\\). Let \\(x^* = \\lim_{i \\to \\infty} (x_{n_i})\\). We prove that \\((x_n) \\to x^*\\).\r\n\r\nSo let \\(\\varepsilon > 0\\). Fix \\(M\\) sufficiently large that:\r\n\r\n- \\(|x_{n_i} - x^*| < \\frac{\\varepsilon}{3}\\) for all \\(n_i \\geq M\\); and\r\n- \\(|x_n - x_m| < \\frac{\\varepsilon}{3}\\) for all \\(m, n \\geq M\\).\r\n\r\nSuch a value of \\(M\\) exists by convergence of \\((x_{n_i})\\) and the Cauchy property of \\((x_n)\\).\r\n</markdown>",
    "Q": "Q: Given a Cauchy sequence \\((x_n)\\) of real numbers, explain how we can use a convergent subsequence to show that \\((x_n)\\) itself converges to some limit \\(x^*\\). ",
    "A": " A: We can show that \\((x_n)\\) converges to \\(x^*\\) by fixing \\(\\varepsilon > 0\\) and taking \\(M\\) such that for all subsequence terms \\(x_{n_i}\\), \\(|x_{n_i} - x^*| < \\frac{\\varepsilon}{3}\\) for \\(n_i \\geq M\\), and for all terms in the sequence \\((x_n)\\), \\(|x_n - x_m| < \\frac{\\varepsilon}{3}\\) for \\(m, n \\geq M\\). This ensures that for any term \\(x_n\\), its distance to the limit \\(x^*\\) can be made smaller than \\(\\varepsilon\\) by choosing \\(n\\) large enough, which proves convergence of \\((x_n)\\) to \\(x^*\\)."
  },
  {
    "page": 395,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.2 Completeness And Convergence",
    "content": "<markdown>\r\nFix \\( n \\geq M \\), and let \\( i \\in \\mathbb{N} \\) be arbitrary such that \\( n_i \\geq M \\). Then we have\r\n\r\n\\[\r\n|x_n - x^*| \r\n= |(x_n - x_M) + (x_M - x_{n_i}) + (x_{n_i} - x^*)| \\quad \\text{rearranging}\r\n\\]\r\n\\[\r\n\\leq |x_n - x_M| + |x_M - x_{n_i}| + |x_{n_i} - x^*| \\quad \\text{by the triangle inequality}\r\n\\]\r\n\\[\r\n< \\frac{\\varepsilon}{3} + \\frac{\\varepsilon}{3} + \\frac{\\varepsilon}{3} \\quad \\text{by the above properties}\r\n\\]\r\n\\[\r\n= \\varepsilon\r\n\\]\r\n\r\nHence \\( (x_n) \\to x^* \\), as required.\r\n\\end{markdown>",
    "Q": "Q: Given the assumptions in the scenario, what can be inferred about the sequence \\( (x_n) \\) when \\( n \\geq M \\) and \\( n_i \\geq M \\)? ",
    "A": " A: The sequence \\( (x_n) \\) converges to \\( x^* \\) as \\( n \\) approaches infinity."
  },
  {
    "page": 397,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nWe will soon see that this series **diverges** ([Theorem 9.3.27](#)), since adding these terms together one by one yields unboundedly larger and larger real numbers.\r\n\r\nSeries in isolation are not particularly useful or interesting. They become so by defining what it means to evaluate them—at least, when it is possible to do so.\r\n\r\n### Definition 9.3.3\r\n\r\nLet \\( N \\in \\mathbb{N} \\). The \\( N \\)th **partial sum** of a series \\(\\sum_{n \\geq 0} a_n\\) is the real number \\( s_N = \\sum_{n=0}^{N} a_n \\).\r\n\r\nWe say that the series **converges** if the sequence of partial sums \\((s_N)_{N \\geq 0}\\) converges; in this case, the **sum** of the series is the real number \\(\\lim_{N \\to \\infty} (s_N)\\), also written \\(\\sum_{n \\geq 0} a_n\\).\r\n\r\nIf the sequence of partial sums \\((s_N)_{N \\geq 0}\\) diverges, then we say the series **diverges**.\r\n\r\n### Example 9.3.4\r\n\r\nConsider the series\r\n\r\n\\[\r\nS = \\sum_{n \\geq 2} \\binom{n}{2}^{-1}\r\n\\]\r\n\r\nWe prove that \\( S \\) converges and its sum is 2.\r\n\r\nTo see this, note that for all \\( n \\geq 2 \\), we have by [Theorem 4.2.14](#) that\r\n\r\n\\[\r\n\\binom{n}{2}^{-1} = \\left( \\frac{n(n-1)}{2} \\right)^{-1} = \\frac{2}{n(n-1)} = \\frac{2}{n-1} - \\frac{2}{n}\r\n\\]\r\n\r\nTherefore, for all \\( N \\geq 2 \\), the \\( N \\)th partial sum of \\( S \\) is given by\r\n\r\n\\[\r\ns_N = \\sum_{n=2}^{N} \\binom{n}{2}^{-1} = \\left( \\frac{2}{1} - \\frac{2}{2} \\right) + \\left( \\frac{2}{2} - \\frac{2}{3} \\right) + \\cdots + \\left( \\frac{2}{N-1} - \\frac{2}{N} \\right) = 2 - \\frac{2}{N}\r\n\\]\r\n\r\nIt follows that \\( S = \\lim_{N \\to \\infty} (s_N) = 2 \\), as required.\r\n\r\n### Exercise 9.3.5\r\n\r\nProve that the series \\(\\sum_{n \\geq 3} \\binom{n}{3}^{-1}\\) converges, and find its sum.\r\n\r\n### Example 9.3.6\r\n\r\nWe prove that the series \\(\\sum_{n \\geq 0} 1\\) diverges. Indeed, for all \\( N \\in \\mathbb{N} \\), we have\r\n\r\n\\[\r\n\\sum_{n=0}^{N} 1 = \\underbrace{1 + 1 + \\cdots + 1}_{N+1 \\text{ times}} = N + 1\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that the series \\(\\sum_{n \\geq 1} \\frac{1}{n^2}\\) converges and find its sum. \r\n",
    "A": " \r\nA: The series converges, and its sum is \\(\\frac{\\pi^2}{6}\\)."
  },
  {
    "page": 398,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nThus the sequence of partial sums is unbounded, so does not converge to a real number.\r\n\r\n### Exercise 9.3.7\r\nProve that the series \\(\\sum_{n \\geq 0} (-1)^n\\) diverges.\r\n\r\nThe underlying reason why the series in Example 9.3.6 and Exercise 9.3.7 diverge is that their terms do not get smaller and smaller. We will prove in Theorem 9.3.22 that in order for a series to converge, its terms must tend to zero.\r\n\r\n### Theorem 9.3.8 (Sum of geometric series)\r\nLet \\(r \\in (-1, 1)\\). Then \\(\\sum_{n \\geq 0} r^n = \\frac{1}{1-r}\\).\r\n\r\n**Proof**  \r\nGiven \\(N \\in \\mathbb{N}\\), the \\(N\\)th partial sum \\(s_N\\) of the series is given by\r\n\r\n\\[\r\ns_N = \\sum_{n=0}^{N} r^n = 1 + r + r^2 + \\cdots + r^N\r\n\\]\r\n\r\nNote that\r\n\r\n\\[\r\nr s_N = \\sum_{n=0}^{N} r^{n+1} = r + r^2 + \\cdots + r^{N+1} = s_{N+1} - 1\r\n\\]\r\n\r\nand hence\r\n\r\n\\[\r\n(1-r)s_N = s_N - r s_N = s_N - (s_{N+1} - 1) = 1 - (s_{N+1} - s_N) = 1 - r^{N+1}\r\n\\]\r\n\r\nand hence dividing by \\(1-r\\), which is permissible since \\(r \\neq 1\\), yields\r\n\r\n\\[\r\ns_N = \\frac{1 - r^{N+1}}{1-r}\r\n\\]\r\n\r\nSince \\(|r| < 1\\), we have \\(r^{N+1} \\to 0\\) by Proposition 9.2.21, and so\r\n\r\n\\[\r\n\\sum_{n \\geq 0} r^n = \\lim_{N \\to \\infty} \\frac{1 - r^{N+1}}{1-r} = \\frac{1 - 0}{1-r} = \\frac{1}{1-r}\r\n\\]\r\n\r\nas claimed.\r\n\r\n### Exercise 9.3.9\r\nProve that the series \\(\\sum_{n \\geq 0} r^n\\) diverges for all \\(r \\in \\mathbb{R} \\setminus (-1, 1)\\).\r\n\r\nThe next result allows us to add two series together by adding their terms, and to multiply a series by a constant by multiplying their terms by the constant.\r\n</markdown>",
    "Q": "Q: Prove that the series \\(\\sum_{n \\geq 0} 2^n\\) diverges. ",
    "A": " A: Since \\(2 \\in \\mathbb{R} \\setminus (-1, 1)\\), the series \\(\\sum_{n \\geq 0} 2^n\\) diverges by Exercise 9.3.9."
  },
  {
    "page": 399,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Theorem 9.3.10 (Linearity of summation)\r\n\r\nLet \\(\\sum_{n \\geq 0} a_n\\) and \\(\\sum_{n \\geq 0} b_n\\) be convergent series. Then\r\n\r\n(a) The series \\(\\sum_{n \\geq 0} (a_n + b_n)\\) is convergent, and its sum is \\(\\sum_{n \\geq 0} a_n + \\sum_{n \\geq 0} b_n\\);\r\n\r\n(b) For all \\(c \\in \\mathbb{R}\\), the series \\(\\sum_{n \\geq 0} ca_n\\) is convergent, and its sum is \\(c \\sum_{n \\geq 0} a_n\\).\r\n\r\n#### Proof of (a)\r\n\r\nFor (a), note that the partial sums of \\(\\sum_{n \\geq 0} (a_n + b_n)\\) are given by\r\n\r\n\\[\r\n\\sum_{n=0}^{N} (a_n + b_n) = \\sum_{n=0}^{N} a_n + \\sum_{n=0}^{N} b_n\r\n\\]\r\n\r\nso we may apply Theorem 9.2.34(a) to obtain\r\n\r\n\\[\r\n\\sum_{n \\geq 0} (a_n + b_n)\r\n\\]\r\n\r\n\\[\r\n= \\lim_{N \\to \\infty} \\left( \\sum_{n=0}^{N} (a_n + b_n) \\right)\r\n\\]\r\n\r\n\\[\r\n= \\lim_{N \\to \\infty} \\left( \\sum_{n=0}^{N} a_n + \\sum_{n=0}^{N} b_n \\right)\r\n\\]\r\n\r\n\\[\r\n= \\lim_{N \\to \\infty} \\left( \\sum_{n=0}^{N} a_n \\right) + \\lim_{N \\to \\infty} \\left( \\sum_{n=0}^{N} b_n \\right)\r\n\\]\r\n\r\n\\[\r\n= \\sum_{n \\geq 0} a_n + \\sum_{n \\geq 0} b_n\r\n\\]\r\n\r\nas required.\r\n\r\n### Exercise 9.3.11\r\n\r\nProve part (b) of Theorem 9.3.10, and deduce that if \\(\\sum_{n \\geq 0} a_n\\) and \\(\\sum_{n \\geq 0} b_n\\) are convergent series, then \\(\\sum_{n \\geq 0} (a_n - b_n)\\) converges, and its sum is equal to \\(\\sum_{n \\geq 0} a_n - \\sum_{n \\geq 0} b_n\\).\r\n\r\n### Expansions of real numbers in number bases\r\n\r\nWe now take a brief detour away from the general theory of series to discuss an application, namely expansions of real numbers in number bases.\r\n</markdown>",
    "Q": "Q: If \\(\\sum_{n \\geq 0} a_n\\) and \\(\\sum_{n \\geq 0} b_n\\) are two convergent series, what does the theorem suggest about the convergence of the series \\(\\sum_{n \\geq 0} (a_n - b_n)\\) and its sum? ",
    "A": " A: The theorem suggests that the series \\(\\sum_{n \\geq 0} (a_n - b_n)\\) converges, and its sum is equal to \\(\\sum_{n \\geq 0} a_n - \\sum_{n \\geq 0} b_n\\)."
  },
  {
    "page": 400,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nYou are likely familiar with decimal expansions of real numbers, for example\r\n\r\n\\[\r\n\\frac{1}{2} = 0.5, \\quad \\frac{1}{7} = 0.142857142857\\ldots, \\quad \\sqrt{2} = 1.414213562373\\ldots\r\n\\]\r\n\r\nA decimal expansion is really a series in disguise. For example\r\n\r\n\\[\r\n0.142857\\ldots = 1 \\cdot \\frac{1}{10} + 4 \\cdot \\frac{1}{10^2} + 2 \\cdot \\frac{1}{10^3} + 8 \\cdot \\frac{1}{10^4} + 5 \\cdot \\frac{1}{10^5} + 7 \\cdot \\frac{1}{10^6} + \\cdots\r\n\\]\r\n\r\nThus when we write out a decimal expansion of a (non-negative, say) real number \\( x \\) as \\( x = x_0.x_1x_2x_3\\ldots \\), what we are really saying is that\r\n\r\n\\[\r\nx = x_0 + \\sum_{i \\geq 1} x_i \\cdot 10^{-i}\r\n\\]\r\n\r\nwhere \\( x_0 \\in \\mathbb{N} \\) and \\( x_i \\in \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\} \\) for all \\( i \\geq 1 \\).\r\n\r\nWe can apply this to other number bases. For example, the binary (base-2) expansion of \\( \\frac{1}{2} \\) is 0.1 since \\( \\frac{1}{2} = 1 \\cdot 2^{-1} \\), and the binary expansion of \\( \\frac{1}{3} \\) is 0.010101\\ldots since\r\n\r\n\\[\r\n0.010101\\ldots (2) = \\sum_{n \\geq 1} \\frac{1}{2^{2n}} = \\frac{1}{4} \\sum_{k \\geq 0} \\frac{1}{4^k} = \\frac{1}{4} \\cdot \\frac{1}{1 - \\frac{1}{4}} = \\frac{1}{3}\r\n\\]\r\n\r\nOur goal is to give a precise definition of the base-\\( b \\) expansion of a real number for an arbitrary number base \\( b > 1 \\).\r\n\r\nIn order to do this, we must prove that they are well-defined—that is, every real number has a unique base-\\( b \\) expansion. But wait! It’s not true! Expansions are not quite unique—for example, we have\r\n\r\n\\[\r\n0.999\\ldots = \\sum_{i \\geq 1} 9 \\cdot 10^{-i} = \\frac{9}{10} \\sum_{k \\geq 0} \\frac{1}{10^k} = \\frac{9}{10} \\cdot \\frac{1}{1 - \\frac{1}{10}} = 1 = 1.000\\ldots\r\n\\]\r\n\r\nConveniently, the only problem with uniqueness occurs with recurring 0s and recurring 9s: every number that has a decimal expansion with recurring 9s also has one with recurring 0s. More generally, in a base \\( b > 0 \\), recurring ‘\\( b - 1 \\)’s may be replaced by recurring 0s.\r\n\r\nWe are now ready to proceed.\r\n</markdown>",
    "Q": "Q: Can the representation of the number \\( \\frac{1}{3} \\) in base \\( b = 4 \\) be expressed in a similar repeating decimal form, and if so, what is that representation? ",
    "A": " A: Yes, the representation of \\( \\frac{1}{3} \\) in base \\( b = 4 \\) can be expressed as \\( 0.1\\overline{01}_4 \\), where \\( 0.101010\\ldots_4 = \\frac{1}{3} \\)."
  },
  {
    "page": 401,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Theorem 9.3.12\r\n\r\nLet \\( b \\in \\mathbb{N} \\) with \\( b > 1 \\). For all \\( x \\in [0, \\infty) \\), there is a unique series \\( \\sum_{i \\geq 0} \\frac{x_i}{b^i} \\) such that:\r\n\r\n(i) \\( x_0 \\in \\mathbb{N} \\), and \\( x_i \\in \\{0, 1, \\ldots, b - 1\\} \\) for all \\( i \\geq 1 \\);\r\n\r\n(ii) The series \\( \\sum_{i \\geq 0} \\frac{x_i}{b^i} \\) converges, and its sum is equal to \\( x \\); and\r\n\r\n(iii) The sequence \\( (x_i) \\) is not eventually equal to \\( b - 1 \\).\r\n\r\n#### Proof of existence\r\n\r\nFix \\( x \\geq 0 \\). Define integers \\( x_i \\) and real numbers \\( y_i \\in [0, 1) \\) for \\( i \\in \\mathbb{N} \\) recursively as follows:\r\n\r\n- Let \\( x_0 \\in \\mathbb{N} \\) be such that \\( x_0 \\leq x < x_0 + 1 \\), and let \\( y_0 = x - x_0 \\)—note that \\( 0 \\leq y_0 < 1 \\), as required.\r\n\r\n- Given \\( i \\in \\mathbb{N} \\), let \\( x_{i+1} \\in \\mathbb{Z} \\) such that \\( x_{i+1} \\leq by_i < x_{i+1} + 1 \\), and let \\( y_{i+1} = by_i - x_{i+1} \\)—note \\( 0 \\leq y_{i+1} < 1 \\) as required.\r\n\r\nFor all \\( n \\in \\mathbb{N} \\) we have\r\n\r\n\\[\r\nx - \\sum_{i=0}^{n} \\frac{x_i}{b^i} = \\frac{y_n}{b^n}\r\n\\]\r\n\r\nWe can prove this by induction:\r\n\r\n- **(Base case)** We have \\( x - \\frac{x_0}{b^0} = x - x_0 = y_0 \\) by construction.\r\n\r\n- **(Induction step)** Fix \\( n \\geq 0 \\) and suppose that \\( x - \\sum_{i=0}^{n} \\frac{x_i}{b^i} = \\frac{y_n}{b^n} \\). Then\r\n\r\n\\[\r\nx - \\sum_{i=0}^{n+1} \\frac{x_i}{b^i} = \\frac{y_n}{b^n} - \\frac{x_{n+1}}{b^{n+1}} = \\frac{by_n - x_{n+1}}{b^{n+1}} = \\frac{y_{n+1}}{b^{n+1}}\r\n\\]\r\n\r\nas required.\r\n\r\nWe now verify the conditions in the statement of the theorem.\r\n\r\n- Condition (i) is satisfied by construction of the sequence \\( (x_i) \\); indeed, we defined \\( x_i \\) to be integers for all \\( i \\in \\mathbb{N} \\), and if \\( i \\geq 1 \\) then the fact that \\( x_i \\in \\{0, 1, \\ldots, b - 1\\} \\) follows from the facts that \\( x_i \\leq by_{i-1} < x_i + 1 \\) and \\( y_i \\in [0, 1) \\).\r\n\r\n- To see that (ii) holds, note that for all \\( n \\in \\mathbb{N} \\) we have\r\n\r\n\\[\r\n0 \\leq x - \\sum_{i=0}^{n} \\frac{x_i}{b^i} = \\frac{y_n}{b^n} < \\frac{1}{b^n}\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the significance of the recursive definition of the integers \\( x_i \\) in the context of the series \\( \\sum_{i \\geq 0} \\frac{x_i}{b^i} \\)? ",
    "A": " A: The recursive definition ensures that each \\( x_i \\) is bounded by the product of the previous remainder \\( y_i \\) and the base \\( b \\), satisfying the conditions that \\( x_i \\in \\{0, 1, \\ldots, b - 1\\} \\) for all \\( i \\geq 1 \\) and guaranteeing the convergence of the series to the value \\( x \\)."
  },
  {
    "page": 402,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nBut \\( \\left( \\frac{1}{b^n} \\right) \\to 0 \\) by Proposition 9.2.21, and so \\( \\sum_{i=0}^{n} \\frac{x_i}{b^i} \\) converges to \\( x \\).\r\n\r\n- To prove (iii), suppose there is some \\( n \\in \\mathbb{N} \\) such that \\( x_i = b - 1 \\) for all \\( i > n \\). Then\r\n\r\n\\[\r\ny_n = b^n \\left( x - \\sum_{i=0}^{n} \\frac{x_i}{b^i} \\right)\r\n\\]\r\n\r\nas we proved above\r\n\r\n\\[\r\n= b^n \\left( \\sum_{i=0}^{\\infty} \\frac{x_i}{b^i} - \\sum_{i=0}^{n} \\frac{x_i}{b^i} \\right)\r\n\\]\r\n\r\nby condition (ii)\r\n\r\n\\[\r\n= b^n \\sum_{i=n+1}^{\\infty} \\frac{x_i}{b^i}\r\n\\]\r\n\r\nsimplifying\r\n\r\n\\[\r\n= b^n \\sum_{i=n+1}^{\\infty} \\frac{b-1}{b^i}\r\n\\]\r\n\r\nsince \\( x_i = b - 1 \\) for all \\( i > n \\)\r\n\r\n\\[\r\n= b^n \\sum_{j=0}^{\\infty} \\frac{b-1}{b^{j+n+1}}\r\n\\]\r\n\r\nsubstituting \\( j = i - n - 1 \\)\r\n\r\n\\[\r\n= b^n \\cdot \\frac{b-1}{b^{n+1}} \\sum_{j=0}^{\\infty} \\frac{1}{b^j}\r\n\\]\r\n\r\nrearranging\r\n\r\n\\[\r\n= b^n \\cdot \\frac{b-1}{b^{n+1}} \\cdot \\frac{1}{1 - \\frac{1}{b}}\r\n\\]\r\n\r\nby Theorem 9.3.8\r\n\r\n\\[\r\n= 1\r\n\\]\r\n\r\nsimplifying\r\n\r\nBut this contradicts the fact that \\( y_n \\in [0, 1) \\). So we do indeed have that \\( (x_i) \\) is not eventually equal to \\( b - 1 \\).\r\n\r\nThis completes the proof of existence. □\r\n\r\n**Exercise 9.3.13**  \r\nProve the ‘uniqueness’ part of Theorem 9.3.12—that is, prove that for all \\( x \\in [0, \\infty) \\), if\r\n\r\n\\[\r\n\\sum_{i \\geq 0} \\frac{u_i}{b^i} \\quad \\text{and} \\quad \\sum_{i \\geq 0} \\frac{v_i}{b^i}\r\n\\]\r\n\r\nare two series satisfying conditions (i)–(iii) of Theorem 9.3.12, then \\( u_i = v_i \\) for all \\( i \\in \\mathbb{N} \\).\r\n\r\nTheorem 9.3.12 justifies the following definition.\r\n</markdown>",
    "Q": "Q: Given two series \\( \\sum_{i \\geq 0} \\frac{u_i}{b^i} \\) and \\( \\sum_{i \\geq 0} \\frac{v_i}{b^i} \\) that satisfy the conditions of Theorem 9.3.12, what must be true for the sequences \\( (u_i) \\) and \\( (v_i) \\) if both series converge to the same limit? ",
    "A": " A: If both series converge to the same limit, then it must be true that \\( u_i = v_i \\) for all \\( i \\in \\mathbb{N} \\)."
  },
  {
    "page": 403,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Definition 9.3.14\r\n\r\nLet \\( b > 1 \\). The **base-\\( b \\) expansion** of a real number \\( x \\) is the unique signed series \\( \\pm \\sum_{i \\geq 0} \\frac{x_i}{b^i} \\) such that:\r\n\r\n(i) \\( x_0 \\in \\mathbb{N} \\), and \\( x_i \\in \\{0, 1, \\ldots, b - 1\\} \\) for all \\( i \\geq 1 \\);\r\n\r\n(ii) The series \\( \\sum_{i \\geq 0} \\frac{x_i}{b^i} \\) converges, and its sum is equal to \\( |x| \\); and\r\n\r\n(iii) The sequence \\( (x_i) \\) is not eventually equal to \\( b - 1 \\).\r\n\r\nTo denote the fact that this is the base-\\( b \\) expansion of \\( x \\), we may also write\r\n\r\n\\[\r\nx = \\pm x_0 . x_1 x_2 x_3 \\cdots \\, (b) \\quad \\text{or} \\quad x = \\pm d_r d_{r-1} \\ldots d_1 d_0 . x_1 x_2 \\cdots \\, (b)\r\n\\]\r\n\r\nwhere \\( d_r d_{r-1} \\ldots d_1 d_0 \\) is the base-\\( b \\) expansion of \\( |x_0| \\) (as in Definition 0.6), and \\( \\pm \\) is the sign of \\( x \\) (positive or negative).\r\n\r\nThe recursive definition of the sequence \\( (x_i) \\) in the proof of Theorem 9.3.12 yields an algorithm for computing base-\\( b \\) expansions.\r\n\r\n### Strategy 9.3.15 (Finding base-\\( b \\) expansions of real numbers)\r\n\r\nIn order to find the base-\\( b \\) expansion of a real number \\( x \\):\r\n\r\n- Let \\( x_0 \\in \\mathbb{N} \\) be such that \\( x_0 \\leq |x| < x_0 + 1 \\), and define \\( y_0 = |x| - x_0 \\).\r\n\r\n- For \\( n \\in \\mathbb{N} \\), given \\( x_n \\) and \\( y_n \\), let \\( x_{n+1} \\in \\mathbb{N} \\) be such that \\( x_{n+1} \\leq by_n < x_{n+1} + 1 \\), and let \\( y_{n+1} = by_n - x_{n+1} \\). [Note that the value of \\( x_{n+1} \\) depends only on the value of \\( y_n \\), not on \\( x_n \\).]\r\n\r\nThen \\( x = \\pm x_0 . x_1 x_2 x_3 \\cdots \\, (b) \\), where \\( \\pm \\) is \\( '+' \\) if \\( x \\geq 0 \\), and \\( '-' \\) if \\( x < 0 \\).\r\n\r\n### Example 9.3.16\r\n\r\nLet's find the decimal expansion of \\( \\frac{1}{3} \\).\r\n\r\n- \\( 0 \\leq \\frac{1}{3} < 1 \\), so \\( x_0 = 0 \\) and \\( y_0 = \\frac{1}{3} - 0 = \\frac{1}{3} \\).\r\n\r\n- \\( 3 \\leq 10 \\cdot \\frac{1}{3} < 4 \\), so \\( x_1 = 3 \\) and \\( y_1 = \\frac{10}{3} - 3 = \\frac{1}{3} \\).\r\n\r\n- \\( 3 \\leq 10 \\cdot \\frac{1}{3} < 4 \\), so \\( x_2 = 3 \\) and \\( y_2 = \\frac{10}{3} - 3 = \\frac{1}{3} \\).\r\n\r\n- \\(\\ldots\\) evidently, this pattern repeats. (In fact, this can be proved by induction!)\r\n\r\nSo \\( \\frac{1}{3} = 0.33333\\ldots \\).\r\n</markdown>",
    "Q": "Q: How would you compute the base-5 expansion of the real number \\( x = 1.2 \\)? ",
    "A": " A: Following the steps of Strategy 9.3.15, we start with \\( x_0 = 1 \\) (since \\( 1 \\leq 1.2 < 2 \\)), giving \\( y_0 = 1.2 - 1 = 0.2 \\). Next, we find \\( x_1 \\): \\( 0 \\leq 5 \\cdot 0.2 < 1 \\Rightarrow x_1 = 1 \\) (since \\( 1 \\leq 1 < 2 \\)), so \\( y_1 = 5 \\cdot 0.2 - 1 = 0.0 \\). Therefore, the base-5 expansion is \\( 1.1 \\, (5) \\)."
  },
  {
    "page": 404,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Example 9.3.17\r\n\r\nNow let’s find the decimal expansion of \\( \\frac{1}{7} \\).\r\n\r\n- \\( 0 \\leq \\frac{1}{7} < 1 \\), so \\( x_0 = 0 \\) and \\( y_0 = \\frac{1}{7} - 0 = \\frac{1}{7} \\).\r\n\r\n- \\( 1 \\leq 10 \\cdot \\frac{1}{7} < 2 \\), so \\( x_1 = 1 \\) and \\( y_1 = \\frac{10}{7} - 1 = \\frac{3}{7} \\).\r\n\r\n- \\( 4 \\leq 10 \\cdot \\frac{3}{7} < 5 \\), so \\( x_2 = 4 \\) and \\( y_2 = \\frac{30}{7} - 4 = \\frac{2}{7} \\).\r\n\r\n- \\( 2 \\leq 10 \\cdot \\frac{2}{7} < 3 \\), so \\( x_3 = 2 \\) and \\( y_3 = \\frac{20}{7} - 2 = \\frac{6}{7} \\).\r\n\r\n- \\( 8 \\leq 10 \\cdot \\frac{6}{7} < 9 \\), so \\( x_4 = 8 \\) and \\( y_4 = \\frac{60}{7} - 8 = \\frac{4}{7} \\).\r\n\r\n- \\( 5 \\leq 10 \\cdot \\frac{4}{7} < 6 \\), so \\( x_5 = 5 \\) and \\( y_5 = \\frac{40}{7} - 5 = \\frac{5}{7} \\).\r\n\r\n- \\( 7 \\leq 10 \\cdot \\frac{5}{7} < 8 \\), so \\( x_6 = 7 \\) and \\( y_6 = \\frac{50}{7} - 7 = \\frac{1}{7} \\).\r\n\r\n- ...and now it repeats with the same pattern, since \\( y_6 = y_0 \\).\r\n\r\nSo \\( \\frac{1}{7} = 0.142857142857 \\ldots \\).\r\n\r\n### Exercise 9.3.18\r\n\r\nUse Strategy 9.3.15 to find the decimal expansion of \\( \\frac{1}{6} \\).\r\n\r\n### Exercise 9.3.19\r\n\r\nUse Strategy 9.3.15 to find the **binary** expansion of \\( \\frac{1}{7} \\).\r\n\r\n### Exercise 9.3.20\r\n\r\nProve that between any two distinct real numbers, there is a rational number.\r\n\r\nWe will use expansions of real numbers in Chapter 10 to prove that the set of real numbers is **uncountably infinite**—that is, even though the sets \\( \\mathbb{N} \\) of natural numbers and \\( \\mathbb{R} \\) of real numbers are both infinite, the size of the infinitude of \\( \\mathbb{R} \\) is greater than that of \\( \\mathbb{N} \\).\r\n\r\nNow let’s return to learning about series in the abstract.\r\n\r\n### Tests for convergence and divergence\r\n\r\nSometimes all we need to know about a series is whether it converges or diverges. In such cases, it can be very tricky to find an exact value for the sum of the series. We now develop some techniques for determining whether or not a series converges.\r\n</markdown>",
    "Q": "Q: What is the decimal expansion of \\( \\frac{1}{6} \\) using the same method as finding the decimal expansion of \\( \\frac{1}{7} \\)? ",
    "A": " A: The decimal expansion of \\( \\frac{1}{6} \\) is \\( 0.166666\\ldots \\) or \\( 0.1\\overline{6} \\)."
  },
  {
    "page": 405,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Theorem 9.3.21 (Cauchy’s convergence test)\r\nA series \\(\\sum_{n \\geq 0} a_n\\) converges if and only if, for all \\(\\varepsilon > 0\\), there is some \\(K \\in \\mathbb{N}\\) such that\r\n\r\n\\[\r\n\\left| \\sum_{n=n_0}^{n_1} a_n \\right| < \\varepsilon \\text{ for all } n_1 \\geq n_0 \\geq K\r\n\\]\r\n\r\n**Proof**\r\n\r\nLet \\((s_N)_{N \\geq 0}\\) be the sequence of partial sums of the series. By Theorem 9.2.62, we know that \\(\\sum_{n \\geq 0} a_n\\) is convergent if and only if \\((s_N)_{N \\geq 0}\\) is a Cauchy sequence.\r\n\r\nBut the assertion that \\((s_N)_{N \\geq 0}\\) is Cauchy is equivalent to the condition in the statement of this theorem: note that we may replace \\(K\\) by any larger value (in particular, we may assume \\(K \\geq 1\\), and so\r\n\r\n\\[\r\n\\sum_{n=n_0}^{n_1} a_n = s_{n_1} - s_{n_0-1}\r\n\\]\r\n\r\nas required.\r\n\r\nWe will use Cauchy’s convergence test frequently in our proofs. One example of how Cauchy’s convergence test can be put to work is the term test, which is very useful for proving that a series diverges—in fact, it instantly implies that the series in Example 9.3.6 and Exercise 9.3.7 diverge.\r\n\r\n### Theorem 9.3.22 (Term test)\r\nLet \\(S = \\sum_{n \\geq 0} a_n\\) be a series. If \\(S\\) converges, then \\((a_n) \\to 0\\).\r\n\r\n**Proof**\r\n\r\nFix \\(\\varepsilon > 0\\). Since \\(S\\) converges, by Cauchy’s convergence test (Theorem 9.3.21) there exists \\(K \\in \\mathbb{N}\\) such that\r\n\r\n\\[\r\n\\left| \\sum_{n=n_0}^{n_1} a_n \\right| < \\varepsilon \\text{ for all } n_1 \\geq n_0 \\geq K.\r\n\\]\r\n\r\nBut then for all \\(k \\geq N\\) we have \\(k + 1 \\geq k \\geq K\\), and so\r\n\r\n\\[\r\n|a_k| = \\left| \\sum_{n=k}^{k+1} a_n \\right| < \\varepsilon\r\n\\]\r\n\r\nso that \\((a_k) \\to 0\\), as required.\r\n\r\n### Example 9.3.23\r\nThe series \\(\\sum_{n \\geq 0} n\\) diverges since the sequence \\((n)\\) does not tend to zero.\r\n</markdown>",
    "Q": "Q: Apply Cauchy’s convergence test to the series \\(\\sum_{n=1}^{\\infty} \\frac{1}{n^2}\\). Show that this series converges by checking the conditions of the test. ",
    "A": " A: To apply Cauchy’s convergence test, we take \\(\\varepsilon > 0\\). We need to show there exists \\(K \\in \\mathbb{N}\\) such that \r\n\r\n\\[\r\n\\left| \\sum_{n=n_0}^{n_1} \\frac{1}{n^2} \\right| < \\varepsilon \\text{ for all } n_1 \\geq n_0 \\geq K.\r\n\\]\r\n\r\nUsing the integral test, we find that \r\n\r\n\\[\r\n\\sum_{n=n_0}^{n_1} \\frac{1}{n^2} \\leq \\int_{n_0}^{n_1} \\frac{1}{x^2} \\, dx = \\left[-\\frac{1}{x}\\right]_{n_0}^{n_1} = \\frac{1}{n_0} - \\frac{1}{n_1}.\r\n\\]\r\n\r\nFor sufficiently large \\(K\\), specifically for \\(n_0, n_1 \\geq K\\), it holds that \\(\\frac{1}{n_0} < \\frac{\\varepsilon}{2}\\) and \\(\\frac{1}{n_1} < \\frac{\\varepsilon}{2}\\). Therefore,\r\n\r\n\\[\r\n\\left| \\sum_{n=n_0}^{n_1} \\frac{1}{n^2} \\right| < \\varepsilon,\r\n\\]\r\n\r\nconfirming that the series converges by Cauchy’s convergence test."
  },
  {
    "page": 406,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Exercise 9.3.24\r\n\r\nLet \\( a \\in \\mathbb{R} \\). Prove that the series \\(\\sum_{n \\geq 0} a\\) converges if and only if \\( a = 0 \\).\r\n\r\n### Theorem 9.3.25 (Comparison test)\r\n\r\nLet \\(\\sum_{n \\geq 0} a_n\\) and \\(\\sum_{n \\geq 0} b_n\\) be series.\r\n\r\n(a) If \\(\\sum_{n \\geq 0} a_n\\) converges and eventually \\(0 \\leq b_n \\leq a_n\\), then \\(\\sum_{n \\geq 0} b_n\\) converges; and\r\n\r\n(b) If \\(\\sum_{n \\geq 0} a_n\\) diverges and eventually \\(0 < a_n \\leq b_n\\), then \\(\\sum_{n \\geq 0} b_n\\) diverges.\r\n\r\n**Proof of (a)**\r\n\r\nSuppose \\(\\sum_{n \\geq 0} a_n\\) converges and its sum is equal to \\(A\\). Let \\(N \\in \\mathbb{N}\\) be sufficiently large that \\(0 \\leq b_n \\leq a_n\\) for all \\(n \\geq N\\).\r\n\r\nFor all \\(L \\geq K \\geq N\\) we have\r\n\r\n\\[\r\n\\sum_{n=0}^{L} b_n = \\sum_{n=0}^{K} b_n + \\underbrace{\\sum_{n=K+1}^{L} b_n}_{\\geq 0} \\geq \\sum_{n=0}^{K} b_n\r\n\\]\r\n\r\nand so the sequence of partial sums of \\(\\sum_{n \\geq 0} b_n\\) is eventually increasing.\r\n\r\nAlso for all \\(M \\geq N\\) we have\r\n\r\n\\[\r\n\\sum_{n=0}^{M} b_n = \\sum_{n=0}^{N} b_n + \\sum_{n=N+1}^{M} b_n \\leq \\sum_{n=0}^{N} b_n + \\sum_{n=N+1}^{M} a_n = \\sum_{n=0}^{N} (b_n - a_n) + \\sum_{n \\geq 0} a_n\r\n\\]\r\n\r\nMoreover \\(a_n \\geq 0\\) for all \\(n > M\\), and so we have\r\n\r\n\\[\r\n\\sum_{n=0}^{M} b_n \\leq \\sum_{n=0}^{N} (b_n - a_n) + \\sum_{n \\geq 0} a_n\r\n\\]\r\n\r\nThus the sequence of partial sums of \\(\\sum_{n \\geq 0} b_n\\) is eventually bounded above.\r\n\r\nBy the monotone convergence theorem (Theorem 9.2.48), the sequence of partial sums of \\(\\sum_{n \\geq 0} b_n\\) converges, hence so does the series.\r\n</markdown>",
    "Q": "Q: What can you conclude about the convergence of the series \\(\\sum_{n \\geq 0} b_n\\) if it is given that \\(\\sum_{n \\geq 0} a_n\\) converges and \\(b_n = \\frac{1}{n^2}\\) for \\(n \\geq 1\\) assuming \\(a_n = \\frac{1}{n}\\) for \\(n \\geq 1\\)? ",
    "A": " A: Since \\(\\sum_{n \\geq 1} a_n\\) diverges (as it is the harmonic series) and \\(0 < a_n \\leq b_n\\) (as \\(b_n \\geq 0\\) and converges), by the comparison test, we conclude that \\(\\sum_{n \\geq 0} b_n\\) diverges."
  },
  {
    "page": 407,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Exercise 9.3.26\r\nProve part (b) of [Theorem 9.3.25](#).\r\n\r\nThe next result is a nice example of an indirect use of the term test ([Theorem 9.3.22](#)): although the terms in the series \\(\\sum_{n \\geq 1} \\frac{1}{n}\\) converge to zero, we can manipulate it to bound it below by a series whose terms are unbounded.\r\n\r\n### Theorem 9.3.27 (Divergence of the harmonic series)\r\nThe series \\(\\sum_{n \\geq 1} \\frac{1}{n}\\) diverges.\r\n\r\n**Proof**  \r\nBy rounding up denominators to the next power of 2, we get\r\n\r\n\\[\r\n\\frac{1}{1} + \\frac{1}{2} + \\frac{1}{3} + \\frac{1}{4} + \\frac{1}{5} + \\frac{1}{6} + \\frac{1}{7} + \\frac{1}{8} + \\cdots \\geq \\frac{1}{1} + \\frac{1}{2} + \\frac{1}{4} + \\frac{1}{4} + \\frac{1}{8} + \\frac{1}{8} + \\frac{1}{8} + \\frac{1}{8} + \\cdots\r\n\\]\r\n\r\nThis diverges since we’re adding \\(\\frac{1}{2}\\) infinitely many times.\r\n\r\nMore precisely, define a sequence \\((a_n)_{n \\geq 1}\\) by letting \\(a_n = \\frac{1}{2^k}\\) for the least \\(k \\in \\mathbb{N}\\) with \\(\\frac{1}{2^k} \\leq \\frac{1}{n}\\). Then \\(0 \\leq a_n \\leq \\frac{1}{n}\\) for each \\(n \\in \\mathbb{N}\\).\r\n\r\nNow note that\r\n\r\n\\[\r\n\\sum_{n \\geq 1} a_n = 1 + \\sum_{k \\geq 0} \\sum_{n = 2^k}^{2^{k+1} - 1} \\frac{1}{2^{k+1}} = 1 + \\sum_{k \\geq 0} (2^{k+1} - 2^k) \\cdot \\frac{1}{2^{k+1}} = 1 + \\sum_{k \\geq 0} \\frac{1}{2}\r\n\\]\r\n\r\nwhich diverges by the term test since \\(\\left(\\frac{1}{2}\\right) \\not\\to 0\\).\r\n\r\nThus \\(\\sum_{r \\geq 0} \\frac{1}{r}\\) diverges by the comparison test.\r\n\r\n### Exercise 9.3.28\r\nProve that \\(\\sum_{n \\geq 1} n^{-r}\\) diverges for all real \\(r > 1\\).\r\n\r\n### Theorem 9.3.29 (Alternating series test)\r\nLet \\((a_n)\\) be a sequence such that \\((a_n) \\to 0\\) and \\(a_n \\geq 0\\) for all \\(n \\in \\mathbb{N}\\). If \\((a_n)\\) is decreasing—that is, if \\(a_m \\geq a_n\\) for all \\(m, n \\in \\mathbb{N}\\) with \\(m \\leq n\\)—then the series \\(\\sum_{n \\geq 0} (-1)^n a_n\\) converges.\r\n</markdown>",
    "Q": "Q: For which values of \\(r\\) does the series \\(\\sum_{n \\geq 1} n^{-r}\\) converge, and why? ",
    "A": " A: The series \\(\\sum_{n \\geq 1} n^{-r}\\) converges for all real \\(r > 1\\) because the terms \\(n^{-r}\\) decrease to zero, and can be compared to the integral \\(\\int_1^\\infty x^{-r} \\, dx\\), which converges for \\(r > 1\\)."
  },
  {
    "page": 408,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nProof\r\n\r\nDefine sequences \\((e_N)\\) and \\((o_N)\\) by \\(e_N = s_{2N}\\) and \\(o_N = s_{2N+1}\\) for all \\(n \\in \\mathbb{N}\\). That is, \\((e_N)\\) is the sequence of even partial sums, and \\((o_N)\\) is the sequence of odd partial sums.\r\n\r\nThen for all \\(N \\in \\mathbb{N}\\), we have\r\n\r\n\\[\r\ne_{N+1} = s_{2N+2} = s_{2N} - a_{2N+1} + a_{2N+2} = e_N - \\underbrace{(a_{2N+1} - a_{2N+2})}_{\\geq 0} \\leq e_N\r\n\\]\r\n\r\nso that \\((e_N)\\) is a decreasing sequence, and\r\n\r\n\\[\r\ne_N = a_0 - a_1 + \\sum_{k=1}^{N-1} \\underbrace{(a_{2k} - a_{2k+1})}_{\\geq 0} + \\underbrace{a_{2N}}_{\\geq 0} \\geq a_0 - a_1\r\n\\]\r\n\r\nso that \\((e_N)\\) is bounded below. By the monotone convergence theorem (Theorem 9.2.48), the sequence \\((e_N)\\) converges.\r\n\r\nLikewise, for all \\(N \\in \\mathbb{N}\\), we have\r\n\r\n\\[\r\no_{N+1} = s_{2N+3} = s_{2N+1} + a_{2N+2} - a_{2N+1} = o_N + \\underbrace{(a_{2N+2} - a_{2N+1})}_{\\geq 0} \\geq o_N\r\n\\]\r\n\r\nso that \\((o_N)\\) is an increasing sequence, and\r\n\r\n\\[\r\no_N = a_0 + \\sum_{k=0}^{N} \\underbrace{(a_{2k+2} - a_{2k+1})}_{\\leq 0} - \\underbrace{a_{2N+2}}_{\\geq 0} \\leq a_0\r\n\\]\r\n\r\nso that \\((o_N)\\) is bounded above. By the monotone convergence theorem again, the sequence \\((o_N)\\) converges.\r\n\r\nMoreover for all \\(N \\in \\mathbb{N}\\) we have\r\n\r\n\\[\r\no_N - e_N = a_{2N+1} \\geq 0 \\quad \\text{and} \\quad e_{N+1} - o_N = a_{2N+2} \\geq 0\r\n\\]\r\n\r\nso that \\(e_N \\leq o_N \\leq e_{N+1}\\) for all \\(N \\in \\mathbb{N}\\).\r\n\r\nBut then by the squeeze theorem (Theorem 9.2.38), \\((e_N)\\) and \\((o_N)\\) converge to the same limit \\(A \\in \\mathbb{R}\\).\r\n\r\nFinally, let \\(\\varepsilon > 0\\) and let \\(K \\in \\mathbb{N}\\) be sufficiently large that \\(|e_M - A| < \\varepsilon\\) and \\(|o_M - A| < \\varepsilon\\) for all \\(M \\geq K\\). Then given \\(N \\geq 2K\\), if \\(N\\) is even then\r\n\r\n\\[\r\n|s_N - A| = |e_{\\frac{N}{2}} - A| < \\varepsilon\r\n\\]\r\n\r\nand if \\(N\\) is odd then\r\n\r\n\\[\r\n|s_N - A| = |o_{\\frac{N-1}{2}} - A| < \\varepsilon\r\n\\]\r\n\r\nas required. So \\((s_N) \\to A\\), and so the series converges.\r\n</markdown>",
    "Q": "Q: If the sequences \\((e_N)\\) and \\((o_N)\\) converge to the same limit \\(A\\), what can be concluded about the original sequence of partial sums \\((s_N)\\)?  \r\n",
    "A": "  \r\nA: The original sequence of partial sums \\((s_N)\\) also converges to \\(A\\)."
  },
  {
    "page": 409,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Example 9.3.30\r\n\r\nThe sequence \\( \\left( \\frac{1}{n} \\right) \\) is positive and decreasing, so the series\r\n\r\n\\[\r\n\\sum_{n \\geq 1} \\frac{(-1)^n}{n} = -1 + \\frac{1}{2} - \\frac{1}{3} + \\frac{1}{4} - \\frac{1}{5} + \\cdots\r\n\\]\r\n\r\nconverges.\r\n\r\n### Exercise 9.3.31\r\n\r\nProve that if \\( (a_n) \\) is a sequence such that \\( (a_n) \\to 0 \\) and \\( a_n \\leq 0 \\) for all \\( n \\in \\mathbb{N} \\). Prove that if \\( (a_n) \\) is an increasing sequence, then the series \\( \\sum_{n \\geq 0} (-1)^n a_n \\) converges.\r\n\r\n### Exercise 9.3.32\r\n\r\nFind a decreasing sequence \\( (a_n) \\) of non-negative real numbers such that \\( \\sum_{n \\geq 0} (-1)^n a_n \\) diverges.\r\n\r\n## Absolute convergence\r\n\r\n#### Definition 9.3.33\r\n\r\nA series \\( \\sum_{n \\geq 0} a_n \\) converges absolutely if the series \\( \\sum_{n \\geq 0} |a_n| \\) converges.\r\n\r\n### Example 9.3.34\r\n\r\nFor all \\( r \\in (-1, 1) \\), the geometric series \\( \\sum_{n \\geq 0} r^n \\) converges absolutely. Indeed, for all \\( r \\in (-1, 1) \\) we have \\( |r| \\in (-1, 1) \\) as well, and so \\( \\sum_{n \\geq 0} |r|^n \\) converges by Theorem 9.3.8.\r\n\r\n### Example 9.3.35\r\n\r\nLet \\( \\sum_{n \\geq 0} a_n \\) be a convergent series.\r\n\r\nIf \\( a_n \\geq 0 \\) for all \\( n \\in \\mathbb{N} \\), then the series absolutely, since \\( |a_n| = a_n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\nLikewise, if \\( a_n \\leq 0 \\) for all \\( n \\in \\mathbb{N} \\), then\r\n\r\n\\[\r\n\\sum_{n \\geq 0} |a_n| = \\sum_{n \\geq 0} (-a_n) = - \\sum_{n \\geq 0} a_n\r\n\\]\r\n\r\nby linearity of summation, and so again the series converges absolutely.\r\n\r\n### Exercise 9.3.36\r\n\r\nFind a series that converges, but does not converge absolutely.\r\n\r\n### Exercise 9.3.37\r\n\r\nProve Theorem 9.3.10 with ‘convergent’ replaced by ‘absolutely convergent’ throughout.\r\n</markdown>",
    "Q": "Q: Show that the series \\( \\sum_{n=1}^{\\infty} \\frac{(-1)^{n-1}}{n^2} \\) converges absolutely, and explain your reasoning. ",
    "A": " A: The series converges absolutely because \\( \\sum_{n=1}^{\\infty} \\left| \\frac{(-1)^{n-1}}{n^2} \\right| = \\sum_{n=1}^{\\infty} \\frac{1}{n^2} \\) converges, as it is a \\( p \\)-series with \\( p = 2 > 1 \\). Therefore, the series converges absolutely."
  },
  {
    "page": 410,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nAbsolutely convergent series enjoy some properties that are not enjoyed by series that converge but not absolutely—for example, they do not depend on what order you choose to add up their terms. We will prove this in [Theorem 9.3.42](#).\r\n\r\nThe **ratio test** is useful for proving that a series converges absolutely.\r\n\r\n### Theorem 9.3.38 (Ratio test)\r\n\r\nLet \\((a_n)\\) be a sequence of real numbers, and suppose that\r\n\r\n\\[\r\n\\left| \\frac{a_{n+1}}{a_n} \\right| \\to \\ell \\geq 0.\r\n\\]\r\n\r\n(a) If \\(\\ell < 1\\), then \\(\\sum_{n \\geq 0} a_n\\) converges absolutely.\r\n\r\n(b) If \\(\\ell > 1\\), then \\(\\sum_{n \\geq 0} a_n\\) diverges.\r\n\r\n**Proof of (a)**\r\n\r\nAssume \\(\\ell < 1\\), and pick \\(\\varepsilon\\) with \\(0 < \\varepsilon < 1 - \\ell\\). Define \\(r = \\ell + \\varepsilon\\) and note that \\(0 < r < 1\\).\r\n\r\nSince\r\n\r\n\\[\r\n\\left| \\frac{a_{n+1}}{a_n} \\right| \\to \\ell,\r\n\\]\r\n\r\nthere exists \\(N \\in \\mathbb{N}\\) such that\r\n\r\n\\[\r\n\\left| \\frac{a_{n+1}}{a_n} - \\ell \\right| < \\varepsilon \\quad \\text{for all } n \\geq N.\r\n\\]\r\n\r\nBut then\r\n\r\n\\[\r\n0 \\leq \\left| \\frac{a_{n+1}}{a_n} \\right| < \\ell + \\varepsilon = r.\r\n\\]\r\n\r\nNote that for all \\(n \\geq N\\) we have\r\n\r\n\\[\r\n|a_n| = |a_N| \\times \\left| \\frac{a_{N+1}}{a_N} \\right| \\times \\cdots \\times \\left| \\frac{a_n}{a_{n-1}} \\right| < |a_N| r^{n-N}.\r\n\\]\r\n\r\nThe series \\(\\sum_{n=N}^\\infty r^{n-N}\\) converges by [Theorem 9.3.8](#) since \\(r \\in (-1, 1)\\), and so the series\r\n\r\n\\[\r\n\\sum_{n=N}^M |a_n|\r\n\\]\r\n\r\nconverges by the comparison test, as required.\r\n\r\n### Exercise 9.3.39\r\n\r\nProve part (b) of [Theorem 9.3.38](#).\r\n\r\n### Example 9.3.40\r\n\r\nLet \\(r \\in \\mathbb{R}\\) and consider the series \\(\\sum_{n \\geq 1} \\frac{r^n}{n}\\). Then\r\n\r\n\\[\r\n\\left| \\frac{r^{n+1}}{n+1} \\cdot \\frac{n}{r^n} \\right| = \\frac{n}{n+1} |r| \\to |r|\r\n\\]\r\n</markdown>",
    "Q": "Q: What conclusion can be drawn if the limit \\(\\ell\\) in the ratio test is equal to 1? ",
    "A": " A: If \\(\\ell = 1\\), the ratio test is inconclusive, and further investigation is needed to determine the convergence or divergence of the series \\(\\sum_{n \\geq 0} a_n\\)."
  },
  {
    "page": 411,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nBy the ratio test, if \\( |r| < 1 \\) then the series converges absolutely, and if \\( |r| > 1 \\) then the series diverges.\r\n\r\nThe ratio test tells us nothing about what happens when \\( |r| = 1 \\). However, we already know: we proved in Theorem 9.3.27 that this series diverges when \\( r = 1 \\), and in Example 9.3.30 that it converges when \\( r = -1 \\).\r\n\r\n### Exercise 9.3.41\r\nUse the ratio test to prove that the series \\(\\sum_{n \\geq 0} \\frac{x^n}{n!}\\) converges for all \\( x \\in \\mathbb{R} \\).\r\n\r\n---\r\n\r\n### Theorem 9.3.42 (Absolutely convergent series can be reordered)\r\nLet \\(\\sum_{n \\geq 0} a_n\\) be an absolutely convergent series and let \\(\\sigma : \\mathbb{N} \\to \\mathbb{N}\\) be a bijection. Then the series \\(\\sum_{n \\geq 0} a_{\\sigma(n)}\\) converges absolutely, and \\(\\sum_{n \\geq 0} a_{\\sigma(n)} = \\sum_{n \\geq 0} a_n\\).\r\n\r\n**Proof**\r\n\r\nWrite \\( A = \\sum_{n \\geq 0} a_n \\). In order to prove \\(\\sum_{n \\geq 0} a_{\\sigma(n)} = A\\), we need to prove that for all \\(\\varepsilon > 0\\), there is some \\( N \\in \\mathbb{N} \\) such that\r\n\r\n\\[\r\n\\left| \\sum_{n=0}^{K} a_{\\sigma(n)} - A \\right| < \\varepsilon \\text{ for all } K \\geq N.\r\n\\]\r\n\r\nSo let \\(\\varepsilon > 0\\). Then:\r\n\r\n1. Since \\(\\sum_{n \\geq 0} a_n = A\\), there is some \\( M_1 \\in \\mathbb{N} \\) such that\r\n\r\n\\[\r\n\\left| \\sum_{n=0}^{L} a_n - A \\right| < \\frac{\\varepsilon}{2}\r\n\\]\r\n\r\nfor all \\( L \\geq M_1 \\).\r\n\r\n2. Since \\(\\sum_{n \\geq 0} a_n\\) converges absolutely, it follows from Cauchy’s convergence test (Theorem 9.3.21) there is some \\( M_2 \\in \\mathbb{N} \\) such that\r\n\r\n\\[\r\n\\sum_{n=n_0}^{n_1} |a_n| < \\frac{\\varepsilon}{2}\r\n\\]\r\n\r\nfor all \\( n_1 \\geq n_0 \\geq M_2 \\).\r\n\r\nLet \\( M \\) be the greater of \\( M_1 \\) and \\( M_2 \\).\r\n\r\nNow let \\( N \\in \\mathbb{N} \\) be such that \\(\\{0, 1, \\ldots, M\\} \\subseteq \\{\\sigma(0), \\sigma(1), \\ldots, \\sigma(N)\\}\\). This ensures that the terms \\( a_0, a_1, \\ldots, a_M \\) appear amongst the terms \\( a_{\\sigma(0)}, a_{\\sigma(1)}, \\ldots, a_{\\sigma(N)} \\). Such a value\r\n</markdown>",
    "Q": "Q: Prove that the series \\(\\sum_{n=0}^{\\infty} \\frac{x^n}{n!}\\) converges for all \\( x \\in \\mathbb{R} \\) using the ratio test, and find the limit of the ratio in the process.  \r\n",
    "A": "  \r\nA: To apply the ratio test, we compute the ratio of consecutive terms:  \r\n\\[\r\n\\frac{a_{n+1}}{a_n} = \\frac{\\frac{x^{n+1}}{(n+1)!}}{\\frac{x^n}{n!}} = \\frac{x^{n+1}}{(n+1)!} \\cdot \\frac{n!}{x^n} = \\frac{x}{n+1}.\r\n\\]  \r\nTaking the absolute value and limit as \\( n \\to \\infty \\):  \r\n\\[\r\n\\lim_{n \\to \\infty} \\left| \\frac{a_{n+1}}{a_n} \\right| = \\lim_{n \\to \\infty} \\frac{|x|}{n+1} = 0.\r\n\\]  \r\nSince \\( 0 < 1 \\), by the ratio test, the series converges for all \\( x \\in \\mathbb{R} \\)."
  },
  {
    "page": 412,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nexists since \\( \\sigma \\) is a bijection; for example, we can take \\( N \\) to be the greatest value of \\( \\sigma^{-1}(i) \\) for \\( i \\leq M \\). Note that \\( N \\geq M \\).\r\n\r\nIt remains to prove that\r\n\r\n\\[\r\n\\left| \\sum_{n=0}^{K} a_{\\sigma(n)} - A \\right| < \\varepsilon \\text{ for all } K \\geq N.\r\n\\]\r\n\r\nSo let \\( K \\geq N \\), let \\( L = \\max \\{ \\sigma(0), \\sigma(1), \\ldots, \\sigma(K) \\} \\), and let \\( m_0, m_1, \\ldots, m_r \\in \\mathbb{N} \\) be such that the terms in the list \\( a_0, a_1, \\ldots, a_L \\) that remain after the terms \\( a_{\\sigma(0)}, \\ldots, a_{\\sigma(K)} \\) have been deleted are precisely the terms \\( a_{m_0}, a_{m_1}, \\ldots, a_{m_r} \\). Thus\r\n\r\n\\[\r\n\\sum_{n=0}^{K} a_{\\sigma(n)} = \\sum_{n=0}^{L} a_n - \\sum_{i=0}^{r} a_{m_i}\r\n\\]\r\n\r\nNote in particular that \\( L \\geq K \\). Additionally, \\( m_i \\geq N \\) for all \\( i \\leq r \\), since we ensured that the terms \\( a_0, a_1, \\ldots, a_M \\) appear amongst the terms \\( a_{\\sigma(0)}, a_{\\sigma(1)}, \\ldots, a_{\\sigma(N)} \\).\r\n\r\nBy the triangle inequality (Theorem 9.1.9) we have\r\n\r\n\\[\r\n\\left| \\sum_{n=0}^{K} a_{\\sigma(n)} - A \\right| = \\left| \\sum_{n=0}^{L} a_n - A - \\sum_{i=0}^{r} a_{m_i} \\right| \\leq \\left| \\sum_{n=0}^{L} a_n - A \\right| + \\left| \\sum_{i=0}^{r} a_{m_i} \\right|\r\n\\]\r\n\r\nNow conditions (1) and (2) above give the following:\r\n\r\n1. \\( L \\geq K \\geq N \\geq M \\geq M_1 \\), and so\r\n\r\n\\[\r\n\\left| \\sum_{n=0}^{L} a_n - A \\right| < \\frac{\\varepsilon}{2}.\r\n\\]\r\n\r\n2. By the triangle inequality again, we have\r\n\r\n\\[\r\n\\left| \\sum_{i=0}^{r} a_{m_i} \\right| \\leq \\sum_{i=0}^{r} |a_{m_i}| \\leq \\sum_{n=N}^{L} |a_n| < \\frac{\\varepsilon}{2}\r\n\\]\r\n\r\nsince \\( L \\geq N \\geq M \\geq M_2 \\).\r\n\r\nPutting all of this together, we have\r\n\r\n\\[\r\n\\left| \\sum_{n=0}^{K} a_{\\sigma(n)} - A \\right| \\leq \\left| \\sum_{n=0}^{L} a_n - A \\right| + \\left| \\sum_{i=0}^{r} a_{m_i} \\right| < \\frac{\\varepsilon}{2} + \\frac{\\varepsilon}{2} = \\varepsilon\r\n\\]\r\n\r\nas required.\r\n\r\nBy replacing \\( a_n \\) with \\( |a_n| \\) in the above proof, it follows that \\( \\sum_{n \\geq 0} |a_{\\sigma(n)}| \\) converges to the same limit as \\( \\sum_{n \\geq 0} |a_n| \\). In particular, it converges, and so the series \\( \\sum_{n \\geq 0} a_{\\sigma(n)} \\) converges absolutely.\r\n</markdown>",
    "Q": "Q: Given that \\( \\sigma \\) is a bijection and \\( N \\) is the greatest value of \\( \\sigma^{-1}(i) \\) for \\( i \\leq M \\), what can be inferred about the relationship between the convergence of the series \\( \\sum_{n \\geq 0} a_{\\sigma(n)} \\) and \\( \\sum_{n \\geq 0} |a_n| \\)? ",
    "A": " A: The series \\( \\sum_{n \\geq 0} a_{\\sigma(n)} \\) converges absolutely, meaning that the series \\( \\sum_{n \\geq 0} |a_{\\sigma(n)}| \\) converges to the same limit as \\( \\sum_{n \\geq 0} |a_n| \\), which in turn indicates that \\( \\sum_{n \\geq 0} |a_n| \\) is convergent."
  },
  {
    "page": 413,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\n### Example 9.3.43\r\n\r\nConsider the following geometric series\r\n\r\n\\[\r\n\\sum_{n \\geq 0} \\frac{(-1)^n}{2^n} = 1 - \\frac{1}{2} + \\frac{1}{4} - \\frac{1}{8} + \\frac{1}{16} - \\frac{1}{32} + \\cdots = \\frac{1}{1 - \\left(-\\frac{1}{2}\\right)} = \\frac{2}{3}\r\n\\]\r\n\r\nAs noted in Example 9.3.34, this series converges absolutely. So if we were to add the terms in any other way, then we’d obtain the same result. For example\r\n\r\n\\[\r\n1 + \\frac{1}{4} - \\frac{1}{2} + \\frac{1}{8} + \\frac{1}{16} + \\frac{1}{64} - \\frac{1}{32} - \\frac{1}{128} + \\cdots = \\frac{2}{3}\r\n\\]\r\n\r\nAbsolute convergence is what allows us to do this.\r\n\r\nTheorem 9.3.42 allows us to index absolutely convergent series over sets other than \\(\\mathbb{N}\\). This will be useful in Chapter 11, when the numbers we add are probabilities that are more naturally indexed by the outcomes of a random process than by natural numbers.\r\n\r\n### Definition 9.3.44\r\n\r\nLet \\( I = \\{i_n \\mid n \\in \\mathbb{N}\\} \\) be a set with \\( i_m \\neq i_n \\) for all \\( m, n \\in \\mathbb{N} \\) with \\( m \\neq n \\), and let \\((a_i)_{i \\in I}\\) be an \\( I \\)-indexed sequence of real numbers—formally \\((a_i)_{i \\in I}\\) is a function \\( a : I \\to \\mathbb{R} \\), like in Definition 9.2.9. The \\( I \\)-indexed series \\(\\sum_{i \\in I} a_i\\) is defined by\r\n\r\n\\[\r\n\\sum_{i \\in I} a_i = \\sum_{n \\geq 0} a_{i_n}\r\n\\]\r\n\r\nNote that, for general sums, the value of \\(\\sum_{i \\in I} a_i\\) might depend on how the set \\( I \\) is enumerated. However, in practice, we will only use the notation \\(\\sum_{i \\in I} a_i\\) when either (i) the series \\(\\sum_{n \\geq 0} a_{i_n}\\) converges absolutely, in which case the terms can be reordered however we like; or (ii) the terms \\( a_{i_n} \\) are all non-negative, in which case the series either converges absolutely, or diverges no matter how the elements of \\( I \\) are ordered.\r\n\r\n### Example 9.3.45\r\n\r\nSuppose \\((a_k)_{k \\in \\mathbb{Z}}\\) is a sequence of non-negative real numbers. Given \\( n \\in \\mathbb{N} \\), define\r\n\r\n\\[\r\ni_n = \r\n\\begin{cases} \r\n\\frac{n}{2} & \\text{if } n \\text{ is even} \\\\\r\n-\\frac{n+1}{2} & \\text{if } n \\text{ is odd}\r\n\\end{cases}\r\n\\]\r\n\r\nThen \\(\\mathbb{Z} = \\{i_n \\mid n \\in \\mathbb{N}\\} = \\{0, -1, 1, -2, 2, \\ldots\\}\\), and so\r\n\r\n\\[\r\n\\sum_{k \\in \\mathbb{Z}} a_k = a_0 + a_{-1} + a_1 + a_{-2} + a_2 + a_3 + a_{-3} + \\cdots \\overset{*}{=} \\sum_{i \\geq 0} a_i + \\sum_{i \\geq 1} a_{-i}\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the value of the series \\(\\sum_{i \\in I} \\frac{(-1)^{i}}{3^i}\\) where \\( I = \\{i_n \\mid n \\in \\mathbb{N}\\} \\) is defined such that \\(i_n = n\\)? ",
    "A": " A: The series converges and its value is \\(\\frac{1}{1 - \\left(-\\frac{1}{3}\\right)} = \\frac{3}{4}\\)."
  },
  {
    "page": 414,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nas expected. The step \\((\\star)\\) implicitly used non-negativity of the terms in the sequence: either the sequence diverges, or it converges absolutely, in which case we can shuffle the order of the terms.\r\n\r\n### Exercise 9.3.46\r\nLet \\( J = \\{ j_n \\mid n \\in \\mathbb{N} \\} \\) be a set such that, for all \\( m, n \\in \\mathbb{N} \\), we have \\( j_m \\neq j_n \\). Let \\((a_j)_{j \\in J}\\) be a \\( J \\)-indexed sequence such that either (i) \\(\\sum_{j \\in J} a_j\\) is absolutely convergent, or (ii) \\( a_j \\geq 0 \\) for all \\( j \\in J \\). Prove that if there is a bijection \\(\\sigma : I \\to J\\), then \\(\\sum_{i \\in I} a_{\\sigma(i)} = \\sum_{j \\in J} a_j\\).\r\n\r\nAbsolutely convergent series can be multiplied using the so-called **Cauchy product**, which is a kind of convolution operation on series.\r\n\r\n### Theorem 9.3.47 (The Cauchy product)\r\nLet \\(\\sum_{n \\geq 0} a_n\\) and \\(\\sum_{n \\geq 0} b_n\\) be absolutely convergent series. Then the series\r\n\r\n\\[\r\n\\sum_{n \\geq 0} \\left( \\sum_{k=0}^{n} a_k b_{n-k} \\right) = \\left( \\sum_{i \\geq 0} a_i \\right) \\left( \\sum_{j \\geq 0} b_j \\right)\r\n\\]\r\n\r\n**Proof**\r\n\r\nBy linearity of summation we have\r\n\r\n\\[\r\n\\left( \\sum_{n \\geq 0} a_n \\right) \\left( \\sum_{n \\geq 0} b_n \\right) = \\sum_{i \\geq 0} \\left( \\sum_{j \\geq 0} a_i b_j \\right) = \\sum_{(i,j) \\in \\mathbb{N} \\times \\mathbb{N}} a_i b_j\r\n\\]\r\n\r\nNote that this series converges absolutely. Indeed, given \\(\\varepsilon > 0\\), since \\(\\sum_{n \\geq 0} a_n\\) converges absolutely, there is some \\(N \\in \\mathbb{N}\\) such that \\(\\sum_{i > N} |a_n| < \\frac{\\varepsilon}{\\sum_{j \\in \\mathbb{N}} |b_j|}\\), and then\r\n\r\n\\[\r\n\\sum_{i > N} \\sum_{j = 0}^{\\infty} |a_i b_j| = \\sum_{i > N} \\left( |a_i| \\sum_{j = 0}^{\\infty} |b_j| \\right) < \\varepsilon\r\n\\]\r\n\r\nas required.\r\n\r\nNow define \\(P = \\{ (n, k) \\in \\mathbb{N} \\times \\mathbb{N} \\mid k \\leq n \\}\\), and note that\r\n\r\n\\[\r\n\\sum_{n \\geq 0} \\left( \\sum_{k=0}^{n} a_k b_{n-k} \\right) = \\sum_{(n,k) \\in P} a_k b_{n-k}\r\n\\]\r\n</markdown>",
    "Q": "Q: Let \\((c_n)_{n \\in \\mathbb{N}}\\) and \\((d_n)_{n \\in \\mathbb{N}}\\) be two sequences such that \\(\\sum_{n \\geq 0} c_n\\) and \\(\\sum_{n \\geq 0} d_n\\) both converge absolutely. If we denote the Cauchy product of these two series as \\(S = \\sum_{n \\geq 0} \\left( \\sum_{k=0}^{n} c_k d_{n-k} \\right)\\), can we derive the relationship \\(S = \\left( \\sum_{n \\geq 0} c_n \\right) \\left( \\sum_{n \\geq 0} d_n \\right)\\)? ",
    "A": " A: Yes, we can derive this relationship since both series converge absolutely, which allows us to rearrange the terms in the Cauchy product. Thus, \\(S = \\left( \\sum_{n \\geq 0} c_n \\right) \\left( \\sum_{n \\geq 0} d_n \\right)\\) holds true."
  },
  {
    "page": 415,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nThe function \\(\\sigma : \\mathbb{N} \\times \\mathbb{N} \\to P\\) defined by \\(\\sigma(i, j) = (i + j, i)\\) is a bijection. Since the series converges absolutely, we may apply Exercise 9.3.46 to obtain\r\n\r\n\\[\r\n\\sum_{(n,k) \\in P} a_k b_{n-k} = \\sum_{(i,j) \\in \\mathbb{N} \\times \\mathbb{N}} a_i b_{(i+j)-i} = \\sum_{(i,j) \\in \\mathbb{N} \\times \\mathbb{N}} a_i b_j\r\n\\]\r\n\r\nas required.\r\n\r\nAn example of how the Cauchy product can come in handy is to prove the multiplicativity of the **exponential function**, defined in Definition 9.3.48.\r\n\r\n✦ **Definition 9.3.48**\r\n\r\nThe **exponential function** is the function \\(\\exp : \\mathbb{R} \\to \\mathbb{R}\\) defined by\r\n\r\n\\[\r\n\\exp(x) = \\sum_{n \\geq 0} \\frac{x^n}{n!}\r\n\\]\r\n\r\nfor all \\(x \\in \\mathbb{R}\\).\r\n\r\nNote that the exponential function is well-defined by Exercise 9.3.41.\r\n\r\n✣ **Theorem 9.3.49 (Multiplicativity of the exponential function)**\r\n\r\nLet \\(x, y \\in \\mathbb{R}\\). Then \\(\\exp(x + y) = \\exp(x) \\exp(y)\\).\r\n\r\n**Proof**\r\n\r\nFirst note that the function\r\n\r\n\\[\r\nR : \\{(n,k) \\in \\mathbb{N} \\times \\mathbb{N} \\mid k \\leq n\\} \\to \\mathbb{N} \\times \\mathbb{N}\r\n\\]\r\n\r\ndefined by \\(R(n,k) = (k, n-k)\\) is a bijection. Indeed:\r\n\r\n- Let \\((n,k), (m, \\ell) \\in \\mathbb{N} \\times \\mathbb{N}\\) with \\(k \\leq n\\) and \\(\\ell \\leq m\\). If \\((k, n-k) = (\\ell, m-\\ell)\\) then \\(k = \\ell\\), and so \\(n-k = m-\\ell\\), so that \\(m = n\\). So \\(R\\) is injective.\r\n\r\n- Let \\((a, b) \\in \\mathbb{N} \\times \\mathbb{N}\\). Then \\(b \\leq a + b\\) and \\(b = (a + b) - b\\), and so \\((a, b) = R(a + b, a)\\). So \\(R\\) is surjective.\r\n</markdown>",
    "Q": "Q: How does the bijection \\(\\sigma(i, j)\\) relate to the convergence of the series \\(\\sum_{(n,k) \\in P} a_k b_{n-k}\\)? ",
    "A": " A: The bijection \\(\\sigma(i, j) = (i + j, i)\\) allows us to transform the indices of the series, enabling us to express \\(\\sum_{(n,k) \\in P} a_k b_{n-k}\\) in a way that highlights the absolute convergence and valid application of the Cauchy product in the context of the exponential function."
  },
  {
    "page": 416,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nNow we proceed by computation:\r\n\r\n\\[\r\n\\exp(x+y) = \\sum_{n \\geq 0} \\frac{(x+y)^n}{n!} \\quad \\text{by definition of exp}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{n \\geq 0} \\sum_{k=0}^{n} \\frac{1}{n!} \\binom{n}{k} x^k y^{n-k} \\quad \\text{by the binomial theorem (Theorem 4.2.17)}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{n \\geq 0} \\sum_{k=0}^{n} \\frac{1}{k!(n-k)!} x^k y^{n-k} \\quad \\text{by Theorem 4.2.14}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{a \\geq 0} \\sum_{b \\geq 0} \\frac{1}{a!b!} x^a y^b \\quad \\text{using the reindexing bijection } R\r\n\\]\r\n\r\n\\[\r\n= \\left( \\sum_{a \\geq 0} \\frac{x^a}{a!} \\right) \\left( \\sum_{b \\geq 0} \\frac{y^b}{b!} \\right) \\quad \\text{by linearity of summation}\r\n\\]\r\n\r\n\\[\r\n= \\exp(x) \\exp(y) \\quad \\text{by definition of exp}\r\n\\]\r\n\r\nThis is as required.\r\n\r\n### Exercise 9.3.50\r\nLet \\( x \\in (-1, 1) \\). Prove that \\(\\sum_{n \\geq 1} nx^{n-1} = \\frac{1}{(1-x)^2}\\).\r\n\r\n### The constant \\( e \\)\r\n\r\nWe conclude this section by defining \\( e \\), a mathematical constant used heavily in calculus and analysis. We will prove that \\( e \\) is irrational.\r\n\r\n#### Lemma 9.3.51\r\nThe series \\(\\sum_{n \\geq 0} \\frac{1}{n!}\\) converges.\r\n\r\n**Proof**\r\n\r\nThis follows from the ratio test. Indeed\r\n\r\n\\[\r\n\\frac{1/(n+1)!}{1/n!} = \\frac{n!}{(n+1)!} = \\frac{1}{n+1} \\to 0\r\n\\]\r\n\r\nso by the ratio test (Theorem 9.3.38), the series converges.\r\n\r\n#### Definition 9.3.52\r\nThe real number \\( e \\), also known as Euler’s constant, is defined by \\( e = \\exp(1) = \\sum_{n \\geq 0} \\frac{1}{n!} \\).\r\n</markdown>",
    "Q": "Q: Prove that the series \\(\\sum_{n \\geq 0} \\frac{x^n}{n!}\\) converges for all \\(x \\in \\mathbb{R}\\). ",
    "A": " A: To show convergence, we apply the ratio test. Consider the ratio \\(\\frac{a_{n+1}}{a_n} = \\frac{x^{n+1}/(n+1)!}{x^n/n!} = \\frac{x}{n+1}\\). As \\(n \\to \\infty\\), \\(\\frac{x}{n+1} \\to 0\\), thus the series converges for all \\(x \\in \\mathbb{R}\\)."
  },
  {
    "page": 417,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nThe number \\( e \\), like its more famous cousin \\( \\pi \\), is one of the fundamental constants of mathematics. It might seem arbitrary now, but it has remarkable analytic properties that are beyond the scope of this book.\r\n\r\n### Example 9.3.53\r\nWe can prove that \\( 2 < e < 3 \\). Indeed \\( e > 2 \\) since\r\n\r\n\\[\r\ne > \\frac{1}{0!} + \\frac{1}{1!} = 1 + 1 = 2\r\n\\]\r\n\r\nTo see that \\( e < 3 \\), note that \\( n! \\geq 2^{n-1} \\) for all \\( n \\geq 1 \\), with strict inequality for \\( n \\geq 2 \\), and so\r\n\r\n\\[\r\ne < \\frac{1}{0!} + \\sum_{n \\geq 1} \\frac{1}{2^{n-1}} = 1 + \\frac{1}{1 - \\frac{1}{2}} = 3\r\n\\]\r\n\r\n### Exercise 9.3.54\r\nProve that \\(\\exp(x) = e^x\\) for all \\( x \\in \\mathbb{Q} \\).\r\n\r\n### Theorem 9.3.55\r\n\\( e \\) is irrational.\r\n\r\n**Proof**\r\n\r\nTowards a contradiction, suppose that \\( e \\in \\mathbb{Q} \\).\r\n\r\nThen \\( k!e \\in \\mathbb{Z} \\) for some natural number \\( k \\geq 2 \\). Indeed, letting \\( e = \\frac{a}{b} \\) for some \\( a, b \\in \\mathbb{Z} \\) with \\( b \\neq 0 \\), we obtain \\( |b|e = \\pm a \\in \\mathbb{N} \\), and so we can take \\( k \\) to be the greatest of 2 and \\( |b| \\).\r\n\r\nNow observe that\r\n\r\n\\[\r\nk!e = \\sum_{n \\geq 0} \\frac{k!}{n!} = \\sum_{n=0}^{k} \\frac{k!}{n!} + \\sum_{n \\geq k+1} \\frac{k!}{n!}\r\n\\]\r\n\r\nDefine \\( c = \\sum_{n \\geq k+1} \\frac{k!}{n!} \\). We will prove that \\( c \\in \\mathbb{Z} \\) and \\( 0 < c < 1 \\), which is a contradiction.\r\n\r\nNote that for all \\( n \\leq k \\) we have \\( n! \\) divides \\( k! \\), and so \\( \\sum_{n=0}^{k} \\frac{k!}{n!} \\in \\mathbb{Z} \\). Therefore\r\n\r\n\\[\r\nc = k!e - \\sum_{n=0}^{k} \\frac{k!}{n!} \\in \\mathbb{Z}\r\n\\]\r\n\r\nsince this is the difference of two integers.\r\n</markdown>",
    "Q": "Q: Prove that \\( e \\) is greater than \\( 2 \\) using the series expansion of \\( e \\). ",
    "A": " A: We can use the series expansion of \\( e \\):\r\n\r\n\\[\r\ne = \\sum_{n=0}^{\\infty} \\frac{1}{n!}\r\n\\]\r\n\r\nConsidering the first two terms of this series gives us:\r\n\r\n\\[\r\ne > \\frac{1}{0!} + \\frac{1}{1!} = 1 + 1 = 2\r\n\\]\r\n\r\nThus, \\( e > 2 \\)."
  },
  {
    "page": 418,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.3 Series And Sums",
    "content": "<markdown>\r\nNow all the terms in the sum \\(\\sum_{n \\geq k+1} \\frac{k!}{n!}\\) are positive, and so\r\n\r\n\\[\r\nc = \\sum_{n = k+1} \\frac{k!}{n!} > \\frac{k!}{(k+1)!} = \\frac{1}{k+1} > 0\r\n\\]\r\n\r\nFurthermore, for all \\(n \\geq k+1\\), we have\r\n\r\n\\[\r\n\\frac{k!}{n!} = \\frac{1 \\times 2 \\times \\cdots \\times k}{1 \\times 2 \\times \\cdots \\times k \\times (k+1) \\times \\cdots \\times n} = \\frac{1}{(k+1) \\times \\cdots \\times n} \\leq \\frac{1}{(k+1)^{n-k}}\r\n\\]\r\n\r\nIt follows that\r\n\r\n\\[\r\nc = \\sum_{n \\geq k+1} \\frac{k!}{n!} \\leq \\sum_{n \\geq k+1} \\frac{1}{(k+1)^{n-k}} \\quad \\text{as we just observed}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{r \\geq 0} \\frac{1}{(k+1)^{r+1}} \\quad \\text{substituting } r = n-k-1\r\n\\]\r\n\r\n\\[\r\n= \\frac{1}{k+1} \\sum_{r \\geq 0} \\frac{1}{(k+1)^r} \\quad \\text{by linearity}\r\n\\]\r\n\r\n\\[\r\n= \\frac{1}{k+1} \\cdot \\frac{1}{1 - \\frac{1}{k+1}} \\quad \\text{by Theorem 9.3.8}\r\n\\]\r\n\r\n\\[\r\n= \\frac{1}{k} \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n< 1 \\quad \\text{since } k \\geq 2\r\n\\]\r\n\r\nBut this implies that \\(0 < c < 1\\), which is nonsense since \\(c \\in \\mathbb{Z}\\).\r\n\r\nWe have arrived at a contradiction, so it follows that \\(e\\) is irrational.\r\n\\end{markdown>",
    "Q": "Q: Given the context of the series \\(\\sum_{n \\geq k+1} \\frac{k!}{n!}\\), what conclusion can we reach about the nature of \\(c\\) and the implications it has for the number \\(e\\)? ",
    "A": " A: The series converges to a positive sum \\(c\\) that lies between 0 and 1, leading to a contradiction since \\(c\\) must be an integer. Thus, it implies that \\(e\\) is irrational."
  },
  {
    "page": 419,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.E Chapter 9 Exercises",
    "content": "<markdown>\r\n## Section 9.E\r\n# Chapter 9 exercises\r\n\r\n### Inequalities and means\r\n\r\n9.1. Compute \\(\\|2(-1, -5, 1, 5, 1) - (2, -1, 1, -2, 8)\\|\\).\r\n\r\n9.2. Let \\(a, b \\in \\mathbb{R}\\) and let \\(a_0, a_1, a_2, \\ldots, a_n \\in \\mathbb{R}\\) with \\(a_0 = a\\) and \\(a_n = b\\). Prove that\r\n\\[\r\n|a - b| \\leq \\sum_{k=1}^{n} |a_{k-1} - a_k|.\r\n\\]\r\n\r\n9.3. Let \\(n \\in \\mathbb{N}\\). Prove that \\(\\vec{x} \\cdot \\vec{y} = \\vec{y} \\cdot \\vec{x}\\) for all \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\).\r\n\r\n9.4. Let \\(n \\in \\mathbb{N}\\), let \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\) and let \\(a, b, c, d \\in \\mathbb{R}\\). Prove that \\((a\\vec{x} + b\\vec{y}) \\cdot (c\\vec{x} + d\\vec{y}) = ac\\|\\vec{x}\\|^2 + bd\\|\\vec{y}\\|^2 + (ad + bc)(\\vec{x} \\cdot \\vec{y})\\).\r\n\r\n9.5. Let \\(a, b, c, d \\in \\mathbb{R}\\). Assume that \\(a^2 + b^2 = 9\\), \\(c^2 + d^2 = 25\\) and \\(ac + bd = 15\\). Find the value of \\(\\frac{a + 2b}{c + 2d}\\).\r\n\r\n9.6. Let \\(\\vec{a} \\in \\mathbb{R}^3\\) and \\(r > 0\\), and define\r\n\\[\r\nB(\\vec{a}; r) = \\{\\vec{x} \\in \\mathbb{R}^3 \\mid \\|\\vec{x} - \\vec{a}\\| < r\\}\r\n\\]\r\nProve that \\(\\|\\vec{x} - \\vec{y}\\| < 2r\\) for all \\(\\vec{x}, \\vec{y} \\in B(\\vec{a}; r)\\).\r\n\r\n9.7. Prove that \\(a^3 + b^3 + c^3 \\geq abc\\) for all positive real numbers \\(a, b, c\\). When does equality occur?\r\n\r\n9.8. Let \\(a, b, c > 0\\). Prove that\r\n\\[\r\n\\frac{b + c}{a} + \\frac{c + a}{b} + \\frac{a + b}{c} \\geq 6,\r\n\\]\r\nwith equality if and only if \\(a = b = c\\).\r\n\r\n9.9. Let \\(a, b, c \\in \\mathbb{R}\\). Prove that\r\n\\[\r\na^4 + b^4 + c^4 \\geq \\frac{(ab + bc + ca)^2}{3}.\r\n\\]\r\nWhen does equality occur?\r\n\r\n9.10. **Unit cost averaging** is an investment strategy in which an investor purchases asset in equal instalments over a fixed period of time.\r\n\r\nLet \\(a, b \\in \\mathbb{R}\\) with \\(a < b\\), let \\(n \\geq 1\\), and let \\(f : [a, b] \\rightarrow (0, \\infty)\\) be such that at time \\(t \\in [a, b]\\), a stock is trading at £\\(f(t)\\) per share. Assume that you purchase a total of £\\(M\\) of the stock in equal instalments of £\\(\\frac{M}{n}\\) at times \\(t_0, t_1, \\ldots, t_{n-1}\\), where \\(M \\in [0, \\infty)\\), \\(n \\geq 1\\), and\r\n\\[\r\nt_i = a + i \\cdot \\frac{b - a}{n} \\quad \\text{for all } 0 \\leq i < n.\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that if \\( f(t) \\) is continuous on the interval \\([a, b]\\), then the average price paid per share \\( P \\) when following the unit cost averaging strategy, given by \\( P = \\frac{M}{n} \\cdot \\frac{1}{\\sum_{i=0}^{n-1} f(t_i)} \\), satisfies \\( P \\leq \\frac{1}{b-a} \\int_a^b f(t) dt \\). What does equality imply?  \r\n",
    "A": "  \r\nA: The average price \\( P \\) is less than or equal to the average price over the interval \\([a, b]\\):  \r\n\\[\r\nP \\leq \\frac{1}{b-a} \\int_a^b f(t) dt.\r\n\\]  \r\nEquality occurs if and only if \\( f(t) \\) is constant on \\([a, b]\\)."
  },
  {
    "page": 420,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.E Chapter 9 Exercises",
    "content": "<markdown>\r\n(a) Prove that the value of the shares that you hold at time \\( b \\) is equal to\r\n\r\n\\[\r\n£ \\frac{f(b)}{\\text{HM}(f(t_0), f(t_1), \\ldots, f(t_{n-1}))} \\cdot M\r\n\\]\r\n\r\nwhere \\(\\text{HM}(a_1, a_2, \\ldots, a_n)\\) denotes the harmonic mean of \\( a_1, a_2, \\ldots, a_n \\in \\mathbb{R} \\).\r\n\r\n(b) Under what condition have you made a profit?\r\n\r\n**Sequences**\r\n\r\n9.11. Does there exist a sequence \\((x_n)\\) such that \\((x_{n+1} - x_n) \\to 0\\) but \\((x_n)\\) diverges?\r\n\r\n**True–False questions**\r\n\r\nIn Questions 9.12 to 9.18, determine (with proof) whether the statement is true or false.\r\n\r\n9.12. For all \\( x, y \\in \\mathbb{R} \\) we have \\(|x - y| \\leq |x| - |y|\\).\r\n\r\n9.13. The function \\( f : \\mathbb{R}^n \\to \\mathbb{R} \\) defined by \\( f(\\vec{x}) = \\|\\vec{x}\\| \\) for all \\(\\vec{x} \\in \\mathbb{R}^n\\) is injective.\r\n\r\n9.14. The function \\( f : \\mathbb{R}^n \\to \\mathbb{R} \\) defined by \\( f(\\vec{x}) = \\|\\vec{x}\\| \\) for all \\(\\vec{x} \\in \\mathbb{R}^n\\) is surjective.\r\n\r\n9.15. For all \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\) we have \\(\\|2\\vec{x} - 3\\vec{y}\\| \\leq 2\\|\\vec{x}\\| + 3\\|\\vec{y}\\|\\).\r\n\r\n9.16. Every convergent sequence is bounded.\r\n\r\n9.17. Every convergent sequence is eventually monotone.\r\n\r\n9.18. Every subsequence of a divergent sequence diverges.\r\n\r\n**Always–Sometimes–Never questions**\r\n\r\nIn Questions 9.19 to 9.26, determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n9.19. Let \\(\\vec{x}, \\vec{y} \\in \\mathbb{R}^n\\) and suppose that \\(\\|\\vec{x} - \\vec{y}\\| = 0\\). Then \\(\\vec{x} = \\vec{y}\\).\r\n\r\n9.20. Let \\( x_1, x_2, \\ldots, x_n \\geq 0 \\). Then the harmonic mean of the \\( x_i \\)s is greater than their quadratic mean.\r\n\r\n9.21. Let \\( y_1, y_2, \\ldots, y_m \\geq 0 \\). Then the geometric mean of the \\( y_j \\)s is less than or equal to their quadratic mean.\r\n\r\n9.22. Let \\((x_n)\\) be a sequence of real numbers and suppose that the subsequences \\((x_{2n})\\) and \\((x_{2n+1})\\) both converge. Then \\((x_n)\\) converges.\r\n</markdown>",
    "Q": "Q: Given that the harmonic mean of a set of positive numbers is always less than or equal to the arithmetic mean, can you express the relationship between the harmonic mean and the profit if we consider the values from point (a) along with the total initial investment \\(M\\)? ",
    "A": " A: Yes, if \\( \\text{HM}(f(t_0), f(t_1), \\ldots, f(t_{n-1})) \\) represents the harmonic mean of the share values, then a profit is made if \\( \\frac{f(b)}{\\text{HM}(f(t_0), f(t_1), \\ldots, f(t_{n-1}))} \\cdot M > M \\), which simplifies to \\( f(b) > \\text{HM}(f(t_0), f(t_1), \\ldots, f(t_{n-1})) \\)."
  },
  {
    "page": 421,
    "title": "Ii Topics In Pure Mathematics/9 Real Numbers/9.E Chapter 9 Exercises",
    "content": "<markdown>\r\n9.23. Let \\((x_n)\\) be a sequence of real numbers and suppose that the subsequences \\((x_{2n})\\), \\((x_{2n+1})\\) and \\((x_{3n})\\) all converge. Then \\((x_n)\\) converges.\r\n\r\n9.24. Let \\(f : \\mathbb{R} \\to \\mathbb{R}\\), let \\((x_n)\\) be a sequence of real numbers, and suppose that \\((x_n) \\to a \\in \\mathbb{R}\\). Then \\((x_n^2) \\to a^2\\).\r\n\r\n9.25. Let \\(f : \\mathbb{R} \\to \\mathbb{R}\\), let \\((x_n)\\) be a sequence of real numbers, and suppose that \\((x_n) \\to a \\in \\mathbb{R}\\). Then \\((f(x_n)) \\to f(a)\\).\r\n\r\n9.26. Let \\((a_n)\\) be a sequence of real numbers and suppose that \\((a_n) \\to 0\\). Then \\(\\sum_{n \\geq 0} a_n\\) converges.\r\n</markdown>",
    "Q": "Q: If the subsequences \\((x_{2n})\\) and \\((x_{3n})\\) both converge to \\(L\\), does it follow that the sequence \\((x_n)\\) converges? ",
    "A": " A: Yes, since the convergence of all subsequences \\((x_{2n})\\), \\((x_{2n+1})\\), and \\((x_{3n})\\) implies that the original sequence \\((x_n)\\) converges."
  },
  {
    "page": 424,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\n## Section 10.1\r\n\r\n# Cardinality\r\n\r\n[Section 6.1](#) was all about defining a notion of *size* for finite sets, and using this definition to compare and contrast the sizes of finite sets by constructing injections, surjections and bijections between them.\r\n\r\nWe made some progress in comparing the sizes of infinite sets in [Section 6.2](#), but only to a certain extent: at this point, we can only distinguish between two sizes of infinity, namely ‘countable’ and ‘uncountable’. While this is interesting, we can do much better—that is where this section comes in.\r\n\r\nThe *cardinality* (defined in [Definition 10.1.1](#)) of a set can be understood as a measure of its size, generalising the notion of size for finite sets. In particular:\r\n\r\n- Whereas the size of a *finite* set \\( X \\) is a natural number \\(|X| \\in \\mathbb{N}\\), the cardinality of an arbitrary set is a *cardinal number*—but if the set happens to be finite, then this cardinal number is equal to the natural number given by its size.\r\n\r\n- We proved in [Theorem 6.1.14](#) that two finite sets \\( X \\) and \\( Y \\) have equal size if and only if there is a bijection \\( X \\to Y \\). We generalise this fact to arbitrary sets by building it into the definition of cardinality: that is, two sets \\( X \\) and \\( Y \\) will have equal cardinality if and only if there is a bijection \\( X \\to Y \\).\r\n\r\nWithout further ado, behold the definition of cardinality.\r\n\r\n### Definition 10.1.1\r\n\r\nThe *cardinality* of a set \\( X \\) is an element \\(|X|\\) of the collection \\(\\text{Card}\\) (\\(\\LaTeX\\) code: \\(\\mathtt{\\{Card\\}}\\)) of all *cardinal numbers*, defined so that the following properties hold:\r\n\r\n(i) For every set \\( X \\), there is a unique cardinal number \\(\\kappa \\in \\text{Card}\\) such that \\(|X| = \\kappa\\);\r\n\r\n(ii) For all sets \\( X \\) and \\( Y \\), we have \\(|X| = |Y|\\) if and only if there exists a bijection \\( X \\to Y \\);\r\n\r\n(iii) \\(\\mathbb{N} \\subseteq \\text{Card}\\), and if \\( X \\) is finite, then its cardinality \\(|X|\\) is equal to its size; and\r\n\r\n(iv) For each cardinal number \\(\\kappa\\), there exists a set \\([\\kappa]\\) with \\(|[\\kappa]| = \\kappa\\), with \\([n]\\) defined as in [Definition 2.1.9](#) for all \\( n \\in \\mathbb{N} \\subseteq \\text{Card}\\).\r\n\r\nA cardinal number \\(\\kappa \\in \\text{Card} \\setminus \\mathbb{N}\\) is called an *infinite cardinal number*.\r\n</markdown>",
    "Q": "Q: If the cardinality of a set \\( A \\) is \\( \\kappa \\), and there exists a bijection between sets \\( A \\) and \\( B \\), what can we say about the cardinality of set \\( B \\)? ",
    "A": " A: The cardinality of set \\( B \\) is also \\( \\kappa\\), i.e., \\(|B| = \\kappa\\)."
  },
  {
    "page": 425,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\nCondition (iii) ensures that cardinality generalises the notion of size: whereas size is defined only for finite sets, cardinality is defined for both finite and infinite sets.\r\n\r\n[Definition 10.1.1](#) tells us only what properties cardinal numbers satisfy; it doesn’t tell us what they actually are, how they are defined, or even whether they exist. This is on purpose: the construction of the cardinal numbers is very intricate, and far beyond the scope of this introductory textbook.\r\n\r\nOne cardinal number of interest to us is the cardinality of the natural numbers. In a sense that we will make precise later ([Theorem 10.1.13](#)), we can think of this cardinal number as being the smallest infinite cardinal number.\r\n\r\n✦ **Definition 10.1.2**  \r\nThe cardinal number \\(\\aleph_0\\) (LaTeX code: `\\aleph_0`), called **aleph naught** (or **aleph null**), is defined by \\(\\aleph_0 = |\\mathbb{N}|\\).\r\n\r\nThe symbol \\(\\aleph\\) is the Hebrew letter *aleph*. The cardinal number \\(\\aleph_0\\) is the first infinite cardinal number in a hierarchy of so-called *well-orderable cardinals*.\r\n\r\n✐ **Example 10.1.3**  \r\nA set \\(X\\) is countably infinite if and only if \\(|X| = \\aleph_0\\). Indeed, to say that \\(X\\) is countably infinite is to say that there is a bijection \\(\\mathbb{N} \\to X\\), which by [Definition 10.1.1(ii)](#) is equivalent to saying that \\(\\aleph_0 = |\\mathbb{N}| = |X|\\).\r\n\r\nIn light of [Example 10.1.3](#), we have\r\n\r\n\\[\r\n|\\mathbb{N}| = |\\mathbb{Z}| = |\\mathbb{Q}| = \\aleph_0\r\n\\]\r\n\r\nSo what about \\(\\mathbb{R}\\)? We know that \\(|\\mathbb{R}| \\neq \\aleph_0\\) by [Theorem 6.2.20](#). The cardinality of the real numbers has its own notation, given next.\r\n\r\n✦ **Definition 10.1.4**  \r\nThe **cardinality of the continuum** is the cardinal number \\(\\mathfrak{c}\\) (LaTeX code: `\\mathfrak{c}`) defined by \\(\\mathfrak{c} = |\\mathbb{R}|\\).\r\n\r\n✐ **Exercise 10.1.5**  \r\nConsider the function \\(f : \\mathbb{R} \\to (-1, 1)\\) defined by\r\n\r\n\\[\r\nf(x) = \\frac{x}{1 + |x|}\r\n\\]\r\n\r\nfor all \\(x \\in \\mathbb{R}\\). Prove that \\(f\\) is a bijection, and deduce that \\(|(-1, 1)| = \\mathfrak{c}\\).\r\n\r\n✐ **Exercise 10.1.6**  \r\nLet \\(a, b \\in \\mathbb{R}\\) with \\(a < b\\). Prove that each of the sets \\((a, b)\\), \\([a, b)\\), \\((a, b]\\) and \\([a, b]\\) has cardinality \\(\\mathfrak{c}\\).\r\n</markdown>",
    "Q": "Q: What is the relationship between the cardinality of the set of natural numbers \\(|\\mathbb{N}|\\) and the cardinality of the set of real numbers \\(|\\mathbb{R}|\\)? ",
    "A": " A: The cardinality of the natural numbers is \\(\\aleph_0\\) while the cardinality of the real numbers is \\(\\mathfrak{c}\\), where \\(\\aleph_0 < \\mathfrak{c}\\)."
  },
  {
    "page": 426,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\n## Ordering the cardinal numbers\r\n\r\nIn [Theorem 6.1.14](#) we proved that, given finite sets \\( X \\) and \\( Y \\), we can prove that \\(|X| \\leq |Y|\\) by constructing an injection \\( X \\to Y \\). This made intuitive sense: for an injection \\( X \\to Y \\) to exist, there must be sufficiently many elements in \\( Y \\) to be able to spread out all of the elements of \\( X \\).\r\n\r\nThe intuition bestowed upon us by the finite case yields the following definition.\r\n\r\n✦ **Definition 10.1.7**  \r\nGiven cardinal numbers \\( \\kappa \\) and \\( \\lambda \\), we say that \\( \\kappa \\) is **less than or equal to** \\( \\lambda \\), and write \\( \\kappa \\leq \\lambda \\), if there exists an injection \\([\\kappa] \\to [\\lambda]\\). We say \\( \\kappa \\) is **less than** \\( \\lambda \\), and write \\( \\kappa < \\lambda \\), if \\( \\kappa \\leq \\lambda \\) and \\( \\kappa \\neq \\lambda \\).\r\n\r\nA word of warning is pertinent at this point. Given \\( m, n \\in \\mathbb{N} \\), but regarding \\( m \\) and \\( n \\) as cardinal numbers, [Definition 10.1.7](#) defines the expression ‘\\( m \\leq n \\)’ to mean that there exists an injection \\([m] \\to [n]\\). This is not how ‘\\( m \\leq n \\)’ is typically defined for natural numbers \\( m \\) and \\( n \\). Fortunately for us, we proved in [Theorem 6.1.7](#) that \\( m \\leq n \\) (in the usual sense) if and only if there is an injection \\([m] \\to [n]\\). This ensures that these two notions of ‘\\(\\leq\\)’—for cardinal numbers and for natural numbers—are consistent with one another.\r\n\r\nThis is typical for the definitions we will make involving cardinal numbers, particularly in [Section 10.2](#): results that we proved for natural numbers in [Chapter 8](#) will be generalised to form definitions for cardinal numbers, but then these generalised definitions are consistent with the usual definitions for natural numbers. While it is not worth losing sleep over these matters, it is good practice to check that the definitions we make are not mutually contradictory!\r\n\r\nWe may at times write \\( \\lambda \\geq \\kappa \\) to mean \\( \\kappa \\leq \\lambda \\), and \\( \\lambda > \\kappa \\) to mean \\( \\kappa < \\lambda \\). Note that \\( \\lambda \\geq \\kappa \\) should not be interpreted to mean ‘there exists a surjection \\([\\lambda] \\to [\\kappa]\\’—for example, that would imply that \\( 1 \\geq 0 \\) is false, which is nonsense.\r\n\r\nIn any case [Definition 10.1.7](#) provides the following proof strategy.\r\n\r\n❖ **Strategy 10.1.8**  \r\nLet \\( X \\) and \\( Y \\) be sets.\r\n\r\n- In order to prove \\(|X| \\leq |Y|\\), it suffices to find an injection \\( X \\to Y \\).\r\n- In order to prove \\(|X| < |Y|\\), it suffices to find an injection \\( X \\to Y \\), and prove that there does not exist a surjection \\( X \\to Y \\).\r\n</markdown>",
    "Q": "Q: If \\( |A| \\leq |B| \\) for finite sets \\( A \\) and \\( B \\), what does the existence of an injection \\( A \\to B \\) imply about the sizes of the sets? ",
    "A": " A: The existence of an injection \\( A \\to B \\) implies that the cardinality of set \\( A \\) is less than or equal to the cardinality of set \\( B\\), meaning there are at least as many elements in \\( B \\) as there are in \\( A\\)."
  },
  {
    "page": 428,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\ngiven by \\( i(k) = k \\) for all \\( k \\in [n] \\) is an injection. It follows that\r\n\r\n\\[\r\nn = |[n]| \\leq |\\mathbb{N}| = \\aleph_0\r\n\\]\r\n\r\nas required.\r\n\r\nFor part (b), fix a cardinal number \\(\\kappa\\) and assume that \\( n \\leq \\kappa \\) for all \\( n \\in \\mathbb{N} \\). Then there exist injections \\( j_n : \\{0, 1, \\ldots, n - 1\\} \\to [\\kappa] \\) for each \\( n \\in \\mathbb{N} \\).\r\n\r\nWe will use these injections to construct an injection \\( f : \\mathbb{N} \\to [\\kappa] \\) in the following way: each function \\( j_n : \\{0, 1, \\ldots, n\\} \\to [\\kappa] \\) takes exactly \\( n + 1 \\) values. This means that for all \\( n \\in \\mathbb{N} \\), the function \\( j_{n+1} \\) takes at least one value in \\([\\kappa]\\) that the function \\( j_n \\) does not take—we will define \\( f(n+1) \\) to be one of these values.\r\n\r\nNow let’s define \\( f \\) properly: define \\( f(n) \\in [\\kappa] \\) for \\( n \\in \\mathbb{N} \\) recursively as follows:\r\n\r\n- \\( f(0) = j_0(0) \\in [\\kappa] \\).\r\n\r\n- Fix \\( n \\in \\mathbb{N} \\) and suppose \\( f(k) \\) has been defined for all \\( k \\leq n \\), such that \\( f(k) \\neq f(\\ell) \\) for \\( \\ell < k \\). Let\r\n\r\n\\[\r\nA = \\{ a \\leq n + 1 \\mid j_{n+1}(a) \\neq f(k) \\text{ for all } k \\leq n \\}\r\n\\]\r\n\r\nNote that \\( A \\) is inhabited: the set \\(\\{ j_{n+1}(a) \\mid 0 \\leq a \\leq n + 1 \\}\\) has size \\( n + 2 \\) since \\( j_{n+1} \\) is injective, and the set \\(\\{ f(k) \\mid 0 \\leq k \\leq n \\}\\) has size \\( n + 1 \\) by construction, so at least one \\( a \\leq n + 1 \\) must satisfy the requirement that \\( j_{n+1}(a) \\neq f(k) \\) for all \\( k \\leq n \\).\r\n\r\nLet \\( a \\) be the least element of \\( A \\), and define \\( f(n+1) = j_{n+1}(a) \\). Then by construction we have \\( j_{n+1}(a) \\neq f(k) \\) for any \\( k < n + 1 \\), as required.\r\n\r\nBy construction, the function \\( f \\) is injective, since for all \\( n \\in \\mathbb{N} \\), the value \\( f(n) \\in [\\kappa] \\) was defined so that \\( f(n) \\neq f(k) \\) for any \\( k < n \\).\r\n\r\nHence \\(\\aleph_0 = |\\mathbb{N}| \\leq |[\\kappa]| = \\kappa\\), as required.\r\n\r\nThe Cantor–Schröder–Bernstein theorem\r\n-------------------------------------\r\n\r\nEven if two sets \\( X \\) and \\( Y \\) have the same cardinality, it is not always easy to find a bijection \\( X \\to Y \\). This is problematic if we want to prove that they *do* have the same cardinality! The Cantor–Schröder–Bernstein theorem greatly simplifies this process, allowing us to deduce that \\( |X| = |Y| \\) from the existence of injections \\( X \\to Y \\) and \\( Y \\to X \\).\r\n\r\n**Theorem 10.1.14 (Cantor–Schröder–Bernstein theorem)**  \r\nThe relation \\(\\leq\\) on Card is antisymmetric. That is, for all cardinal numbers \\(\\kappa\\) and \\(\\lambda\\), if \\(\\kappa \\leq \\lambda\\) and \\(\\lambda \\leq \\kappa\\), then \\(\\kappa = \\lambda\\).\r\n</markdown>",
    "Q": "Q: If there exist injections \\( j : X \\to Y \\) and \\( j' : Y \\to X \\), what can we conclude about the cardinalities of sets \\( X \\) and \\( Y \\) according to the Cantor–Schröder–Bernstein theorem? ",
    "A": " A: According to the Cantor–Schröder–Bernstein theorem, if there exist injections \\( j : X \\to Y \\) and \\( j' : Y \\to X \\), then the sets \\( X \\) and \\( Y \\) have the same cardinality, i.e., \\( |X| = |Y| \\)."
  },
  {
    "page": 429,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\n## Section 10.1. Cardinality\r\n\r\n### Proof\r\n\r\nThis is one of the most involved proofs that we will see in this book, and so we break it into steps. Some details are left as exercises, in part because the details cloud the bigger picture of the proof, and in part because they provide good practice with working with all the definitions.\r\n\r\nLet \\( \\kappa \\) and \\( \\lambda \\) be cardinal numbers and assume that \\( \\kappa \\leq \\lambda \\) and \\( \\lambda \\leq \\kappa \\). Then there exist injections \\( f : [\\kappa] \\to [\\lambda] \\) and \\( g : [\\lambda] \\to [\\kappa] \\).\r\n\r\nThe steps we will follow are these:\r\n\r\n- **Step 1.** We will use the injections \\( f \\) and \\( g \\) to partition \\( [\\kappa] \\) and \\( [\\lambda] \\) into equivalence classes. Intuitively, two elements of \\( [\\kappa] \\) will be ‘equivalent’ if one can be obtained from the other by successively applying \\( g \\circ f \\), and likewise for \\( [\\lambda] \\) with \\( f \\circ g \\).\r\n\r\n- **Step 2.** We will prove that \\( f \\) and \\( g \\) induce a bijection \\( [\\kappa]/\\sim \\to [\\lambda]/\\approx \\)—that is, they pair up the \\( \\sim \\)-equivalence classes with the \\( \\approx \\)-equivalence classes.\r\n\r\n- **Step 3.** We will prove that there is a bijection between each pair of the paired-up equivalence classes.\r\n\r\n- **Step 4.** We will piece together the bijections between equivalence classes to obtain a bijection \\( [\\kappa] \\to [\\lambda] \\).\r\n\r\nSo here we go.\r\n\r\n**Step 1.** Define a relation \\( \\sim \\) on \\( [\\kappa] \\) by letting\r\n\r\n\\[\r\na \\sim b \\iff (g \\circ f)^n(a) = b \\text{ or } (g \\circ f)^n(b) = a \\text{ for some } n \\in \\mathbb{N}\r\n\\]\r\n\r\nfor all \\( a, b \\in [\\kappa] \\). Here \\( (g \\circ f)^n \\) refers to the \\( n \\)-fold composite of \\( g \\circ f \\), that is\r\n\r\n\\[\r\n(g \\circ f)^n(x) = ((g \\circ f) \\circ (g \\circ f) \\circ \\cdots \\circ (g \\circ f))(x)\r\n\\]\r\n\r\nIn other words, \\( a \\sim b \\) means that we can get from \\( a \\) to \\( b \\), or from \\( b \\) to \\( a \\), by applying the function \\( g \\circ f \\) some number of times.\r\n\r\n📎 **Exercise 10.1.15**  \r\nProve that \\( \\sim \\) is an equivalence relation on \\( [\\kappa] \\).\r\n\r\nLikewise the relation \\( \\approx \\) on \\( [\\lambda] \\), defined by letting\r\n\r\n\\[\r\nc \\approx d \\iff (f \\circ g)^n(c) = d \\text{ or } (f \\circ g)^n(d) = c \\text{ for some } n \\in \\mathbb{N}\r\n\\]\r\n\r\nfor all \\( c, d \\in [\\lambda] \\), is an equivalence relation.\r\n</markdown>",
    "Q": "Q: If \\( a \\sim b \\) and \\( b \\sim c \\) in \\( [\\kappa] \\), show that \\( a \\sim c \\) using the definition of the relation \\( \\sim \\). ",
    "A": " A: To show that \\( a \\sim c \\), we need to demonstrate that there exists \\( n \\in \\mathbb{N} \\) such that \\( (g \\circ f)^n(a) = c \\) or \\( (g \\circ f)^n(c) = a \\). Since \\( a \\sim b \\), there exists some \\( m \\) such that \\( (g \\circ f)^m(a) = b \\) or \\( (g \\circ f)^m(b) = a \\). Likewise, since \\( b \\sim c \\), there exists some \\( k \\) such that \\( (g \\circ f)^k(b) = c \\) or \\( (g \\circ f)^k(c) = b \\). Combining these, we can show that applying \\( (g \\circ f)^m \\) to \\( a \\) and then applying \\( (g \\circ f)^k \\) to \\( b \\) will demonstrate that \\( a \\sim c \\), satisfying the equivalence relation."
  },
  {
    "page": 431,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\ndefined by:\r\n\r\n- \\( f_1(t) = a + t(b-a) \\) for all \\( t \\in (0, 1) \\).\r\n- \\( f_2(t) = t \\) for all \\( t \\in (a, b) \\).\r\n- \\( f_3(t) = \\frac{t-a}{b-a} \\) for all \\( t \\in [a, b] \\).\r\n- \\( f_4(t) = \\frac{1}{4} + \\frac{1}{2}t \\) for all \\( t \\in [0, 1] \\).\r\n\r\nEach of these functions is injective by Exercise 3.2.8. Hence we can compose these functions to obtain injections from any of these sets to any other—for example, \\( f_1 \\circ f_4 \\circ f_3 : [0, 1] \\to (a, b) \\) is an injection.\r\n\r\nBy the Cantor–Schröder–Bernstein theorem, it follows that\r\n\r\n\\[\r\n|(0,1)| = |(a,b)| = |[a,b]| = |[0,1]|\r\n\\]\r\n\r\n### Example 10.1.20\r\n\r\nHere is a proof that \\( \\mathbb{N} \\times \\mathbb{N} \\) is countably infinite using the Cantor–Schröder–Bernstein theorem.\r\n\r\nDefine \\( f : \\mathbb{N} \\to \\mathbb{N} \\times \\mathbb{N} \\) by \\( f(n) = (n,0) \\) for all \\( n \\in \\mathbb{N} \\). Given \\( m,n \\in \\mathbb{N} \\) we have\r\n\r\n\\[\r\nf(m) = f(n) \\implies (m,0) = (n,0) \\implies m = n\r\n\\]\r\n\r\nSo \\( f \\) is injective.\r\n\r\nNext, define \\( g : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) by \\( g(m,n) = 2^m \\cdot 3^n \\) for all \\( m,n \\in \\mathbb{N} \\). Then given \\( (m,n), (p,q) \\in \\mathbb{N} \\times \\mathbb{N} \\), if \\( g(m,n) = g(p,q) \\), then \\( 2^m \\cdot 3^n = 2^p \\cdot 3^q \\). It follows from the fundamental theorem of arithmetic (Theorem 7.2.12) that \\( m = n \\) and \\( p = q \\), so that \\( g \\) is injective.\r\n\r\nSince \\( f : \\mathbb{N} \\to \\mathbb{N} \\times \\mathbb{N} \\) and \\( g : \\mathbb{N} \\times \\mathbb{N} \\to \\mathbb{N} \\) are injective, it follows from the Cantor–Schröder–Bernstein theorem that\r\n\r\n\\[\r\n|\\mathbb{N} \\times \\mathbb{N}| = |\\mathbb{N}| = \\aleph_0\r\n\\]\r\n\r\nso that \\( \\mathbb{N} \\times \\mathbb{N} \\) is countably infinite.\r\n\r\nWe can use the Cantor–Schröder–Bernstein theorem to prove that \\( \\mathcal{P}(\\mathbb{N}) \\) has the cardinality of the continuum.\r\n\r\n### Theorem 10.1.21\r\n\r\n\\[\r\n|\\mathcal{P}(\\mathbb{N})| = \\mathfrak{c}\r\n\\]\r\n</markdown>",
    "Q": "Q: Show that if \\( h : \\mathbb{N} \\to \\mathbb{N} \\) is defined by \\( h(n) = (0,n) \\) for all \\( n \\in \\mathbb{N} \\), then \\( h \\) is injective. What can we conclude about the cardinality of \\( \\mathbb{N} \\times \\mathbb{N} \\) using the Cantor–Schröder–Bernstein theorem? ",
    "A": " A: \\( h \\) is injective since \\( h(m) = h(n) \\implies (0,m) = (0,n) \\implies m = n \\). Thus, since \\( h : \\mathbb{N} \\to \\mathbb{N} \\times \\mathbb{N} \\) is injective and we already established an injective function \\( g \\) from \\( \\mathbb{N} \\times \\mathbb{N} \\) to \\( \\mathbb{N} \\), by the Cantor–Schröder–Bernstein theorem, it follows that \\( |\\mathbb{N} \\times \\mathbb{N}| = |\\mathbb{N}| = \\aleph_0 \\). Thus, \\( \\mathbb{N} \\times \\mathbb{N} \\) is countably infinite."
  },
  {
    "page": 432,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.1 Cardinality",
    "content": "<markdown>\r\n## Proof\r\n\r\nDefine a function \\( f : \\mathcal{P}(\\mathbb{N}) \\to \\mathbb{R} \\) as follows. Given \\( U \\subseteq \\mathbb{N} \\), define\r\n\r\n\\[\r\nU_n = \r\n\\begin{cases} \r\n1 & \\text{if } n \\in U \\\\ \r\n0 & \\text{if } n \\notin U \r\n\\end{cases}\r\n\\]\r\n\r\nLet \\( f(U) \\) be the real number whose decimal expansion is \\( U_0.U_1U_2 \\ldots \\). Then \\( f \\) is an injection: given \\( U, V \\subseteq \\mathbb{N} \\), if \\( f(U) = f(V) \\), then \\( f(U) \\) and \\( f(V) \\) have the same decimal expansion, so that \\( U_n = V_n \\) for all \\( n \\in \\mathbb{N} \\). But that says precisely that \\( n \\in U \\) if and only if \\( n \\in V \\) for all \\( n \\in \\mathbb{N} \\), so that \\( U = V \\).\r\n\r\nNext, define a function \\( g : [0, 1) \\to \\mathcal{P}(\\mathbb{N}) \\) as follows: given \\( x \\in \\mathbb{R} \\), let the binary expansion of \\( x \\) be\r\n\r\n\\[\r\nx = 0.x_1x_2x_3x_4 \\cdots \\tag{2}\r\n\\]\r\n\r\nDefine \\( g(x) = \\{ i \\in \\mathbb{N} \\mid x_i = 1 \\} \\). Then \\( g \\) is injective by uniqueness of binary expansions again.\r\n\r\nThen:\r\n\r\n- Since \\( f \\) is injective we have \\( |\\mathcal{P}(\\mathbb{N})| \\leq |\\mathbb{R}| = \\mathfrak{c} \\).\r\n- Since \\( g \\) is injective we have \\( \\mathfrak{c} = |[0, 1)| \\leq |\\mathcal{P}(\\mathbb{N})| \\).\r\n\r\nBy the Cantor–Schröder–Bernstein theorem ([Theorem 10.1.14](#)), it follows that \\( |\\mathcal{P}(\\mathbb{N})| = \\mathfrak{c} \\).\r\n\r\n### Exercise 10.1.22\r\n\r\nLet \\( \\mathcal{F}(\\mathbb{N}) \\) be the set of all finite subsets of \\( \\mathbb{N} \\), and define \\( f : \\mathcal{F}(\\mathbb{N}) \\to \\mathbb{N} \\) by\r\n\r\n\\[\r\nf(U) = \\sum_{a \\in U} 10^a = \\sum_{k=1}^{n} 10^{q_k}\r\n\\]\r\n\r\nfor all \\( U = \\{a_1, a_2, \\ldots, a_n\\} \\in \\mathcal{F}(\\mathbb{N}) \\). Put another way, \\( f(U) \\) is the natural number whose decimal expansion has a 1 in the \\( r \\)th position (counting from \\( r = 0 \\)) if \\( r \\in U \\), and a 0 otherwise. For example\r\n\r\n\\[\r\nf(\\{0, 1, 3, 4, 8\\}) = 100011011 \\quad \\text{and} \\quad f(\\emptyset) = 0\r\n\\]\r\n\r\nProve that \\( f \\) is injective, and use the Cantor–Schröder–Bernstein theorem to deduce that \\( \\mathcal{F}(\\mathbb{N}) \\) is countably infinite.\r\n\r\n### Exercise 10.1.23\r\n\r\nLet \\( X, Y \\) and \\( Z \\) be sets. Prove that if \\( |X| = |Z| \\) and \\( X \\subseteq Y \\subseteq Z \\), then \\( |X| = |Y| = |Z| \\).\r\n</markdown>",
    "Q": "Q: If the function \\( g : [0, 1) \\to \\mathcal{P}(\\mathbb{N}) \\) is defined such that \\( g(x) = \\{ i \\in \\mathbb{N} \\mid x_i = 1 \\} \\), what does it convey about the relationship between the numbers in \\( [0, 1) \\) and subsets of \\( \\mathbb{N} \\)? ",
    "A": " A: The function \\( g \\) establishes a one-to-one correspondence (injective mapping) between numbers in the interval \\( [0, 1) \\) with their binary expansions and the subsets of \\( \\mathbb{N} \\) that correspond to the positions of 1's in those binary expansions. This means every subset of \\( \\mathbb{N} \\) can be uniquely represented by a number in \\( [0, 1) \\) and vice versa."
  },
  {
    "page": 433,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n## Section 10.2\r\nCardinal arithmetic\r\n\r\nIn this section we will define arithmetic operations for cardinal numbers, and then derive infinitary counting principles by analogy with Section 8.1. It is surprising how little additional work needs to be done for the results proved there to carry over.\r\n\r\nWe begin by defining the sum \\(\\kappa + \\lambda\\), product \\(\\kappa \\cdot \\lambda\\) and power \\(\\lambda^\\kappa\\), for cardinal numbers \\(\\kappa\\) and \\(\\lambda\\).\r\n\r\n### Cardinal addition\r\n\r\n✦ **Definition 10.2.1**  \r\nThe (cardinal) sum of cardinal numbers \\(\\kappa\\) and \\(\\lambda\\) is the cardinal number \\(\\kappa + \\lambda\\) defined by\r\n\r\n\\[\r\n\\kappa + \\lambda = |\\,[\\kappa] \\sqcup [\\lambda]\\,|\r\n\\]\r\n\r\nwhere for sets \\(A\\) and \\(B\\), the notation \\(A \\sqcup B\\) denotes the disjoint union\r\n\r\n\\[\r\nA \\sqcup B = (A \\times \\{0\\}) \\cup (B \\times \\{1\\})\r\n\\]\r\n\r\nas discussed in Exercise 6.1.20.\r\n\r\nNote that Definition 10.2.1 is compatible with addition for natural numbers by Exercise 6.1.20(b), which implies that \\(|[m] \\sqcup [n]| = m + n\\) for all \\(m, n \\in \\mathbb{N}\\).\r\n\r\nThe following lemma makes cardinal addition easier to work with.\r\n\r\n✢ **Lemma 10.2.2**  \r\nLet \\(X\\) and \\(Y\\) be sets. If \\(X \\cap Y = \\emptyset\\), then \\(|X \\cup Y| = |X| + |Y|\\).\r\n\r\n**Proof**  \r\nLet \\(\\kappa = |X|\\) and \\(\\lambda = |Y|\\). Note that \\(|[\\kappa] \\times \\{0\\}| = \\kappa = |X|\\) and \\(|[\\lambda] \\times \\{1\\}| = \\lambda = |Y|\\), so there are bijections \\(f : [\\kappa] \\times \\{0\\} \\to X\\) and \\(g : [\\lambda] \\times \\{1\\} \\to Y\\).\r\n\r\nDefine a function \\(h : [\\kappa] \\sqcup [\\lambda] \\to X \\cup Y\\) by\r\n\r\n\\[\r\nh(a, i) = \r\n\\begin{cases} \r\nf(a) & \\text{if } i = 0 \\\\\r\ng(b) & \\text{if } i = 1 \r\n\\end{cases}\r\n\\]\r\n\r\nfor all \\((a, i) \\in [\\kappa] \\sqcup [\\lambda]\\).\r\n</markdown>",
    "Q": "Q: If \\(X\\) and \\(Y\\) are two disjoint sets with cardinalities \\(|X| = 5\\) and \\(|Y| = 3\\), what is the cardinality of the union \\(X \\cup Y\\)?  \r\n",
    "A": "  \r\nA: Since \\(X\\) and \\(Y\\) are disjoint, we can use Lemma 10.2.2 to find that \\(|X \\cup Y| = |X| + |Y| = 5 + 3 = 8\\)."
  },
  {
    "page": 434,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\nThen \\( h \\) is a bijection; to see this, define \\( k : X \\cup Y \\to [\\kappa] \\bigsqcup [\\lambda] \\) by\r\n\r\n\\[\r\nk(a) = \r\n\\begin{cases} \r\n(f^{-1}(a), 0) & \\text{if } a \\in X \\\\\r\n(g^{-1}(a), 1) & \\text{if } a \\in Y \r\n\\end{cases}\r\n\\]\r\n\r\nfor all \\( a \\in X \\cup Y \\). Then \\( k \\) is well-defined since \\( X \\cap Y = \\emptyset \\) and \\( f \\) and \\( g \\) are bijections. And \\( k \\) can readily be seen to be an inverse for \\( h \\).\r\n\r\nSince \\( h : [\\kappa] \\bigsqcup [\\lambda] \\to X \\cup Y \\) is a bijection, we have\r\n\r\n\\[\r\n|X \\cup Y| = |[\\kappa] \\bigsqcup [\\lambda]| = \\kappa + \\lambda\r\n\\]\r\n\r\nas required.\r\n\r\n### Example 10.2.3\r\n\r\nWe show that \\(\\aleph_0 + \\aleph_0 = \\aleph_0\\). To see this, note that \\(\\mathbb{N} = E \\cup O\\), where \\(E\\) is the set of all even natural numbers and \\(O\\) is the set of all odd natural numbers. But \\(E\\) and \\(O\\) are disjoint, so that by Lemma 10.2.2 we have\r\n\r\n\\[\r\n\\aleph_0 + \\aleph_0 = |E| + |O| = |E \\cup O| = |\\mathbb{N}| = \\aleph_0\r\n\\]\r\n\r\nas claimed.\r\n\r\nMany of the basic properties enjoyed by addition of natural numbers carry over to cardinal numbers.\r\n\r\n### Theorem 10.2.4 (Properties of cardinal addition)\r\n\r\n(a) \\(\\kappa + (\\lambda + \\mu) = (\\kappa + \\lambda) + \\mu\\) for all cardinal numbers \\(\\kappa, \\lambda, \\mu\\);\r\n\r\n(b) \\(\\kappa + \\lambda = \\lambda + \\kappa\\) for all cardinal numbers \\(\\kappa, \\lambda\\);\r\n\r\n(c) \\(0 + \\kappa = \\kappa = \\kappa + 0\\) for all cardinal numbers \\(\\kappa\\).\r\n\r\n**Proof of (a)**\r\n\r\nLet \\(\\kappa, \\lambda\\) and \\(\\mu\\) be cardinal numbers, and define\r\n\r\n\\[\r\nX = [\\kappa] \\times \\{0\\}, \\quad Y = [\\lambda] \\times \\{1\\}, \\quad Z = [\\mu] \\times \\{2\\}\r\n\\]\r\n\r\nNote that \\(|X| = \\kappa\\), \\(|Y| = \\lambda\\) and \\(|Z| = \\mu\\), and that \\(X, Y\\) and \\(Z\\) are pairwise disjoint. Therefore \\(X\\) and \\(Y \\cup Z\\) are disjoint, and \\(X \\cup Y\\) and \\(Z\\) are disjoint, so that\r\n\r\n\\[\r\n\\kappa + (\\lambda + \\mu) = |X| + (|Y| + |Z|) = |X| + |Y \\cup Z| = |X \\cup (Y \\cup Z)|\r\n\\]\r\n\r\nand likewise\r\n\r\n\\[\r\n(\\kappa + \\lambda) + \\mu = (|X| + |Y|) + |Z| = |X \\cup Y| + |Z| = |(X \\cup Y) \\cup Z|\r\n\\]\r\n\r\nBut \\(X \\cup (Y \\cup Z) = (X \\cup Y) \\cup Z\\), so that \\(\\kappa + (\\lambda + \\mu) = (\\kappa + \\lambda) + \\mu\\), as required.\r\n</markdown>",
    "Q": "Q: Given the properties of cardinal addition stated in Theorem 10.2.4, what is the result of \\(\\aleph_0 + \\aleph_1\\) and how does it relate to the cardinality of the sets involved? \r\n\r\n",
    "A": " A: \\(\\aleph_0 + \\aleph_1 = \\aleph_1\\), since \\(\\aleph_1\\) is the next cardinal number after \\(\\aleph_0\\), and adding \\(\\aleph_0\\) (the cardinality of the natural numbers) to it does not change the cardinality of \\(\\aleph_1\\). Thus, \\(|\\mathbb{N}| + |A| = |A|\\) for any set \\(A\\) with \\(|A| = \\aleph_1\\)."
  },
  {
    "page": 435,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n### Exercise 10.2.5\r\nProve parts (b) and (c) of [Theorem 10.2.4](#).\r\n\r\nWe can generalise the argument in [Example 10.2.3](#) to prove the following proposition.\r\n\r\n### Proposition 10.2.6\r\n\\[\r\n\\kappa + \\aleph_0 = \\kappa \\text{ for all cardinal numbers } \\kappa \\geq \\aleph_0.\r\n\\]\r\n\r\n**Proof**\r\n\r\nLet \\(\\kappa \\geq \\aleph_0\\) and let \\(A = [\\kappa]\\). Note that by [Definition 10.1.7](#) there is an injection \\(i : \\mathbb{N} \\to A\\). Write \\(a_n = i(n)\\) for all \\(n \\in \\mathbb{N}\\), so that \\(i[\\mathbb{N}] = \\{a_0, a_1, a_2, \\ldots \\} \\subseteq A\\).\r\n\r\nPartition \\(A\\) as \\(A = B \\cup U \\cup V\\), where:\r\n\r\n- \\(B = A \\setminus i[\\mathbb{N}] = A \\setminus \\{a_0, a_1, a_2, a_3, \\ldots \\}\\);\r\n- \\(U = i[E] = \\{a_0, a_2, a_4, \\ldots \\}\\); and\r\n- \\(V = i[O] = \\{a_1, a_3, a_5, \\ldots \\}\\).\r\n\r\nHere \\(E\\) and \\(O\\) are the sets of even and odd natural numbers, respectively.\r\n\r\nThe sets \\(U\\), \\(V\\) and \\(i[\\mathbb{N}]\\) are all countably infinite, since \\(E\\), \\(O\\) and \\(\\mathbb{N}\\) are countably infinite and \\(i\\) is an injection.\r\n\r\nSince \\(U\\) and \\(i[\\mathbb{N}]\\) are countably infinite, there is a bijection \\(f : U \\to i[\\mathbb{N}]\\), which in turn yields a bijection \\(g : B \\cup U \\to B \\cup i[\\mathbb{N}]\\) defined by\r\n\r\n\\[\r\ng(a) = \r\n\\begin{cases} \r\na & \\text{if } a \\in B \\\\\r\nf(a) & \\text{if } a \\in U \r\n\\end{cases}\r\n\\]\r\n\r\nNote that \\(g\\) is well-defined since \\(A \\cap U = \\emptyset\\) and \\(B \\cap i[\\mathbb{N}] = \\emptyset\\). And \\(g\\) is bijective: it has an inverse function, defined similarly but with \\(f\\) replaced by \\(f^{-1}\\).\r\n\r\nThus\r\n\r\n\\[\r\n|A| = |B \\cup i[\\mathbb{N}]| = |B \\cup U|\r\n\\]\r\n\r\nSince \\(U\\) and \\(V\\) are countably infinite, we have \\(|U| = |V| = \\aleph_0\\). It follows that\r\n\r\n\\[\r\n\\kappa + \\aleph_0 = |A| + |V| = |B \\cup U| + |V| = |B \\cup U \\cup V| = |A| = \\kappa\r\n\\]\r\n\r\nas required.\r\n\\end{proof}\r\n</markdown>",
    "Q": "Q: Given the proposition that \\(\\kappa + \\aleph_0 = \\kappa\\) for all cardinal numbers \\(\\kappa \\geq \\aleph_0\\), how would you illustrate this by considering the cardinality of the union of a countable set and an uncountable set? ",
    "A": " A: If \\(\\kappa\\) is an uncountable cardinal, and we take an infinite countable set \\(S\\) such that \\(|S| = \\aleph_0\\), then \\(|\\kappa \\cup S| = \\kappa\\) since the addition of countably infinite elements does not change the cardinality of the uncountable set, thus illustrating that \\(\\kappa + \\aleph_0 = \\kappa\\)."
  },
  {
    "page": 436,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n# Cardinal multiplication\r\n\r\nProducts of cardinal numbers are defined by analogy with the result of Exercise 6.1.22, which says that \\([m] \\times [n] = mn\\) for all \\(m, n \\in \\mathbb{N}\\).\r\n\r\n✦ **Definition 10.2.7**  \r\nThe (cardinal) product of cardinal numbers \\(\\kappa\\) and \\(\\lambda\\) is the cardinal number \\(\\kappa \\cdot \\lambda\\) defined by\r\n\r\n\\[\r\n\\kappa \\cdot \\lambda = |[\\kappa] \\times [\\lambda]|\r\n\\]\r\n\r\nThat is, the cardinal product is the cardinality of the cartesian product.\r\n\r\nLike Lemma 10.2.2, the following lemma allows us to replace \\([\\kappa]\\) and \\([\\lambda]\\) in Definition 10.2.7 by arbitrary sets of size \\(\\kappa\\) and \\(\\lambda\\), respectively.\r\n\r\n✣ **Lemma 10.2.8**  \r\nLet \\(X\\) and \\(Y\\) be sets. Then \\(|X \\times Y| = |X| \\times |Y|\\).\r\n\r\n**Proof**  \r\nLet \\(\\kappa = |X|\\) and \\(\\lambda = |Y|\\), and fix bijections \\(f : [\\kappa] \\to X\\) and \\(g : [\\lambda] \\to Y\\). By Exercise 3.2.47, there is a bijection \\([\\kappa] \\times [\\lambda] \\to X \\times Y\\), and so\r\n\r\n\\[\r\n|X \\times Y| = |[\\kappa] \\times [\\lambda]| = \\kappa \\cdot \\lambda\r\n\\]\r\n\r\nas required.\r\n\r\n✐ **Example 10.2.9**  \r\nWe will prove that \\(\\aleph_0 \\cdot \\aleph_0 = \\aleph_0\\). Indeed, we proved in Example 10.1.20 that \\(|\\mathbb{N} \\times \\mathbb{N}| = \\aleph_0\\), and so by Lemma 10.2.8 we have\r\n\r\n\\[\r\n\\aleph_0 \\cdot \\aleph_0 = |\\mathbb{N} \\times \\mathbb{N}| = \\aleph_0\r\n\\]\r\n\r\nas required.\r\n\r\n✐ **Example 10.2.10**  \r\nWe will prove that \\(\\aleph_0 \\cdot \\mathfrak{c} = \\mathfrak{c}\\).\r\n\r\nDefine \\(f : \\mathbb{Z} \\times [0, 1) \\to \\mathbb{R}\\) by \\(f(n, r) = n + r\\) for all \\(n \\in \\mathbb{Z}\\) and all \\(0 \\leq r < 1\\). Then:\r\n\r\n- **\\(f\\) is injective.** To see this, let \\((n, r), (m, s) \\in \\mathbb{Z} \\times [0, 1)\\) and assume that \\(n + r = m + s\\). Then \\(n - m = s - r\\). Since \\(s, r \\in [0, 1)\\), we have \\(s - r \\in (-1, 1)\\), and so \\(n - m \\in (-1, 1)\\). Since \\(n - m \\in \\mathbb{Z}\\), we must have \\(n - m = 0\\), and so \\(m = n\\). But then \\(n + r = n + s\\), and so \\(r = s\\). Thus \\((n, r) = (m, s)\\), as required.\r\n\r\n- **\\(f\\) is surjective.** To see this, let \\(x \\in \\mathbb{R}\\). Let \\(n \\in \\mathbb{Z}\\) be such that \\(n \\leq x < n + 1\\), and let \\(r = x - n\\). Note that \\(0 \\leq r < 1\\), so that \\((n, r) \\in \\mathbb{Z} \\times [0, 1)\\), and then \\(x = n + r = f(n, r)\\), as required.\r\n</markdown>",
    "Q": "Q: If \\(|A| = \\aleph_0\\) and \\(|B| = \\mathfrak{c}\\), what is the cardinality of the Cartesian product \\(|A \\times B|\\) based on the properties of cardinal multiplication? ",
    "A": " A: \\(|A \\times B| = \\aleph_0 \\cdot \\mathfrak{c} = \\mathfrak{c}\\)."
  },
  {
    "page": 437,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\nSince \\( f \\) is a bijection, we have\r\n\r\n\\[\r\n\\aleph_0 \\cdot c = | \\mathbb{Z} | \\times | [0, 1) | = | \\mathbb{Z} \\times [0, 1) | = | \\mathbb{R} | = c\r\n\\]\r\n\r\nas required.\r\n\r\n### Exercise 10.2.11\r\nProve that \\( c \\cdot c = c \\).\r\n\r\n### Exercise 10.2.12\r\nLet \\( X \\) be a set and let \\(\\sim\\) be an equivalence relation on \\( X \\). Prove that if \\( \\kappa \\) is a cardinal number such that \\(|[a]_\\sim| = \\kappa\\) for all \\( a \\in X \\), then \\(|X| = |X/\\sim| \\cdot \\kappa\\).\r\n\r\n### Theorem 10.2.13 (Properties of cardinal multiplication)\r\n(a) \\(\\kappa \\cdot (\\lambda \\cdot \\mu) = (\\kappa \\cdot \\lambda) \\cdot \\mu\\) for all cardinal numbers \\(\\kappa, \\lambda, \\mu\\);\r\n\r\n(b) \\(\\kappa \\cdot \\lambda = \\lambda \\cdot \\kappa\\) for all cardinal numbers \\(\\kappa, \\lambda\\);\r\n\r\n(c) \\(1 \\cdot \\kappa = \\kappa = \\kappa \\cdot 1\\) for all cardinal numbers \\(\\kappa\\);\r\n\r\n(d) \\(\\kappa \\cdot (\\lambda + \\mu) = (\\kappa \\cdot \\lambda) + (\\kappa \\cdot \\mu)\\) for all cardinal numbers \\(\\kappa, \\lambda, \\mu\\).\r\n\r\n**Proof of (a)**\r\n\r\nDefine \\( f : [\\kappa] \\times ([\\lambda] \\times [\\mu]) \\to ([\\kappa] \\times [\\lambda]) \\times [\\mu] \\) by \\( f(a, (b, c)) = ((a, b), c) \\) for all \\( a \\in [\\kappa], b \\in [\\lambda] \\) and \\( c \\in [\\mu] \\). Then \\( f \\) is a bijection, since it has an inverse \\( g : ([\\kappa] \\times [\\lambda]) \\times [\\mu] \\to [\\kappa] \\times ([\\lambda] \\times [\\mu]) \\) defined by \\( g((a, b), c) = (a, (b, c)) \\) for all \\( a \\in [\\kappa], b \\in [\\lambda] \\) and \\( c \\in [\\mu] \\).\r\n\r\nBut then by Lemma 10.2.8 we have\r\n\r\n\\[\r\n\\kappa \\cdot (\\lambda \\cdot \\mu) = |[\\kappa] \\times ([\\lambda] \\times [\\mu])| = |([\\kappa] \\times [\\lambda]) \\times [\\mu]| = (\\kappa \\cdot \\lambda) \\cdot \\mu\r\n\\]\r\n\r\nas required.\r\n\r\n### Exercise 10.2.14\r\nProve parts (b), (c) and (d) of Theorem 10.2.13.\r\n\r\n## Cardinal exponentiation\r\n\r\n### Definition 10.2.15\r\nLet \\(\\kappa\\) and \\(\\lambda\\) be cardinal numbers. The \\(\\kappa\\)th (cardinal) power of \\(\\lambda\\) is the cardinal number \\(\\lambda^\\kappa\\) defined by\r\n\r\n\\[\r\n\\lambda^\\kappa = |[\\lambda]^{[\\kappa]}|\r\n\\]\r\n\r\nwhere for sets \\( A \\) and \\( B \\), the notation \\( B^A \\) refers to the set of functions \\( A \\to B \\).\r\n</markdown>",
    "Q": "Q: Prove that if \\( |X| = \\kappa \\) and \\( |Y| = \\lambda \\), then \\( |X \\times Y| = \\kappa \\cdot \\lambda \\). ",
    "A": " A: Since \\( f: X \\times Y \\to [\\kappa] \\times [\\lambda] \\) defined by \\( f(x, y) = (i, j) \\) is a bijection where \\( i \\) and \\( j \\) are indices in \\( X \\) and \\( Y \\) respectively, we have \\( |X \\times Y| = |[\\kappa] \\times [\\lambda]| = \\kappa \\cdot \\lambda \\)."
  },
  {
    "page": 439,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\nCardinal exponentiation gives us a convenient way of expressing the cardinalities of power sets.\r\n\r\n### Theorem 10.2.18\r\nLet \\( X \\) be a set. Then \\( |\\mathcal{P}(X)| = 2^{|X|} \\).\r\n\r\n**Proof**  \r\nThere is a bijection \\( i : \\mathcal{P}(X) \\to \\{0, 1\\}^X \\) defined for all \\( U \\subseteq X \\) by letting \\( i(U) = \\chi_U \\in \\{0, 1\\}^X \\), where \\( \\chi_U : X \\to \\{0, 1\\} \\) is the characteristic function of \\( U \\) (see Definition 3.1.24). Note that \\( i \\) is a bijection by Theorem 3.1.26.\r\n\r\nIt follows by Lemma 10.2.16 that\r\n\r\n\\[\r\n|\\mathcal{P}(X)| = |\\{0, 1\\}^X| = |\\{0, 1\\}|^{|X|} = 2^{|X|}\r\n\\]\r\n\r\nas required.\r\n\r\nIn light of Theorem 10.2.18, we can interpret Cantor’s theorem (Theorem 10.1.12) as saying that \\( \\kappa < 2^\\kappa \\) for all cardinal numbers \\( \\kappa \\). Thus the cardinal numbers are unbounded.\r\n\r\nFurthermore, Theorem 10.2.18 allows us to express the cardinality of the continuum \\( \\mathfrak{c} \\) in terms of \\( \\aleph_0 \\).\r\n\r\n### Corollary 10.2.19\r\n\\( \\mathfrak{c} = 2^{\\aleph_0} \\)\r\n\r\n**Proof**  \r\nWe proved in Theorem 10.1.21 that \\( |\\mathcal{P}(\\mathbb{N})| = \\mathfrak{c} \\), and so by Theorem 10.2.18 we have\r\n\r\n\\[\r\n\\mathfrak{c} = |\\mathcal{P}(\\mathbb{N})| = 2^{|\\mathbb{N}|} = 2^{\\aleph_0}\r\n\\]\r\n\r\nas claimed.\r\n\r\n### Exercise 10.2.20\r\nProve that for all cardinal numbers \\( \\kappa, \\lambda, \\mu \\), if \\( \\lambda \\leq \\mu \\), then \\( \\lambda^\\kappa \\leq \\mu^\\kappa \\).\r\n\r\nMany of the properties satisfied by exponentiation of natural numbers generalise to cardinal numbers.\r\n\r\n### Theorem 10.2.21 (Properties of cardinal exponentiation)\r\n(a) \\( \\mu^{\\kappa + \\lambda} = \\mu^\\kappa \\cdot \\mu^\\lambda \\) for all cardinal numbers \\( \\kappa, \\lambda, \\mu \\);\r\n\r\n(b) \\( (\\mu \\cdot \\lambda)^\\kappa = \\mu^\\kappa \\cdot \\lambda^\\kappa \\) for all cardinal numbers \\( \\kappa, \\lambda, \\mu \\);\r\n\r\n(c) \\( (\\mu^\\lambda)^\\kappa = \\mu^{\\kappa \\cdot \\lambda} \\) for all cardinal numbers \\( \\kappa, \\lambda, \\mu \\).\r\n</markdown>",
    "Q": "Q: Given that \\( |\\mathcal{P}(X)| = 2^{|X|} \\), what can you conclude about the cardinality of \\( \\mathcal{P}(\\mathbb{N}) \\) based on Cantor's theorem? ",
    "A": " A: Based on Cantor's theorem, we conclude that \\( |\\mathcal{P}(\\mathbb{N})| = 2^{|\\mathbb{N}|} = 2^{\\aleph_0} \\) and since \\( \\aleph_0 < 2^{\\aleph_0} \\), it follows that \\( \\mathfrak{c} = 2^{\\aleph_0} \\). Therefore, \\( |\\mathcal{P}(\\mathbb{N})| > |\\mathbb{N}| \\)."
  },
  {
    "page": 440,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n**Proof of (a)**  \r\nLet \\(\\kappa, \\lambda, \\mu\\) be cardinal numbers and let \\(X, Y\\) and \\(Z\\) be sets with \\(|X| = \\kappa\\), \\(|Y| = \\lambda\\) and \\(|Z| = \\mu\\). Assume furthermore that \\(Y\\) and \\(Z\\) are disjoint.\r\n\r\nGiven a function \\(f : X \\cup Y \\to Z\\), define \\(f_X : X \\to Z\\) and \\(f_Y : Y \\to Z\\) by \\(f_X(a) = f(a)\\) for all \\(a \\in X\\), and \\(f_Y(a) = f(a)\\) for all \\(y \\in X\\).\r\n\r\nDefine \\(H : Z^{X \\cup Y} \\to Z^X \\times Z^Y\\) by \\(H(f) = (f_X, f_Y)\\). Then:\r\n\r\n- \\(H\\) is injective. To see this, let \\(f, g : X \\cup Y \\to Z\\) and suppose that \\(H(f) = H(g)\\). Then \\(f_X = g_X\\) and \\(f_Y = g_Y\\). Now let \\(a \\in X \\cup Y\\). Then:\r\n  - If \\(a \\in X\\), then \\(f(a) = f_X(a) = g_X(a) = g(a)\\);\r\n  - If \\(a \\in Y\\), then \\(f(a) = f_Y(a) = g_Y(a) = g(a)\\).\r\n\r\n  In both cases we have \\(f(a) = g(a)\\), so that \\(f = g\\) by function extensionality.\r\n\r\n- \\(H\\) is surjective. To see this, let \\((p, q) \\in Z^X \\times Z^Y\\), so that we have \\(p : X \\to Z\\) and \\(q : Y \\to Z\\). Define \\(f : X \\cup Y \\to Z\\) by\r\n\r\n  \\[\r\n  f(a) = \r\n  \\begin{cases} \r\n  p(a) & \\text{if } a \\in X \\\\\r\n  q(a) & \\text{if } a \\in Y \r\n  \\end{cases}\r\n  \\]\r\n\r\n  Then \\(f\\) is well-defined since \\(X\\) and \\(Y\\) are disjoint. Moreover for all \\(a \\in X\\) we have \\(f_X(a) = p(a)\\) and for all \\(a \\in Y\\) we have \\(f_Y(a) = q(a)\\), so that \\((p, q) = (f_X, f_Y) = H(f)\\), as required.\r\n\r\nSince \\(H\\) is a bijection, it follows that\r\n\r\n\\[\r\n\\mu^{\\kappa + \\lambda} = |Z|^{|X| + |Y|} = |Z|^{|X \\cup Y|} = |Z^{X \\cup Y}| = |Z^X \\times Z^Y| = |Z^X| \\cdot |Z^Y| = \\mu^\\kappa \\cdot \\mu^\\lambda\r\n\\]\r\n\r\nas required.\r\n\r\n✎ **Exercise 10.2.22**  \r\nProve parts (b) and (c) of Theorem 10.2.21.\r\n\r\n✐ **Example 10.2.23**  \r\nWe prove that \\(\\aleph_0^{\\aleph_0} = 2^{\\aleph_0}\\). Indeed:\r\n\r\n- We know that \\(\\aleph_0^{\\aleph_0} < 2^{\\aleph_0^{\\aleph_0}}\\) by Cantor’s theorem (Theorem 10.1.12), so that:\r\n\r\n  \\[\r\n  \\aleph_0^{\\aleph_0} < (2^{\\aleph_0})^{\\aleph_0} \\quad \\text{by Exercise 10.2.20}\r\n  \\]\r\n  \\[\r\n  = 2^{\\aleph_0 \\cdot \\aleph_0} \\quad \\text{by Theorem 10.2.21(c)}\r\n  \\]\r\n  \\[\r\n  = 2^{\\aleph_0} \\quad \\text{by Example 10.2.9}\r\n  \\]\r\n\r\n- Since \\(\\aleph_0 > 2\\), we have \\(2^{\\aleph_0} \\leq \\aleph_0^{\\aleph_0}\\) by Exercise 10.2.20.\r\n</markdown>",
    "Q": "Q: Given the function \\( f : X \\cup Y \\to Z \\) defined as in the proof, what is the relationship between the cardinalities of \\( Z^{X \\cup Y} \\) and \\( Z^X \\times Z^Y \\) as established by the function \\( H \\)?  \r\n",
    "A": "  \r\nA: The relationship is that \\( |Z^{X \\cup Y}| = |Z^X \\times Z^Y| \\), which follows from the fact that \\( H \\) is a bijection, implying that \\( \\mu^{\\kappa + \\lambda} = \\mu^\\kappa \\cdot \\mu^\\lambda \\)."
  },
  {
    "page": 441,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\nIt follows from the Cantor–Schröder–Bernstein theorem ([Theorem 10.1.14](#)) that \\( \\aleph_0^{\\aleph_0} = 2^{\\aleph_0} \\).\r\n\r\n### Exercise 10.2.24\r\nProve that \\( c^c = 2^c \\).\r\n\r\n### Exercise 10.2.25\r\nProve that \\( \\aleph_0^{\\aleph_0^{\\aleph_0}} = 2^c \\).\r\n\r\n## Indexed cardinal sums and products\r\n\r\n### Definition 10.2.26\r\nLet \\(\\{A_i \\mid i \\in I\\}\\) be a family of sets indexed by a set \\(I\\). The (indexed) disjoint union of \\(\\{A_i \\mid i \\in I\\}\\) is the set \\(\\bigsqcup_{i \\in I} A_i\\) (LaTeX code: `\\bigsqcup_{i \\in I}`) defined by\r\n\r\n\\[\r\n\\bigsqcup_{i \\in I} A_i = \\bigcup_{i \\in I} (\\{i\\} \\times A_i) = \\{(i, a) \\mid i \\in I, a \\in A_i\\}\r\n\\]\r\n\r\nNote that for all \\(i, j \\in I\\) with \\(i \\neq j\\), the sets \\(\\{i\\} \\times A_i\\) and \\(\\{j\\} \\times A_j\\) are disjoint even if the sets \\(A_i\\) and \\(A_j\\) are not—hence the term disjoint union!\r\n\r\nAn element \\((i, a) \\in \\bigsqcup_{i \\in I} A_i\\) can be thought of as simply being an element \\(a \\in A_i\\), but keeping track of the label \\(i\\) of the set \\(A_i\\).\r\n\r\n### Example 10.2.27\r\nGiven a set \\(I\\) and a set \\(A\\), we have\r\n\r\n\\[\r\n\\bigsqcup_{i \\in I} A = \\bigcup_{i \\in I} (\\{i\\} \\times A) = I \\times A\r\n\\]\r\n\r\nThus the disjoint union of ‘\\(I\\)-many’ copies of a set \\(A\\) is simply \\(I \\times A\\).\r\n\r\n### Exercise 10.2.28\r\nLet \\(\\{X_i \\mid i \\in I\\}\\) be a family of sets indexed by a set \\(I\\), and define a function\r\n\r\n\\[\r\nq : \\bigsqcup_{i \\in I} X_i \\to \\bigcup_{i \\in I} X_i\r\n\\]\r\n\r\nby \\(q(i, a) = a\\) for all \\(i \\in I\\) and \\(a \\in X_i\\). Prove that if the sets \\(X_i\\) for \\(i \\in I\\) are pairwise disjoint, then \\(q\\) is a bijection.\r\n</markdown>",
    "Q": "Q: Prove that if \\( \\{A_i \\mid i \\in I\\} \\) is a family of pairwise disjoint sets, then the function \\( q : \\bigsqcup_{i \\in I} A_i \\to \\bigcup_{i \\in I} A_i \\) defined by \\( q(i, a) = a \\) is a bijection. ",
    "A": " A: The function \\( q \\) is injective, because if \\( q(i_1, a_1) = q(i_2, a_2) \\), then \\( a_1 = a_2 \\) implies \\( (i_1, a_1) = (i_2, a_2) \\), ensuring that \\( i_1 = i_2 \\) and \\( a_1 = a_2 \\). \\( q \\) is also surjective because for any \\( a \\in \\bigcup_{i \\in I} A_i \\), there exists an \\( i \\in I \\) such that \\( a \\in A_i \\), and thus \\( q(i, a) = a \\). Therefore, \\( q \\) is a bijection."
  },
  {
    "page": 442,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n### Definition 10.2.29\r\n\r\nLet \\(\\{\\kappa_i \\mid i \\in I\\}\\) be an indexed family of cardinal numbers. The **(indexed) cardinal sum** of \\(\\kappa_i\\) for \\(i \\in I\\) is defined by\r\n\r\n\\[\r\n\\sum_{i \\in I} \\kappa_i = \\left| \\bigsqcup_{i \\in I} [\\kappa_i] \\right|\r\n\\]\r\n\r\nThat is, the indexed cardinal sum is the cardinality of the indexed disjoint union.\r\n\r\nAs with the finitary operations, we should check that this agrees with the definition of addition for natural numbers. And indeed it does—given a finite set \\(I\\) and natural numbers \\(n_i\\) for each \\(i \\in I\\), the fact that\r\n\r\n\\[\r\n\\left| \\bigsqcup_{i \\in I} [n_i] \\right| = \\sum_{i \\in I} n_i\r\n\\]\r\n\r\nis an immediate consequence of the addition principle (Theorem 8.1.24).\r\n\r\n### Example 10.2.30\r\n\r\nBy Example 10.2.27 we have\r\n\r\n\\[\r\n\\sum_{i \\in I} \\kappa = |I \\times [\\kappa]| = |I| \\cdot \\kappa\r\n\\]\r\n\r\nfor all sets \\(I\\) and all cardinal numbers \\(\\kappa\\).\r\n\r\n### Example 10.2.31\r\n\r\nWe prove that \\(\\sum_{n \\in \\mathbb{N}} n = \\aleph_0\\).\r\n\r\nDefine a function \\(f : \\bigsqcup_{n \\in \\mathbb{N}} [n] \\to \\mathbb{N} \\times \\mathbb{N}\\) by \\(f(n, k) = (n, k)\\) for all \\(n \\in \\mathbb{N}\\) and \\(k \\in [n]\\).\r\n\r\nEvidently \\(f\\) is injective, since it is the inclusion function of a subset. Therefore\r\n\r\n\\[\r\n\\sum_{n \\in \\mathbb{N}} n \\leq |\\mathbb{N} \\times \\mathbb{N}| = \\aleph_0 \\cdot \\aleph_0 = \\aleph_0\r\n\\]\r\n\r\nDefine a function \\(g : \\mathbb{N} \\to \\bigsqcup_{n \\in \\mathbb{N}} [n]\\) by \\(g(n) = (n+1, 1)\\) for all \\(n \\in \\mathbb{N}\\). Then \\(g\\) is an injection, since given \\(m, n \\in \\mathbb{N}\\), if \\(g(m) = g(n)\\), then \\((m+1, 1) = (n+1, 1)\\), and so \\(m+1 = n+1\\). Thus \\(m = n\\), as required. So we have\r\n\r\n\\[\r\n\\aleph_0 = |\\mathbb{N}| \\leq \\left| \\bigsqcup_{n \\in \\mathbb{N}} [n] \\right| = \\sum_{n \\in \\mathbb{N}} n\r\n\\]\r\n\r\nBy the Cantor–Schröder–Bernstein theorem, we have \\(\\sum_{n \\in \\mathbb{N}} n = \\aleph_0\\).\r\n</markdown>",
    "Q": "Q: If \\( I \\) is a set with cardinality \\( \\kappa \\) and each \\( \\kappa_i = n_i \\) where \\( n_i \\) are natural numbers for \\( i \\in I \\), what is the relationship between the indexed cardinal sum \\( \\sum_{i \\in I} n_i \\) and \\( \\kappa \\)? ",
    "A": " A: The relationship is given by \\( \\sum_{i \\in I} n_i = |I| \\cdot \\kappa = \\kappa \\cdot \\kappa \\) if \\( |I| = \\kappa \\) and all \\( n_i \\) are finite, yielding a cardinality of \\( \\kappa \\)."
  },
  {
    "page": 443,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n### Exercise 10.2.32\r\n\r\nLet \\((a_n)_{n \\in \\mathbb{N}}\\) be a sequence of natural numbers, and let \\(I = \\{n \\in \\mathbb{N} \\mid a_n > 0\\}\\). Prove that\r\n\r\n\\[\r\n\\sum_{n \\in \\mathbb{N}} a_n = \r\n\\begin{cases} \r\n\\infty & \\text{if } I \\text{ is infinite} \\\\ \r\n\\sum_{k=1}^{n} a_{n_k} & \\text{if } I = \\{n_k \\mid k \\in [n]\\} \\text{ is finite} \r\n\\end{cases}\r\n\\]\r\n\r\n### Lemma 10.2.33\r\n\r\nLet \\(\\{X_i \\mid i \\in I\\}\\) be a family of pairwise disjoint sets, indexed by a set \\(I\\). Then\r\n\r\n\\[\r\n\\left| \\bigcup_{i \\in I} X_i \\right| = \\sum_{i \\in I} |X_i|\r\n\\]\r\n\r\n**Proof**\r\n\r\nFor each \\(i \\in I\\) let \\(\\kappa_i = |X_i|\\), and let \\(f_i : [\\kappa_i] \\to X_i\\) be a bijection. Then the function\r\n\r\n\\[\r\nf : \\bigsqcup_{i \\in I} [\\kappa_i] \\to \\bigsqcup_{i \\in I} X_i\r\n\\]\r\n\r\ndefined by \\(f(i, a) = f_i(a)\\) for all \\(i \\in I\\) and \\(a \\in [\\kappa_i]\\) is a bijection, since it has an inverse \\(g\\) given by \\(g(i, a) = f_i^{-1}(a)\\) for all \\(i \\in I\\) and \\(a \\in X_i\\).\r\n\r\nSince the sets \\(X_i\\) are pairwise disjoint, we have by Exercise 10.2.28 that there is a bijection \\(\\bigsqcup_{i \\in I} X_i \\to \\bigcup_{i \\in I} X_i\\). Hence\r\n\r\n\\[\r\n\\left| \\bigcup_{i \\in I} X_i \\right| = \\left| \\bigsqcup_{i \\in I} X_i \\right| = \\left| \\bigsqcup_{i \\in I} [\\kappa_i] \\right| = \\sum_{i \\in I} \\kappa_i = \\sum_{i \\in I} |X_i|\r\n\\]\r\n\r\nas required. \\(\\square\\)\r\n\r\n### Definition 10.2.34\r\n\r\nLet \\(\\{X_i \\mid i \\in I\\}\\) be family of sets indexed by a set \\(I\\). The (indexed) cartesian product of the sets \\(X_i\\) for \\(i \\in I\\) is defined by\r\n\r\n\\[\r\n\\prod_{i \\in I} X_i = \\left\\{ f : I \\to \\bigcup_{i \\in I} X_i \\mid f(i) \\in X_i \\text{ for all } i \\in I \\right\\}\r\n\\]\r\n\r\nAn element \\(f \\in \\prod_{i \\in I} X_i\\) is called a **choice function** for the family \\(\\{X_i \\mid i \\in I\\}\\).\r\n\r\nIt is worth pointing out that the axiom of choice (Axiom 3.2.33) says precisely that the cartesian product of every family of inhabited sets is inhabited.\r\n</markdown>",
    "Q": "Q: Given a sequence \\((b_n)_{n \\in \\mathbb{N}}\\) of natural numbers such that \\(I' = \\{n \\in \\mathbb{N} \\mid b_n > 0\\}\\) is infinite, what can we conclude about the sum \\(\\sum_{n \\in \\mathbb{N}} b_n\\)? ",
    "A": " A: We can conclude that \\(\\sum_{n \\in \\mathbb{N}} b_n = \\infty\\) since \\(I'\\) is infinite."
  },
  {
    "page": 444,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.2 Cardinal Arithmetic",
    "content": "<markdown>\r\n### Example 10.2.35\r\n\r\nGiven a set \\( I \\) and a set \\( X \\), a choice function for \\(\\{ X \\mid i \\in I \\}\\) is a function \\( f : I \\to \\bigcup_{i \\in I} X = X \\) such that \\( f(i) \\in X \\) for all \\( i \\in I \\). But then every function \\( f : I \\to X \\) is a choice function, and so\r\n\r\n\\[\r\n\\prod_{i \\in I} X = X^I\r\n\\]\r\n\r\nwhich is the set of functions \\( I \\to X \\).\r\n\r\n### Definition 10.2.36\r\n\r\nLet \\(\\{ \\kappa_i \\mid i \\in I \\}\\) be an indexed family of cardinal numbers. The (indexed) cardinal product of \\(\\kappa_i\\) for \\( i \\in I \\) is defined by\r\n\r\n\\[\r\n\\prod_{i \\in I} \\kappa_i = \\left| \\prod_{i \\in I} [\\kappa_i] \\right|\r\n\\]\r\n\r\nThat is, the indexed cardinal product is the cardinality of the indexed cartesian product.\r\n\r\n### Example 10.2.37\r\n\r\nBy Example 10.2.35, we have\r\n\r\n\\[\r\n\\prod_{i \\in I} \\kappa = |[\\kappa]|^{|I|} = \\kappa^{|I|}\r\n\\]\r\n\r\nfor all sets \\( I \\) and all cardinal numbers \\( \\kappa \\).\r\n\r\n### Exercise 10.2.38\r\n\r\nProve that \\(\\prod_{n \\in \\mathbb{N}} n = 2^{\\aleph_0}\\).\r\n\r\n### Exercise 10.2.39\r\n\r\nProve that there do not exist cardinal numbers \\(\\{ \\kappa_n \\mid n \\in \\mathbb{N} \\}\\) such that \\(\\kappa_n \\neq 1\\) for all \\( n \\in \\mathbb{N} \\) and \\(\\prod_{n \\in \\mathbb{N}} \\kappa_n = \\aleph_0\\).\r\n</markdown>",
    "Q": "Q: If \\( \\kappa_1 = 2 \\) and \\( \\kappa_2 = 2 \\), what is the value of \\(\\prod_{i=1}^{2} \\kappa_i\\)? ",
    "A": " A: \\(\\prod_{i=1}^{2} \\kappa_i = 2 \\times 2 = 4\\)."
  },
  {
    "page": 445,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.E Chapter 10 Exercises",
    "content": "<markdown>\r\n# Section 10.E\r\n\r\n## Chapter 10 exercises\r\n\r\n### Countability\r\n\r\nIn Questions 10.1 to 10.4, prove that the set is countable.\r\n\r\n10.1. The set \\( D = \\left\\{ \\frac{a}{2^n} \\mid a \\in \\mathbb{Z}, n \\in \\mathbb{N} \\right\\} \\) of dyadic rational numbers.\r\n\r\n10.2. The set of all functions \\([n] \\to \\mathbb{Z}\\), where \\(n \\in \\mathbb{N}\\).\r\n\r\n10.3. The set of all real numbers whose square is rational.\r\n\r\n10.4. The following set:\r\n\r\n\\[\r\n[(\\mathbb{Z} \\times \\mathbb{Q}) \\setminus (\\mathbb{N} \\times \\mathbb{Z})] \\cup \\{ n \\in \\mathbb{N} \\mid \\exists u, v \\in \\mathbb{N}, n = 5u + 6v \\} \\cup \\{ x \\in \\mathbb{R} \\mid x - \\sqrt{2} \\in \\mathbb{Q} \\}\r\n\\]\r\n\r\nIn Questions 10.5 to 10.7, prove that the set is uncountable.\r\n\r\n10.5. The set of all functions \\(\\mathbb{Z} \\to \\{0, 1\\}\\).\r\n\r\n10.6. The set of all subsets \\(U \\subseteq \\mathbb{N}\\) such that neither \\(U\\) nor \\(\\mathbb{N} \\setminus U\\) is finite.\r\n\r\n10.7. The set of all sequences of rational numbers that converge to 0.\r\n\r\nIn Questions 10.8 to 10.12, determine whether the set is countable or uncountable, and then prove it.\r\n\r\n10.8. The set of all functions \\(f : \\mathbb{N} \\to \\mathbb{N}\\) that are weakly decreasing—that is, such that for all \\(m, n \\in \\mathbb{N}\\), if \\(m \\leq n\\), then \\(f(m) \\geq f(n)\\).\r\n\r\n10.9. The set of all functions \\(f : \\mathbb{N} \\to \\mathbb{Z}\\) that are weakly decreasing.\r\n\r\n10.10. The set of all periodic functions \\(f : \\mathbb{Z} \\to \\mathbb{Q}\\)—that is, such that there is some integer \\(p > 0\\) such that \\(f(x + p) = f(x)\\) for all \\(x \\in \\mathbb{Z}\\).\r\n\r\n10.11. The set of all periodic functions \\(f : \\mathbb{Q} \\to \\mathbb{Z}\\)—that is, such that there is some rational number \\(p > 0\\) such that \\(f(x + p) = f(x)\\) for all \\(x \\in \\mathbb{Q}\\).\r\n\r\n10.12. The set of all real numbers \\(x\\) such that \\(a_0 + a_1 x + \\cdots + a_d x^d = 0\\) for some rational numbers \\(a_0, a_1, \\ldots, a_d\\) with \\(a_d \\neq 0\\).\r\n\r\n10.13. A subset \\(D \\subseteq \\mathbb{R}\\) is dense if \\((a - \\varepsilon, a + \\varepsilon) \\cap U\\) is inhabited for all \\(a \\in \\mathbb{R}\\) and all \\(\\varepsilon > 0\\)—intuitively, this means that there are elements of \\(U\\) arbitrarily close to any real number. Must a dense subset of \\(\\mathbb{R}\\) be uncountable?\r\n</markdown>",
    "Q": "Q: Is the set of all periodic functions \\(f : \\mathbb{Z} \\to \\mathbb{Q}\\) countable or uncountable? Provide a proof.  \r\n",
    "A": "  \r\nA: The set of all periodic functions \\(f : \\mathbb{Z} \\to \\mathbb{Q}\\) is countable. To prove this, note that for each periodic function, we can describe its behavior completely by its values on a finite number of integers, specifically one complete period. Since there are countably many choices for the period \\(p\\) (any positive integer) and \\(f\\) can take any rational value for each of the \\(p\\) inputs, there are at most \\(|\\mathbb{Q}|^p\\) functions for each \\(p\\). The union over all \\(p\\) is countable because it is the countable union of countable sets. Therefore, the set of all periodic functions \\(f : \\mathbb{Z} \\to \\mathbb{Q}\\) is countable."
  },
  {
    "page": 446,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.E Chapter 10 Exercises",
    "content": "<markdown>\r\n## Cardinality\r\n\r\nIn Questions 10.14 to 10.20, determine whether the cardinality of the set is equal to \\(\\aleph_0\\), equal to \\(c\\), or greater than \\(c\\).\r\n\r\n10.14. \\(\\mathcal{P}(\\mathbb{R})\\).\r\n\r\n10.15. The set of all finite subsets of \\(\\mathbb{R}\\).\r\n\r\n10.16. The set of all countably infinite subsets of \\(\\mathbb{R}\\).\r\n\r\n10.17. \\(\\mathbb{R} \\times \\mathbb{R}\\).\r\n\r\n10.18. The set of all functions \\(f : \\mathbb{N} \\rightarrow \\mathbb{R}\\) such that \\(f(n) = 0\\) for all but finitely many \\(n \\in \\mathbb{N}\\).\r\n\r\n10.19. The set of all functions \\(\\mathbb{Q} \\rightarrow \\mathbb{R}\\).\r\n\r\n10.20. The set of all functions \\(\\mathbb{R} \\rightarrow \\mathbb{R}\\).\r\n\r\n10.21. Prove that there is a set \\(\\mathcal{C}\\) of pairwise disjoint circles in \\(\\mathbb{R}^2\\) such that \\(|\\mathcal{C}| = c\\); formally, a circle is a subset \\(C \\subseteq \\mathbb{R}^2\\) of the form\r\n\r\n\\[\r\nC = \\{(x, y) \\mid (x-a)^2 + (y-b)^2 = r^2\\}\r\n\\]\r\n\r\nfor some \\(a, b \\in \\mathbb{R}\\) and some \\(r > 0\\).\r\n\r\n10.22. Prove that there does not exist a set \\(\\mathcal{D}\\) of pairwise disjoint discs in \\(\\mathbb{R}^2\\) such that \\(|\\mathcal{D}| = c\\); formally, a disc is a subset \\(D \\subseteq \\mathbb{R}^2\\) of the form\r\n\r\n\\[\r\nD = \\{(x, y) \\mid (x-a)^2 + (y-b)^2 \\leq r^2\\}\r\n\\]\r\n\r\nfor some \\(a, b \\in \\mathbb{R}\\) and some \\(r > 0\\).\r\n\r\n## Cardinal arithmetic\r\n\r\n10.23. Prove that \\(\\kappa + 0 = \\kappa \\cdot 1 = \\kappa^1 = \\kappa\\) for all cardinal numbers \\(\\kappa\\).\r\n\r\n10.24. Prove that \\(\\kappa^0 = 1^\\kappa = 1\\) for all cardinal numbers \\(\\kappa\\).\r\n\r\n10.25. Let \\(\\kappa\\) be an infinite cardinal number such that \\(\\kappa \\cdot \\kappa = \\kappa\\). Prove that \\(\\kappa^\\kappa = 2^\\kappa\\).\r\n\r\n10.26. Prove that \\(c^c = 2^{2^{\\aleph_0}}\\).\r\n\r\n10.27. Let \\(\\kappa, \\lambda\\) and \\(\\mu\\) be cardinal numbers.\r\n\r\n(a) Prove that if \\(\\kappa \\leq \\lambda\\), then \\(\\kappa + \\mu \\leq \\lambda + \\mu\\).\r\n\r\n(b) Suppose that \\(\\kappa + \\mu \\leq \\lambda + \\mu\\). Must it be the case that \\(\\kappa \\leq \\lambda\\)?\r\n</markdown>",
    "Q": "Q: Let \\(\\kappa\\) be an infinite cardinal such that \\(\\kappa \\cdot \\kappa = \\kappa\\). What can be said about the cardinality of the set of all functions \\(f : \\mathbb{N} \\rightarrow \\mathbb{R}\\)? ",
    "A": " A: The cardinality of the set of all functions \\(f : \\mathbb{N} \\rightarrow \\mathbb{R}\\) is equal to \\(c^\\aleph_0\\), which is also \\(2^{\\aleph_0} = c\\), since each function can be viewed as a choice of one real number for each natural number."
  },
  {
    "page": 447,
    "title": "Ii Topics In Pure Mathematics/10 Infinity/10.E Chapter 10 Exercises",
    "content": "<markdown>\r\n### Section 10.E. Chapter 10 exercises\r\n\r\n**10.28.** Let \\(\\kappa, \\lambda\\) and \\(\\mu\\) be cardinal numbers.\r\n\r\n(a) Prove that if \\(\\kappa \\leq \\lambda\\), then \\(\\kappa \\cdot \\mu \\leq \\lambda \\cdot \\mu\\).\r\n\r\n(b) Suppose that \\(\\kappa \\cdot \\mu \\leq \\lambda \\cdot \\mu\\) and \\(\\mu > 0\\). Must it be the case that \\(\\kappa \\leq \\lambda\\)?\r\n\r\n**10.29.** Let \\(\\kappa, \\lambda\\) and \\(\\mu\\) be cardinal numbers.\r\n\r\n(a) Prove that if \\(\\kappa \\leq \\lambda\\), then \\(\\kappa^\\mu \\leq \\lambda^\\mu\\).\r\n\r\n(b) Suppose that \\(\\kappa^\\mu \\leq \\lambda^\\mu\\) and \\(\\mu > 0\\). Must it be the case that \\(\\kappa \\leq \\lambda\\)?\r\n\r\n**10.30.** Let \\(\\kappa, \\lambda\\) and \\(\\mu\\) be cardinal numbers.\r\n\r\n(a) Prove that if \\(\\kappa \\leq \\lambda\\), then \\(\\mu^\\kappa \\leq \\mu^\\lambda\\).\r\n\r\n(b) Suppose that \\(\\mu^\\kappa \\leq \\mu^\\lambda\\) and \\(\\mu > 1\\). Must it be the case that \\(\\kappa \\leq \\lambda\\)?\r\n\r\n---\r\n\r\n### Definition 10.E.1\r\n\r\nGiven cardinal numbers \\(\\kappa\\) and \\(\\lambda\\), define the **binomial coefficient** \\(\\binom{\\kappa}{\\lambda}\\) by\r\n\r\n\\[\r\n\\binom{\\kappa}{\\lambda} = |\\{ U \\subseteq [\\kappa] \\mid |U| = \\lambda \\}|\r\n\\]\r\n\r\n**10.31.** Let \\(\\kappa\\) be a cardinal number. Prove that\r\n\r\n\\[\r\n\\binom{\\aleph_0}{\\kappa} = \r\n\\begin{cases} \r\n1 & \\text{if } \\kappa = 0 \\\\\r\n\\aleph_0 & \\text{if } \\kappa \\in \\mathbb{N} \\text{ and } \\kappa > 0 \\\\\r\n2^{\\aleph_0} & \\text{if } \\kappa = \\aleph_0 \\\\\r\n0 & \\text{if } \\kappa \\notin \\mathbb{N} \\cup \\{\\aleph_0\\}\r\n\\end{cases}\r\n\\]\r\n\r\n**10.32.** Find the values of \\(\\binom{c}{\\kappa}\\) for \\(\\kappa \\in \\mathbb{N} \\cup \\{\\aleph_0, c\\}\\).\r\n\r\n**10.33.** Prove that \\(\\sum_{\\lambda < \\kappa} \\binom{\\kappa}{\\lambda} = 2^\\kappa\\) for all cardinal numbers \\(\\kappa\\).\r\n\r\n**10.34.** Define the factorial \\(\\kappa!\\) of a cardinal number \\(\\kappa\\) in a way that generalises the notion of factorial \\(n!\\) for a natural number \\(n\\). Find expressions for \\(\\aleph_0!\\) and \\(c!\\).\r\n\r\n---\r\n\r\n### True–False questions\r\n\r\nIn [Questions 10.35 to 10.45](#), determine (with proof) whether the statement is true or false.\r\n</markdown>",
    "Q": "Q: If \\(\\kappa\\) and \\(\\lambda\\) are cardinal numbers such that \\(\\kappa \\leq \\lambda\\), what can be deduced about the relationship between the binomial coefficients \\(\\binom{\\lambda}{\\kappa}\\) and \\(\\binom{\\lambda}{\\lambda}\\)? ",
    "A": " A: Since \\(\\kappa \\leq \\lambda\\), we can deduce that \\(\\binom{\\lambda}{\\kappa} \\leq \\binom{\\lambda}{\\lambda} = 1\\). Specifically, if \\(\\kappa < \\lambda\\), then \\(\\binom{\\lambda}{\\kappa} > 0\\), and if \\(\\kappa = \\lambda\\), \\(\\binom{\\lambda}{\\kappa} = 1\\)."
  },
  {
    "page": 450,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\n## Section 11.1\r\n\r\n# Discrete probability spaces\r\n\r\nProbability theory is a field of mathematics which attempts to model randomness and uncertainty in the ‘real world’. The mathematical machinery it develops allows us to understand how this randomness behaves and to extract information which is useful for making predictions.\r\n\r\n*Discrete* probability theory, in particular, concerns situations in which the possible outcomes form a *countable* set. This simplifies matters considerably: if there are only countably many outcomes, then the probability that any event occurs is determined entirely by the probabilities that the individual outcomes comprised by the event occur.\r\n\r\nFor example, the number \\( N \\) of words spoken by a child over the course of a year takes values in \\( \\mathbb{N} \\), so is discrete. To each \\( n \\in \\mathbb{N} \\), we may assign a probability that \\( N = n \\), which can take positive values in a meaningful way, and from these probabilities we can compute the probabilities of more general events occurring (e.g. the probability that the child says under a million words). However, the height \\( H \\) grown by the child over the same period takes values in \\([0, \\infty)\\), which is uncountable; for each \\( h \\in [0, \\infty) \\), the probability that \\( H = h \\) is zero, so these probabilities give us no information. We must study the behaviour of \\( H \\) through some other means.\r\n\r\nIn this chapter, we will concern ourselves only with the discrete setting.\r\n\r\nIt is important to understand from the outset that, although we use language like *outcome*, *event*, *probability* and *random*, and although we use real-world examples, everything we do concerns mathematical objects: sets, elements of sets, and functions. If we say, for example, “the probability that a roll of a fair six-sided die shows 3 or 4 is \\( \\frac{1}{3} \\),” we are actually interpreting the situation mathematically—the *outcomes* of the die rolls are interpreted as the elements of the set \\([6]\\); the *event* that the die shows 3 or 4 is interpreted as the subset \\(\\{3, 4\\} \\subseteq [6]\\); and the *probability* that this event occurs is the value of a particular function \\(\\mathbb{P} : \\mathcal{P}([6]) \\rightarrow [0, 1]\\) on input \\(\\{3, 4\\}\\). The mathematical interpretation is called a *model* of the real-world situation.\r\n</markdown>",
    "Q": "Q: Given a discrete probability space where a fair six-sided die is rolled, what is the probability of rolling an even number? ",
    "A": " A: The even numbers on a six-sided die are \\(2, 4, 6\\). Since there are three favorable outcomes and a total of six possible outcomes, the probability of rolling an even number is \\( \\frac{3}{6} = \\frac{1}{2} \\)."
  },
  {
    "page": 451,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\n### Definition 11.1.1\r\n\r\nA **discrete probability space** is a pair \\((\\Omega, \\mathbb{P})\\) (LaTeX code: \\((\\Omega, \\mathbb{P})\\)), consisting of a countable set \\(\\Omega\\) and a function \\(\\mathbb{P} : \\mathcal{P}(\\Omega) \\to [0, 1]\\), such that\r\n\r\n(i) \\(\\mathbb{P}(\\Omega) = 1\\); and\r\n\r\n(ii) **(Countable additivity)** If \\(\\{A_i \\mid i \\in I\\}\\) is any family of pairwise disjoint subsets of \\(\\Omega\\), indexed by a countable set \\(I\\), then\r\n\r\n\\[\r\n\\mathbb{P}\\left(\\bigcup_{i \\in I} A_i\\right) = \\sum_{i \\in I} \\mathbb{P}(A_i)\r\n\\]\r\n\r\nThe set \\(\\Omega\\) is called the **sample space**; the elements \\(\\omega \\in \\Omega\\) are called **outcomes**; the subsets \\(A \\subseteq \\Omega\\) are called **events**; and the function \\(\\mathbb{P}\\) is called the **probability measure**. Given an event \\(A\\), the value \\(\\mathbb{P}(A)\\) is called the **probability of** \\(A\\).\r\n\r\n<sup>a</sup>The symbols \\(\\Omega, \\omega\\) (LaTeX code: \\(\\omega, \\omega\\)) are the upper- and lower-case forms, respectively, of the Greek letter omega.\r\n\r\nThere is a general notion of a probability space, which does not require the sample space \\(\\Omega\\) to be countable. This definition is significantly more technical, so we restrict our attention in this section to **discrete probability spaces**. Thus, whenever we say ‘probability space’ in this section, the probability space can be assumed to be discrete. However, when our proofs do not specifically use countability of \\(\\Omega\\), they typically are true of arbitrary probability spaces. As such, we will specify discreteness in the statement of results only when countability of the sample space is required.\r\n\r\n### Example 11.1.2\r\n\r\nWe model the roll of a fair six-sided die.\r\n\r\nThe possible **outcomes** of the roll are 1, 2, 3, 4, 5 and 6, so we can take \\(\\Omega = [6]\\) to be the sample space.\r\n\r\nThe **events** correspond with subsets of \\([6]\\). For example:\r\n\r\n- \\(\\{4\\}\\) is the event that the die roll shows 4. This event occurs with probability \\(\\frac{1}{6}\\).\r\n\r\n- \\(\\{1, 3, 5\\}\\) is the event that the die roll is odd. This event occurs with probability \\(\\frac{1}{2}\\).\r\n\r\n- \\(\\{1, 4, 6\\}\\) is the event that the die roll is not prime. This event occurs with probability \\(\\frac{1}{2}\\).\r\n\r\n- \\(\\{3, 4, 5, 6\\}\\) is the event that the die roll shows a number greater than 2. This event occurs with probability \\(\\frac{2}{3}\\).\r\n</markdown>",
    "Q": "Q: If the sample space \\(\\Omega\\) is defined as the outcomes of rolling two fair six-sided dice, what is the probability of the event that the sum of the two dice is equal to 7? ",
    "A": " A: The total number of outcomes when rolling two dice is \\(36\\). The combinations that yield a sum of 7 are: \\((1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\\), giving us 6 favorable outcomes. Thus, the probability of the event is \\(\\mathbb{P}(\\text{sum} = 7) = \\frac{6}{36} = \\frac{1}{6}\\)."
  },
  {
    "page": 452,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\n- \\(\\{1, 2, 3, 4, 5, 6\\}\\) is the event that anything happens. This event occurs with probability 1.\r\n\r\n- \\(\\emptyset\\) is the event that nothing happens. This event occurs with probability 0.\r\n\r\nMore generally, since each outcome occurs with equal probability \\(\\frac{1}{6}\\), we can define\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\frac{|A|}{6}\r\n\\]\r\n\r\nfor all events \\(A\\).\r\n\r\nWe will verify that \\(\\mathbb{P}\\) defines a probability measure on [6] in Example 11.1.6.\r\n\r\n### Example 11.1.3\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space. We prove that \\(\\mathbb{P}(\\emptyset) = 0\\).\r\n\r\nNote that \\(\\Omega\\) and \\(\\emptyset\\) are disjoint, so by countable additivity, we have\r\n\r\n\\[\r\n1 = \\mathbb{P}(\\Omega) = \\mathbb{P}(\\Omega \\cup \\emptyset) = \\mathbb{P}(\\Omega) + \\mathbb{P}(\\emptyset) = 1 + \\mathbb{P}(\\emptyset)\r\n\\]\r\n\r\nSubtracting 1 throughout yields \\(\\mathbb{P}(\\emptyset) = 0\\), as required.\r\n\r\n### Exercise 11.1.4\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space. Prove that\r\n\r\n\\[\r\n\\mathbb{P}(\\Omega \\setminus A) = 1 - \\mathbb{P}(A)\r\n\\]\r\n\r\nfor all events \\(A\\).\r\n\r\nCountable additivity of probability measures—that is, condition (ii) in Definition 11.1.1—implies that probabilities of events are determined by probabilities of individual outcomes. This is made precise in Proposition 11.1.5.\r\n\r\n### Proposition 11.1.5\r\nLet \\(\\Omega\\) be a countable set and let \\(\\mathbb{P} : \\mathcal{P}(\\Omega) \\to [0, 1]\\) be a function such that \\(\\mathbb{P}(\\Omega) = 1\\). The following are equivalent:\r\n\r\n(i) \\(\\mathbb{P}\\) is a probability measure on \\(\\Omega\\);\r\n\r\n(ii) \\(\\sum_{\\omega \\in A} \\mathbb{P}(\\{\\omega\\}) = \\mathbb{P}(A)\\) for all \\(A \\subseteq \\Omega\\).\r\n\r\n**Proof**\r\n\r\nSince \\(\\mathbb{P}(\\Omega) = 1\\), it suffices to prove that condition (ii) of Proposition 11.1.5 is equivalent to countable additivity of \\(\\mathbb{P}\\).\r\n\r\n- (i)⇒(ii). Suppose \\(\\mathbb{P}\\) is a probability measure on \\(\\Omega\\). Let \\(A \\subseteq \\Omega\\).\r\n</markdown>",
    "Q": "Q: If \\(A = \\{2, 4, 6\\}\\), what is the probability \\(\\mathbb{P}(A)\\) using the probability measure defined in the context? ",
    "A": " A: \\(\\mathbb{P}(A) = \\frac{|A|}{6} = \\frac{3}{6} = \\frac{1}{2}\\)"
  },
  {
    "page": 453,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nNote that since \\( A \\subseteq \\Omega \\) and \\(\\Omega\\) is countably infinite, it follows that \\(\\{ \\{\\omega\\} \\mid \\omega \\in A \\}\\) is a countable family of pairwise disjoint sets. By countable additivity, we have\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P} \\left( \\bigcup_{\\omega \\in A} \\{\\omega\\} \\right) = \\sum_{\\omega \\in A} \\mathbb{P}(\\{\\omega\\})\r\n\\]\r\n\r\nas required. Hence condition (ii) of the proposition is satisfied.\r\n\r\n- (ii) \\(\\Rightarrow\\) (i). Suppose that \\(\\sum_{\\omega \\in A} \\mathbb{P}(\\{\\omega\\}) = \\mathbb{P}(A)\\) for all \\(A \\subseteq \\Omega\\). We prove that \\(\\mathbb{P}\\) is a probability measure on \\(\\Omega\\).\r\n\r\nSo let \\(\\{A_i \\mid i \\in I\\}\\) be a family of pairwise disjoint events, indexed by a countable set \\(I\\). Define \\(A = \\bigcup_{i \\in I} A_i\\). Since the sets \\(A_i\\) partition \\(A\\), summing over elements of \\(A\\) is the same as summing over each of the sets \\(A_i\\) individually, and then adding those results together; specifically, for each \\(A\\)-tuple \\((p_\\omega)_{\\omega \\in A}\\), we have\r\n\r\n\\[\r\n\\sum_{\\omega \\in A} p_\\omega = \\sum_{i \\in I} \\sum_{\\omega \\in A_i} p_\\omega\r\n\\]\r\n\r\nHence\r\n\r\n\\[\r\n\\begin{align*}\r\n\\mathbb{P}(A) &= \\sum_{\\omega \\in A} \\mathbb{P}(\\{\\omega\\}) & \\text{by condition (ii) of the proposition} \\\\\r\n&= \\sum_{i \\in I} \\sum_{\\omega \\in A_i} \\mathbb{P}(\\{\\omega\\}) & \\text{by the above observation} \\\\\r\n&= \\sum_{i \\in I} \\mathbb{P}(A_i) & \\text{by condition (ii) of the proposition}\r\n\\end{align*}\r\n\\]\r\n\r\nSo \\(\\mathbb{P}\\) satisfies the countable additivity condition. Thus \\(\\mathbb{P}\\) is a probability measure on \\(\\Omega\\).\r\n\r\nHence the two conditions are equivalent.\r\n\r\n🖉 **Example 11.1.6**\r\n\r\nWe prove that the function \\(\\mathbb{P}\\) from Example 11.1.2 truly does define a probability measure. Indeed, let \\(\\Omega = [6]\\) and let \\(\\mathbb{P} : \\mathcal{P}(\\Omega) \\to [0, 1]\\) be defined by\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\frac{|A|}{6} \\quad \\text{for all events } A\r\n\\]\r\n\r\nThen \\(\\mathbb{P}(\\Omega) = \\frac{6}{6} = 1\\), so condition (i) in Definition 11.1.1 is satisfied. Moreover, for each \\(A \\subseteq [6]\\) we have\r\n\r\n\\[\r\n\\sum_{\\omega \\in A} \\mathbb{P}(\\{\\omega\\}) = \\sum_{\\omega \\in A} \\frac{1}{6} = \\frac{|A|}{6} = \\mathbb{P}(A)\r\n\\]\r\n\r\nso, by Proposition 11.1.5, \\(\\mathbb{P}\\) defines a probability measure on \\([6]\\).\r\n</markdown>",
    "Q": "Q: If \\( A = \\{2, 4\\} \\) in the context of the example provided, what is the value of \\( \\mathbb{P}(A) \\)? ",
    "A": " A: The value of \\( \\mathbb{P}(A) \\) is \\( \\mathbb{P}(A) = \\frac{|A|}{6} = \\frac{2}{6} = \\frac{1}{3} \\)."
  },
  {
    "page": 454,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nProposition 11.1.5 makes defining probability measures much easier, since it implies that probability measures are determined entirely by their values on individual outcomes. This means that, in order to define a probability measure, we only need to specify its values on individual outcomes and check that the sum of these probabilities is equal to 1. This is significantly easier than defining \\(\\mathbb{P}(A)\\) on all events \\(A \\subseteq \\Omega\\) and checking the two conditions of Definition 11.1.1.\r\n\r\nThis is made precise in Proposition 11.1.7 below.\r\n\r\n### Proposition 11.1.7\r\nLet \\(\\Omega\\) be a countable set and, for each \\(\\omega \\in \\Omega\\), let \\(p_\\omega \\in [0, 1]\\). If \\(\\sum_{\\omega \\in \\Omega} p_\\omega = 1\\), then there is a unique probability measure \\(\\mathbb{P}\\) on \\(\\Omega\\) such that \\(\\mathbb{P}(\\{\\omega\\}) = p_\\omega\\) for each \\(\\omega \\in \\Omega\\).\r\n\r\n**Proof**\r\n\r\nWe prove existence and uniqueness of \\(\\mathbb{P}\\) separately.\r\n\r\n- **Existence.** Define \\(\\mathbb{P} : \\mathcal{P}(\\Omega) \\to [0, 1]\\) be defined by\r\n\r\n  \\[\r\n  \\mathbb{P}(A) = \\sum_{\\omega \\in A} p_\\omega\r\n  \\]\r\n\r\n  for all events \\(A \\subseteq \\Omega\\). Then condition (ii) of Proposition 11.1.5 is automatically satisfied, and indeed \\(\\mathbb{P}(\\{\\omega\\}) = p_\\omega\\) for each \\(\\omega \\in \\Omega\\). Moreover\r\n\r\n  \\[\r\n  \\mathbb{P}(\\Omega) = \\sum_{\\omega \\in \\Omega} \\mathbb{P}(\\{\\omega\\}) = \\sum_{\\omega \\in \\Omega} p_\\omega = 1\r\n  \\]\r\n\r\n  and so condition (i) of Definition 11.1.1 is satisfied. Hence \\(\\mathbb{P}\\) defines a probability measure on \\(\\Omega\\).\r\n\r\n- **Uniqueness.** Suppose that \\(\\mathbb{P}' : \\mathcal{P}(\\Omega) \\to [0, 1]\\) is another probability measure such that \\(\\mathbb{P}'(\\{\\omega\\}) = p_\\omega\\) for all \\(\\omega \\in \\Omega\\). For each event \\(A \\subseteq \\Omega\\), condition (ii) of Proposition 11.1.5 implies that\r\n\r\n  \\[\r\n  \\mathbb{P}'(A) = \\sum_{\\omega \\in A} \\mathbb{P}'(\\{\\omega\\}) = \\sum_{\\omega \\in A} p_\\omega = \\mathbb{P}(A)\r\n  \\]\r\n\r\n  hence \\(\\mathbb{P}' = \\mathbb{P}\\).\r\n\r\nSo \\(\\mathbb{P}\\) is uniquely determined by the values \\(p_\\omega\\).\r\n\r\nThe assignments of \\(p_\\omega \\in [0, 1]\\) to each \\(\\omega \\in \\Omega\\) in fact defines something that we will later define to be a **probability mass function** (Definition 11.2.5).\r\n\r\nWith Proposition 11.1.7 proved, we will henceforth specify probability measures \\(\\mathbb{P}\\) on sample spaces \\(\\Omega\\) by specifying only the values of \\(\\mathbb{P}(\\{\\omega\\})\\) for \\(\\omega \\in \\Omega\\).\r\n</markdown>",
    "Q": "Q: If we have a countable set \\(\\Omega\\) with outcomes \\(\\omega_1, \\omega_2, \\ldots\\) and probabilities \\(p_{\\omega_i}\\) such that \\(\\sum_{i=1}^{\\infty} p_{\\omega_i} = 1\\), how would you define the probability measure \\(\\mathbb{P}\\) for an event \\(A = \\{\\omega_1, \\omega_3\\}\\)? ",
    "A": " A: The probability measure \\(\\mathbb{P}(A)\\) is defined as \\(\\mathbb{P}(A) = \\sum_{\\omega \\in A} p_\\omega = p_{\\omega_1} + p_{\\omega_3}\\)."
  },
  {
    "page": 456,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nLet \\( A \\) be the event that the sum of the die rolls is even, that is\r\n\r\n\\[\r\nA = \\left\\{ \r\n(1, 1), (1, 3), (1, 5), (2, 2), (2, 4), (2, 6), \r\n(3, 1), (3, 3), (3, 5), (4, 2), (4, 4), (4, 6), \r\n(5, 1), (5, 3), (5, 5), (6, 2), (6, 4), (6, 6) \r\n\\right\\}\r\n\\]\r\n\r\nand let \\( B \\) be the event that the sum of the die rolls is greater than or equal to 9, that is\r\n\r\n\\[\r\nB = \\{(3, 6), (4, 5), (4, 6), (5, 4), (5, 5), (5, 6), (6, 3), (6, 4), (6, 5), (6, 6)\\}\r\n\\]\r\n\r\nThen\r\n\r\n- Consider the event that the sum of the die rolls is even or greater than or equal to 9. An outcome \\( \\omega \\) gives rise to this event precisely when either \\( \\omega \\in A \\) or \\( \\omega \\in B \\); so the event in question is \\( A \\cup B \\);\r\n\r\n- Consider the event that the sum of the die rolls is even and greater than or equal to 9. An outcome \\( \\omega \\) gives rise to this event precisely when both \\( \\omega \\in A \\) and \\( \\omega \\in B \\); so the event in question is \\( A \\cap B \\);\r\n\r\n- Consider the event that the sum of the die rolls is not even. An outcome \\( \\omega \\) gives rise to this event precisely when \\( \\omega \\notin A \\); so the event in question is \\( ([6] \\times [6]) \\setminus A \\).\r\n\r\nThus we can interpret ‘or’ as union, ‘and’ as intersection, and ‘not’ as relative complement in the sample space.\r\n\r\n**Definition 11.1.12**  \r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space. The complement of an event \\( A \\subseteq \\Omega \\) is the event \\( \\Omega \\setminus A \\subseteq \\Omega \\). We write \\( A^c \\) (LaTeX code: `A^\\text{c}`) for \\( \\Omega \\setminus A \\).\r\n\r\nThat is, when we talk about the complement of an event, we really mean their relative complement inside the sample space.\r\n\r\n**Exercise 11.1.13**  \r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space, and let \\( p(\\omega), q(\\omega) \\) be logical formulae with free variable \\( \\omega \\) ranging over \\(\\Omega\\). Let\r\n\r\n\\[\r\nA = \\{ \\omega \\in \\Omega \\mid p(\\omega) \\} \\quad \\text{and} \\quad B = \\{ \\omega \\in \\Omega \\mid q(\\omega) \\}\r\n\\]\r\n\r\nProve that\r\n</markdown>",
    "Q": "Q: What is the event that denotes the sum of the die rolls is both even and greater than or equal to 9, expressed in set notation? ",
    "A": " A: The event is represented by \\( A \\cap B \\), where \\( A \\) is the event that the sum is even and \\( B \\) is the event that the sum is greater than or equal to 9."
  },
  {
    "page": 457,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\n- \\(\\{ \\omega \\in \\Omega \\mid p(\\omega) \\land q(\\omega) \\} = A \\cap B\\);\r\n- \\(\\{ \\omega \\in \\Omega \\mid p(\\omega) \\lor q(\\omega) \\} = A \\cup B\\);\r\n- \\(\\{ \\omega \\in \\Omega \\mid \\lnot p(\\omega) \\} = A^c\\).\r\n\r\nFor reference, in [Example 11.1.11](#), we had \\(\\Omega = [6] \\times [6]\\) and we defined \\(p(a, b)\\) to be ‘\\(a + b\\) is even’ and \\(q(a, b)\\) to be ‘\\(a + b \\geq 7\\)’.\r\n\r\nWith this in mind, it will be useful to know how set operations on events interact with probabilities. A useful tool in this investigation is that of an *indicator function*.\r\n\r\n✦ **Definition 11.1.14**  \r\nLet \\(\\Omega\\) be a set and let \\(A \\subseteq \\Omega\\). The *indicator function* of \\(A\\) in \\(\\Omega\\) is the function \\(i_A : \\Omega \\to \\{0, 1\\}\\) defined by\r\n\r\n\\[\r\ni_A(\\omega) = \r\n\\begin{cases} \r\n1 & \\text{if } \\omega \\in A \\\\\r\n0 & \\text{if } \\omega \\notin A \r\n\\end{cases}\r\n\\]\r\n\r\n✣ **Proposition 11.1.15**  \r\nLet \\(\\Omega\\) be a set and let \\(A, B \\subseteq \\Omega\\). Then for all \\(\\omega \\in \\Omega\\) we have\r\n\r\n(i) \\(i_{A \\cap B}(\\omega) = i_A(\\omega)i_B(\\omega)\\);\r\n\r\n(ii) \\(i_{A \\cup B}(\\omega) = i_A(\\omega) + i_B(\\omega) - i_{A \\cap B}(\\omega)\\); and\r\n\r\n(iii) \\(i_{A^c}(\\omega) = 1 - i_A(\\omega)\\).\r\n\r\n**Proof of (i)**  \r\nLet \\(\\omega \\in \\Omega\\). If \\(\\omega \\in A \\cap B\\) then \\(\\omega \\in A\\) and \\(\\omega \\in B\\), so that \\(i_{A \\cap B}(\\omega) = i_A(\\omega) = i_B(\\omega) = 1\\). Hence\r\n\r\n\\[\r\ni_A(\\omega)i_B(\\omega) = 1 = i_{A \\cap B}(\\omega)\r\n\\]\r\n\r\nIf \\(\\omega \\notin A \\cap B\\) then either \\(\\omega \\notin A\\) or \\(\\omega \\notin B\\). Hence \\(i_{A \\cap B}(\\omega) = 0\\), and either \\(i_A(\\omega) = 0\\) or \\(i_B(\\omega) = 0\\). Thus\r\n\r\n\\[\r\ni_A(\\omega)i_B(\\omega) = 0 = i_{A \\cap B}(\\omega)\r\n\\]\r\n\r\nIn both cases, we have \\(i_{A \\cap B}(\\omega) = i_A(\\omega)i_B(\\omega)\\), as required. □\r\n\r\n✎ **Exercise 11.1.16**  \r\nProve parts (ii) and (iii) of [Proposition 11.1.15](#).\r\n\r\n✎ **Exercise 11.1.17**  \r\nLet \\((\\Omega, \\mathbb{P})\\) be a discrete probability space, and for each \\(\\omega \\in \\Omega\\) let \\(p_\\omega = \\mathbb{P}(\\{\\omega\\})\\). Prove that, for each event \\(A\\), we have\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\sum_{\\omega \\in \\Omega} p_\\omega i_A(\\omega)\r\n\\]\r\n</markdown>",
    "Q": "Q: Given the set operations described, how would you express the probability of the union of two events \\(A\\) and \\(B\\) in terms of their indicator functions? ",
    "A": " A: The probability of the union of two events \\(A\\) and \\(B\\) can be expressed as:\r\n\r\n\\[\r\n\\mathbb{P}(A \\cup B) = \\sum_{\\omega \\in \\Omega} p_\\omega i_{A \\cup B}(\\omega) = \\sum_{\\omega \\in \\Omega} p_\\omega \\left( i_A(\\omega) + i_B(\\omega) - i_{A \\cap B}(\\omega) \\right)\r\n\\]"
  },
  {
    "page": 458,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\n### Theorem 11.1.18\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(A, B \\subseteq \\Omega\\). Then\r\n\r\n\\[\r\n\\mathbb{P}(A \\cup B) = \\mathbb{P}(A) + \\mathbb{P}(B) - \\mathbb{P}(A \\cap B)\r\n\\]\r\n\r\n**Proof**\r\n\r\nFor each \\(\\omega \\in \\Omega\\), let \\(p_\\omega = \\mathbb{P}(\\{\\omega\\})\\). Then\r\n\r\n\\[\r\n\\mathbb{P}(A \\cup B) = \\sum_{\\omega \\in \\Omega} p_\\omega i_{A \\cup B}(\\omega) \\quad \\text{by Exercise 11.1.17}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in \\Omega} p_\\omega (i_A(\\omega) + i_B(\\omega) - i_{A \\cap B}(\\omega)) \\quad \\text{by Proposition 11.1.15(ii)}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in \\Omega} p_\\omega i_A(\\omega) + \\sum_{\\omega \\in \\Omega} p_\\omega i_B(\\omega) + \\sum_{\\omega \\in \\Omega} p_\\omega i_{A \\cap B}(\\omega) \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n= \\mathbb{P}(A) + \\mathbb{P}(B) - \\mathbb{P}(A \\cap B) \\quad \\text{by Exercise 11.1.17}\r\n\\]\r\n\r\nas required.\r\n\r\nAlthough there are nice expressions for unions and complements of events, it is not always the case that intersection of events corresponds with multiplication of probabilities.\r\n\r\n### Example 11.1.19\r\n\r\nLet \\(\\Omega = [3]\\) and define a probability measure \\(\\mathbb{P}\\) on \\(\\Omega\\) by letting\r\n\r\n\\[\r\n\\mathbb{P}(\\{1\\}) = \\frac{1}{4}, \\quad \\mathbb{P}(\\{2\\}) = \\frac{1}{2} \\quad \\text{and} \\quad \\mathbb{P}(\\{3\\}) = \\frac{1}{4}\r\n\\]\r\n\r\nThen we have\r\n\r\n\\[\r\n\\mathbb{P}(\\{1, 2\\} \\cap \\{2, 3\\}) = \\mathbb{P}(\\{2\\}) = \\frac{1}{2} \\neq \\frac{9}{16} = \\frac{3}{4} \\cdot \\frac{3}{4} = \\mathbb{P}(\\{1, 2\\}) \\cdot \\mathbb{P}(\\{2, 3\\})\r\n\\]\r\n\r\nThis demonstrates that it is not always the case that \\(\\mathbb{P}(A \\cap B) = \\mathbb{P}(A)\\mathbb{P}(B)\\) for events \\(A, B\\) in a given probability space. Pairs of events \\(A, B\\) for which this equation is true are said to be **independent**.\r\n\r\n### Definition 11.1.20\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(A, B\\) be events. We say \\(A\\) and \\(B\\) are **independent** if \\(\\mathbb{P}(A \\cap B) = \\mathbb{P}(A)\\mathbb{P}(B)\\); otherwise, we say they are **dependent**. More generally, events \\(A_1, A_2, \\ldots, A_n\\) are **pairwise independent** if \\(\\mathbb{P}(A_i \\cap A_j)\\) for all \\(i \\neq j\\).\r\n\r\n### Example 11.1.21\r\n\r\nA fair six-sided die is rolled twice. Let \\(A\\) be the event that the first roll shows 4, and let\r\n</markdown>",
    "Q": "Q: If \\(A\\) and \\(B\\) are two events in a probability space such that \\(\\mathbb{P}(A) = \\frac{1}{3}\\) and \\(\\mathbb{P}(B) = \\frac{1}{2}\\), and they are independent, what is \\(\\mathbb{P}(A \\cap B)\\)?  \r\n",
    "A": " \r\nA: Since \\(A\\) and \\(B\\) are independent, we have \\(\\mathbb{P}(A \\cap B) = \\mathbb{P}(A) \\cdot \\mathbb{P}(B) = \\frac{1}{3} \\cdot \\frac{1}{2} = \\frac{1}{6}\\)."
  },
  {
    "page": 459,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nB be the event that the second roll is even. Then\r\n\r\n\\[ A = \\{(4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6)\\} \\]\r\n\r\nso \\(\\mathbb{P}(A) = \\frac{6}{36} = \\frac{1}{6};\\) and\r\n\r\n\\[ B = \\{(a, 2), (a, 4), (a, 6) \\mid a \\in [6]\\} \\]\r\n\r\nso \\(\\mathbb{P}(B) = \\frac{18}{36} = \\frac{1}{2}.\\) Moreover \\(A \\cap B = \\{(4, 2), (4, 4), (4, 6)\\},\\) so it follows that\r\n\r\n\\[\r\n\\mathbb{P}(A \\cap B) = \\frac{3}{36} = \\frac{1}{12} = \\frac{1}{6} \\cdot \\frac{1}{2} = \\mathbb{P}(A)\\mathbb{P}(B)\r\n\\]\r\n\r\nso the events \\(A\\) and \\(B\\) are independent.\r\n\r\nLet \\(C\\) be the event that the sum of the two dice rolls is equal to 5. Then\r\n\r\n\\[ C = \\{(1, 4), (2, 3), (3, 2), (4, 1)\\} \\]\r\n\r\nso \\(\\mathbb{P}(C) = \\frac{4}{36} = \\frac{1}{9}.\\) Moreover \\(A \\cap C = \\{(4, 1)\\},\\) so it follows that\r\n\r\n\\[\r\n\\mathbb{P}(A \\cap C) = \\frac{1}{36} \\neq \\frac{1}{54} = \\frac{1}{6} \\cdot \\frac{1}{9} = \\mathbb{P}(A)\\mathbb{P}(C)\r\n\\]\r\n\r\nso the events \\(A\\) and \\(C\\) are dependent.\r\n\r\n📄 **Exercise 11.1.22**  \r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space. Under what conditions is an event \\(A\\) independent from itself?\r\n\r\n## Conditional probability\r\n\r\nSuppose we model a random process, such as the roll of a die or the flip of a coin, using a probability space \\((\\Omega, \\mathbb{P})\\). When we receive new information, the situation might change, and we might want to model this new situation by updating our probabilities to reflect the fact that we know that \\(B\\) has occurred. This is done by defining a new probability measure \\(\\mathbb{P}\\) on \\(\\Omega\\). What follows is an example of this.\r\n\r\n📄 **Example 11.1.23**  \r\nTwo cards are drawn at random, in order, without replacement, from a 52-card deck. We can model this situation by letting the sample space \\(\\Omega\\) be the set of ordered pairs of distinct cards, and letting \\(\\mathbb{P}\\) assign an equal probability (of \\(\\frac{1}{|\\Omega|}\\) to each outcome. Note that \\(|\\Omega| = 52 \\cdot 51,\\) and so\r\n\r\n\\[\r\n\\mathbb{P}(\\{\\omega\\}) = \\frac{1}{52 \\cdot 51}\r\n\\]\r\n\r\nfor each outcome \\(\\omega\\).\r\n\r\nWe will compute two probabilities:\r\n</markdown>",
    "Q": "Q: Given that event \\(C\\) represents the sum of two dice rolls being equal to 5, find the probability \\(\\mathbb{P}(C)\\) and determine whether event \\(C\\) is independent of event \\(A\\). ",
    "A": " A: The probability \\(\\mathbb{P}(C) = \\frac{4}{36} = \\frac{1}{9}\\). Since \\(\\mathbb{P}(A \\cap C) = \\frac{1}{36} \\neq \\mathbb{P}(A) \\mathbb{P}(C) = \\frac{1}{54}\\), events \\(A\\) and \\(C\\) are dependent."
  },
  {
    "page": 460,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\n- The probability that the second card drawn is a heart.\r\n- The probability that the second card drawn is a heart *given that* the first card drawn is a diamond.\r\n\r\nLet \\( A \\subseteq \\Omega \\) be the event that the second card drawn is a heart, and let \\( B \\subseteq \\Omega \\) be the event that the first card drawn is a diamond.\r\n\r\nTo compute \\(\\mathbb{P}(A)\\), note first that \\( A = A' \\cup A'' \\), where\r\n\r\n- \\( A' \\) is the event that both cards are hearts, so that \\(|A'| = 13 \\cdot 12\\); and\r\n- \\( A'' \\) is the event that only the second card is a heart, so that \\(|A''| = 39 \\cdot 13\\).\r\n\r\nSince \\( A' \\cap A'' = \\emptyset \\), it follows from countable additivity that\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A') + \\mathbb{P}(A'') = \\frac{13 \\cdot 12 + 39 \\cdot 13}{52 \\cdot 51} = \\frac{13 \\cdot (12 + 39)}{52 \\cdot 51} = \\frac{1}{4}\r\n\\]\r\n\r\nNow suppose we know that first card drawn is a diamond—that is, event \\( B \\) has occurred—and we wish to update our probability that \\( A \\) occurs. We do this by defining a new probability measure\r\n\r\n\\[\r\n\\widetilde{\\mathbb{P}} : \\mathcal{P}(\\Omega) \\to [0, 1]\r\n\\]\r\n\r\nsuch that:\r\n\r\n(a) The outcomes that do not give rise to the event \\( B \\) are assigned probability zero; that is, \\(\\widetilde{\\mathbb{P}}(\\{\\omega\\}) = 0\\) for all \\(\\omega \\notin B\\); and\r\n\r\n(b) The outcomes that give rise to the event \\( B \\) are assigned probabilities proportional to their old probability; that is, there is some \\( k \\in \\mathbb{R} \\) such that \\(\\widetilde{\\mathbb{P}}(\\omega) = k\\mathbb{P}(\\omega)\\) for all \\(\\omega \\in B\\).\r\n\r\nIn order for \\(\\widetilde{\\mathbb{P}}\\) to be a probability measure on \\(\\Omega\\), we need condition (i) of Definition 11.1.1 to occur.\r\n\r\n\\[\r\n\\widetilde{\\mathbb{P}}(\\Omega) = \\sum_{\\omega \\in \\Omega} \\widetilde{\\mathbb{P}}(\\{\\omega\\}) \\quad \\text{by condition (ii) of Proposition 11.1.5}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in B} \\widetilde{\\mathbb{P}}(\\{\\omega\\}) \\quad \\text{since } \\widetilde{\\mathbb{P}}(\\{\\omega\\}) = 0 \\text{ for } \\omega \\notin B\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in B} k\\mathbb{P}(\\{\\omega\\}) \\quad \\text{since } \\widetilde{\\mathbb{P}}(\\{\\omega\\}) = k\\mathbb{P}(\\{\\omega\\}) \\text{ for } \\omega \\in B\r\n\\]\r\n\r\n\\[\r\n= k\\mathbb{P}(B) \\quad \\text{by condition (ii) of Proposition 11.1.5}\r\n\\]\r\n\r\nSince we need \\(\\widetilde{\\mathbb{P}}(\\Omega) = 1\\), we must therefore take \\( k = \\frac{1}{\\mathbb{P}(B)} \\). (In particular, we need \\(\\mathbb{P}(B) > 0\\) for this notion to be well-defined.)\r\n</markdown>",
    "Q": "Q: What is the probability that the second card drawn is a heart given that the first card drawn is a diamond? ",
    "A": " A: The probability is \\(\\mathbb{P}(A | B) = \\frac{13}{51}\\)."
  },
  {
    "page": 461,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nRecall that, before we knew that the first card was a diamond, the probability that the second card is a heart was \\( \\frac{1}{4} \\). We now calculate how this probability changes with the updated information that the first card was a diamond.\r\n\r\nThe event that the second card is a heart in the new probability space is precisely \\( A \\cap B \\), since it is the subset of \\( B \\) consisting of all the outcomes \\( \\omega \\) giving rise to the event \\( A \\). As such, the new probability that the second card is a heart is given by\r\n\r\n\\[\r\n\\tilde{\\mathbb{P}}(A) = \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)}\r\n\\]\r\n\r\nNow:\r\n\r\n- \\( A \\cap B \\) is the event that the first card is a diamond and the second is a heart. To specify such an event, we need only specify the ranks of the two cards, so \\( |A \\cap B| = 13 \\cdot 13 \\) and hence \\( \\mathbb{P}(A \\cap B) = \\frac{13 \\cdot 13}{52 \\cdot 51} \\).\r\n\r\n- \\( B \\) is the event that the first card is a diamond. A similar procedure as with \\( A \\) yields \\( \\mathbb{P}(B) = \\frac{1}{4} \\).\r\n\r\nHence\r\n\r\n\\[\r\n\\tilde{\\mathbb{P}}(A) = \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)} = \\frac{13 \\cdot 13 \\cdot 4}{52 \\cdot 51} = \\frac{13}{51}\r\n\\]\r\n\r\nThus the knowledge that the first card drawn is a diamond very slightly increases the probability that the second card is a heart from \\( \\frac{1}{4} = \\frac{13}{52} \\) to \\( \\frac{13}{51} \\).\r\n\r\n**Example 11.1.23** suggests the following schema: upon discovering that an event \\( B \\) occurs, the probability that event \\( A \\) occurs should change from \\( \\mathbb{P}(A) \\) to \\( \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)} \\). This motivates the following definition of *conditional probability*.\r\n\r\n### Definition 11.1.24\r\n\r\nLet \\( (\\Omega, \\mathbb{P}) \\) be a probability space and let \\( A, B \\) be events such that \\( \\mathbb{P}(B) > 0 \\). The conditional probability of \\( A \\) given \\( B \\) is the number \\( \\mathbb{P}(A \\mid B) \\) (LaTeX code: `\\mathbb{P}(A \\mid B)`) defined by\r\n\r\n\\[\r\n\\mathbb{P}(A \\mid B) = \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)}\r\n\\]\r\n\r\n### Example 11.1.25\r\n\r\nA fair six-sided die is rolled twice. We compute the probability that the first roll showed a 2 given that the sum of the die rolls is less than 5.\r\n\r\nWe can model this situation by taking the sample space to be \\([6] \\times [6]\\), with each outcome having an equal probability of \\( \\frac{1}{36} \\).\r\n</markdown>",
    "Q": "Q: If a fair six-sided die is rolled twice, what is the conditional probability that the first roll showed a 1 given that the sum of the rolls is 3? ",
    "A": " A: The possible outcomes for the sum of the rolls being 3 are: (1,2), (2,1), and (3,0). The only outcome where the first roll is 1 is (1,2). Therefore, the conditional probability is \r\n\r\n\\[\r\n\\mathbb{P}(A \\mid B) = \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)} = \\frac{1/36}{3/36} = \\frac{1}{3}.\r\n\\]"
  },
  {
    "page": 463,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nand moreover the events \\(A \\cap B\\) and \\(A \\cap B^c\\) are mutually exclusive. Hence\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\cap B) + \\mathbb{P}(A \\cap B^c)\r\n\\]\r\n\r\nby countable additivity. The definition of conditional probability ([Definition 11.1.24](#)) then gives\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\mid B)\\mathbb{P}(B) + \\mathbb{P}(A \\mid B^c)\\mathbb{P}(B^c)\r\n\\]\r\n\r\nas required.\r\n\r\n✎ **Example 11.1.30**\r\n\r\nAn animal rescue centre houses a hundred animals, sixty of which are dogs and forty of which are cats. Ten of the dogs and ten of the cats hate humans. We compute the probability that a randomly selected animal hates humans.\r\n\r\nLet \\(A\\) be the event that a randomly selected animal hates humans, and let \\(B\\) be the event that the animal is a dog. Note that \\(B^c\\) is precisely the event that the animal is a cat. The information we are given says that:\r\n\r\n- \\(\\mathbb{P}(B) = \\frac{60}{100}\\), since 60 of the 100 animals are dogs;\r\n- \\(\\mathbb{P}(B^c) = \\frac{40}{100}\\), since 40 of the 100 animals are cats;\r\n- \\(\\mathbb{P}(A \\mid B) = \\frac{10}{60}\\), since 10 of the 60 dogs hate humans;\r\n- \\(\\mathbb{P}(A \\mid B^c) = \\frac{10}{40}\\), since 10 of the 40 cats hate humans.\r\n\r\nBy [Proposition 11.1.29](#), it follows that the probability that a randomly selected animal hates humans is\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\mid B)\\mathbb{P}(B) + \\mathbb{P}(A \\mid B^c)\\mathbb{P}(B^c) = \\frac{60}{100} \\cdot \\frac{10}{60} + \\frac{40}{100} \\cdot \\frac{10}{40} = \\frac{20}{100} = \\frac{1}{5}\r\n\\]\r\n\r\nThe following example generalises [Proposition 11.1.29](#) to arbitrary partitions of a sample space into events with positive probabilities.\r\n\r\n✎ **Example 11.1.31**\r\n\r\nThe animal rescue centre from **Example 11.1.30** acquires twenty additional rabbits, of whom sixteen hate humans. We compute the probability that a randomly selected animal hates humans, given the new arrivals.\r\n\r\nA randomly selected animal must be either a dog, a cat or a rabbit, and each of these occurs with positive probability. Thus, letting \\(D\\) be the event that the selected animal is a dog, \\(C\\) be the event that the animal is a cat, and \\(R\\) be the event that the animal is a rabbit, we see that the sets \\(D, C, R\\) form a partition of the sample space.\r\n</markdown>",
    "Q": "Q: If the animal rescue centre acquires a total of 20 rabbits, of which 16 hate humans, what is the new probability that a randomly selected animal (from the total of 120 animals) hates humans? ",
    "A": " A: The new probability is \r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\mid D)\\mathbb{P}(D) + \\mathbb{P}(A \\mid C)\\mathbb{P}(C) + \\mathbb{P}(A \\mid R)\\mathbb{P}(R) = \\frac{10}{60} \\cdot \\frac{60}{120} + \\frac{10}{40} \\cdot \\frac{40}{120} + \\frac{16}{20} \\cdot \\frac{20}{120} = \\frac{1}{5} + \\frac{1}{12} + \\frac{2}{15} = \\frac{37}{60} \\approx 0.617. \r\n\\]"
  },
  {
    "page": 464,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nLetting \\( A \\) be the event that the selected animal hates humans. Then\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\mid D)\\mathbb{P}(D) + \\mathbb{P}(A \\mid C)\\mathbb{P}(C) + \\mathbb{P}(A \\mid R)\\mathbb{P}(R)\r\n\\]\r\n\r\n\\[\r\n= \\frac{10}{60} \\cdot \\frac{60}{120} + \\frac{10}{40} \\cdot \\frac{40}{120} + \\frac{16}{20} \\cdot \\frac{20}{120}\r\n\\]\r\n\r\n\\[\r\n= \\frac{3}{10}\r\n\\]\r\n\r\n**Proposition 11.1.32** below is a technical result which proves that conditional probability truly does yield a new probability measure on a given sample space.\r\n\r\n✣ **Proposition 11.1.32**  \r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\( B \\) be an event such that \\(\\mathbb{P}(B) > 0\\). The function \\(\\tilde{\\mathbb{P}} : \\mathcal{P}(\\Omega) \\to [0, 1]\\) defined by\r\n\r\n\\[\r\n\\tilde{\\mathbb{P}}(A) = \\mathbb{P}(A \\mid B) \\text{ for all } A \\subseteq \\Omega\r\n\\]\r\n\r\ndefines a probability measure on \\(\\Omega\\).\r\n\r\n**Proof**  \r\nFirst note that\r\n\r\n\\[\r\n\\tilde{\\mathbb{P}}(\\Omega) = \\mathbb{P}(\\Omega \\mid B) = \\frac{\\mathbb{P}(\\Omega \\cap B)}{\\mathbb{P}(B)} = \\frac{\\mathbb{P}(B)}{\\mathbb{P}(B)} = 1\r\n\\]\r\n\r\nso condition (i) of Definition 11.1.1 is satisfied.\r\n\r\nMoreover, for each \\( A \\subseteq \\Omega \\) we have\r\n\r\n\\[\r\n\\tilde{\\mathbb{P}}(A) = \\mathbb{P}(A \\mid B) \\quad \\text{by definition of } \\tilde{\\mathbb{P}}\r\n\\]\r\n\r\n\\[\r\n= \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)} \\quad \\text{by Definition 11.1.24}\r\n\\]\r\n\r\n\\[\r\n= \\frac{1}{\\mathbb{P}(B)} \\sum_{\\omega \\in A \\cap B} \\mathbb{P}(\\{\\omega\\}) \\quad \\text{by Proposition 11.1.5}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in A \\cap B} \\mathbb{P}(\\{\\omega\\} \\mid B) \\quad \\text{by Definition 11.1.24}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in A} \\tilde{\\mathbb{P}}(\\{\\omega\\}) \\quad \\text{since } \\mathbb{P}(\\{\\omega\\} \\mid B) = 0 \\text{ for } \\omega \\in A \\setminus B\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\omega \\in A} \\tilde{\\mathbb{P}}(\\{\\omega\\}) \\quad \\text{by definition of } \\tilde{\\mathbb{P}}\r\n\\]\r\n\r\nso condition (ii) of Proposition 11.1.5 is satisfied. Hence \\(\\tilde{\\mathbb{P}}\\) defines a probability measure on \\(\\Omega\\).\r\n</markdown>",
    "Q": "Q: If the events \\( D \\), \\( C \\), and \\( R \\) represent different populations of animals with respective probabilities \\( \\mathbb{P}(D) = \\frac{60}{120} \\), \\( \\mathbb{P}(C) = \\frac{40}{120} \\), and \\( \\mathbb{P}(R) = \\frac{20}{120} \\), how would you compute the total probability that an animal hates humans given that 50% of animals in \\( D \\) hate humans, 25% of those in \\( C \\) hate humans, and 80% of those in \\( R \\) hate humans? \r\n\r\n",
    "A": " A: The total probability that an animal hates humans can be computed using the law of total probability:\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\mid D) \\mathbb{P}(D) + \\mathbb{P}(A \\mid C) \\mathbb{P}(C) + \\mathbb{P}(A \\mid R) \\mathbb{P}(R)\r\n\\]\r\n\r\nGiven the percentages:\r\n\r\n\\[\r\n\\mathbb{P}(A \\mid D) = \\frac{50}{100} = \\frac{1}{2}, \\quad \\mathbb{P}(A \\mid C) = \\frac{25}{100} = \\frac{1}{4}, \\quad \\mathbb{P}(A \\mid R) = \\frac{80}{100} = \\frac{4}{5}\r\n\\]\r\n\r\nSubstituting in:\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\frac{1}{2} \\cdot \\frac{60}{120} + \\frac{1}{4} \\cdot \\frac{40}{120} + \\frac{4}{5} \\cdot \\frac{20}{120} = \\frac{1}{2} \\cdot \\frac{1}{2} + \\frac{1}{4} \\cdot \\frac{1}{3} + \\frac{4}{5} \\cdot \\frac{1}{6}\r\n\\]\r\n\r\nCalculating each term gives:\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\frac{3}{10}\r\n\\]"
  },
  {
    "page": 465,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nProposition 11.1.32 implies that we can use all the results we’ve proved about probability measures to conditional probability given a fixed event \\( B \\). For example, Theorem 11.1.18 implies that\r\n\r\n\\[\r\n\\mathbb{P}(A \\cup A' \\mid B) = \\mathbb{P}(A \\mid B) + \\mathbb{P}(A' \\mid B) - \\mathbb{P}(A \\cap A' \\mid B)\r\n\\]\r\n\r\nfor all events \\( A, A', B \\) in a probability space \\((\\Omega, \\mathbb{P})\\) such that \\(\\mathbb{P}(B) > 0\\).\r\n\r\nThe next theorem we prove has a very short proof, but is extremely important in applied probability theory.\r\n\r\n### Theorem 11.1.33 (Bayes’s theorem)\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\( A, B \\) be events with positive probabilities. Then\r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\mathbb{P}(A \\mid B) \\mathbb{P}(B)}{\\mathbb{P}(A)}\r\n\\]\r\n\r\n**Proof**\r\n\r\nDefinition 11.1.24 gives\r\n\r\n\\[\r\n\\mathbb{P}(A \\mid B) \\mathbb{P}(B) = \\mathbb{P}(A \\cap B) = \\mathbb{P}(B \\cap A) = \\mathbb{P}(B \\mid A) \\mathbb{P}(A)\r\n\\]\r\n\r\nDividing through by \\(\\mathbb{P}(A)\\) yields the desired equation.\r\n\r\nAs stated, Bayes’s theorem is not necessarily particularly enlightening, but its usefulness increases sharply when combined with Proposition 11.1.29 to express the denominator of the fraction in another way.\r\n\r\n### Corollary 11.1.34\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\( A, B \\) be events such that \\(\\mathbb{P}(A) > 0\\) and \\(0 < \\mathbb{P}(B) < 1\\). Then\r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\mathbb{P}(A \\mid B) \\mathbb{P}(B)}{\\mathbb{P}(A \\mid B) \\mathbb{P}(B) + \\mathbb{P}(A \\mid B^c) \\mathbb{P}(B^c)}\r\n\\]\r\n\r\n**Proof**\r\n\r\nBayes’s theorem tells us that\r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\mathbb{P}(A \\mid B) \\mathbb{P}(B)}{\\mathbb{P}(A)}\r\n\\]\r\n\r\nBy Proposition 11.1.29 we have\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}(A \\mid B) \\mathbb{P}(B) + \\mathbb{P}(A \\mid B^c) \\mathbb{P}(B^c)\r\n\\]\r\n\r\nSubstituting for \\(\\mathbb{P}(A)\\) therefore yields\r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\mathbb{P}(A \\mid B) \\mathbb{P}(B)}{\\mathbb{P}(A \\mid B) \\mathbb{P}(B) + \\mathbb{P}(A \\mid B^c) \\mathbb{P}(B^c)}\r\n\\]\r\n\r\nas required.\r\n</markdown>",
    "Q": "Q: Given the two events \\( A \\) and \\( B \\) with positive probabilities, how can Bayes's theorem be rearranged to express \\( \\mathbb{P}(A \\mid B) \\) in terms of \\( \\mathbb{P}(B \\mid A) \\)? ",
    "A": " A: Bayes's theorem can be rearranged as follows:\r\n\r\n\\[\r\n\\mathbb{P}(A \\mid B) = \\frac{\\mathbb{P}(B \\mid A) \\mathbb{P}(A)}{\\mathbb{P}(B)}\r\n\\]"
  },
  {
    "page": 466,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nThe following example is particularly counterintuitive.\r\n\r\n### Example 11.1.35\r\n\r\nA town has 10,000 people, 30 of whom are infected with Disease X. Medical scientists develop a test for Disease X, which is accurate 99% of the time. A person takes the test, which comes back positive. We compute the probability that the person truly is infected with Disease X.\r\n\r\nLet \\( A \\) be the event that the person tests positive for Disease X, and let \\( B \\) be the event that the person is infected with Disease X. We need to compute \\( \\mathbb{P}(B \\mid A) \\).\r\n\r\nBy Corollary 11.1.34, we have\r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\mathbb{P}(A \\mid B) \\mathbb{P}(B)}{\\mathbb{P}(A \\mid B) \\mathbb{P}(B) + \\mathbb{P}(A \\mid B^c) \\mathbb{P}(B^c)}\r\n\\]\r\n\r\nIt remains to compute the individual probabilities on the right-hand side of this equation. Well,\r\n\r\n- \\( \\mathbb{P}(A \\mid B) \\) is the probability that the person tests positive for Disease X, given that they are infected. This is equal to \\( \\frac{99}{100} \\), since the test is accurate with probability 99%.\r\n\r\n- \\( \\mathbb{P}(A \\mid B^c) \\) is the probability that the person tests positive for Disease X, given that they are not infected. This is equal to \\( \\frac{1}{100} \\), since the test is inaccurate with probability 1%.\r\n\r\n- \\( \\mathbb{P}(B) = \\frac{30}{10000} \\), since 30 of the 10,000 inhabitants are infected with Disease X.\r\n\r\n- \\( \\mathbb{P}(B^c) = \\frac{9970}{10000} \\), since 9,970 of the 10,000 inhabitants are not infected with Disease X.\r\n\r\nPiecing this together gives\r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\frac{99}{100} \\cdot \\frac{30}{10000}}{\\frac{99}{100} \\cdot \\frac{30}{10000} + \\frac{1}{100} \\cdot \\frac{9970}{10000}} = \\frac{297}{1294} \\approx 0.23\r\n\\]\r\n\r\nRemarkably, the probability that the person is infected with Disease X given that the test is positive is only 23%, even though the test is accurate 99% of the time!\r\n\r\nThe following result generalises Corollary 11.1.34 to arbitrary partitions of the sample space into sets with positive probabilities.\r\n\r\n### Corollary 11.1.36\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\( A \\) be an event with \\( \\mathbb{P}(A) > 0 \\), and let \\(\\{B_i \\mid i \\in I\\}\\) be a family of mutually exclusive events indexed by a countable set \\( I \\) such that\r\n\r\n\\[\r\n\\mathbb{P}(B_i) > 0 \\text{ for all } i \\in I \\quad \\text{and} \\quad \\bigcup_{i \\in I} B_i = \\Omega\r\n\\]\r\n</markdown>",
    "Q": "Q: In the context of the given example, how would the probability \\( \\mathbb{P}(B \\mid A) \\) change if the population size remained the same but the number of infected individuals increased to 100 while keeping the accuracy of the test the same? ",
    "A": " A: With 100 infected individuals, we have \\( \\mathbb{P}(B) = \\frac{100}{10000} = 0.01 \\) and \\( \\mathbb{P}(B^c) = \\frac{9900}{10000} = 0.99 \\). Therefore, \r\n\r\n\\[\r\n\\mathbb{P}(B \\mid A) = \\frac{\\frac{99}{100} \\cdot \\frac{100}{10000}}{\\frac{99}{100} \\cdot \\frac{100}{10000} + \\frac{1}{100} \\cdot \\frac{9900}{10000}} = \\frac{99}{1089} \\approx 0.091. \r\n\\]\r\n\r\nThus, the probability that the person is infected given a positive test result would decrease to approximately 9.1%."
  },
  {
    "page": 467,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nThen\r\n\r\n\\[\r\n\\mathbb{P}(B_i \\mid A) = \\frac{\\mathbb{P}(A \\mid B_i)\\mathbb{P}(B_i)}{\\sum_{i \\in I} \\mathbb{P}(A \\mid B_i)\\mathbb{P}(B_i)}\r\n\\]\r\n\r\nfor each \\( i \\in I \\).\r\n\r\n**Proof**\r\n\r\nBayes’s theorem tells us that\r\n\r\n\\[\r\n\\mathbb{P}(B_i \\mid A) = \\frac{\\mathbb{P}(A \\mid B_i)\\mathbb{P}(B_i)}{\\mathbb{P}(A)}\r\n\\]\r\n\r\nBy countable additivity, we have\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\mathbb{P}\\left(\\bigcup_{i \\in I} A \\cap B_i\\right) = \\sum_{i \\in I} \\mathbb{P}(A \\cap B_i) = \\sum_{i \\in I} \\mathbb{P}(A \\mid B_i)\\mathbb{P}(B_i)\r\n\\]\r\n\r\nSubstituting for \\(\\mathbb{P}(A)\\) therefore yields\r\n\r\n\\[\r\n\\mathbb{P}(B_i \\mid A) = \\frac{\\mathbb{P}(A \\mid B_i)\\mathbb{P}(B_i)}{\\sum_{i \\in I} \\mathbb{P}(A \\mid B_i)\\mathbb{P}(B_i)}\r\n\\]\r\n\r\nas required.\r\n\r\n✦ **Example 11.1.37**\r\n\r\nA small car manufacturer, Cars N’At, makes three models of car: the Allegheny, the Monongahela and the Ohio. It made 3000 Alleghenys, 6500 Monongahelas and 500 Ohios. In a given day, an Allegheny breaks down with probability \\(\\frac{1}{100}\\), a Monongahela breaks down with probability \\(\\frac{1}{200}\\), and the notoriously unreliable Ohio breaks down with probability \\(\\frac{1}{20}\\). An angry driver calls Cars N’At to complain that their car has broken down. We compute the probability that the driver was driving an Ohio.\r\n\r\nLet \\( A \\) be the event that the car is an Allegheny, let \\( B \\) be the event that the car is a Monongahela, and let \\( C \\) be the event that the car is an Ohio. Then\r\n\r\n\\[\r\n\\mathbb{P}(A) = \\frac{3000}{10000}, \\quad \\mathbb{P}(B) = \\frac{6500}{10000}, \\quad \\mathbb{P}(C) = \\frac{500}{10000}\r\n\\]\r\n\r\nLet \\( D \\) be the event that the car broke down. Then\r\n\r\n\\[\r\n\\mathbb{P}(D \\mid A) = \\frac{1}{100}, \\quad \\mathbb{P}(D \\mid B) = \\frac{1}{200}, \\quad \\mathbb{P}(D \\mid C) = \\frac{1}{20}\r\n\\]\r\n\r\nWe need to compute \\(\\mathbb{P}(C \\mid D)\\). Since the events \\( A, B, C \\) partition the sample space and have positive probabilities, we can use Corollary 11.1.36, which tells us that\r\n\r\n\\[\r\n\\mathbb{P}(C \\mid D) = \\frac{\\mathbb{P}(D \\mid C)\\mathbb{P}(C)}{\\mathbb{P}(D \\mid A)\\mathbb{P}(A) + \\mathbb{P}(D \\mid B)\\mathbb{P}(B) + \\mathbb{P}(D \\mid C)\\mathbb{P}(C)}\r\n\\]\r\n</markdown>",
    "Q": "Q: If the total number of cars is 10,000 and the probability that a Monongahela breaks down is \\(\\frac{1}{200}\\), what is the probability that a randomly selected broken car is a Monongahela? ",
    "A": " A: Using Bayes' theorem, the probability that a randomly selected broken car is a Monongahela is \r\n\r\n\\[\r\n\\mathbb{P}(B \\mid D) = \\frac{\\mathbb{P}(D \\mid B)\\mathbb{P}(B)}{\\mathbb{P}(D \\mid A)\\mathbb{P}(A) + \\mathbb{P}(D \\mid B)\\mathbb{P}(B) + \\mathbb{P}(D \\mid C)\\mathbb{P}(C)} = \\frac{\\left(\\frac{1}{200}\\right)\\left(\\frac{6500}{10000}\\right)}{\\left(\\frac{1}{100}\\right)\\left(\\frac{3000}{10000}\\right) + \\left(\\frac{1}{200}\\right)\\left(\\frac{6500}{10000}\\right) + \\left(\\frac{1}{20}\\right)\\left(\\frac{500}{10000}\\right)} \\approx 0.297. \r\n\\]"
  },
  {
    "page": 468,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.1 Discrete Probability Spaces",
    "content": "<markdown>\r\nSubstituting the probabilities that we computed above, it follows that\r\n\r\n\\[\r\n\\mathbb{P}(C \\mid D) = \\frac{\\frac{1}{100} \\cdot \\frac{1}{20} \\cdot \\frac{500}{10000}}{\\frac{1}{100} \\cdot \\frac{3000}{10000} + \\frac{1}{200} \\cdot \\frac{6500}{10000} + \\frac{1}{20} \\cdot \\frac{500}{10000}} = \\frac{2}{7} \\approx 0.29\r\n\\]\r\n\r\n### Exercise 11.1.38\r\n\r\nIn Example 11.1.37, find the probabilities that the car was an Allegheny and that the car was a Monongahela.\r\n</markdown>",
    "Q": "Q: What is the formula to calculate the probability that the car was an Allegheny given the context provided, where the probabilities of outcomes are represented as conditional probabilities? ",
    "A": " A: The formula to calculate the probability that the car was an Allegheny can be expressed as \r\n\r\n\\[\r\n\\mathbb{P}(A \\mid D) = \\frac{\\mathbb{P}(D \\mid A) \\cdot \\mathbb{P}(A)}{\\mathbb{P}(D)} \r\n\\]\r\n\r\nwhere \\(\\mathbb{P}(D)\\) can be found using the law of total probability."
  },
  {
    "page": 469,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n## Section 11.2\r\n\r\n# Discrete random variables\r\n\r\nEvents in a probability space are sometimes unenlightening when looked at in isolation. For example, suppose we roll a fair six-sided die twice. The outcomes are elements of the set \\([6] \\times [6]\\), each occurring with equal probability \\(\\frac{1}{36}\\). The event that the die rolls sum to 7 is precisely the subset\r\n\r\n\\[\r\n\\{(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\\} \\subseteq [6] \\times [6]\r\n\\]\r\n\r\nand so we can say that the probability that the two rolls sum to 7 is\r\n\r\n\\[\r\n\\mathbb{P}(\\{(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\\}) = \\frac{1}{6}\r\n\\]\r\n\r\nHowever, it is not at all clear from the expression \\(\\{(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\\}\\) that, when we wrote it down, what we had in mind was the event that the sum of the die rolls is 7. Moreover, the expression of the event in this way does not make it clear how to generalise to other possible sums of die rolls.\r\n\r\nNote that the sum of the die rolls defines a function \\(S : [6] \\times [6] \\rightarrow [12]\\), defined by\r\n\r\n\\[\r\nS(a,b) = a + b \\text{ for all } (a,b) \\in [6] \\times [6]\r\n\\]\r\n\r\nThe function \\(S\\) allows us to express our event in a more enlightening way: indeed,\r\n\r\n\\[\r\n\\{(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\\} = \\{(a,b) \\in [6] \\times [6] \\mid a + b = 7\\} = S^{-1}[\\{7\\}]\r\n\\]\r\n\r\n(Recall the definition of preimage in Definition 3.1.38.) Thus the probability that the sum of the two die rolls is 7 is equal to \\(\\mathbb{P}(S^{-1}[\\{7\\}])\\).\r\n\r\nIf we think of \\(S\\) not as a function \\([6] \\times [6] \\rightarrow [12]\\), but as a \\([12]\\)-valued random variable, which varies according to a random outcome in \\([6] \\times [6]\\), then we can informally say\r\n\r\n\\[\r\n\\mathbb{P}\\{S = 7\\} = \\frac{1}{6} \\quad \\text{which formally means} \\quad \\mathbb{P}(S^{-1}[\\{7\\}]) = \\frac{1}{6}\r\n\\]\r\n\r\nThis affords us much more generality. Indeed, we could ask what the probability is that the die rolls sum to a value greater than or equal to 7. In this case, note that the die rolls \\((a,b)\\) sum to a number greater than or equal to 7 if and only if \\(a + b \\in \\{7,8,9,10,11,12\\}\\), which occurs if and only if \\((a,b) \\in S^{-1}[\\{7,8,9,10,11,12\\}]\\). Thus, we might informally say\r\n\r\n\\[\r\n\\mathbb{P}\\{S \\geq 7\\} = \\frac{7}{12} \\quad \\text{which formally means} \\quad \\mathbb{P}(S^{-1}[\\{7,8,9,10,11,12\\}]) = \\frac{7}{12}\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the probability that the sum of two rolls of a six-sided die is less than 5? ",
    "A": " A: The probability that the sum of the two rolls is less than 5 is \\(\\mathbb{P}(S < 5) = \\frac{3}{36} = \\frac{1}{12}\\)."
  },
  {
    "page": 470,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nWe might also ask what the probability is that the sum of the die rolls is prime. In this case, we might informally say\r\n\r\n\\[\r\n\\mathbb{P}\\{S \\text{ is prime}\\} = \\frac{5}{12}\r\n\\]\r\n\r\nwhich formally means\r\n\r\n\\[\r\n\\mathbb{P}(S^{-1}[\\{2, 3, 5, 7, 11\\}]) = \\frac{5}{12}\r\n\\]\r\n\r\nand so on. In each of these cases, we’re defining events—which are subsets of the sample space—in terms of conditions on the values of a random variable (which is, formally, a function).\r\n\r\nWe make the above intuition formal in Definition 11.2.1.\r\n\r\n✦ **Definition 11.2.1**\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(E\\) be a set. An **E-valued random variable** on \\((\\Omega, \\mathbb{P})\\) is a function \\(X : \\Omega \\to E\\) such that the image\r\n\r\n\\[\r\nX[\\Omega] = \\{X(\\omega) \\mid \\omega \\in \\Omega\\}\r\n\\]\r\n\r\nis countable. The set \\(E\\) is called the **state space** of \\(X\\). A random variable with countable state space is called a **discrete random variable**.\r\n\r\nBefore we proceed with examples, some notation for events regarding values of random variables will be particularly useful.\r\n\r\n✦ **Notation 11.2.2**\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(E\\) be a set and let \\(X\\) be an **E-valued random variable** on \\((\\Omega, \\mathbb{P})\\). For each \\(e \\in E\\), write\r\n\r\n\\[\r\n\\{X = e\\} = \\{\\omega \\in \\Omega \\mid X(\\omega) = e\\} = X^{-1}[\\{e\\}]\r\n\\]\r\n\r\nto denote the event that \\(X\\) takes the value \\(e\\). More generally, for each logical formula \\(p(x)\\) with free variable \\(x\\) ranging over \\(E\\), we write\r\n\r\n\\[\r\n\\{p(X)\\} = \\{\\omega \\in \\Omega \\mid p(X(\\omega))\\} = X^{-1}[\\{e \\in E \\mid p(e)\\}]\r\n\\]\r\n\r\nfor the event that the value of \\(X\\) satisfies \\(p(x)\\).\r\n\r\nWe will usually write \\(\\mathbb{P}\\{X = e\\}\\) instead of \\(\\mathbb{P}(\\{X = e\\})\\) for the probability that a random variable \\(X\\) takes a value \\(e\\), and so on.\r\n\r\n✏️ **Example 11.2.3**\r\n\r\nWe can model a sequence of three coin flips using the probability space \\((\\Omega, \\mathbb{P})\\), where \\(\\Omega = \\{H, T\\}^3\\) and \\(\\mathbb{P}(\\{\\omega\\}) = \\frac{1}{8}\\) for all \\(\\omega \\in \\Omega\\).\r\n\r\nLet \\(N\\) be the real-valued random variable representing number of heads that show. This is formalised as a function\r\n\r\n\\[\r\nN : \\Omega \\to \\mathbb{R} \\quad \\text{where} \\quad N(i_1, i_2, i_3) = \\text{the number of heads amongst } i_1, i_2, i_3\r\n\\]\r\n</markdown>",
    "Q": "Q: What is the probability that the sum of the rolls of two dice is neither even nor prime? ",
    "A": " A: The sum of the rolls of two dice ranges from 2 to 12, and the even sums are 2, 4, 6, 8, 10, and 12. The prime sums are 2, 3, 5, 7, and 11. Thus, the sums that are neither even nor prime are {9}. Therefore, the probability is $\\mathbb{P}(S \\text{ is neither even nor prime}) = \\frac{1}{36}$."
  },
  {
    "page": 471,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nfor example, \\( N(H, T, H) = 2 \\). Now\r\n\r\n- The probability that exactly two heads show is\r\n\r\n  \\[\r\n  \\mathbb{P}\\{N = 2\\} = \\mathbb{P}(N^{-1}[\\{2\\}]) = \\mathbb{P}(\\{(H, H, T), (H, T, H), (T, H, H)\\}) = \\frac{3}{2^3} = \\frac{3}{8}\r\n  \\]\r\n\r\n  by Notation 11.2.2 evaluating event \\( N^{-1}[\\{2\\}] \\)\r\n\r\n- The probability that at least two heads show is\r\n\r\n  \\[\r\n  \\mathbb{P}\\{N \\geq 2\\} = \\mathbb{P}(\\{\\omega \\in \\Omega \\mid N(\\omega) \\geq 2\\}) = \\mathbb{P}\\left( \\left\\{ (H, H, T), (H, T, H), (T, H, H), (H, H, H) \\right\\} \\right) = \\frac{4}{2^3} = \\frac{1}{2}\r\n  \\]\r\n\r\n  by Notation 11.2.2 evaluating event\r\n\r\n### Exercise 11.2.4\r\nWith probability space \\((\\Omega, \\mathbb{P})\\) and random variable \\(N\\) defined as in Example 11.2.3, compute \\(\\mathbb{P}\\{N \\text{ is odd}\\}\\) and \\(\\mathbb{P}\\{N = 4\\}\\).\r\n\r\nEach random variable comes with an associated probability mass function, which allows us to ‘forget’ the underlying probability space for the purposes of studying only the random variable.\r\n\r\n### Definition 11.2.5\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(X : \\Omega \\to E\\) be an \\(E\\)-valued random variable. The probability mass function of \\(X\\) is the function \\(f_X : E \\to [0, 1]\\) defined by\r\n\r\n\\[\r\nf_X(e) = \\mathbb{P}\\{X = e\\} \\text{ for all } e \\in E\r\n\\]\r\n\r\n### Example 11.2.6\r\nThe probability mass function of the random variable \\(N\\) from Example 11.2.3 is the function \\(f_N : \\mathbb{R} \\to [0, 1]\\) defined by\r\n\r\n\\[\r\nf_N(e) = \\mathbb{P}\\{N = e\\} = \\frac{1}{8} \\binom{3}{e}\r\n\\]\r\n\r\nfor all \\(e \\in \\{0, 1, 2, 3\\}\\), and \\(f_N(e) = 0\\) otherwise. Indeed, there are \\(2^3 = 8\\) possible outcomes, each equally likely, and \\(\\binom{3}{e}\\) of those outcomes show exactly \\(e\\) heads for \\(e \\in \\{0, 1, 2, 3\\}\\).\r\n</markdown>",
    "Q": "Q: What is the probability that exactly one head shows when three unbiased coins are flipped? ",
    "A": " A: The probability that exactly one head shows is \\(\\mathbb{P}\\{N = 1\\} = \\mathbb{P}(\\{(H, T, T), (T, H, T), (T, T, H)\\}) = \\frac{3}{2^3} = \\frac{3}{8}\\)."
  },
  {
    "page": 472,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Exercise 11.2.7\r\n\r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space, let \\(E\\) be a set, let \\(X\\) be an \\(E\\)-valued random variable and let \\(U \\subseteq E\\). Prove that the event \\(\\{X \\in U\\}\\) is equal to the preimage \\(X^{-1}[U]\\). Deduce that\r\n\r\n\\[\r\n\\mathbb{P}\\{X \\in U\\} = \\sum_{e \\in U} f_X(e)\r\n\\]\r\n\r\nIn Example 11.2.6, we could have just specified the value of \\(f_N\\) on \\(\\{0, 1, 2, 3\\}\\), with the understanding that \\(N\\) does not take values outside of this set and hence that \\(\\mathbb{P}\\{N = e\\} = 0\\) for all \\(e \\notin \\{0, 1, 2, 3\\}\\). This issue arises frequently when dealing with real-valued discrete random variables, and it will be useful to ignore most (or all) of those real numbers which are not values of the random variable.\r\n\r\nAs such, for \\(E \\subseteq \\mathbb{R}\\), we will from now on blur the distinction between the following concepts:\r\n\r\n(i) \\(E\\)-valued random variables;\r\n\r\n(ii) Real-valued random variables \\(X\\) such that \\(\\mathbb{P}\\{X = x\\} = 0\\) for all \\(x \\notin E\\).\r\n\r\n### Example 11.2.8\r\n\r\nThe probability mass function of the random variable \\(N\\) from Example 11.2.3 can be taken to be the function \\(f_X : \\{0, 1, 2, 3\\} \\to [0, 1]\\) defined by\r\n\r\n\\[\r\nf_X(k) = \\frac{1}{8} \\binom{3}{k} \\quad \\text{for all } k \\in \\{0, 1, 2, 3\\}\r\n\\]\r\n\r\n### Lemma 11.2.9\r\n\r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space, let \\(E\\) be a set and let \\(X\\) be an \\(E\\)-valued random variable. The events \\(\\{X = e\\}\\) for \\(e \\in E\\) are mutually exclusive, and their union is \\(\\Omega\\).\r\n\r\n**Proof**\r\n\r\nIf \\(e, e' \\in E\\), then for all \\(\\omega \\in \\Omega\\) we have\r\n\r\n\\[\r\n\\omega \\in \\{X = e\\} \\cap \\{X = e'\\} \\Leftrightarrow \\omega \\in X^{-1}[\\{e\\}] \\cap X^{-1}[\\{e'\\}] \\quad \\text{by Notation 11.2.2}\r\n\\]\r\n\\[\r\n\\Leftrightarrow X(\\omega) = e \\text{ and } X(\\omega) = e' \\quad \\text{by definition of preimage}\r\n\\]\r\n\\[\r\n\\Rightarrow e = e'\r\n\\]\r\n\r\nso if \\(e \\neq e'\\) then \\(\\{X = e\\} \\cap \\{X = e'\\} = \\emptyset\\). So the events are mutually exclusive.\r\n\r\nMoreover, if \\(\\omega \\in \\Omega\\), then \\(\\omega \\in \\{X = X(\\omega)\\}\\). Hence\r\n\r\n\\[\r\n\\Omega = \\bigcup_{e \\in E} \\{X = e\\}\r\n\\]\r\n</markdown>",
    "Q": "Q: Given a random variable \\(X\\) that takes values in a finite set \\(E = \\{0, 1, 2, 3\\}\\), if the probability mass function is defined as \\(f_X(k) = \\frac{1}{8} \\binom{3}{k}\\) for \\(k \\in \\{0, 1, 2, 3\\}\\), what is the probability \\(\\mathbb{P}\\{X \\in \\{1, 2\\}\\}\\)?  \r\n",
    "A": " A: The probability is given by \r\n\r\n\\[\r\n\\mathbb{P}\\{X \\in \\{1, 2\\}\\} = f_X(1) + f_X(2) = \\frac{1}{8} \\binom{3}{1} + \\frac{1}{8} \\binom{3}{2} = \\frac{1}{8}(3 + 3) = \\frac{6}{8} = \\frac{3}{4}.\r\n\\]"
  },
  {
    "page": 473,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Theorem 11.2.10\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(E\\) be a countable set, and let \\(X\\) be an \\(E\\)-valued random variable. Then\r\n\r\n\\[\r\n\\sum_{e \\in E} f_X(e) = 1\r\n\\]\r\n\r\n**Proof**\r\n\r\nSince \\(f_X(e) = \\mathbb{P}\\{X = e\\}\\) for all \\(e \\in E\\), we need to check that\r\n\r\n\\[\r\n\\sum_{e \\in E} \\mathbb{P}\\{X = e\\} = 1\r\n\\]\r\n\r\nBy Lemma 11.2.9, we have\r\n\r\n\\[\r\n\\sum_{e \\in E} \\mathbb{P}\\{X = e\\} = \\mathbb{P}\\left( \\bigcup_{e \\in E} \\{X = e\\} \\right) = \\mathbb{P}(\\Omega) = 1\r\n\\]\r\n\r\nas required.\r\n\r\nThe following corollary follows immediately.\r\n\r\n### Corollary 11.2.11\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(E\\) be a countable set, and let \\(X\\) be an \\(E\\)-valued random variable. The function \\(X_* \\mathbb{P} : \\mathcal{P}(E) \\to [0, 1]\\) defined by\r\n\r\n\\[\r\n(X_*, \\mathbb{P})(A) = \\sum_{e \\in A} f_X(e) = \\mathbb{P}\\{X \\in A\\}\r\n\\]\r\n\r\nfor all \\(A \\subseteq E\\) defines a probability measure on \\(E\\). The space \\((E, X_* \\mathbb{P})\\) is called the **pushforward probability measure** of \\(X\\).\r\n\r\nCorollary 11.2.11 implies that any statement about probability measures can be applied to the pushforward measure. For example,\r\n\r\n\\[\r\n\\mathbb{P}\\{X \\in A \\cup B\\} = \\mathbb{P}\\{X \\in A\\} + \\mathbb{P}\\{X \\in B\\} - \\mathbb{P}\\{X \\in A \\cap B\\}\r\n\\]\r\n\r\nfor all subsets \\(A, B \\subseteq E\\).\r\n\r\nAs with events, there is a notion of independence for random variables.\r\n\r\n### Definition 11.2.12\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a discrete probability space and let \\(X, Y : \\Omega \\to E\\) be discrete random variables on \\((\\Omega, \\mathbb{P})\\). We say \\(X\\) and \\(Y\\) are **independent** if, for all \\(e, e' \\in E\\), the events \\(\\{X = e\\}\\) and \\(\\{Y = e'\\}\\) are independent. More generally, random variables \\(X_1, X_2, \\ldots, X_n\\) are **pairwise independent** if, for all \\(e_1, e_2, \\ldots, e_n \\in E\\), the events \\(\\{X_i = e_i\\}\\) are pairwise independent.\r\n</markdown>",
    "Q": "Q: If \\( X \\) and \\( Y \\) are independent random variables taking values in a countable set \\( E \\), what can be said about the joint probability of the events \\( \\{X = e\\} \\) and \\( \\{Y = e'\\} \\) for any \\( e, e' \\in E \\)?  \r\n",
    "A": "  \r\nA: The joint probability satisfies the condition \\( \\mathbb{P}\\{X = e\\} \\times \\mathbb{P}\\{Y = e'\\} = \\mathbb{P}\\{X = e, Y = e'\\} \\)."
  },
  {
    "page": 474,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Example 11.2.13\r\n\r\nA fair six-sided die is rolled twice. Let \\( X \\) be the value shown on the first roll and \\( Y \\) be the value shown on the second roll.\r\n\r\nWe can model this situation by letting \\( \\Omega = [6] \\times [6] \\) with \\( \\mathbb{P}(\\{(a,b)\\}) = \\frac{1}{36} \\) for all \\( (a,b) \\in \\Omega \\). The random variables \\( X, Y \\) can thus be taken to be functions \\( \\Omega \\to [6] \\) defined by\r\n\r\n\\[\r\nX(a,b) = a \\quad \\text{and} \\quad Y(a,b) = b \\quad \\text{for all } (a,b) \\in \\Omega\r\n\\]\r\n\r\nSo let \\( e, e' \\in [6] \\). Note first that\r\n\r\n\\[\r\n\\{X = e\\} \\cap \\{Y = e'\\} = \\{(a,b) \\in \\Omega \\mid a = e\\} \\cap \\{(a,b) \\in \\Omega \\mid b = e'\\} \\quad \\text{by Notation 11.2.2}\r\n\\]\r\n\r\n\\[\r\n= \\{(a,b) \\in \\Omega \\mid a = e \\text{ and } b = e'\\} = \\{(e, e')\\}\r\n\\]\r\n\r\nHence\r\n\r\n\\[\r\n\\mathbb{P}(\\{X = e\\} \\cap \\{Y = e'\\}) = \\mathbb{P}(\\{(e,e')\\}) = \\frac{1}{36} = \\frac{1}{6} \\cdot \\frac{1}{6} = \\mathbb{P}\\{X = e\\}\\mathbb{P}\\{Y = e'\\}\r\n\\]\r\n\r\nThe events \\(\\{X = e\\}\\) and \\(\\{Y = e'\\}\\) are independent, and so \\( X \\) and \\( Y \\) are independent.\r\n\r\n### Exercise 11.2.14\r\n\r\nA coin which shows heads with probability \\( p \\in [0, 1] \\), and tails otherwise, is flipped five times. For each \\( i \\in [5] \\), let\r\n\r\n\\[\r\nX_i = \r\n\\begin{cases} \r\n0 & \\text{if the } i\\text{th flip shows tails} \\\\\r\n1 & \\text{if the } i\\text{th flip shows heads}\r\n\\end{cases}\r\n\\]\r\n\r\nProve that the random variables \\( X_1, X_2, X_3, X_4, X_5 \\) are pairwise independent.\r\n\r\nOne final technicality that we mention before continuing concerns performing arithmetic with random variables which assume real values.\r\n\r\n### Notation 11.2.15\r\n\r\nLet \\( (\\Omega, \\mathbb{P}) \\) be a probability space, and let \\( X, Y \\) be real-valued random variables on \\( (\\Omega, \\mathbb{P}) \\). Then we can define a new real-valued random variable \\( X + Y \\) by\r\n\r\n\\[\r\n(X + Y)(\\omega) = X(\\omega) + Y(\\omega) \\quad \\text{for all } \\omega \\in \\Omega\r\n\\]\r\n\r\nLikewise for multiplication, scalar multiplication and constants: for each \\( \\omega \\in \\Omega \\), define\r\n\r\n\\[\r\n(XY)(\\omega) = X(\\omega)Y(\\omega), \\quad (aX)(\\omega) = a \\cdot X(\\omega), \\quad a(\\omega) = a\r\n\\]\r\n\r\nwhere \\( a \\in \\mathbb{R} \\). Note that the random variables \\( X + Y, XY, aX, a \\) are all supported on a countable set.\r\n</markdown>",
    "Q": "Q: Given that a fair six-sided die is rolled twice, what is the probability that the first roll results in a 3 and the second roll results in a 5?   \r\n",
    "A": "   \r\nA: The probability is \\(\\mathbb{P}(\\{X = 3\\} \\cap \\{Y = 5\\}) = \\frac{1}{36}\\)."
  },
  {
    "page": 475,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Example 11.2.16\r\n\r\nA coin which shows heads with probability \\( p \\in [0, 1] \\), and tails otherwise, is flipped \\( n \\) times. For each \\( i \\in [n] \\), let\r\n\r\n\\[\r\nX_i = \r\n\\begin{cases} \r\n0 & \\text{if the } i\\text{th flip shows tails} \\\\\r\n1 & \\text{if the } i\\text{th flip shows heads}\r\n\\end{cases}\r\n\\]\r\n\r\nThen each \\( X_i \\) is a \\(\\{0, 1\\}\\)-valued random variable.\r\n\r\nDefine \\( X = X_1 + X_2 + \\cdots + X_n \\). Then \\( X \\) is a \\(\\{0, 1, \\ldots, n\\}\\)-valued random variable representing the number of heads that show in total after the coin is flipped \\( n \\) times.\r\n\r\n### Probability distributions\r\n\r\nMost of the random variables we are interested in are characterised by one of a few **probability distributions**. We won’t define the term ‘probability distribution’ precisely—indeed, its use in the mathematical literature is often ambiguous and informal—instead, we will take it to mean any description of the random behaviour of a probability space or random variable.\r\n\r\nThe **uniform distribution** models the real-world situation in which any of a fixed number of outcomes occurs with equal probability.\r\n\r\n### Definition 11.2.17 (Uniform distribution)\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\( E \\) be a finite set, and let \\( X : \\Omega \\to E \\) be a random variable. We say \\( X \\) follows the **uniform distribution** on \\( E \\), or \\( X \\) is **uniformly distributed** on \\( E \\), if \\( f_X \\) is constant—that is, if\r\n\r\n\\[\r\nf_X(e) = \\frac{1}{|E|} \\quad \\text{for all } e \\in E\r\n\\]\r\n\r\nIf \\( X \\) is uniformly distributed on \\( E \\), we write \\( X \\sim \\text{Unif}(E) \\) (\\(\\LaTeX\\) code: \\texttt{\\textbackslash sim}).\r\n\r\n### Example 11.2.18\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be the probability space modelling the roll of a fair six-sided die, and let \\( X \\) be the \\([6]\\)-valued random variable representing the number shown. Then for each \\( k \\in [6] \\) we have\r\n\r\n\\[\r\nf_X(k) = \\mathbb{P}\\{X = k\\} = \\mathbb{P}(\\{k\\}) = \\frac{1}{6}\r\n\\]\r\n\r\nso \\( X \\) is uniformly distributed on \\([6]\\).\r\n\r\n### Exercise 11.2.19\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be the probability space modelling the roll of a fair six-sided die, and let\r\n</markdown>",
    "Q": "Q: If a die is replaced by a fair eight-sided die, what would be the probability distribution \\( f_X(k) \\) for the random variable \\( X \\) representing the number shown after rolling the die, where \\( k \\in [8] \\)? ",
    "A": " A: The random variable \\( X \\) follows a uniform distribution on \\([8]\\), so \\( f_X(k) = \\mathbb{P}\\{X = k\\} = \\frac{1}{8} \\) for all \\( k \\in [8] \\)."
  },
  {
    "page": 476,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nLet \\( X \\) be the \\(\\{0, 1\\}\\)-valued random variable which is equal to 0 if the die shows an even number and 1 if the die shows an odd number. Prove that \\( X \\sim \\text{Unif}(\\{0, 1\\}) \\).\r\n\r\nBefore we continue, we prove that the notion of ‘uniform distribution’ does not make sense for countably infinite sets.\r\n\r\n### Theorem 11.2.20\r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space and let \\( E \\) be a countably infinite set. There is no notion of a uniformly \\( E \\)-valued random variable \\( X \\)—that is, there is no \\( p \\in [0, 1] \\) such that \\( f_X(e) = p \\) for all \\( e \\in E \\).\r\n\r\n**Proof**\r\n\r\nWe may assume \\( E = \\mathbb{N} \\); otherwise, re-index the sums accordingly.\r\n\r\nLet \\( p \\in [0, 1] \\). Note that\r\n\r\n\\[\r\n\\sum_{n \\in \\mathbb{N}} f_X(n) = \\sum_{n \\in \\mathbb{N}} p = \\lim_{N \\to \\infty} \\sum_{n=0}^{N} p = \\lim_{N \\to \\infty} (N+1)p\r\n\\]\r\n\r\nIf \\( p = 0 \\) then\r\n\r\n\\[\r\n\\lim_{N \\to \\infty} (N+1)p = \\lim_{N \\to \\infty} 0 = 0\r\n\\]\r\n\r\nIf \\( p > 0 \\) then, for all \\( K > 0 \\), letting \\( N = \\frac{K}{p} \\) yields \\( (N+1)p = K + p > K \\), and hence\r\n\r\n\\[\r\n\\lim_{N \\to \\infty} (N+1)p = \\infty\r\n\\]\r\n\r\nThus \\(\\sum_{n \\in \\mathbb{N}} p \\neq 1\\) for all \\( p \\in [0, 1] \\).\r\n\r\nIn both cases, we have contradicted Theorem 11.2.10. As such, there can be no random variable \\( X : \\Omega \\to \\mathbb{N} \\) such that \\( f_X \\) is constant.\r\n\r\nThe **Bernoulli distribution** models real-world situations in which one of two outcomes occurs, but not necessarily with the same probability.\r\n\r\n### Definition 11.2.21 (Bernoulli distribution)\r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space. A \\(\\{0, 1\\}\\)-valued random variable \\( X \\) follows the **Bernoulli distribution** with parameter \\( p \\) if its probability mass function \\( f_X : \\{0, 1\\} \\to [0, 1] \\) satisfies\r\n\r\n\\[\r\nf_X(0) = 1 - p \\quad \\text{and} \\quad f_X(1) = p\r\n\\]\r\n\r\nIf \\( X \\) follows the Bernoulli distribution with parameter \\( p \\), we write \\( X \\sim B(1, p) \\).\r\n</markdown>",
    "Q": "Q: If we define a new random variable \\( Y \\) such that \\( Y = 1 \\) if a die roll results in a number greater than 3 and \\( Y = 0 \\) otherwise, what is the distribution of \\( Y \\) and its parameters? ",
    "A": " A: The random variable \\( Y \\) follows a Bernoulli distribution with parameter \\( p = \\frac{3}{6} = \\frac{1}{2} \\), so \\( Y \\sim B(1, \\frac{1}{2}) \\)."
  },
  {
    "page": 477,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nThe reason behind the notation \\( B(1, p) \\) will become clear soon—the Bernoulli distribution is a specific instance of a more general distribution, which we will see in Definition 11.2.24.\r\n\r\n### Example 11.2.22\r\nA coin shows ‘heads’ with probability \\( p \\) and ‘tails’ with probability \\( 1 - p \\). Let \\( X \\) be the random variable which takes the value 0 if the coin shows tails and 1 if the coin shows heads. Then \\( X \\sim B(1, p) \\).\r\n\r\n### Exercise 11.2.23\r\nLet \\( X \\) be a \\(\\{0, 1\\}\\)-valued random variable. Prove that \\( X \\sim U(\\{0, 1\\}) \\) if and only if \\( X \\sim B(1, \\frac{1}{2}) \\).\r\n\r\nSuppose that, instead of flipping a coin just once, as in Example 11.2.22, you flip it \\( n \\) times. The total number of heads that show must be an element of \\(\\{0, 1, \\ldots, n\\}\\), and each such element occurs with some positive probability. The resulting probability distribution is called the **binomial distribution**.\r\n\r\n### Definition 11.2.24 (Binomial distribution)\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space. A \\(\\{0, 1, \\ldots, n\\}\\)-valued random variable \\( X \\) follows the **binomial distribution with parameters** \\( n, p \\) if its probability mass function \\( f_X : \\{0, 1, \\ldots, n\\} \\to [0, 1] \\) satisfies\r\n\r\n\\[\r\nf_X(k) = \\binom{n}{k} p^k (1-p)^{n-k}\r\n\\]\r\n\r\nfor all \\( k \\in \\{0, 1, \\ldots, n\\} \\). If \\( X \\) follows the binomial distribution with parameters \\( n, p \\), we write \\( X \\sim B(n, p) \\).\r\n\r\n### Example 11.2.25\r\nA coin which shows heads with probability \\( p \\in [0, 1] \\), and tails otherwise, is flipped \\( n \\) times. We will prove that the number of heads that show is binomially distributed.\r\n\r\nWe can model this situation with probability space \\((\\Omega, \\mathbb{P})\\) defined by taking \\(\\Omega = \\{H, T\\}^n\\), and letting \\(\\mathbb{P}(\\{\\omega\\}) = p^h (1-p)^t\\) for all \\(\\omega \\in \\Omega\\), where \\( h \\) is the number of heads that show and \\( t \\) is the number of tails that show in outcome \\(\\omega\\). For example, if \\( n = 5 \\) then\r\n\r\n\\[\r\n\\mathbb{P}(\\{HTHHT\\}) = p^3 (1-p)^2 \\quad \\text{and} \\quad \\mathbb{P}(\\{TTTTT\\}) = (1-p)^5\r\n\\]\r\n\r\nNote in particular that \\( h + t = n \\).\r\n\r\nLet \\( X \\) be the random variable which counts the number of heads that show. Formally, we can define \\( X : \\{H, T\\}^n \\to \\{0, 1, \\ldots, n\\} \\) by letting \\( X(\\omega) \\) be the number of heads that show in outcome \\(\\omega\\). For example if \\( n = 5 \\) then\r\n\r\n\\[\r\nX(HTHHT) = 3 \\quad \\text{and} \\quad X(TTTTT) = 0\r\n\\]\r\n</markdown>",
    "Q": "Q: If a coin with a probability \\( p \\) of showing heads is flipped \\( n \\) times, what is the expected number of heads shown? ",
    "A": " A: The expected number of heads shown when flipping the coin \\( n \\) times is given by \\( E[X] = n \\cdot p \\)."
  },
  {
    "page": 478,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nThe event \\(\\{X = k\\}\\) is the set of \\(n\\)-tuples of ‘H’s and ‘T’s which contain exactly \\(k\\) ‘H’. Hence \\(|\\{X = k\\}| = \\binom{n}{k}\\), since such an \\(n\\)-tuple can be specified by choosing the \\(k\\) positions of the ‘H’s, and putting ‘T’s in the remaining positions. Since each outcome in this event occurs with equal probability \\(p^k (1-p)^{n-k}\\), it follows that\r\n\r\n\\[\r\nf_X(k) = \\binom{n}{k} p^k (1-p)^{n-k}\r\n\\]\r\n\r\nfor all \\(k \\in \\{0, 1, \\ldots, n\\}\\). Hence \\(X \\sim \\text{B}(n, p)\\).\r\n\r\nThe following theorem proves that the sum of Bernoulli random variables follows the binomial distribution.\r\n\r\n### Theorem 11.2.26\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(p \\in [0, 1]\\) and let \\(X_1, X_2, \\ldots, X_n : \\Omega \\to \\{0, 1\\}\\) be independent random variables such that \\(X_i \\sim \\text{B}(1, p)\\). Then\r\n\r\n\\[\r\nX_1 + X_2 + \\cdots + X_n \\sim \\text{B}(n, p)\r\n\\]\r\n\r\n**Proof**\r\n\r\nLet \\(X = X_1 + X_2 + \\cdots + X_n\\). For each outcome \\(\\omega\\) and each \\(k \\in \\{0, 1, \\ldots, n\\}\\), we have \\(X(\\omega) = k\\) if and only if exactly \\(k\\) of the values \\(X_1(\\omega), X_2(\\omega), \\ldots, X_n(\\omega)\\) are equal to 1.\r\n\r\nFor each specification \\(S\\) of which of the random variables \\(X_i\\) is equal to 1, let \\(A_S \\subseteq \\Omega\\) be the event that this occurs. Formally, this is to say that, for each \\(S \\subseteq [n]\\), we define\r\n\r\n\\[\r\nA_S = \\{\\omega \\in \\Omega \\mid X_i(\\omega) = 0 \\text{ for all } i \\notin S \\text{ and } X_i(\\omega) = 1 \\text{ for all } i \\in S\\}\r\n\\]\r\n\r\nThen \\(\\mathbb{P}(A_S) = p^k (1-p)^{n-k}\\), since the random variables \\(X_1, X_2, \\ldots, X_n\\) are mutually independent.\r\n\r\nAs argued above sets \\(\\{A_S \\mid U \\subseteq [n], |S| = k\\}\\) form a partition of \\(\\{X = k\\}\\), and hence\r\n\r\n\\[\r\nf_X(k) = \\sum_{S \\in \\binom{[n]}{k}} \\mathbb{P}(A_S) = \\sum_{S \\in \\binom{[n]}{k}} p^k (1-p)^{n-k} = \\binom{n}{k} p^k (1-p)^{n-k}\r\n\\]\r\n\r\nwhich is to say that \\(X \\sim \\text{B}(n, p)\\).\r\n\r\nWe will make heavy use of Theorem 11.2.26 when we will study the expectation of binomially distributed random variables (Definition 11.2.34). First, let’s will look at a couple of scenarios in which a binomially distributed random variable is expressed as a sum of independent Bernoulli random variables.\r\n</markdown>",
    "Q": "Q: If we have \\( n = 5 \\) and \\( p = 0.3 \\), what is the probability of getting exactly \\( 2 \\) heads when flipping the coin \\( 5 \\) times? ",
    "A": " A: The probability of getting exactly \\( 2 \\) heads is given by the binomial formula:\r\n\r\n\\[\r\nf_X(2) = \\binom{5}{2} (0.3)^2 (1-0.3)^{5-2} = 10 \\cdot 0.09 \\cdot 0.343 = 0.3087.\r\n\\] \r\n\r\nThus, the probability is approximately \\( 0.3087 \\)."
  },
  {
    "page": 479,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Example 11.2.27\r\n\r\nIn Example 11.2.25, we could have defined \\(\\{0,1\\}\\)-valued random variables \\(X_1, X_2, \\ldots, X_n\\) by letting\r\n\r\n\\[\r\nX_i(\\omega) = \r\n\\begin{cases} \r\n0 & \\text{if the } i\\text{th coin flip shows tails} \\\\ \r\n1 & \\text{if the } i\\text{th coin flip shows heads} \r\n\\end{cases}\r\n\\]\r\n\r\nThen the number of heads shown in total is the random variable \\(X = X_1 + X_2 + \\cdots + X_n\\). Note that each random variable \\(X_i\\) follows the Bernoulli distribution with parameter \\(p\\), and they are independent, so that \\(X \\sim B(n, p)\\) by [Theorem 11.2.26](#).\r\n\r\nIn Example 11.2.25, we flipped a coin a fixed number of times and counted how many heads showed. Now suppose that we flip a coin repeatedly until heads show, and then stop. The number of times the coin was flipped before heads shows could, theoretically, be any natural number. This situation is modelled by the **geometric distribution**.\r\n\r\n### Definition 11.2.28 (Geometric distribution on \\(\\mathbb{N}\\))\r\n\r\nLet \\((\\Omega, \\mathcal{F}, \\mathbb{P})\\) be a probability space. An \\(\\mathbb{N}\\)-valued random variable \\(X\\) follows the **geometric distribution with parameter** \\(p\\) if its probability mass function \\(f_X : \\mathbb{N} \\to [0, 1]\\) satisfies\r\n\r\n\\[\r\nf_X(k) = (1 - p)^k p \\quad \\text{for all } k \\in \\mathbb{N}\r\n\\]\r\n\r\nIf \\(X\\) follows the geometric distribution with parameter \\(p\\), we write \\(X \\sim \\text{Geom}(p)\\).\r\n\r\n### Example 11.2.29\r\n\r\nA coin which shows heads with probability \\(p \\in [0, 1]\\), and tails otherwise, is flipped repeatedly until heads shows.\r\n\r\n### Exercise 11.2.30\r\n\r\nLet \\(p \\in [0, 1]\\) and let \\(X \\sim \\text{Geom}(p)\\). Prove that\r\n\r\n\\[\r\n\\mathbb{P}\\{X \\text{ is even}\\} = \\frac{1}{2 - p}\r\n\\]\r\n\r\nWhat is the probability that \\(X\\) is odd?\r\n\r\nOccasionally, it will be useful to consider geometrically distributed random variables which are valued in the set\r\n\r\n\\[\r\n\\mathbb{N}^+ = \\{1, 2, 3, \\ldots\\}\r\n\\]\r\n\r\nof all **positive** natural numbers. The probability mass function of such a random variable is slightly different.\r\n</markdown>",
    "Q": "Q: Given that \\(X\\) follows the geometric distribution with parameter \\(p\\), how can we express the probability that \\(X\\) is odd in terms of \\(p\\)? ",
    "A": " A: The probability that \\(X\\) is odd can be expressed as \\(\\mathbb{P}\\{X \\text{ is odd}\\} = \\frac{p}{2 - p}\\)."
  },
  {
    "page": 480,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Definition 11.2.31 (Geometric distribution on \\( \\mathbb{N}^+ \\))\r\n\r\nLet \\( (\\Omega, \\mathbb{P}) \\) be a probability space. An \\( \\mathbb{N}^+ \\)-valued random variable \\( X \\) follows the **geometric distribution with parameter** \\( p \\) if its probability mass function \\( f_X : \\mathbb{N}^+ \\to [0, 1] \\) satisfies\r\n\r\n\\[\r\nf_X(k) = (1 - p)^{k-1} p \\quad \\text{for all } k \\in \\mathbb{N}^+\r\n\\]\r\n\r\nIf \\( X \\) follows the geometric distribution with parameter \\( p \\), we write \\( X \\sim \\text{Geom}(p) \\).\r\n\r\nIt is to be understood from context whether a given geometric random variable is \\( \\mathbb{N} \\)-valued or \\( \\mathbb{N}^+ \\)-valued.\r\n\r\n### Example 11.2.32\r\n\r\nAn urn contains \\( n \\geq 1 \\) distinct coupons. Each time you draw a coupon that you have not drawn before, you get a stamp. When you get all \\( n \\) stamps, you win. Let \\( X \\) be the number of coupons drawn up to, and including, a winning draw.\r\n\r\nFor each \\( k \\in [n] \\), let \\( X_k \\) be the random variable representing the number of draws required to draw the \\( k \\)th new coupon, after \\( k - 1 \\) coupons have been collected. Then the total number of times a coupon must be drawn is \\( X = X_1 + X_2 + \\cdots + X_n \\).\r\n\r\nAfter \\( k - 1 \\) coupons have been collected, there are \\( n - k + 1 \\) uncollected coupons remaining in the urn, and hence on any given draw, an uncollected coupon is drawn with probability \\( \\frac{n-k+1}{n} \\), and a coupon that has already been collected is drawn with probability \\( \\frac{k-1}{n} \\). Hence for each \\( r \\in \\mathbb{N}^+ \\) we have\r\n\r\n\\[\r\n\\mathbb{P}\\{X_k = r\\} = \\left( \\frac{k-1}{n} \\right)^{r-1} \\left( \\frac{n-k+1}{n} \\right)\r\n\\]\r\n\r\nThat is to say, \\( X_k \\) is geometrically distributed on \\( \\mathbb{N}^+ \\) with parameter \\( \\frac{n-k+1}{n} \\).\r\n\r\nWe will use this in Example 11.2.47 to compute the number of times a person should expect to have to draw coupons from the urn until they win.\r\n\r\n### Expectation\r\n\r\nWe motivate the definition of **expectation** (Definition 11.2.34) with the following example.\r\n\r\n### Example 11.2.33\r\n\r\nFor each \\( n \\geq 1 \\), let \\( X_n \\) be the average value shown when a fair six-sided die is rolled \\( n \\) times.\r\n\r\nWhen \\( n \\) is small, the value of \\( X_n \\) is somewhat unpredictable. For example, \\( X_1 \\) is uni-\r\n</markdown>",
    "Q": "Q: Given a geometric distribution \\( X \\sim \\text{Geom}(p) \\) with parameter \\( p \\), what is the expected value of \\( X \\)? ",
    "A": " A: The expected value of \\( X \\) is given by \\( \\mathbb{E}[X] = \\frac{1}{p} \\)."
  },
  {
    "page": 481,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nformly distributed, since it takes each of the values 1, 2, 3, 4, 5, 6 with equal probability. This is summarised in the following table:\r\n\r\n\\[\r\n\\begin{array}{c|cccccc}\r\ne & 1 & 2 & 3 & 4 & 5 & 6 \\\\\r\n\\hline\r\n\\mathbb{P}\\{X_1 = e\\} & \\frac{1}{6} & \\frac{1}{6} & \\frac{1}{6} & \\frac{1}{6} & \\frac{1}{6} & \\frac{1}{6} \\\\\r\n\\end{array}\r\n\\]\r\n\r\nThe distribution of \\(X_2\\) is shown in the following table:\r\n\r\n\\[\r\n\\begin{array}{c|cccccccccc}\r\ne & 1 & 1.5 & 2 & 2.5 & 3 & 3.5 & 4 & 4.5 & 5 & 5.5 & 6 \\\\\r\n\\hline\r\n\\mathbb{P}\\{X_2 = e\\} & \\frac{1}{36} & \\frac{2}{36} & \\frac{3}{36} & \\frac{4}{36} & \\frac{5}{36} & \\frac{6}{36} & \\frac{5}{36} & \\frac{4}{36} & \\frac{3}{36} & \\frac{2}{36} & \\frac{1}{36} \\\\\r\n\\end{array}\r\n\\]\r\n\r\nAs can be seen, the probabilities increase towards the middle of the table; the extreme values occur with low probability. This effect is exaggerated as \\(n\\) increases. Indeed,\r\n\r\n\\[\r\n\\mathbb{P}\\{X_n = 1\\} = \\mathbb{P}\\{X_n = 6\\} = \\frac{1}{6^n}\r\n\\]\r\n\r\nso that \\(\\mathbb{P}\\{X_n = 1\\} \\to 0\\) and \\(\\mathbb{P}\\{X_n = 6\\} \\to 0\\) as \\(n \\to \\infty\\); however, it can be shown that for all \\(\\epsilon > 0\\), we have\r\n\r\n\\[\r\n\\mathbb{P}\\{3.5 - \\epsilon < X_n < 3.5 + \\epsilon\\}\r\n\\]\r\n\r\nso that \\(\\mathbb{P}\\{|X_n - 3.5| < \\epsilon\\} \\to 1\\) as \\(n \\to \\infty\\).\r\n\r\nThus when we roll a die repeatedly, we can expect its value to eventually be as close to 3.5 as we like. This is an instance of a theorem called the **law of large numbers**.\r\n\r\nThe value 3.5 in Example 11.2.33 is special because it is the average of the numbers 1, 2, 3, 4, 5, 6. More generally, assignments of different probabilities to different values of a random variable \\(X\\) yields a **weighted average** of the possible values. This weighted average, known as the **expectation** of the random variable, behaves in the same way as the number 3.5 did in Example 11.2.33.\r\n\r\n### Definition 11.2.34\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(E \\subseteq \\mathbb{R}\\) be countable, and let \\(X\\) be an \\(E\\)-valued random variable on \\((\\Omega, \\mathbb{P})\\). The **expectation** (or **expected value**) of \\(X\\), if it exists, is the real number \\(\\mathbb{E}[X]\\) (LaTeX code: \\texttt{\\textbackslash mathbb\\{E\\}}) defined by\r\n\r\n\\[\r\n\\mathbb{E}[X] = \\sum_{e \\in E} e f_X(e)\r\n\\]\r\n\r\n### Example 11.2.35\r\nLet \\(X\\) be a random variable representing the value shown when a fair six-sided die is\r\n</markdown>",
    "Q": "Q: What is the expected value of a random variable \\(X\\) that represents the outcome when rolling a fair six-sided die? ",
    "A": " A: The expected value \\(\\mathbb{E}[X]\\) is calculated as follows:\r\n\r\n\\[\r\n\\mathbb{E}[X] = \\sum_{e=1}^{6} e \\cdot \\mathbb{P}\\{X = e\\} = 1 \\cdot \\frac{1}{6} + 2 \\cdot \\frac{1}{6} + 3 \\cdot \\frac{1}{6} + 4 \\cdot \\frac{1}{6} + 5 \\cdot \\frac{1}{6} + 6 \\cdot \\frac{1}{6} = \\frac{21}{6} = 3.5\r\n\\]"
  },
  {
    "page": 482,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\nrolled. Then \\( X \\sim \\mathcal{U}([6]) \\), so that \\( f_X(k) = \\frac{1}{6} \\) for all \\( k \\in [6] \\), and hence\r\n\r\n\\[\r\n\\mathbb{E}[X] = 1 \\cdot \\frac{1}{6} + 2 \\cdot \\frac{1}{6} + 3 \\cdot \\frac{1}{6} + 4 \\cdot \\frac{1}{6} + 5 \\cdot \\frac{1}{6} + 6 \\cdot \\frac{1}{6} = \\frac{21}{6} = 3.5\r\n\\]\r\n\r\nso the expected value of the die roll is 3.5.\r\n\r\n### Example 11.2.36\r\nLet \\( p \\in [0, 1] \\) and let \\( X \\sim \\mathcal{B}(1, p) \\). Then\r\n\r\n\\[\r\n\\mathbb{E}[X] = 0 \\cdot (1 - p) + 1 \\cdot p = p\r\n\\]\r\n\r\nSo the expected value of a Bernoulli random variable is equal to the parameter.\r\n\r\n### Exercise 11.2.37\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\( c \\in \\mathbb{R} \\). Thinking of \\( c \\) as a constant real-valued random variable,[a] prove that \\(\\mathbb{E}[c] = c\\).\r\n\r\nThe following lemma provides an alternative method for computing the expectation of a random variable. It will be useful for proving that expectation is linear in [Theorem 11.2.43](#).\r\n\r\n### Lemma 11.2.38\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\( E \\) be a countable set and let \\( X \\) be an \\( E \\)-valued random variable on \\((\\Omega, \\mathbb{P})\\). Then\r\n\r\n\\[\r\n\\mathbb{E}[X] = \\sum_{\\omega \\in \\Omega} X(\\omega) \\mathbb{P}(\\{\\omega\\})\r\n\\]\r\n\r\n**Proof**\r\n\r\nRecall from [Lemma 11.2.9](#) that\r\n\r\n\\[\r\n\\Omega = \\bigcup_{e \\in E} \\{X = e\\}\r\n\\]\r\n\r\nand the events \\(\\{X = e\\}\\) are mutually exclusive. Hence\r\n\r\n\\[\r\n\\sum_{\\omega \\in \\Omega} X(\\omega) \\mathbb{P}(\\{\\omega\\}) = \\sum_{e \\in E} \\sum_{\\omega \\in \\{X = e\\}} X(\\omega) \\mathbb{P}(\\{\\omega\\}) \\quad \\text{by Lemma 11.2.9}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{e \\in E} e \\mathbb{P}\\{X = e\\} \\quad \\text{by (ii) in Proposition 11.1.5}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{e \\in E} e f_X(e) \\quad \\text{by Definition 11.2.5}\r\n\\]\r\n\r\nas required.\r\n\r\n[a] Formally, we should define \\( X : \\Omega \\to \\mathbb{R} \\) by letting \\( X(\\omega) = c \\) for all \\( \\omega \\in \\Omega \\); then compute \\(\\mathbb{E}[X]\\).\r\n</markdown>",
    "Q": "Q: If a fair six-sided die is rolled, what is the variance of the outcome \\( X \\) of the die roll? ",
    "A": " A: The variance of \\( X \\) can be calculated using the formula \\( \\text{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2 \\). First, we find \\( \\mathbb{E}[X^2] = \\frac{1^2}{6} + \\frac{2^2}{6} + \\frac{3^2}{6} + \\frac{4^2}{6} + \\frac{5^2}{6} + \\frac{6^2}{6} = \\frac{91}{6} \\). Therefore, \\( \\text{Var}(X) = \\frac{91}{6} - (3.5)^2 = \\frac{91}{6} - \\frac{49}{4} = \\frac{91}{6} - \\frac{294}{24} = \\frac{182 - 294}{24} = \\frac{-112}{24} = \\frac{7}{12} \\). Thus, the variance of the die roll is \\( \\frac{35}{12} \\)."
  },
  {
    "page": 483,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Proposition 11.2.39\r\n\r\nLet \\( n \\in \\mathbb{N} \\) and \\( p \\in [0, 1] \\), and suppose that \\( X \\) is a random variable such that \\( X \\sim B(n, p) \\). Then \\(\\mathbb{E}[X] = np\\).\r\n\r\n**Proof**\r\n\r\nSince \\( X \\sim B(n, p) \\), we have \\( f_X(k) = \\binom{n}{k} p^k (1-p)^{n-k} \\) for all \\( 0 \\leq k \\leq n \\). Hence\r\n\r\n\\[\r\n\\mathbb{E}[X] = \\sum_{k=0}^{n} k \\cdot \\binom{n}{k} p^k (1-p)^{n-k} \\quad \\text{by definition of expectation}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{k=1}^{n} k \\cdot \\binom{n}{k} p^k (1-p)^{n-k} \\quad \\text{since the } k = 0 \\text{ term is zero}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{k=1}^{n} n \\cdot \\binom{n-1}{k-1} p^k (1-p)^{n-k} \\quad \\text{by Proposition 8.1.38}\r\n\\]\r\n\r\n\\[\r\n= \\sum_{\\ell=0}^{n-1} n \\cdot \\binom{n-1}{\\ell} p^{\\ell+1} (1-p)^{(n-1)-\\ell} \\quad \\text{writing } \\ell = k+1\r\n\\]\r\n\r\n\\[\r\n= np \\cdot \\sum_{\\ell=0}^{n-1} \\binom{n-1}{\\ell} p^\\ell (1-p)^{(n-1)-\\ell} \\quad \\text{pulling out constant factors}\r\n\\]\r\n\r\n\\[\r\n= np(p + (1-p))^{n-1} \\quad \\text{by the binomial theorem}\r\n\\]\r\n\r\n\\[\r\n= np \\quad \\text{since } p + (1-p) = 1\r\n\\]\r\n\r\nas required.\r\n\r\n### Example 11.2.40\r\n\r\nA coin which shows heads with probability \\( \\frac{1}{3} \\), and tails otherwise, is tossed 12 times. Letting \\( X \\) be the random variable representing the number of heads that show, we see that \\( X \\sim B(12, \\frac{1}{3}) \\), and hence the expected number of heads that show is equal to\r\n\r\n\\[\r\n\\mathbb{E}[X] = 12 \\cdot \\frac{1}{3} = 4\r\n\\]\r\n\r\n### Exercise 11.2.41\r\n\r\nUse Exercise 9.3.50 to prove that the expectation of a \\(\\mathbb{N}\\)-valued random variable which is geometrically distributed with parameter \\( p \\in [0, 1] \\) is equal to \\(\\frac{1-p}{p}\\). Use this to compute the expected number of times a coin must be flipped before the first time heads shows, given that heads shows with probability \\(\\frac{2}{7}\\).\r\n\r\n### Exercise 11.2.42\r\n\r\nProve that the expectation of a \\(\\mathbb{N}^+\\)-valued random variable which is geometrically distributed with parameter \\( p \\in [0, 1] \\) is equal to \\(\\frac{1}{p}\\).\r\n</markdown>",
    "Q": "Q: What is the expected value of a random variable \\( X \\) that follows the geometric distribution with parameter \\( p = \\frac{1}{4} \\)? ",
    "A": " A: The expected value \\( \\mathbb{E}[X] \\) is given by \\( \\frac{1}{p} = \\frac{1}{\\frac{1}{4}} = 4 \\)."
  },
  {
    "page": 484,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Theorem 11.2.43 (Linearity of expectation)\r\n\r\nLet \\((\\Omega, \\mathbb{P})\\) be a probability space, let \\(E \\subseteq \\mathbb{R}\\) be countable, let \\(X\\) and \\(Y\\) be \\(E\\)-valued random variables on \\((\\Omega, \\mathbb{P})\\), and let \\(a, b \\in \\mathbb{R}\\). Then\r\n\r\n\\[\r\n\\mathbb{E}[aX + bY] = a\\mathbb{E}[X] + b\\mathbb{E}[Y]\r\n\\]\r\n\r\n**Proof**\r\n\r\nThis follows directly from the fact that summation is linear. Indeed,\r\n\r\n\\[\r\n\\begin{align*}\r\n\\mathbb{E}[aX + bY] &= \\sum_{\\omega \\in \\Omega} (aX + bY)(\\omega)\\mathbb{P}(\\{\\omega\\}) & \\text{by Lemma 11.2.38} \\\\\r\n&= \\sum_{\\omega \\in \\Omega} \\left(aX(\\omega)\\mathbb{P}(\\{\\omega\\}) + bY(\\omega)\\mathbb{P}(\\{\\omega\\})\\right) & \\text{expanding} \\\\\r\n&= a \\sum_{\\omega \\in \\Omega} X(\\omega)\\mathbb{P}(\\{\\omega\\}) + b \\sum_{\\omega \\in \\Omega} Y(\\omega)\\mathbb{P}(\\{\\omega\\}) & \\text{by linearity of summation} \\\\\r\n&= a\\mathbb{E}[X] + b\\mathbb{E}[Y] & \\text{by Lemma 11.2.38}\r\n\\end{align*}\r\n\\]\r\n\r\nas required.\r\n\r\n### Example 11.2.44\r\n\r\nLet \\(X\\) be a random variable representing the sum of the numbers shown when a fair six-sided die is rolled twice. We can write \\(X = Y + Z\\), where \\(Y\\) is the value of the first die roll and \\(Z\\) is the value of the second die roll. By Example 11.2.35, we have \\(\\mathbb{E}[Y] = \\mathbb{E}[Z] = 3.5\\). Linearity of expectation then yields\r\n\r\n\\[\r\n\\mathbb{E}[X] = \\mathbb{E}[Y] + \\mathbb{E}[Z] = 3.5 + 3.5 = 7\r\n\\]\r\n\r\nso the expected value of the sum of the two die rolls is 7.\r\n\r\n### Example 11.2.45\r\n\r\nA coin, when flipped, shows heads with probability \\(p \\in [0, 1]\\). The coin is flipped. If it shows heads, I gain $10; if it shows tails, I lose $20. We compute the least value of \\(p\\) that ensures that I do not expect to lose money.\r\n\r\nLet \\(X\\) be the random variable which is equal to 0 if tails shows, and 1 if heads shows. Then \\(X \\sim \\text{B}(1, p)\\), so that \\(\\mathbb{E}[X] = p\\) by Example 11.2.36. Let \\(Y\\) be the amount of money I gain. Then\r\n\r\n\\[\r\nY = 10X - 20(1 - X) = 30X - 20\r\n\\]\r\n\r\nHence my expected winnings are\r\n\r\n\\[\r\n\\mathbb{E}[Y] = 30\\mathbb{E}[X] - 20 = 30p - 20\r\n\\]\r\n\r\nIn order for this number to be non-negative, we require \\(p \\geq \\frac{2}{3}\\).\r\n\r\nTheorem 11.2.43 generalises by induction to linear combinations of countably many random variables; this is proved in the following exercise.\r\n</markdown>",
    "Q": "Q: If we have three random variables \\(X\\), \\(Y\\), and \\(Z\\) with \\(\\mathbb{E}[X] = 4\\), \\(\\mathbb{E}[Y] = 2\\), and \\(\\mathbb{E}[Z] = 3\\), what is \\(\\mathbb{E}[2X - 3Y + 4Z]\\)? ",
    "A": " A: By applying the linearity of expectation, we have \r\n\r\n\\[\r\n\\mathbb{E}[2X - 3Y + 4Z] = 2\\mathbb{E}[X] - 3\\mathbb{E}[Y] + 4\\mathbb{E}[Z] = 2(4) - 3(2) + 4(3) = 8 - 6 + 12 = 14.\r\n\\]"
  },
  {
    "page": 485,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.2 Discrete Random Variables",
    "content": "<markdown>\r\n### Exercise 11.2.46\r\n\r\nLet \\((\\Omega, \\mathcal{P})\\) be a probability space, let \\(E \\subseteq \\mathbb{R}\\) be countable, let \\(\\{X_i \\mid i \\in I\\}\\) be a family of \\(E\\)-valued random variables on \\((\\Omega, \\mathcal{P})\\), indexed by some countable set \\(I\\), and let \\(\\{a_n \\mid n \\in \\mathbb{N}\\}\\) be an \\(I\\)-indexed family of real numbers. Prove that\r\n\r\n\\[\r\n\\mathbb{E} \\left[ \\sum_{i \\in I} a_i X_i \\right] = \\sum_{i \\in I} a_i \\mathbb{E}[X_i]\r\n\\]\r\n\r\n### Example 11.2.47\r\n\r\nRecall Example 11.2.32: an urn contains \\(n \\geq 1\\) distinct coupons. Each time you draw a coupon that you have not drawn before, you get a stamp. When you get all \\(n\\) stamps, you win. We find the expected number of times you need to draw a coupon from the urn in order to win.\r\n\r\nFor each \\(k \\in [n]\\), let \\(X_k\\) be the random variable representing the number of draws required to draw the \\(k\\)th new coupon, after \\(k-1\\) coupons have been collected. Then the total number of times a coupon must be drawn is \\(X = X_1 + X_2 + \\cdots + X_n\\).\r\n\r\nWe already saw that \\(X_k \\sim \\text{Geom} \\left( \\frac{n-k+1}{n} \\right)\\) for each \\(k \\in [n]\\). By Exercise 11.2.42, we have \\(\\mathbb{E}[X_k] = \\frac{n}{n-k+1}\\) for all \\(k \\in [n]\\). By linearity of expectation, it follows that\r\n\r\n\\[\r\n\\mathbb{E}[X] = \\sum_{k=1}^{n} \\mathbb{E}[X_k] = \\sum_{k=1}^{n} \\frac{n}{n-k+1} = n \\sum_{i=1}^{n} \\frac{1}{i}\r\n\\]\r\n</markdown>",
    "Q": "Q: Prove that if \\((\\Omega, \\mathcal{P})\\) is a probability space and \\(\\{X_i \\mid i \\in I\\}\\) is a family of \\(E\\)-valued random variables, then the expected value of the sum of these random variables can be expressed as a sum of their expected values, i.e., show that \\(\\mathbb{E} \\left[ \\sum_{i \\in I} X_i \\right] = \\sum_{i \\in I} \\mathbb{E}[X_i]\\) under the condition that the sum converges. ",
    "A": " A: The result follows from the linearity of expectation, which states that for any finite or countable collection of random variables, if the sum converges, then \\(\\mathbb{E} \\left[ \\sum_{i \\in I} X_i \\right] = \\sum_{i \\in I} \\mathbb{E}[X_i]\\)."
  },
  {
    "page": 486,
    "title": "Ii Topics In Pure Mathematics/11 Discrete Probability Theory/11.E Chapter 11 Exercises",
    "content": "<markdown>\r\n## Chapter 11 exercises\r\n\r\n### True–False questions\r\n\r\nIn [Questions 11.1 to 11.5](#), determine (with proof) whether the statement is true or false.\r\n\r\n11.1. In a probability space \\((\\Omega, \\mathbb{P})\\), we have \\(\\mathbb{P}(A \\mid \\Omega) = \\mathbb{P}(A)\\) for all events \\(A\\).\r\n\r\n11.2. The function \\(\\mathbb{P} : \\mathcal{P}(\\mathbb{N}) \\to [0, 1]\\) defined by \\(\\mathbb{P}(A) = \\sum_{n \\in A} 2^{-n}\\) is a probability measure on \\(\\mathbb{N}\\).\r\n\r\n11.3. The function \\(\\mathbb{P} : \\mathcal{P}(\\mathbb{Z}) \\to [0, 1]\\) defined by \\(\\mathbb{P}(A) = \\sum_{n \\in A} 2^{-n}\\) is a probability measure on \\(\\mathbb{Z}\\).\r\n\r\n11.4. The function \\(\\mathbb{P} : \\mathcal{P}(\\mathbb{N}) \\to [0, 1]\\), defined by letting \\(\\mathbb{P}(\\emptyset) = \\emptyset\\) and \\(\\mathbb{P}(A) = 2^{-\\min(A)}\\) for all \\(A \\neq \\emptyset\\), is a probability measure on \\(\\mathbb{N}\\).\r\n\r\n11.5. A random variable can have infinite expectation.\r\n\r\n### Always–Sometimes–Never questions\r\n\r\nIn [Questions 11.6 to 11.10](#), determine (with proof) whether the conclusion is always, sometimes or never true under the given hypotheses.\r\n\r\n11.6. Let \\((\\Omega, \\mathbb{P})\\) be a probability space. The only event whose probability is zero is the empty event \\(\\emptyset \\subseteq \\Omega\\).\r\n\r\n11.7. Let \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(A\\) be an event. Then \\(\\mathbb{P}(A)^2 - \\mathbb{P}(A) = 2\\).\r\n\r\n11.8. Let \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(A\\) and \\(B\\) be events with \\(\\mathbb{P}(B) > 0\\). Then \\(\\mathbb{P}(A \\mid B) \\geq \\mathbb{P}(A)\\).\r\n\r\n11.9. Let \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(A\\) and \\(B\\) be mutually exclusive events with \\(\\mathbb{P}(B) > 0\\). Then \\(\\mathbb{P}(A \\mid B) = 0\\).\r\n\r\n11.10. Let \\((\\Omega, \\mathbb{P})\\) be a probability space and let \\(A, B\\) and \\(C\\) be events with \\(\\mathbb{P}(B) > 0\\) and \\(\\mathbb{P}(C) > 0\\). Then \\(\\mathbb{P}(A \\mid B)\\mathbb{P}(B \\mid C) = \\mathbb{P}(A \\mid C)\\).\r\n</markdown>",
    "Q": "Q: In a probability space \\((\\Omega, \\mathbb{P})\\), if the events \\(A\\) and \\(B\\) are mutually exclusive, what is the relationship between \\(\\mathbb{P}(A \\cup B)\\) and \\(\\mathbb{P}(A) + \\mathbb{P}(B)\\)? ",
    "A": " A: If \\(A\\) and \\(B\\) are mutually exclusive, then \\(\\mathbb{P}(A \\cup B) = \\mathbb{P}(A) + \\mathbb{P}(B)\\)."
  },
  {
    "page": 488,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\n## Section 12.1\r\n\r\n# Orders and lattices\r\n\r\nWe saw in [Section 5.1](#) how equivalence relations behave like ‘=’, in the sense that they are reflexive, symmetric and transitive.\r\n\r\nThis section explores a new kind of relation which behaves like ‘≤’. This kind of relation proves to be extremely useful for making sense of mathematical structures, and has powerful applications throughout mathematics, computer science and even linguistics.\r\n\r\n✦ **Definition 12.1.1**  \r\nA relation \\( R \\) on a set \\( X \\) is a **partial order** if \\( R \\) is reflexive, antisymmetric and transitive. That is, if:\r\n\r\n- (Reflexivity) \\( x \\, R \\, x \\) for all \\( x \\in X \\);\r\n- (Antisymmetry) For all \\( x, y \\in X \\), if \\( x \\, R \\, y \\) and \\( y \\, R \\, x \\), then \\( x = y \\);\r\n- (Transitivity) For all \\( x, y, z \\in X \\), if \\( x \\, R \\, y \\) and \\( y \\, R \\, z \\), then \\( x \\, R \\, z \\).\r\n\r\nA set \\( X \\) together with a partial order \\( R \\) on \\( X \\) is called a **partially ordered set**, or **poset** for short, and is denoted \\( (X, R) \\).\r\n\r\nWhen we talk about partial orders, we usually use a suggestive symbol like ‘\\(\\preceq\\)’ (\\(\\LaTeX\\) code: `\\preceq`) or ‘\\(\\sqsubseteq\\)’ (\\(\\LaTeX\\) code: `\\sqsubseteq`).\r\n\r\n✏️ **Example 12.1.2**  \r\nWe have seen many examples of posets so far:\r\n\r\n- Any of the sets \\( \\mathbb{N}, \\mathbb{Z}, \\mathbb{Q} \\) or \\( \\mathbb{R} \\), with the usual order relation \\(\\leq\\).\r\n- Given a set \\( X \\), its power set \\( \\mathcal{P}(X) \\) is partially ordered by \\(\\subseteq\\). Indeed:\r\n  - **Reflexivity.** If \\( U \\in \\mathcal{P}(X) \\) then \\( U \\subseteq U \\).\r\n  - **Antisymmetry.** If \\( U, V \\in \\mathcal{P}(X) \\) with \\( U \\subseteq V \\) and \\( V \\subseteq U \\), then \\( U = V \\) by definition of set equality.\r\n  - **Transitivity.** If \\( U, V, W \\in \\mathcal{P}(X) \\) with \\( U \\subseteq V \\) and \\( V \\subseteq W \\), then \\( U \\subseteq W \\) by [Proposition 2.1.20](#).\r\n\r\n- The set \\( \\mathbb{N} \\) of natural numbers is partially ordered by the divisibility relation—see [Exercises 5.1.23, 5.1.33 and 5.1.40](#). However, as noted in [Exercise 5.1.33](#), the set \\( \\mathbb{Z} \\) of integers is not partially ordered by divisibility, since divisibility is not antisymmetric on \\( \\mathbb{Z} \\).\r\n</markdown>",
    "Q": "Q: What properties must a relation satisfy to be considered a partial order on a set \\( X \\)? ",
    "A": " A: A relation \\( R \\) on a set \\( X \\) must be reflexive, antisymmetric, and transitive to be considered a partial order."
  },
  {
    "page": 489,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\n- Any set \\( X \\) is partially ordered by its equality relation. This is called the **discrete order** on \\( X \\).\r\n\r\nMuch like the difference between the relations \\(\\preceq\\) and \\(<\\) on \\(\\mathbb{N}\\), or between \\(\\subseteq\\) and \\(\\subset\\) on \\(\\mathcal{P}(X)\\), every partial order can be strictified, in a precise sense outlined in the following definition and proposition.\r\n\r\n### ✦ Definition 12.1.3\r\nA relation \\( R \\) on a set \\( X \\) is a **strict partial order** if it is irreflexive, asymmetric and transitive. That is, if:\r\n\r\n- (Irreflexivity) \\(\\neg(x \\, R \\, x)\\) for all \\( x \\in X \\);\r\n- (Asymmetry) For all \\( x, y \\in X \\), if \\( x \\, R \\, y \\), then \\(\\neg(y \\, R \\, x)\\);\r\n- (Transitivity) For all \\( x, y, z \\in X \\), if \\( x \\, R \\, y \\) and \\( y \\, R \\, z \\), then \\( x \\, R \\, z \\).\r\n\r\n### ✣ Proposition 12.1.4\r\nLet \\( X \\) be a set. Partial orders \\(\\preceq\\) on \\( X \\) are in natural correspondence with strict partial orders \\( \\prec \\) on \\( X \\), according to the rule:\r\n\r\n\\[\r\nx \\preceq y \\iff (x \\prec y \\lor x = y) \\quad \\text{and} \\quad x \\prec y \\iff (x \\preceq y \\land x \\neq y)\r\n\\]\r\n\r\n**Proof**  \r\nLet \\( P \\) be the set of all partial orders on \\( X \\) and let \\( S \\) be the set of all strict partial orders on \\( X \\). Define functions\r\n\r\n\\[\r\nf : P \\to S \\quad \\text{and} \\quad g : S \\to P\r\n\\]\r\n\r\nas in the statement of the proposition, namely:\r\n\r\n- Given a partial order \\(\\preceq\\), let \\( f(\\preceq) \\) be the relation \\(\\prec\\) defined for \\( x, y \\in X \\) by letting \\( x \\prec y \\) be true if and only if \\( x \\preceq y \\) and \\( x \\neq y \\);\r\n- Given a strict partial order \\(\\prec\\), let \\( g(\\prec) \\) be the relation \\(\\preceq\\) defined for \\( x, y \\in X \\) by letting \\( x \\preceq y \\) be true if and only if \\( x \\prec y \\) or \\( x = y \\).\r\n\r\nWe’ll prove that \\( f \\) and \\( g \\) are mutually inverse functions. Indeed:\r\n\r\n- \\( f \\) is well-defined. To see this, fix \\(\\preceq\\) and \\(\\prec = f(\\preceq)\\) and note that:\r\n  - \\(\\prec\\) is irreflexive, since for \\( x \\in X \\) if \\( x \\prec x \\) then \\( x \\neq x \\), which is a contradiction.\r\n  - \\(\\prec\\) is asymmetric. To see this, let \\( x, y \\in X \\) and suppose \\( x \\prec y \\). Then \\( x \\preceq y \\) and \\( x \\neq y \\). If also \\( y \\prec x \\), then we’d have \\( y \\preceq x \\), so that \\( x = y \\) by antisymmetry of \\(\\preceq\\). But \\( x \\neq y \\), so this is a contradiction.\r\n</markdown>",
    "Q": "Q: Given a set \\( X \\) with a strict partial order \\( \\prec \\), how can you construct a corresponding partial order \\( \\preceq \\) using the definitions provided? ",
    "A": " A: You can construct the partial order \\( \\preceq \\) from the strict partial order \\( \\prec \\) by defining \\( x \\preceq y \\) as \\( x \\prec y \\lor x = y \\) for all \\( x, y \\in X \\)."
  },
  {
    "page": 490,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\n◊ ≺ is transitive. To see this, let \\(x, y, z \\in X\\) and suppose \\(x \\prec y\\) and \\(y \\prec z\\). Then \\(x \\nprec y\\) and \\(y \\nprec z\\), so that \\(x \\nprec z\\). Moreover, if \\(x = z\\) then we’d also have \\(x \\nprec x\\) by reflexivity of \\(\\nprec\\), so \\(z \\nprec y\\) by transitivity of \\(\\nprec\\), and hence \\(y = z\\) by antisymmetry of \\(\\nprec\\). But this contradicts \\(y \\prec z\\).\r\n\r\nSo \\(\\prec\\) is a strict partial order on \\(X\\).\r\n\r\n- \\(g\\) is well-defined. To see this, fix \\(\\prec\\) and \\(\\nprec = g(\\prec)\\) and note that:\r\n  ◊ \\(\\nprec\\) is reflexive. This is built into the definition of \\(\\nprec\\).\r\n  ◊ \\(\\nprec\\) is symmetric. To see this, fix \\(x, y \\in X\\) and suppose \\(x \\nprec y\\) and \\(y \\nprec x\\). Now if \\(x \\neq y\\) then \\(x \\prec y\\) and \\(y \\prec x\\), but this contradicts asymmetry of \\(\\prec\\). Hence \\(x = y\\).\r\n  ◊ \\(\\nprec\\) is transitive. To see this, fix \\(x, y, z \\in X\\) and suppose \\(x \\nprec y\\) and \\(y \\nprec z\\). Then one of the following four cases must be true:\r\n    * \\(x = y = z\\). In this case, \\(x = z\\), so \\(x \\nprec z\\).\r\n    * \\(x = y \\prec z\\). In this case, \\(x \\prec z\\), so \\(x \\nprec z\\).\r\n    * \\(x \\prec y = z\\). In this case, \\(x \\prec z\\), so \\(x \\nprec z\\).\r\n    * \\(x \\prec y \\prec z\\). In this case, \\(x \\prec z\\) by transitivity of \\(\\prec\\), so \\(x \\nprec z\\).\r\n\r\nIn any case, we have that \\(x \\nprec z\\).\r\n\r\nSo \\(\\nprec\\) is a partial order on \\(X\\).\r\n\r\n- \\(g \\circ f = \\text{id}_P\\). To see this, let \\(\\prec = f(\\nprec)\\) and \\(\\sqsubseteq = g(\\prec)\\). For \\(x, y \\in X\\), we have \\(x \\sqsubseteq y\\) if and only if \\(x \\prec y\\) or \\(x = y\\), which in turn occurs if and only if \\(x = y\\) or both \\(x \\nprec y\\) and \\(x \\neq y\\). This is equivalent to \\(x \\nprec y\\), since if \\(x = y\\) then \\(x \\nprec y\\) by reflexivity. Hence \\(\\sqsubseteq\\) and \\(\\nprec\\) are equal relations, so \\(g \\circ f = \\text{id}_P\\).\r\n\r\n- \\(f \\circ g = \\text{id}_S\\). To see this, let \\(\\nprec = g(\\prec)\\) and \\(\\sqsubseteq = f(\\nprec)\\). For \\(x, y \\in X\\), we have \\(x \\sqsubseteq y\\) if and only if \\(x \\nprec y\\) and \\(x \\neq y\\), which in turn occurs if and only if \\(x \\neq y\\) and either \\(x \\prec y\\) or \\(x = y\\). Since \\(x \\neq y\\) precludes \\(x = y\\), this is equivalent to \\(x \\prec y\\). Hence \\(\\prec\\) and \\(\\sqsubseteq\\) are equal relations, so \\(f \\circ g = \\text{id}_S\\).\r\n\r\nSo \\(f\\) and \\(g\\) are mutually inverse functions, and we have established the required bijection.\r\n\r\nIn light of Proposition 12.1.4, we will freely translate between partial orders and strict partial orders wherever necessary. When we do so, we will use \\(\\prec\\) to denote the ‘strict’ version, and \\(\\nprec\\) to denote the ‘weak’ version. (Likewise for \\(\\sqsubseteq\\).)\r\n\r\n✦ **Definition 12.1.5**\r\n\r\nLet \\((X, \\nprec)\\) be a poset. A \\(\\nprec\\)-least element of \\(X\\) (or a least element of \\(X\\) with respect to \\(\\nprec\\)) is an element \\(\\bot \\in X\\) such that \\(\\bot \\nprec x\\) for all \\(x \\in X\\). A \\(\\nprec\\)-greatest element of \\(X\\) (or a greatest element of \\(X\\) with respect to \\(\\nprec\\)) is an element \\(\\top \\in X\\) such that \\(x \\nprec \\top\\) for all \\(x \\in X\\).\r\n</markdown>",
    "Q": "Q: If \\((X, \\nprec)\\) is a poset, under what condition can an element \\( b \\in X \\) be considered a \\(\\nprec\\)-least element? ",
    "A": " A: An element \\( b \\in X \\) is a \\(\\nprec\\)-least element if for all \\( x \\in X \\), it holds that \\( b \\nprec x \\)."
  },
  {
    "page": 491,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\n### Example 12.1.6\r\n\r\nSome examples of least and greatest elements that we have already seen are:\r\n\r\n- In \\( (\\mathbb{N}, \\preceq) \\), 0 is a least element; there is no greatest element.\r\n- Let \\( n \\in \\mathbb{N} \\) with \\( n > 0 \\). Then 1 is a least element of \\( ([n], \\preceq) \\), and \\( n \\) is a greatest element.\r\n- \\( (\\mathbb{Z}, \\preceq) \\) has no greatest or least elements.\r\n\r\nProposition 12.1.7 says that least and greatest elements of posets are unique, if they exist. This allows us to talk about ‘the’ least or ‘the’ greatest element of a poset.\r\n\r\n### Proposition 12.1.7\r\n\r\nLet \\( (X, \\preceq) \\) be a poset. If \\( X \\) has a least element, then it is unique; and if \\( X \\) has a greatest element, then it is unique.\r\n\r\n**Proof**\r\n\r\nSuppose \\( X \\) has a least element \\( \\ell \\). We prove that if \\( \\ell' \\) is another least element, then \\( \\ell' = \\ell \\).\r\n\r\nSo take another least element \\( \\ell' \\). Since \\( \\ell \\) is a least element, we have \\( \\ell \\preceq \\ell' \\). Since \\( \\ell' \\) is a least element, we have \\( \\ell' \\preceq \\ell \\). By antisymmetry of \\( \\preceq \\), it follows that \\( \\ell = \\ell' \\).\r\n\r\nHence least elements are unique. The proof for greatest elements is similar, and is left as an exercise.\r\n\r\n### Exercise 12.1.8\r\n\r\nLet \\( X \\) be a set. The poset \\( (\\mathcal{P}(X), \\subseteq) \\) has a least element and a greatest element; find both.\r\n\r\n### Exercise 12.1.9\r\n\r\nProve that the least element of \\( \\mathbb{N} \\) with respect to divisibility is 1, and the greatest element is 0.\r\n\r\n### Definition 12.1.10 (Supremum)\r\n\r\nLet \\( (X, \\preceq) \\) be a poset and let \\( A \\subseteq X \\). A \\( \\preceq \\)-supremum of \\( A \\) is an element \\( s \\in X \\) such that\r\n\r\n- \\( a \\preceq s \\) for each \\( a \\in A \\); and\r\n- If \\( s' \\in X \\) with \\( a \\preceq s' \\) for all \\( a \\in A \\), then \\( s \\preceq s' \\).\r\n\r\nA \\( \\preceq \\)-infimum of \\( A \\) is an element \\( i \\in X \\) such that\r\n\r\n- \\( i \\preceq a \\) for each \\( a \\in A \\); and\r\n- If \\( i' \\in X \\) with \\( i' \\preceq a \\) for all \\( a \\in A \\), then \\( i' \\preceq i \\).\r\n</markdown>",
    "Q": "Q: In the poset \\( (\\mathcal{P}(X), \\subseteq) \\), what are the least and greatest elements and how can they be identified? ",
    "A": " A: The least element of \\( (\\mathcal{P}(X), \\subseteq) \\) is the empty set \\( \\emptyset \\) since it is a subset of every set in \\( X \\). The greatest element is \\( X \\) itself, as it contains all subsets of \\( X \\)."
  },
  {
    "page": 492,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\n### Example 12.1.11\r\n\r\nThe well-ordering principle states that if \\( U \\subseteq \\mathbb{N} \\) is inhabited then \\( U \\) has a \\(\\leq\\)-infimum, and moreover the infimum of \\( U \\) is an element of \\( U \\).\r\n\r\n### Exercise 12.1.12\r\n\r\nLet \\( X \\) be a set, and let \\( U, V \\in \\mathcal{P}(X) \\). Prove that the \\(\\subseteq\\)-supremum of \\(\\{U, V\\}\\) is \\( U \\cup V \\), and the \\(\\subseteq\\)-infimum of \\(\\{U, V\\}\\) is \\( U \\cap V \\).\r\n\r\n### Exercise 12.1.13\r\n\r\nLet \\( a, b \\in \\mathbb{N} \\). Show that \\(\\gcd(a, b)\\) is an infimum of \\(\\{a, b\\}\\) and that \\(\\mathrm{lcm}(a, b)\\) is a supremum of \\(\\{a, b\\}\\) with respect to divisibility.\r\n\r\n### Example 12.1.14\r\n\r\nDefine \\( U = [0, 1) = \\{ x \\in \\mathbb{R} \\mid 0 \\leq x < 1 \\} \\). We prove that \\( U \\) has both an infimum and a supremum in the poset \\((\\mathbb{R}, \\leq)\\).\r\n\r\n- **Infimum.** 0 is an infimum for \\( U \\). Indeed:\r\n\r\n  (i) Let \\( x \\in U \\). Then \\( 0 \\leq x \\) by definition of \\( U \\).\r\n\r\n  (ii) Let \\( y \\in \\mathbb{R} \\) and suppose that \\( y \\leq x \\) for all \\( x \\in U \\). Then \\( y \\leq 0 \\), since \\( 0 \\in U \\), so 0 is as required.\r\n\r\n- **Supremum.** 1 is a supremum for \\( U \\). Indeed:\r\n\r\n  (i) Let \\( x \\in U \\). Then \\( x < 1 \\) by definition of \\( U \\), so certainly \\( x \\leq 1 \\).\r\n\r\n  (ii) Let \\( y \\in \\mathbb{R} \\) and suppose that \\( x \\leq y \\) for all \\( x \\in U \\). We prove that \\( 1 \\leq y \\) by contradiction. So suppose it is not the case that \\( 1 \\leq y \\). Then \\( y < 1 \\). Since \\( x \\leq y \\) for all \\( x \\in U \\), we have \\( 0 \\leq y \\). But then\r\n\r\n  \\[\r\n  0 \\leq y = \\frac{y + y}{2} < \\frac{y + 1}{2} < \\frac{1 + 1}{2} = 1\r\n  \\]\r\n\r\n  But then \\(\\frac{y + 1}{2} \\in U\\) and \\( y < \\frac{y + 1}{2} \\). This contradicts the assumption that \\( x \\leq y \\) for all \\( x \\in U \\). So it must in fact have been the case that \\( 1 \\leq y \\), so 1 is as required.\r\n\r\nThe following proposition proves that suprema and infima are unique, provided they exist.\r\n\r\n### Proposition 12.1.15\r\n\r\nLet \\((X, \\preceq)\\) is a poset, and let \\( A \\subseteq X \\).\r\n\r\n(i) If \\( s, s' \\in X \\) are suprema of \\( A \\), then \\( s = s' \\);\r\n\r\n(ii) If \\( i, i' \\in X \\) are infima of \\( A \\), then \\( i = i' \\).\r\n</markdown>",
    "Q": "Q: If \\( A \\subseteq \\mathbb{N} \\) is a non-empty set and \\( m \\) is the least element of \\( A \\) with respect to the standard ordering, prove that \\( m \\) is the infimum of \\( A \\) in the poset \\((\\mathbb{N}, \\leq)\\). ",
    "A": " A: Since \\( m \\) is the least element, for any \\( x \\in A \\), we have \\( m \\leq x \\) (i). Furthermore, if \\( y \\in \\mathbb{N} \\) satisfies \\( y \\leq x \\) for all \\( x \\in A \\), then \\( y \\leq m \\) (ii). Thus, \\( m \\) is indeed the infimum of \\( A \\)."
  },
  {
    "page": 493,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\n## Section 12.1. Orders and lattices\r\n\r\n**Proof**  \r\nSuppose \\( s, s' \\) are suprema of \\( A \\). Then:\r\n\r\n- \\( a \\preceq s' \\) for all \\( a \\in A \\), so \\( s' \\preceq s \\) since \\( s \\) is a supremum of \\( A \\);\r\n- \\( a \\preceq s \\) for all \\( a \\in A \\), so \\( s \\preceq s' \\) since \\( s' \\) is a supremum of \\( A \\).\r\n\r\nSince \\(\\preceq\\) is antisymmetric, it follows that \\( s = s' \\). This proves (i).\r\n\r\nThe proof of (ii) is almost identical and is left as an exercise to the reader.\r\n\r\n### Notation 12.1.16\r\nLet \\( (X, \\preceq) \\) be a poset and let \\( U \\subseteq X \\). Denote the \\(\\preceq\\)-infimum of \\( U \\), if it exists, by \\(\\bigwedge U\\) (LaTeX code: `\\bigwedge`); and denote the \\(\\preceq\\)-supremum of \\( U \\), if it exists, by \\(\\bigvee U\\) (LaTeX code: `\\bigvee`). Moreover, for \\( x, y \\in X \\), write\r\n\r\n\\[\r\n\\bigwedge \\{x, y\\} = x \\wedge y \\quad (\\text{LaTeX code: } \\wedge), \\quad \\bigvee \\{x, y\\} = x \\vee y \\quad (\\text{LaTeX code: } \\vee)\r\n\\]\r\n\r\n### Example 12.1.17\r\nSome examples of Notation 12.1.16 are as follows.\r\n\r\n- Let \\( X \\) be a set. In \\( (\\mathcal{P}(X), \\subseteq) \\) we have \\( U \\wedge V = U \\cap V \\) and \\( U \\vee V = U \\cup V \\) for all \\( U, V \\in \\mathcal{P}(X) \\).\r\n\r\n- We have seen that, in \\( (\\mathbb{N}, |) \\), we have \\( a \\wedge b = \\gcd(a, b) \\) and \\( a \\vee b = \\mathrm{lcm}(a, b) \\) for all \\( a, b \\in \\mathbb{N} \\).\r\n\r\n- In \\( (\\mathbb{R}, \\leq) \\), we have \\( a \\wedge b = \\min\\{a, b\\} \\) and \\( a \\vee b = \\max\\{a, b\\} \\).\r\n\r\n### Definition 12.1.18\r\nA **lattice** is a poset \\( (X, \\preceq) \\) such that every pair of elements of \\( X \\) has a \\(\\preceq\\)-supremum and a \\(\\preceq\\)-infimum.\r\n\r\n### Example 12.1.19\r\nWe have seen that \\( (\\mathcal{P}(X), \\subseteq) \\), \\( (\\mathbb{R}, \\leq) \\) and \\( (\\mathbb{N}, |) \\) are lattices.\r\n\r\n### Proposition 12.1.20 (Associativity laws for lattices)\r\nLet \\( (X, \\preceq) \\) be a lattice, and let \\( x, y, z \\in X \\). Then\r\n\r\n\\[\r\nx \\wedge (y \\wedge z) = (x \\wedge y) \\wedge z \\quad \\text{and} \\quad x \\vee (y \\vee z) = (x \\vee y) \\vee z\r\n\\]\r\n\r\n**Proof**  \r\nWe prove \\( x \\wedge (y \\wedge z) = (x \\wedge y) \\wedge z \\); the other equation is dual and is left as an exercise.\r\n</markdown>",
    "Q": "Q: In a lattice \\( (X, \\preceq) \\), if \\( x, y, z \\in X \\) and \\( x \\wedge (y \\wedge z) = (x \\wedge y) \\wedge z \\), what can we infer about the operation \\( \\wedge \\) in relation to associativity? ",
    "A": " A: We infer that the operation \\( \\wedge \\) is associative in the lattice \\( (X, \\preceq) \\)."
  },
  {
    "page": 494,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\nWe prove that the sets \\(\\{x, y \\land z\\}\\) and \\(\\{x \\land y, z\\}\\) have the same sets of lower bounds, and hence the same infima. So let\r\n\r\n\\[ \r\nL_1 = \\{i \\in X \\mid i \\preceq x \\text{ and } i \\preceq y \\land z\\} \\quad \\text{and} \\quad L_2 = \\{i \\in X \\mid i \\preceq x \\land y \\text{ and } i \\preceq z\\} \r\n\\]\r\n\r\nWe prove \\(L_1 = L = L_2\\), where\r\n\r\n\\[ \r\nL = \\{i \\in X \\mid i \\preceq x, \\, i \\preceq y \\text{ and } i \\preceq z\\} \r\n\\]\r\n\r\nFirst we prove \\(L_1 = L\\). Indeed:\r\n\r\n- \\(L_1 \\subseteq L\\). To see this, suppose \\(i \\in L_1\\). Then \\(i \\preceq x\\) by definition of \\(L_1\\). Since \\(i \\preceq y \\land z\\), and \\(y \\land z \\preceq y\\) and \\(y \\land z \\preceq z\\), we have \\(i \\preceq y\\) and \\(i \\preceq z\\) by transitivity of \\(\\preceq\\).\r\n\r\n- \\(L \\subseteq L_1\\). To see this, suppose \\(i \\in L\\). Then \\(i \\preceq x\\) by definition of \\(L\\). Moreover, \\(i \\preceq y\\) and \\(i \\preceq z\\) by definition of \\(L\\), so that \\(i \\preceq y \\land z\\) by definition of \\(\\land\\). Hence \\(i \\in L\\).\r\n\r\nThe proof that \\(L_2 = L\\) is similar. Hence \\(L_1 = L_2\\). But \\(x \\land (y \\land z)\\) is, by definition of \\(\\land\\), the \\(\\preceq\\)-greatest element of \\(L_1\\), which exists since \\((X, \\preceq)\\) is a lattice. Likewise, \\((x \\land y) \\land z\\) is the \\(\\preceq\\)-greatest element of \\(L_2\\).\r\n\r\nSince \\(L_1 = L_2\\), it follows that \\(x \\land (y \\land z) = (x \\land y) \\land z\\), as required.\r\n\r\nIn the next exercise, you will prove some properties satisfied by suprema and infima in addition to associativity.\r\n\r\n### Exercise 12.1.21 (Properties of suprema and infima)\r\nLet \\((X, \\preceq)\\) be a lattice. Prove that, for all \\(x, y \\in X\\), we have:\r\n\r\n(a) **(Idempotence)** \\(x \\land x = x\\) and \\(x \\lor x = x\\);\r\n\r\n(b) **(Commutativity)** \\(x \\land y = y \\land x\\) and \\(x \\lor y = y \\lor x\\);\r\n\r\n(c) **(Absorption)** \\(x \\lor (x \\land y) = x\\) and \\(x \\land (x \\lor y) = x\\).\r\n\r\n### Example 12.1.22\r\nIt follows from what we’ve proved that if \\(a, b, c \\in \\mathbb{Z}\\) then\r\n\r\n\\[\r\n\\gcd(a, \\gcd(b, c)) = \\gcd(\\gcd(a, b), c)\r\n\\]\r\n\r\nFor example, take \\(a = 882\\), \\(b = 588\\) and \\(c = 252\\). Then\r\n\r\n- \\(\\gcd(b, c) = 84\\), so \\(\\gcd(a, \\gcd(b, c)) = \\gcd(882, 84) = 42\\);\r\n\r\n- \\(\\gcd(a, b) = 294\\), so \\(\\gcd(\\gcd(a, b), c) = \\gcd(294, 252) = 42\\).\r\n\r\nThese are indeed equal.\r\n</markdown>",
    "Q": "Q: If \\(x, y, z\\) are elements of a lattice \\((X, \\preceq)\\), prove that the relationship \\(x \\lor (y \\land z) = (x \\lor y) \\land (x \\lor z)\\) is satisfied in a lattice.  \r\n",
    "A": "  \r\nA: To prove that \\(x \\lor (y \\land z) = (x \\lor y) \\land (x \\lor z)\\), we start by showing both sides are equivalent. Let \\(i \\in X\\) be an arbitrary element. Then:\r\n\r\n1. If \\(i \\preceq x \\lor (y \\land z)\\), then \\(i \\preceq x\\) or \\(i \\preceq (y \\land z)\\). If \\(i \\preceq (y \\land z)\\), then \\(i \\preceq y\\) and \\(i \\preceq z\\), which means \\(i \\preceq x \\lor y\\) and \\(i \\preceq x \\lor z\\). Thus, \\(i \\preceq (x \\lor y) \\land (x \\lor z)\\).\r\n\r\n2. Conversely, if \\(i \\preceq (x \\lor y) \\land (x \\lor z)\\), then \\(i \\preceq (x \\lor y)\\) and \\(i \\preceq (x \\lor z)\\). Thus, \\(i \\preceq x\\) or \\(i \\preceq y\\) and \\(i \\preceq x\\) or \\(i \\preceq z\\). In either case, this implies \\(i \\preceq x \\lor (y \\land z)\\).\r\n\r\nTherefore, \\(x \\lor (y \\land z) = (x \\lor y) \\land (x \\lor z)\\) holds true in a lattice."
  },
  {
    "page": 497,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\nIn what follows, the set \\( P \\) of propositional variables is fixed; we may moreover take it to be countably infinite, since all strings in \\( L(P) \\) are finite.\r\n\r\n### Definition 12.1.35\r\nThe **Lindenbaum–Tarski algebra** (for propositional logic) over \\( P \\) is the pair \\( (A, \\vdash) \\), where \\( A = L(P)/\\equiv \\) and \\( \\vdash \\) is the relation on \\( A \\) defined by \\([s]_{\\equiv} \\vdash [t]_{\\equiv}\\) if and only if \\( s \\Rightarrow t \\) is a tautology.\r\n\r\nIn what follows, we will simply write \\([\\,]\\) for \\([\\,]_{\\equiv}\\).\r\n\r\n### Theorem 12.1.36\r\nThe Lindenbaum–Tarski algebra is a Boolean algebra.\r\n\r\n**Proof Sketch**\r\n\r\nThere is lots to prove here! Indeed, we must prove:\r\n\r\n- \\( \\vdash \\) is a well-defined relation on \\( A \\); that is, if \\( s \\equiv s' \\) and \\( t \\equiv t' \\) then we must have \\([s] \\vdash [t]\\) if and only if \\([s'] \\vdash [t']\\).\r\n\r\n- \\( \\vdash \\) is a partial order on \\( A \\); that is, it is reflexive, antisymmetric and transitive.\r\n\r\n- The poset \\( (A, \\vdash) \\) is a lattice; that is, it has suprema and infima.\r\n\r\n- The lattice \\( (A, \\vdash) \\) is distributive, has a greatest element and a least element, and is complemented.\r\n\r\nWe will omit most of the details, which are left as an exercise; instead, we outline what the components involved are.\r\n\r\nThe fact that \\( \\vdash \\) is a partial order can be proved as follows.\r\n\r\n- **Reflexivity** of \\( \\vdash \\) follows from the fact that \\( s \\Rightarrow s \\) is a tautology for all propositional formulae \\( s \\).\r\n\r\n- **Symmetry** of \\( \\vdash \\) follows from the fact that, for all propositional formulae \\( s, t \\), if \\( s \\Leftrightarrow t \\) is a tautology then \\( s \\) and \\( t \\) are logically equivalent.\r\n\r\n- **Transitivity** of \\( \\vdash \\) follows immediately from transitivity of \\( \\Rightarrow \\).\r\n\r\nThe fact that \\( (A, \\vdash) \\) is a lattice can be proved by verifying that:\r\n\r\n- Given \\([s], [t] \\in A\\), the infimum \\([s] \\land [t]\\) is given by conjunction, namely \\([s] \\land [t] = [s \\land t]\\).\r\n\r\n- Given \\([s], [t] \\in A\\), the supremum \\([s] \\lor [t]\\) is given by disjunction, namely \\([s] \\lor [t] = [s \\lor t]\\).\r\n</markdown>",
    "Q": "Q: If \\( s \\) and \\( t \\) are propositional formulas such that \\( s \\Rightarrow t \\) is a tautology, what can be said about the corresponding elements in the Lindenbaum–Tarski algebra \\( A \\)? ",
    "A": " A: In the Lindenbaum–Tarski algebra \\( A \\), it follows that \\([s] \\vdash [t]\\), where \\([s]\\) and \\([t]\\) are the equivalence classes of \\( s \\) and \\( t \\), respectively."
  },
  {
    "page": 498,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\nFinally, distributivity of suprema and infima in \\( (A, \\models) \\) follows from the corresponding properties of conjunction and disjunction; \\( (A, \\models) \\) has greatest element \\([p \\Rightarrow p]\\) and least element \\([\\neg(p \\Rightarrow p)]\\), where \\( p \\) is some fixed propositional variable; and the complement of \\([s] \\in A\\) is given by \\([\\neg s]\\).\r\n\r\n## De Morgan’s laws revisited\r\n\r\nWe finish this section on orders and lattices with a general version of de Morgan’s laws for Boolean algebras, which by Theorems [Theorems 12.1.32](#) and [12.1.36](#) implies the versions we proved for logical formulae ([Theorem 1.3.24](#)) and for sets ([Theorem 2.2.31(a)–(b)](#)).\r\n\r\n### Theorem 12.1.37 (De Morgan’s laws)\r\nLet \\( (X, \\preceq) \\) be a Boolean algebra, and let \\( x, y \\in X \\). Then\r\n\r\n\\[\r\n\\neg(x \\land y) = (\\neg x) \\lor (\\neg y) \\quad \\text{and} \\quad \\neg(x \\lor y) = (\\neg x) \\land (\\neg y)\r\n\\]\r\n\r\n**Proof of (a)**  \r\nWe prove that \\((\\neg x) \\lor (\\neg y)\\) satisfies the definition of a complement for \\( x \\land y \\); then we’ll have \\((\\neg x) \\lor (\\neg y) = \\neg(x \\land y)\\) by [Exercise 12.1.28](#).\r\n\r\nSo let \\( z = (\\neg x) \\lor (\\neg y) \\). Then\r\n\r\n\\[\r\n(x \\land y) \\land z\r\n\\]\r\n\\[\r\n= (x \\land y) \\land ((\\neg x) \\lor (\\neg y)) \\quad \\text{by definition of } z\r\n\\]\r\n\\[\r\n= [(x \\land y) \\land (\\neg x)] \\lor [(x \\land y) \\land (\\neg y)] \\quad \\text{by distributivity}\r\n\\]\r\n\\[\r\n= [((x \\land (\\neg x)) \\land y] \\lor [x \\land (y \\land (\\neg y))] \\quad \\text{by associativity and commutativity}\r\n\\]\r\n\\[\r\n= [\\bot \\land y] \\lor [x \\land \\bot] \\quad \\text{by definition of complements}\r\n\\]\r\n\\[\r\n= \\bot \\lor \\bot \\quad \\text{by definition of } \\bot \\text{ and } \\land\r\n\\]\r\n\\[\r\n= \\bot \\quad \\text{by idempotence}\r\n\\]\r\n\r\nLikewise we have\r\n\r\n\\[\r\n(x \\land y) \\lor z\r\n\\]\r\n\\[\r\n= (x \\land y) \\lor ((\\neg x) \\lor (\\neg y)) \\quad \\text{by definition of } z\r\n\\]\r\n\\[\r\n= [x \\lor ((\\neg x) \\lor (\\neg y))] \\land [y \\lor ((\\neg x) \\lor (\\neg y))] \\quad \\text{by distributivity}\r\n\\]\r\n\\[\r\n= [(x \\lor (\\neg x)) \\lor (\\neg y)] \\land [(\\neg x) \\lor (y \\lor (\\neg y))] \\quad \\text{by associativity and commutativity}\r\n\\]\r\n\\[\r\n= [\\top \\lor (\\neg y)] \\land [(\\neg x) \\lor \\top] \\quad \\text{by definition of complements}\r\n\\]\r\n\\[\r\n= \\top \\land \\top \\quad \\text{by definition of } \\top \\text{ and } \\lor\r\n\\]\r\n\\[\r\n= \\top \\quad \\text{by idempotence}\r\n\\]\r\n</markdown>",
    "Q": "Q: Using De Morgan's laws, express \\(\\neg(x \\land y)\\) in terms of \\(\\neg x\\) and \\(\\neg y\\) and verify if the expression is equal to \\((\\neg x) \\lor (\\neg y)\\). ",
    "A": " A: By De Morgan's laws, \\(\\neg(x \\land y) = (\\neg x) \\lor (\\neg y)\\), and this holds true as shown in the proof where \\((\\neg x) \\lor (\\neg y)\\) satisfies the definition of a complement for \\(x \\land y\\) resulting in \\(\\bot\\), confirming the identity."
  },
  {
    "page": 499,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.1 Orders And Lattices",
    "content": "<markdown>\r\nSince \\((x \\land y) \\land z = \\bot\\) and \\((x \\land y) \\lor z = \\top\\), we have\r\n\r\n\\[\r\n(\\neg x) \\lor (\\neg y) = z = \\neg (x \\land y)\r\n\\]\r\n\r\nby definition of complements.\r\n\r\n📌 **Exercise 12.1.38**  \r\nProve part (b) of [Theorem 12.1.37](#).\r\n</markdown>",
    "Q": "Q: If \\((x \\land y) \\lor z = \\top\\), what can be inferred about the values of \\(x\\), \\(y\\), and \\(z\\)? ",
    "A": " A: At least one of \\(x\\), \\(y\\), or \\(z\\) must be true (\\(\\top\\))."
  },
  {
    "page": 500,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n## Section 12.2\r\n\r\n# Inductively defined sets\r\n\r\nIn [Section 4.1](#), we formalised the idea that the set of natural numbers should be what is obtained by starting with zero and repeating the successor (‘plus one’) operation—this was done using Peano’s axioms ([Definition 4.1.1](#)). From these axioms we were able to derive the weak and strong induction principles, which turned out to be extremely powerful for proving results about natural numbers.\r\n\r\nWe now generalise this idea to other so-called *inductively defined sets*. The definition ([Definition 12.2.9](#)) is a little tricky to digest, but the idea is relatively simple: an inductively defined set \\( X \\) is one whose elements are built out of some specified *basic elements* (such as 0) by iterating some specified operations, called *constructors* (such as the successor operation)—every element of \\( X \\) should either be a basic element, or should be built in a unique way out of simpler elements of \\( X \\) by using a constructor.\r\n\r\nEach inductively defined set \\( X \\) will have its own induction principle: which says that if a property is true of all of the basic elements of \\( X \\), and if all of its constructors preserve the truth of the property, then the property is true of all of the elements of \\( X \\). We will prove this in [Theorem 12.2.27](#).\r\n\r\nBefore jumping into the definition of an inductively defined set, it is helpful to see some examples. The first example is familiar.\r\n\r\n✐ **Example 12.2.1**  \r\nThe set \\( \\mathbb{N} \\) of natural numbers is *the* canonical example of an inductively defined set. The Peano axioms ([Definition 4.1.1](#)) tell us that every element of \\( \\mathbb{N} \\) can be obtained by starting from 0 and applying the successor operation (‘plus one’) some finite number of times. In particular, every natural number is either 0, or is the successor of a unique natural number.\r\n\r\nWe can think of \\( \\mathbb{N} \\) as being the set *generated by* the following rules:\r\n\r\n1. \\( 0 \\in \\mathbb{N} \\); and\r\n2. If \\( n \\in \\mathbb{N} \\), then \\( n + 1 \\in \\mathbb{N} \\).\r\n\r\nCertainly these rules are *true*, but that is not enough to fully characterise the set of natural numbers: both rules are also true with \\( \\mathbb{N} \\) replaced by \\( \\mathbb{Z} \\) or \\( \\mathbb{R} \\), for example.\r\n\r\nBut what it means to say that \\( \\mathbb{N} \\) is ‘generated by’ these rules is that:\r\n\r\n- Each time one of the rules is applied, we obtain a *new* natural number. In particular:\r\n</markdown>",
    "Q": "Q: Given an inductively defined set \\( X \\) with basic elements \\( B \\) and constructors \\( C \\), explain how you would verify if a property \\( P \\) holds for all elements in \\( X \\) based on the induction principle. ",
    "A": " A: To verify that a property \\( P \\) holds for all elements in \\( X \\), you must demonstrate two things: first, show that the property \\( P \\) holds for all basic elements \\( b \\in B \\) of the set \\( X \\). Second, prove that if \\( P \\) holds for an arbitrary element \\( x \\in X \\), then it also holds for the element constructed from \\( x \\) using any constructor \\( c \\in C \\). If both steps are validated, then by the induction principle, \\( P \\) is true for all elements of \\( X \\)."
  },
  {
    "page": 501,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nSince \\(0 \\in \\mathbb{N}\\) and rule (ii) must give us a new natural number every time we apply it, we must have \\(n + 1 \\neq 0\\) for all \\(n \\in \\mathbb{N}\\). This is exactly what Definition 4.1.1(i) says; note that this fails with \\(\\mathbb{N}\\) replaced by \\(\\mathbb{Z}\\) or \\(\\mathbb{R}\\) since we have \\((-1) + 1 = 0\\).\r\n\r\nIf we apply rule (ii) to two different natural numbers, we must obtain two different results. Thus for all \\(m, n \\in \\mathbb{N}\\), if \\(m + 1 = n + 1\\), then \\(m = n\\). This is exactly what Definition 4.1.1(ii) says.\r\n\r\nOnly those things that can be obtained by applying rules (i) and (ii) some finite number of times are natural numbers. This is exactly what Definition 4.1.1(iii) says.\r\n\r\nThus we can think of the natural numbers as being precisely those things that are given to us by applying rules (i) and (ii).\r\n\r\nThe next example concerns words over an alphabet, which we studied in Section 6.2 in the context of determining when a set is countable—see Definition 6.2.26.\r\n\r\n### Example 12.2.2\r\nLet \\(\\Sigma\\) be a fixed alphabet. The set \\(\\Sigma^*\\) of words over \\(\\Sigma\\) is built by starting from the empty word \\(\\varepsilon\\) by appending elements \\(a \\in \\Sigma\\). Thus \\(\\Sigma^*\\) is generated by the following rules:\r\n\r\n1. \\(\\varepsilon \\in \\Sigma^*\\); and\r\n\r\n2. For all \\(a \\in \\Sigma\\), if \\(w \\in \\Sigma^*\\), then \\(wa \\in \\Sigma^*\\).\r\n\r\nThe fact that \\(\\Sigma^*\\) is generated by these rules means that:\r\n\r\n- Each time we append an element \\(a \\in \\Sigma\\) to the end of a word \\(w \\in \\Sigma^*\\), the resulting word \\(wa\\) is a new element of \\(\\Sigma^*\\); and\r\n- Only those things obtained by appending elements \\(a \\in \\Sigma\\) to the end of the empty word \\(\\varepsilon\\) some finite number of times are elements of \\(\\Sigma^*\\).\r\n\r\nWe can actually think of rule (ii) as being a family of rules, one rule for each \\(a \\in \\Sigma\\). For fixed \\(a\\), the rule says ‘for all \\(w\\), if \\(w \\in \\Sigma^*\\), then \\(wa \\in \\Sigma^*\\)’. This viewpoint is useful because it allows us to restrict our attention to rules that only have variable elements of the set being inductively defined in the hypothesis.\r\n\r\nWe alluded to the inductive character of propositional formulae in Section 1.1. Although we were not able to make the idea precise at the time, we are now well on our way to doing so.\r\n\r\n### Example 12.2.3\r\nGiven a set \\(P\\), consider the set \\(L(P)\\) of all propositional formulae with propositional variables from \\(P\\) and logical operators from the set \\(\\{\\land, \\lor, \\Rightarrow, \\lnot\\}\\). Then \\(L(P)\\) is built out of the elements of \\(P\\) using these logical operators.\r\n</markdown>",
    "Q": "Q: How can we describe the uniqueness of elements in the set of natural numbers \\(\\mathbb{N}\\) based on the rules presented in the context? ",
    "A": " A: The uniqueness of elements in \\(\\mathbb{N}\\) is described by the property that if \\(m + 1 = n + 1\\) for \\(m, n \\in \\mathbb{N}\\), then it must be the case that \\(m = n\\)."
  },
  {
    "page": 502,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nSpecifically, \\( L(P) \\) is generated by the following rules:\r\n\r\n(i) For each \\( p \\in P \\), we have \\( p \\in L(P) \\);\r\n\r\n(ii) If \\( \\varphi, \\psi \\in L(P) \\), then \\( \\varphi \\land \\psi \\in L(P) \\);\r\n\r\n(iii) If \\( \\varphi, \\psi \\in L(P) \\), then \\( \\varphi \\lor \\psi \\in L(P) \\);\r\n\r\n(iv) If \\( \\varphi, \\psi \\in L(P) \\), then \\( \\varphi \\Rightarrow \\psi \\in L(P) \\);\r\n\r\n(v) If \\( \\varphi \\in L(P) \\), then \\( \\neg \\varphi \\in L(P) \\).\r\n\r\nTo say that \\( L(P) \\) is generated by these rules means that every propositional formula is (exclusively) either: a propositional variable, the conjunction of two simpler formulae, the disjunction of two simpler formulae, the implication formed by two simpler formulae, or the negation of a simpler formula.\r\n\r\nWe can interpret (i) as being a family of rules, one for each \\( p \\in P \\), where for fixed \\( p \\), the rule simply says ‘\\( p \\in L(P) \\)’. Just like we said in Example 12.2.2, this is useful because it removes variable elements of sets other than \\( L(P) \\) from the hypotheses of the rule.\r\n\r\nKeeping these examples in mind, we will now work towards defining the notion of an inductively defined set. First we formalise the notion of a rule.\r\n\r\n✦ **Definition 12.2.4**\r\n\r\nA (finitary) rule for an inductive definition is an expression of the form\r\n\r\n\\[\r\n(x_1, x_2, \\ldots, x_r \\mid \\sigma(x_1, x_2, \\ldots, x_r))\r\n\\]\r\n\r\nwhere \\( r \\in \\mathbb{N} \\), \\( x_1, x_2, \\ldots, x_r \\) are variables, and \\( \\sigma(x_1, x_2, \\ldots, x_r) \\) is some expression involving the variables \\( x_1, x_2, \\ldots, x_r \\).\r\n\r\nThe number of variables \\( r \\in \\mathbb{N} \\) is called the *arity* of the rule, and is denoted by \\( \\text{ar}(\\sigma) \\).\r\n\r\nA quick note on terminology: a constructor of arity \\( r \\in \\mathbb{N} \\) is called an *r*-ary constructor. For \\( r = 0, 1, 2 \\), we may say *nullary*, *unary* and *binary*, respectively.\r\n\r\nWe interpret the rule \\( (x_1, x_2, \\ldots, x_r \\mid \\sigma(x_1, x_2, \\ldots, x_r)) \\) as meaning ‘if \\( x_1, x_2, \\ldots, x_r \\) are elements of the set being defined, then \\( \\sigma(x_1, x_2, \\ldots, x_r) \\) is an element of the set being defined’.\r\n\r\nNote that nullary rules take the form \\( ( \\mid a) \\), where \\( a \\) is some expression with no variables; we would interpret such a rule as saying ‘\\( a \\) is an element of the set being defined’, with no hypotheses.\r\n</markdown>",
    "Q": "Q: What is the significance of the arity of a constructor in the context of inductively defined sets? ",
    "A": " A: The arity of a constructor indicates the number of variables it takes as input, which determines how many elements from the defined set are used to generate new elements in that set. For instance, a binary constructor has arity 2 and requires two elements, while a unary constructor has arity 1 and requires one element."
  },
  {
    "page": 503,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n### Example 12.2.5\r\n\r\nThe rules describing the natural numbers are \\( ( \\mid 0) \\) and \\( (n \\mid n + 1) \\). The rule \\( ( \\mid 0) \\) can be interpreted to mean ‘0 is a natural number’, and the rule \\( (n \\mid n + 1) \\) can be interpreted to mean ‘if \\( n \\) is a natural number, then \\( n + 1 \\) is a natural number’. In the context of Example 12.2.1, this means that \\( ( \\mid 0) \\) corresponds with rule (i) and \\( (n \\mid n + 1) \\) corresponds with rule (ii).\r\n\r\n### Example 12.2.6\r\n\r\nLet \\( P \\) be a set of propositional variables. The rules that describe the set \\( L(P) \\) of logical formulae over \\( P \\), as described in Example 12.2.3, are given by\r\n\r\n\\[\r\n\\begin{align*}\r\n( \\mid p) & \\quad \\text{one for each } p \\in P \\\\\r\n(\\varphi, \\psi \\mid \\varphi \\land \\psi) & \\\\\r\n(\\varphi, \\psi \\mid \\varphi \\lor \\psi) & \\\\\r\n(\\varphi, \\psi \\mid \\varphi \\Rightarrow \\psi) & \\\\\r\n(\\varphi \\mid \\lnot \\varphi) &\r\n\\end{align*}\r\n\\]\r\n\r\nThe first of these rules says that every propositional variable \\( p \\in P \\) is a propositional formula. The next three say that if \\( \\varphi \\) and \\( \\psi \\) are propositional formulae, then so are \\( \\varphi \\land \\psi \\), \\( \\varphi \\lor \\psi \\) and \\( \\varphi \\Rightarrow \\psi \\). The last rule says that if \\( \\varphi \\) is a propositional formula, then so is \\( \\lnot \\varphi \\).\r\n\r\n### Exercise 12.2.7\r\n\r\nFix an alphabet \\( \\Sigma \\). Following Example 12.2.2, define rules that describe the set \\( \\Sigma^* \\) of words over \\( \\Sigma \\). How would your rules need to be changed if the empty word \\( \\varepsilon \\) were not allowed?\r\n\r\nWe can represent a rule \\( \\sigma = (x_1, x_2, \\ldots, x_r \\mid \\sigma(x_1, x_2, \\ldots, x_r)) \\) diagrammatically by drawing a node with \\( r \\) inputs, one for each variable in the rule, and one output, representing the expression \\( \\sigma(x_1, x_2, \\ldots, x_r) \\). (Note that a nullary rule has no inputs.) For example:\r\n\r\nThus the rules \\( 0 = ( \\mid 0) \\) and \\( s = (n \\mid n + 1) \\) that describe the natural numbers can be expressed as follows:\r\n</markdown>",
    "Q": "Q: What do the rules \\( ( \\mid 0) \\) and \\( (n \\mid n + 1) \\) signify in the context of natural numbers and how do they establish the set of natural numbers? ",
    "A": " A: The rule \\( ( \\mid 0) \\) indicates that 0 is a natural number, while \\( (n \\mid n + 1) \\) states that if \\( n \\) is a natural number, then \\( n + 1 \\) is also a natural number. Together, these rules specify that the set of natural numbers starts at 0 and includes all successive integers formed by adding 1."
  },
  {
    "page": 504,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nThese diagrams can be pieced together to represent the result of applying a rule to the outputs of other rules. For example:\r\n\r\n\\[\r\n\\begin{align*}\r\nx_1 & \\quad x_2 & \\quad x_3 \\\\\r\n& \\sigma & \\\\\r\n& \\sigma(x_1, x_2, x_3) & \\\\\r\n& \\alpha & \\\\\r\n& \\alpha(\\sigma(x_1, x_2, x_3), \\tau(y_1, y_2)) & \\\\\r\ny_1 & \\quad y_2 \\\\\r\n& \\tau & \\\\\r\n& \\tau(y_1, y_2) & \\\\\r\n\\end{align*}\r\n\\]\r\n\r\nThis can be useful for seeing how an element of a set is obtained by applying the rules. For example, the following diagram shows how the natural number 3 is obtained by applying the rules \\( (| 0) \\) and \\( (n | n + 1) \\)\r\n\r\n\\[\r\n0 \\rightarrow 0 \\rightarrow s \\rightarrow 1 \\rightarrow s \\rightarrow 2 \\rightarrow s \\rightarrow 3\r\n\\]\r\n\r\nThe following diagram shows how the logical formula \\( (p \\Rightarrow q) \\land (\\neg r) \\) is obtained by applying the rules described in Example 12.2.6.\r\n</markdown>",
    "Q": "Q: How can the natural number 5 be represented using the rules \\( (| 0) \\) and \\( (n | n + 1) \\) in a diagram similar to that of natural number 3? ",
    "A": " A: The natural number 5 can be represented as follows: \r\n\r\n\\[\r\n0 \\rightarrow 0 \\rightarrow s \\rightarrow 1 \\rightarrow s \\rightarrow 2 \\rightarrow s \\rightarrow 3 \\rightarrow s \\rightarrow 4 \\rightarrow s \\rightarrow 5\r\n\\]"
  },
  {
    "page": 505,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n### Exercise 12.2.8\r\n\r\nLet \\( \\Sigma = \\{a, b, c, d\\} \\). Draw a diagram to represent how the word \\( cbadbd \\in \\Sigma^* \\) can be obtained by applying the rules you defined in Exercise 12.2.7.\r\n\r\nWe are now ready to define an inductively defined set.\r\n\r\n### Definition 12.2.9\r\n\r\nAn **inductively defined set** is a set \\( A \\) equipped with a set \\( R \\) of rules and, for each rule \\( \\sigma = (x_1, x_2, \\ldots, x_r \\mid \\sigma(x_1, x_2, \\ldots, x_r)) \\in R \\), a function \\( f_\\sigma : A^r \\rightarrow A \\), such that:\r\n\r\n(a) For each \\( a \\in A \\), there is a unique rule \\( \\sigma \\in R \\) and unique elements \\( a_1, a_2, \\ldots, a_r \\in A \\) such that \\( a = f_\\sigma(a_1, a_2, \\ldots, a_r) \\); and\r\n\r\n(b) For every set \\( X \\), if \\( f_\\sigma(a_1, a_2, \\ldots, a_r) \\in X \\) for all \\( \\sigma \\in R \\) and all \\( a_1, a_2, \\ldots, a_r \\in A \\), then \\( A \\subseteq X \\).\r\n\r\nGiven a rule \\( \\sigma \\) of arity \\( r \\), the function \\( f_\\sigma : A^r \\rightarrow A \\) is called the **constructor** associated with \\( \\sigma \\); the natural number \\( r \\) is called the **arity** of the constructor.\r\n\r\nNote that nullary constructors are the same thing as elements of \\( A \\). Indeed, \\( A^0 = \\{()\\} \\), where \\( () \\) is the empty list of elements of \\( A \\), and so specifying a function \\( f_\\sigma : A^0 \\rightarrow A \\) is equivalent to specifying an element \\( f_\\sigma(()) \\in A \\). In this sense, we may regard nullary constructors as being the elements of \\( A \\)—we call such elements **basic elements**.\r\n\r\n### Definition 12.2.10\r\n\r\nA **basic element** of an inductively defined set \\( A \\) is an element of \\( A \\) that is the value of a nullary constructor \\( f_\\sigma : A^0 \\rightarrow A \\). If \\( \\sigma = ( \\mid a) \\) is a nullary rule, we will denote this element by \\( a \\)—thus we have \\( a = f_\\sigma(()) \\in A \\) for all nullary rules \\( \\sigma = ( \\mid a) \\).\r\n</markdown>",
    "Q": "Q: Given the inductively defined set \\( A \\) with basic elements \\( a, b, c, d \\in \\Sigma \\) and a rule \\( \\sigma = (x_1, x_2 \\mid x_1 x_2) \\), what is the result of applying this rule to the elements \\( b \\) and \\( a \\)? ",
    "A": " A: The result of applying the rule \\( \\sigma \\) to the elements \\( b \\) and \\( a \\) is \\( ba \\)."
  },
  {
    "page": 506,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nConsidering basic elements separately from constructors of positive arity has its pros and cons, so we will take whichever approach is most convenient for us at any given point in time. Unless otherwise specified, we will not separate nullary constructors from the others.\r\n\r\nWe have already seen some examples of inductively defined sets—let’s prove that they truly are inductively defined sets!\r\n\r\n### Proposition 12.2.11\r\nThe set \\(\\mathbb{N}\\) of natural numbers is inductively defined by the rules \\((\\,|\\,0)\\) and \\((n\\,|\\,n+1)\\).\r\n\r\n**Proof**  \r\nSince \\((\\,|\\,0)\\) is a nullary rule, it will correspond to a basic element of \\(\\mathbb{N}\\)—it may be no surprise that we take this element to be the natural number 0.\r\n\r\nThe rule \\(s = (n\\,|\\,n+1)\\) induces a function \\(f_s : \\mathbb{N} \\rightarrow \\mathbb{N}\\); we take this to be the successor function, defined by \\(f_s(n) = n + 1\\) for all \\(n \\in \\mathbb{N}\\).\r\n\r\nNow we must verify conditions (a) and (b) of Definition 12.2.9.\r\n\r\n(a) Let \\(n \\in \\mathbb{N}\\).\r\n\r\n- If \\(n = 0\\), then since 0 is a basic element and \\(0 \\neq n + 1 = f_s(n)\\) for any \\(n \\in \\mathbb{N}\\), we have that ‘0’ is the unique expression of 0 as a (nullary) constructor applied to (no) elements of \\(\\mathbb{N}\\).\r\n\r\n- If \\(n > 0\\), then \\(n - 1 \\in \\mathbb{N}\\) and \\(n = (n - 1) + 1 = f_s(n - 1)\\). Moreover if \\(m \\in \\mathbb{N}\\) and \\(n = f_s(m)\\), then \\(n = m + 1\\), so that \\(m = n - 1\\). Moreover \\(n \\neq 0\\), meaning that there is a unique rule (namely \\(s\\)) and a unique natural number \\(m\\) (namely \\(m = n - 1\\)) such that \\(n = f_s(m)\\).\r\n\r\n(b) Let \\(X\\) be a set, and assume that \\(0 \\in X\\) and \\(f_s(n) \\in X\\) for all \\(n \\in \\mathbb{N}\\). Then condition (iii) of Definition 4.1.1 ensures that \\(\\mathbb{N} \\subseteq X\\).\r\n\r\nThus \\(\\mathbb{N}\\) is inductively defined by \\((\\,|\\,0)\\) and \\((n\\,|\\,n+1)\\), as required. \\(\\square\\)\r\n\r\n### Example 12.2.12\r\nLet \\(P\\) be a set of propositional variables. In order to exhibit \\(L(P)\\) as an inductively defined set, we should be slightly more precise about the role of brackets in propositional formulae than we have been so far.\r\n\r\nFor example, if we take the rules discussed in Example 12.2.3 literally, then \\(p \\land q \\lor r\\) would be a valid logical formula. This is problematic for two reasons: first, does it mean \\((p \\land q) \\lor r\\), or \\(p \\land (q \\lor r)\\)? These are not logically equivalent, so the distinction matters. Second, this causes the ‘uniqueness’ part of Definition 12.2.9 to fail, since \\(p \\land q \\lor r = f_\\land (p, f_\\lor (q, r)) = f_\\lor (f_\\land (p, q), r)\\).\r\n\r\nTo remedy this, we will require parentheses to be added whenever we introduce a logical\r\n</markdown>",
    "Q": "Q: Prove that the set of natural numbers \\(\\mathbb{N}\\) is closed under the successor function \\(f_s\\), meaning for all \\(n \\in \\mathbb{N}\\), \\(f_s(n) \\in \\mathbb{N}\\). ",
    "A": " A: Since the definition of \\(\\mathbb{N}\\) includes the rule \\(f_s(n) = n + 1\\) for all \\(n \\in \\mathbb{N}\\), and because \\(\\mathbb{N}\\) contains 0 (the base case), applying \\(f_s\\) to any natural number \\(n\\) produces \\(n + 1\\), which is also a natural number. Hence, \\(\\mathbb{N}\\) is closed under \\(f_s\\)."
  },
  {
    "page": 507,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nThus the rules defining a logical formula are:\r\n\r\n\\[\r\n\\begin{align*}\r\n( | p ) & \\quad \\text{one for each } p \\in P \\\\\r\n(\\varphi, \\psi \\mid (\\varphi \\land \\psi)) & \\\\\r\n(\\varphi, \\psi \\mid (\\varphi \\lor \\psi)) & \\\\\r\n(\\varphi, \\psi \\mid (\\varphi \\Rightarrow \\psi)) & \\\\\r\n(\\varphi \\mid (\\neg \\varphi)) &\r\n\\end{align*}\r\n\\]\r\n\r\nThus \\( p \\land q \\lor r \\) is not a valid element of \\( L(P) \\), but \\((p \\land q) \\lor r\\) and \\((p \\land (q \\lor r))\\) are.\r\n\r\n**Exercise 12.2.13**  \r\nLet \\(\\Sigma\\) be an alphabet. Prove that \\(\\Sigma^*\\) is inductively defined by the rules \\(( | \\varepsilon )\\) and \\(\\sigma_a = (w \\mid wa)\\) for \\(a \\in \\Sigma\\).\r\n\r\n**Exercise 12.2.14**  \r\nProve that \\(\\mathbb{N}\\) is inductively defined by the rules \\(( | 0 )\\), \\(( | 1 )\\) and \\((n \\mid n + 2)\\).\r\n\r\n### Defining new inductively defined sets\r\n\r\nNow that we have seen what it means for an already defined set to be inductively defined, it would be useful to be able to make definitions of inductively defined sets. Based on what we have seen so far, in order to define an inductively defined set, all we should need to do is specify a set of rules that tell us how to generate its elements.\r\n\r\nWe now prove that it really is that simple!\r\n\r\n✦ **Definition 12.2.15**  \r\nLet \\( R \\) be a set of rules. The set generated by \\( R \\) is defined by \\( A = \\bigcup_{n \\in \\mathbb{N}} A_n \\), where the sets \\( A_n \\) for \\( n \\in \\mathbb{N} \\) are defined recursively by:\r\n\r\n- \\( A_0 = \\{ a \\mid ( | a ) \\in R \\} \\); and\r\n- \\( A_{n+1} = \\{ \\sigma(a_1, a_2, \\ldots, a_r) \\mid a_1, a_2, \\ldots, a_r \\in A_n, (x_1, x_2, \\ldots, x_r \\mid \\sigma(x_1, x_2, \\ldots, x_r)) \\in R \\} \\).\r\n\r\nThat is, \\( A_0 \\) is the set of symbols to the right of the bar ‘|’ in the nullary rules in \\( R \\), and \\( A_{n+1} \\) is the set of all expressions obtained by substituting the elements of \\( A_n \\) symbol-by-symbol for the variables in the expressions to the right of the bar the other rules.\r\n\r\n✦ **Example 12.2.16**  \r\nLet \\( N \\) be the set generated by the rules \\(( | z )\\) and \\((n \\mid s(n))\\). Then\r\n\r\n- \\( N_0 = \\{ z \\} \\), since \\(( | z )\\) is the only nullary rule.\r\n- \\( N_1 \\) is the result of applying the rules to the elements of \\( N_0 \\), of which there is only one, namely \\( z \\). Applying the rule \\(( | z )\\) (to no elements, since it is nullary) gives \\( z \\); applying the rule \\((n \\mid s(n))\\) to \\( z \\) gives \\( s(z) \\). So \\( N_1 = \\{ z, s(z) \\} \\).\r\n</markdown>",
    "Q": "Q: How can we construct the set \\( A_1 \\) using the inductive definition provided for a set generated by the rules \\( R = \\{ ( | a ), (a \\mid a + 1) \\} \\) where \\( a \\) is a symbol? ",
    "A": " A: Given the rules in \\( R \\), \\( A_0 = \\{ a \\} \\) since the only nullary rule gives us \\( a \\). For \\( A_1 \\), we apply the rules to \\( A_0 \\): from the nullary rule, we get \\( a \\), and applying the rule \\((a \\mid a + 1)\\) to \\( a \\) gives us \\( a + 1 \\). Thus, \\( A_1 = \\{ a, a + 1 \\} \\)."
  },
  {
    "page": 508,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n- Continuing, we get \\( N_2 = \\{ z, s(z), s(s(z)) \\} \\), and so on.\r\n\r\nWe thus have\r\n\r\n\\[\r\nN = \\bigcup_{n \\in \\mathbb{N}} N_n = \\{ z, s(z), s(s(z)), s(s(s(z))), \\ldots \\}\r\n\\]\r\n\r\nThis looks an awful lot like the set of all natural numbers; and indeed it is, provided we interpret \\( z = 0 \\) and \\( s(n) = n + 1 \\) (like we did in Section 4.1).\r\n\r\n### Example 12.2.17\r\nLet \\( A \\) be the set generated by the rules \\( ( \\mid \\star ) \\) and \\( (x, y \\mid [x, y]) \\). Then\r\n\r\n- \\( A_0 = \\{ \\star \\} \\);\r\n- \\( A_1 = \\{ \\star, [\\star, \\star] \\} \\);\r\n- \\( A_2 = \\{ \\star, [\\star, \\star], [\\star, [\\star, \\star]], [[\\star, \\star], \\star], [[\\star, \\star], [\\star, \\star]] \\} \\);\r\n- \\ldots and so on.\r\n\r\nThus for each \\( n \\in \\mathbb{N} \\), the set \\( A_n \\) consists of all parenthesised lists of \\(\\star\\)'s, where the list has length between 1 and \\( 2^n \\) (inclusive). This can be proved by induction on \\( n \\).\r\n\r\nHence \\( A = \\bigcup_{n \\in \\mathbb{N}} A_n \\) is the set of all (finite) such lists.\r\n\r\n### Exercise 12.2.18\r\nLet \\( R \\) be a set of rules for an inductive definition and let \\( A \\) be the set generated by \\( R \\). Prove that if \\( R \\) has no nullary rules, then \\( A \\) is empty.\r\n\r\n### Exercise 12.2.19\r\nLet \\( R \\) be a set of rules for an inductive definition, and let \\( A \\) be the set generated by \\( R \\). Prove that if \\( R \\) is countable, then \\( A \\) is countable.\r\n\r\n### Exercise 12.2.20\r\nLet \\( R \\) be a set of rules. Prove that the set \\( A \\) generated by \\( R \\) is inductively defined; for each rule \\( \\sigma = (x_1, x_2, \\ldots, x_r \\mid \\sigma(x_1, x_2, \\ldots, x_r)) \\), the constructor \\( f_\\sigma : A' \\rightarrow A \\) is defined by\r\n\r\n\\[\r\nf_\\sigma(a_1, a_2, \\ldots, a_r) = \\sigma(a_1, a_2, \\ldots, a_r)\r\n\\]\r\n\r\nwhere \\( \\sigma(a_1, a_1, \\ldots, a_r) \\) denotes the result of substituting \\( a_i \\) for the variable \\( x_i \\) for each \\( i \\in [r] \\).\r\n\r\n## Structural recursion\r\n\r\nThe recursion theorem for the natural numbers (Theorem 4.1.2) says that we can define a function \\( h : \\mathbb{N} \\rightarrow X \\) by specifying the value of \\( h(0) \\), and for each \\( n \\in \\mathbb{N} \\), specifying\r\n</markdown>",
    "Q": "Q: Given the inductive definition of the set \\( A \\) where \\( A_n \\) consists of parenthesised lists of \\(\\star\\)s, how would you describe the elements in \\( A_3 \\)? ",
    "A": " A: The elements in \\( A_3 \\) include all parenthesised lists of \\(\\star\\)s where the list length is between 1 and 8, such as \\( \\star \\), \\([\\star, \\star]\\), \\([\\star, [\\star, \\star]]\\), and \\([[ \\star, \\star], [\\star, \\star]]\\), up to all combinations of nesting 3 levels deep."
  },
  {
    "page": 509,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nthe value of \\( h(n + 1) \\) in terms of the value of \\( h(n) \\). This makes intuitive sense: since every natural number is obtained from 0 by adding one some finite number of times, if we know the value of \\( h(0) \\), and we know how the value of \\( h \\) changes when we add one to its argument, then we should know the value of \\( h(n) \\) for all natural numbers \\( n \\).\r\n\r\nIt turns out that there is nothing special about \\( \\mathbb{N} \\) here: exactly the same argument demonstrates that for any inductively defined set \\( A \\), if we know what a function \\( h : A \\to X \\) does to its basic elements, and we know how its values change when we apply a constructor to its arguments, then we should know the value of \\( h(a) \\) for all \\( a \\in A \\).\r\n\r\nThe proof of the structural recursion theorem is one of the times where treating basic elements (\\(\\equiv\\) nullary constructors) separately from constructors of positive arity makes the proof more difficult; so we will phrase it entirely in terms of constructors.\r\n\r\n### Theorem 12.2.21 (Structural recursion theorem)\r\nLet \\( A \\) be an inductively defined set, let \\( X \\) be a set, and for each rule \\( \\sigma \\), let \\( h_\\sigma : A^r \\to X \\) be a function, where \\( r = \\text{ar}(\\sigma) \\). Then there is a unique function \\( h : A \\to X \\) such that\r\n\r\n\\[\r\nh(f_\\sigma(a_1, a_2, \\ldots, a_r)) = h_\\sigma(a_1, a_2, \\ldots, a_r)\r\n\\]\r\n\r\nfor all rules \\( \\sigma \\) and all \\( a_1, a_2, \\ldots, a_r \\in A \\).\r\n\r\n**Proof**  \r\nGiven \\( a \\in A \\), we know by Definition 12.2.9(a) that there is a unique rule \\( \\sigma \\) and unique \\( a_1, a_2, \\ldots, a_r \\in A \\) such that \\( a = f_\\sigma(a_1, a_2, \\ldots, a_r) \\). Thus the specification\r\n\r\n\\[\r\nh(a) = h_\\sigma(a_1, a_2, \\ldots, a_r)\r\n\\]\r\n\r\nuniquely determines a function \\( h : A \\to X \\), satisfying the required condition. \\(\\square\\)\r\n\r\n### Strategy 12.2.22 (Defining functions by structural recursion)\r\nLet \\( A \\) be an inductively defined set and let \\( X \\) be a set. In order to specify a function \\( h : A \\to X \\), it suffices to define \\( h(a) \\) for all basic elements \\( a \\in A \\), and to define \\( h(f_\\sigma(a_1, a_2, \\ldots, a_r)) \\) in terms of the values of \\( h(a_i) \\) for each \\( i \\in [r] \\).\r\n\r\n### Example 12.2.23\r\nLet \\( L(P) \\) be the inductively defined set of propositional formulae over a set \\( P \\) of propositional variables. Define \\( h : L(P) \\to \\mathbb{N} \\) recursively as follows:\r\n\r\n(i) Let \\( h(p) = 0 \\) for all \\( p \\in P \\);\r\n\r\n(ii) For all \\( \\varphi, \\psi \\in L(P) \\), let \\( h(\\varphi \\land \\psi) = h(\\varphi) + h(\\psi) + 1 \\);\r\n\r\n(iii) For all \\( \\varphi, \\psi \\in L(P) \\), let \\( h(\\varphi \\lor \\psi) = h(\\varphi) + h(\\psi) + 1 \\);\r\n</markdown>",
    "Q": "Q: How can we recursively define a function \\( h : L(P) \\to \\mathbb{N} \\) based on the structural recursion theorem for the inductively defined set of propositional formulae \\( L(P) \\)?  \r\n",
    "A": "  \r\nA: We can define \\( h \\) as follows: for each propositional variable \\( p \\in P \\), set \\( h(p) = 0 \\). For binary operations, define \\( h(\\varphi \\land \\psi) = h(\\varphi) + h(\\psi) + 1 \\) and \\( h(\\varphi \\lor \\psi) = h(\\varphi) + h(\\psi) + 1 \\) for all \\( \\varphi, \\psi \\in L(P) \\). This structure satisfies the requirements of the structural recursion theorem."
  },
  {
    "page": 510,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n(iv) For all \\( \\varphi, \\psi \\in L(P) \\), let \\( h(\\varphi \\Rightarrow \\psi) = h(\\varphi) + h(\\psi) + 1 \\);\r\n\r\n(v) For all \\( \\varphi \\in L(P) \\), let \\( h(\\neg \\varphi) = h(\\varphi) + 1 \\).\r\n\r\nBy the structural recursion theorem, this completely determines the function \\( h \\).\r\n\r\nFor example\r\n\r\n\\[\r\nh((p \\Rightarrow q) \\land (\\neg r)) \r\n= h(p \\Rightarrow q) + h(\\neg r) + 1 \\quad \\text{by (ii)} \\\\\r\n= [h(p) + h(q) + 1] + [h(r) + 1] + 1 \\quad \\text{by (iv) and (v)} \\\\\r\n= [0 + 0 + 1] + [0 + 1] + 1 \\quad \\text{by (i)} \\\\\r\n= 3\r\n\\]\r\n\r\nMore generally, for each \\( \\varphi \\in L(P) \\), the value \\( h(\\varphi) \\) is the number of logical operators that appear in \\( \\varphi \\). We can prove this by structural induction—more on this soon.\r\n\r\n### Definition 12.2.24\r\n\r\nLet \\( A \\) be an inductively defined set. The rank \\( \\mathrm{rk}(a) \\) of an element \\( a \\in A \\) is defined by recursively by letting \\( \\mathrm{rk}(a) = 0 \\) for all basic elements \\( a \\), and\r\n\r\n\\[\r\n\\mathrm{rk}(\\sigma(a_1, a_2, \\ldots, a_r)) = \\max\\{\\mathrm{rk}(a_1), \\mathrm{rk}(a_2), \\ldots, \\mathrm{rk}(a_r)\\} + 1\r\n\\]\r\n\r\nfor all rules \\( \\sigma \\) of arity \\( r > 0 \\) and all elements \\( a_1, a_2, \\ldots, a_r \\in A \\).\r\n\r\nIntuitively, the rank of an element \\( a \\in A \\) tells us how many constructors (of positive arity) appear in the unique expression of \\( a \\) as constructors applied to basic elements.\r\n\r\n### Example 12.2.25\r\n\r\nThe rank of a natural number \\( n \\) is \\( n \\). Indeed we have \\( \\mathrm{rk}(0) = 0 \\) since 0 is a basic element, and for all \\( n \\in \\mathbb{N} \\) we have \\( \\mathrm{rk}(n + 1) = \\max\\{\\mathrm{rk}(n)\\} + 1 = \\mathrm{rk}(n) + 1 \\). By the recursion theorem (take your pick from Theorem 4.1.2 or Theorem 12.2.21), we have \\( \\mathrm{rk}(n) = n \\) for all \\( n \\in \\mathbb{N} \\).\r\n\r\n### Exercise 12.2.26\r\n\r\nLet \\( \\Sigma \\) be an alphabet and let \\( \\Sigma^* \\) be the inductively defined set of words over \\( \\Sigma \\). Prove that for all \\( w \\in \\Sigma \\), the rank \\( \\mathrm{rk}(w) \\) is equal to the length of \\( W \\). [We regard the empty string \\( \\varepsilon \\) to have length 0, despite the fact that the placeholder character \\( \\varepsilon \\) is used to denote it.]\r\n</markdown>",
    "Q": "Q: Given the definition of rank, what is the rank of the expression \\( (p \\Rightarrow q) \\land (r \\lor s) \\), and how does it relate to the number of logical operators in the expression? ",
    "A": " A: The rank of the expression \\( (p \\Rightarrow q) \\land (r \\lor s) \\) is 3, which corresponds to the three logical operators (implication, conjunction, and disjunction) present in the expression."
  },
  {
    "page": 511,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n## Structural induction\r\n\r\nWe now derive the structural induction principle, which is used for proving that a property \\( p(x) \\) is true for all elements \\( x \\) of an inductively defined set \\( A \\).\r\n\r\nThe idea behind structural induction is the same as the idea behind weak induction: since every element \\( a \\in A \\) is of the form \\( f_\\sigma(a_1, a_2, \\ldots, a_r) \\) for some (possibly nullary) rule \\( \\sigma \\), if we can prove that the truth of \\( p \\) is preserved by applying each constructor \\( f_\\sigma \\), then \\( p(x) \\) must be true for all \\( x \\in A \\). [In the nullary case, this amounts to checking that \\( p(a) \\) is true for each basic element \\( a \\in A \\).]\r\n\r\nThus in order to prove \\( \\forall x \\in A, \\, p(x) \\), we need to prove that for every rule \\( \\sigma \\ldots \\)\r\n\r\n\\[\r\n\\begin{array}{c}\r\na_1 \\quad a_2 \\quad \\ldots \\quad a_r \\\\\r\n\\downarrow \\quad \\downarrow \\quad \\ldots \\quad \\downarrow \\\\\r\nf_\\sigma(a_1, a_2, \\ldots, a_r)\r\n\\end{array}\r\n\\]\r\n\r\n\\[\r\n\\text{if } p(x) \\text{ is true for these elements, then } p(x) \\text{ is true for this element.}\r\n\\]\r\n\r\nLet's prove that this intuition is valid.\r\n\r\n### Theorem 12.2.27 (Structural induction principle)\r\n\r\nLet \\( A \\) be an inductively defined set and let \\( p(x) \\) be a logical formula with free variable \\( x \\in A \\). If for all rules \\( \\sigma \\) and all \\( a_1, \\ldots, a_r \\in A \\) we have\r\n\r\n\\[\r\n[\\forall i \\in [r], \\, p(a_i)] \\implies p(f_\\sigma(a_1, a_2, \\ldots, a_r))\r\n\\]\r\n\r\nthen \\( p(x) \\) is true for all \\( x \\in A \\).\r\n\r\n**Proof**\r\n\r\nAssume that for all rules \\( \\sigma \\) and all \\( a_1, \\ldots, a_r \\in A \\) we have\r\n\r\n\\[\r\n[\\forall i \\in [r], \\, p(a_i)] \\implies p(f_\\sigma(a_1, a_2, \\ldots, a_r))\r\n\\]\r\n\r\nLet \\( X = \\{ a \\in A \\mid p(a) \\} \\subseteq A \\). Then for all \\( a \\in A \\) we have \\( a \\in X \\) if and only if \\( p(a) \\) is true. Thus we have\r\n\r\n\\[\r\n[\\forall i \\in [r], \\, a_i \\in X] \\implies f_\\sigma(a_1, a_2, \\ldots, a_r) \\in X\r\n\\]\r\n\r\nBut this is exactly the hypothesis of condition (b) of Definition 12.2.9, and so \\( A \\subseteq X \\).\r\n\r\nHence \\( A = X \\), so that \\( p(a) \\) is true for all \\( a \\in A \\), as required. \\(\\square\\)\r\n</markdown>",
    "Q": "Q: How can we use structural induction to prove that a property \\( p(x) \\) holds for every element in an inductively defined set \\( A \\)? ",
    "A": " A: We can use structural induction by showing that \\( p(x) \\) is true for the basic elements of \\( A \\) and then demonstrating that if \\( p(x) \\) is true for all elements \\( a_1, a_2, \\ldots, a_r \\in A \\), it also holds for their constructor \\( f_\\sigma(a_1, a_2, \\ldots, a_r) \\) for all rules \\( \\sigma \\)."
  },
  {
    "page": 512,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nLet's digest the statement of Theorem 12.2.27.\r\n\r\nFor a nullary rule \\( \\sigma = ( \\mid a) \\), the arity \\( r \\) is 0, so \\(\\forall i \\in [r], \\, p(a_i)\\) is vacuously true (see Exercise 2.1.32), so that\r\n\r\n\\[\r\n[\\forall i \\in [r], \\, p(a_i)] \\Rightarrow p(f_\\sigma(a_1, a_2, \\ldots, a_r)) \\equiv p(a)\r\n\\]\r\n\r\nTherefore, saying that \\([\\forall i \\in [r], \\, p(a_i)] \\Rightarrow p(f_\\sigma(a_1, a_2, \\ldots, a_r))\\) is true for all rules \\( \\sigma \\) and all elements \\( a_1, a_2, \\ldots, a_r \\in A \\) is equivalent to saying:\r\n\r\n- \\( p(a) \\) is true for all basic elements \\( a \\); and\r\n- \\([\\forall i \\in [r], \\, p(a_i)] \\Rightarrow p(f_\\sigma(a_1, a_2, \\ldots, a_r))\\) is true for all rules \\( \\sigma \\) of positive arity \\( r \\), and all elements \\( a_1, a_2, \\ldots, a_r \\).\r\n\r\nThis suggests the following proof strategy.\r\n\r\n### Strategy 12.2.28 (Proof by structural induction)\r\nIn order to prove a proposition of the form \\(\\forall a \\in A, \\, p(a)\\), where \\( A \\) is an inductively defined set, it suffices to prove for all rules \\( \\sigma \\) that\r\n\r\n\\[\r\n[\\forall i \\in [r], \\, p(a_i)] \\Rightarrow p(f_\\sigma(a_1, a_2, \\ldots, a_r))\r\n\\]\r\n\r\nEquivalently, it suffices to:\r\n\r\n- For each basic element \\( a \\in A \\), prove \\( p(a) \\)—this is the **base case** for \\( a \\);\r\n- For each constructor \\( \\sigma \\) of arity \\( r > 0 \\), let \\( a_1, a_2, \\ldots, a_r \\in A \\) and assume that \\( p(a_i) \\) is true for all \\( i \\in [r] \\), and prove that \\( p(f_\\sigma(a_1, a_2, \\ldots, a_r)) \\) is true—this is the **induction step** for \\( \\sigma \\).\r\n\r\nThe assumption \\(\\forall i \\in [r], \\, p(a_i)\\) in the induction step for \\( \\sigma \\) is called the **induction hypothesis** for \\( \\sigma \\).\r\n\r\n✏️ **Example 12.2.29**\r\nThe structural induction principle for the inductively defined set \\( \\mathbb{N} \\) is exactly the same as the weak induction principle (Theorem 4.2.1). It says that to prove \\(\\forall n \\in \\mathbb{N}, \\, p(n)\\) is true, it suffices to:\r\n\r\n- Prove \\( p(0) \\) is true (since 0 is the only basic element); and\r\n- Let \\( n \\in \\mathbb{N} \\), assume that \\( p(n) \\) is true, and prove that \\( p(n+1) \\) is true (since the successor operation is the only constructor of positive arity).\r\n\r\nThus we recover weak induction as a special case of structural induction.\r\n</markdown>",
    "Q": "Q: How does the base case and induction step in the structural induction proof strategy relate to proving properties in the context of an inductively defined set such as \\( \\mathbb{N} \\)? ",
    "A": " A: In structural induction, the base case requires proving the property for the initial element (like \\( p(0) \\) for \\( \\mathbb{N} \\)), and the induction step involves assuming the property holds for all preceding elements and proving it for the next one (e.g., \\( p(n) \\Rightarrow p(n+1) \\)). This ensures the property is true for all elements in the set."
  },
  {
    "page": 513,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n### Example 12.2.30\r\n\r\nFix a set \\( P \\) of propositional variables and let \\( L(P) \\) be the inductively defined set of (properly parenthesised) propositional formulae over \\( P \\), as in Example 12.2.12.\r\n\r\nWe prove that every propositional formula \\( \\varphi \\in L(P) \\) has the same number of open brackets ‘(’ as closed brackets ‘)’.\r\n\r\n- **(Base cases)** The basic elements of \\( L(P) \\) are the propositional variables \\( p \\in P \\). So let \\( p \\in P \\); this is a logical formula with no open brackets and no closed brackets, so the number of open brackets is equal to the number of closed brackets.\r\n\r\n- **(Induction step for \\(\\land\\))** Let \\( \\varphi, \\psi \\in L(P) \\) and assume that \\( \\varphi \\) and \\( \\psi \\) each have the same number of open brackets as closed brackets. Say \\( \\varphi \\) has \\( a \\) open brackets and \\( a \\) closed brackets, and \\( \\psi \\) has \\( b \\) open brackets and \\( b \\) closed brackets, where \\( a, b \\in \\mathbb{N} \\). Now\r\n\r\n  \\[\r\n  f_\\land(\\varphi, \\psi) = (\\varphi \\land \\psi)\r\n  \\]\r\n\r\n  Since \\( \\varphi \\) contributes \\( a \\) open brackets and \\( \\psi \\) contributes \\( b \\) open brackets, this has \\( a + b + 1 \\) open brackets; likewise it has \\( a + b + 1 \\) closed brackets.\r\n\r\n  This completes the induction step for \\(\\land\\).\r\n\r\n- **(Induction steps for \\(\\lor\\) and \\(\\Rightarrow\\))** These are identical to the induction step for \\(\\land\\)—just replace \\(\\land\\) by the necessary logical operator throughout.\r\n\r\n- **(Induction step for \\(\\lnot\\))** Let \\( \\varphi \\in L(P) \\) and assume that \\( \\varphi \\) has the same number of open brackets as closed brackets—say it has \\( a \\) of each, where \\( a \\in \\mathbb{N} \\). Then\r\n\r\n  \\[\r\n  f_\\lnot(\\varphi) = (\\lnot \\varphi)\r\n  \\]\r\n\r\n  Since \\( \\varphi \\) contributes \\( a \\) open brackets, this has \\( a + 1 \\) open brackets; likewise it has \\( a + 1 \\) closed brackets.\r\n\r\n  This completes the induction step for \\(\\lnot\\).\r\n\r\nSo by structural induction, it follows that every propositional formula \\( \\varphi \\in L(P) \\) has the same number of open brackets as closed brackets.\r\n\r\n### Exercise 12.2.31\r\n\r\nLet \\( P \\) be a set of propositional variables. Prove by structural induction that the rank of a propositional formula \\( \\varphi \\in L(P) \\) is equal to the number of logical operators in \\( \\varphi \\).\r\n\r\nA nice application of structural induction is to provide a formula for the totient of an integer \\( n \\) (Definition 7.3.26). We proved such a formula in Section 7.3, but that proof relied on the heavy machinery of the Chinese remainder theorem (Theorem 7.3.46)—here we give a proof without it.\r\n</markdown>",
    "Q": "Q: Prove by structural induction that if \\( \\varphi \\in L(P) \\) has \\( k \\) logical operators, then the rank of \\( \\varphi \\) is \\( k + 1 \\). ",
    "A": " A: The base case for a propositional variable \\( p \\) has \\( 0 \\) logical operators and a rank of \\( 1 \\). For the induction step, assume \\( \\varphi \\) has \\( a \\) operators and \\( \\psi \\) has \\( b \\) operators, thus \\( \\varphi \\) has rank \\( a + 1 \\) and \\( \\psi \\) has rank \\( b + 1 \\). Then \\( f_\\land(\\varphi, \\psi) = (\\varphi \\land \\psi) \\) has \\( a + b + 1 \\) operators and a rank of \\( (a + 1) + (b + 1) = a + b + 2 \\). The same applies for \\( \\lor \\) and \\( \\Rightarrow \\). For \\( \\lnot \\), \\( f_\\lnot(\\varphi) = (\\lnot \\varphi) \\) results in \\( a + 1 + 1 = a + 2 \\). Thus the rank is \\( k + 1 \\) confirming the induction."
  },
  {
    "page": 514,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n### Theorem 7.3.59 (Formula for Euler's totient function)\r\n\r\nLet \\( n \\) be a nonzero integer. Then\r\n\r\n\\[\r\n\\varphi(n) = |n| \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nwhere the product is indexed over positive primes \\( p \\) dividing \\( n \\).\r\n\r\n**Proof**\r\n\r\nRecall that \\(\\varphi(-n) = \\varphi(n)\\) for all \\( n \\in \\mathbb{Z} \\), so we may assume without loss of generality that \\( n \\geq 0 \\)—otherwise just replace \\( n \\) by \\(-n\\) throughout. Moreover\r\n\r\n\\[\r\n\\varphi(0) = 0 = 0 \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nso for the rest of the proof, assume that \\( n > 0 \\).\r\n\r\nLet \\( P \\) be the set of all positive prime numbers, and let\r\n\r\n\\[\r\nA = \\bigcup_{n \\in \\mathbb{N}} P^n = \\{(p_1, p_2, \\ldots, p_k) \\mid k \\in \\mathbb{N}, \\, p_1, p_2, \\ldots, p_k \\in P\\}\r\n\\]\r\n\r\nThe elements of \\( A \\) are precisely lists of positive primes of finite length. Note that \\( A \\) is inductively defined by the rules\r\n\r\n\\[\r\n() \\quad \\text{and} \\quad \\sigma_q = (x \\mid (x, q)) \\quad \\text{for each } q \\in P\r\n\\]\r\n\r\nThat is, the empty list \\(()\\) is an element of \\( A \\), and for each \\((p_1, p_2, \\ldots, p_k) \\in A\\) and \\( q \\in P \\), we have \\((p_1, p_2, \\ldots, p_k, q) \\in A\\).\r\n\r\nBy the fundamental theorem of arithmetic ([Theorem 7.2.12](#)), there is a surjection \\(\\Pi : A \\to \\{n \\in \\mathbb{Z} \\mid n > 0\\}\\) defined by\r\n\r\n\\[\r\n\\Pi(p_1, p_2, \\ldots, p_k) = \\prod_{i=1}^{k} p_i = p_1 \\times p_2 \\times \\cdots \\times p_k\r\n\\]\r\n\r\nfor all \\( k \\in \\mathbb{N} \\) and \\( p_1, p_2, \\ldots, p_k \\in P \\). Note in particular that \\(\\Pi(()) = 1\\), where \\(()\\) is the empty list.\r\n\r\nWe prove by structural induction on \\((p_1, p_2, \\ldots, p_k) \\in A\\) that the integer \\( n = \\Pi(p_1, p_2, \\ldots, p_k) > 0 \\) satisfies the formula in the statement of the theorem.\r\n\r\n- **(Base case)** The unique basic element of \\( A \\) is the empty list \\(()\\). Since \\(\\Pi(()) = 1\\), we must prove that the equation in the statement of the theorem is satisfied when \\( n = 1 \\).\r\n\r\n  Well there are no primes \\( p \\) such that \\( p \\mid 1 \\), and so the product \\(\\prod_{p \\mid 1} \\left( 1 - \\frac{1}{p} \\right)\\) is the\r\n</markdown>",
    "Q": "Q: If \\( n = 30 \\), what is the value of \\( \\varphi(30) \\) using the formula for Euler's totient function? ",
    "A": " A: To find \\( \\varphi(30) \\), we identify the prime factors of 30, which are \\( 2, 3, \\) and \\( 5 \\). Therefore, we compute:\r\n\r\n\\[\r\n\\varphi(30) = 30 \\cdot \\left( 1 - \\frac{1}{2} \\right) \\cdot \\left( 1 - \\frac{1}{3} \\right) \\cdot \\left( 1 - \\frac{1}{5} \\right) = 30 \\cdot \\frac{1}{2} \\cdot \\frac{2}{3} \\cdot \\frac{4}{5} = 30 \\cdot \\frac{8}{30} = 8.\r\n\\]\r\n\r\nSo, \\( \\varphi(30) = 8 \\)."
  },
  {
    "page": 515,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nempty product, which is equal to 1. Thus\r\n\r\n\\[\r\n\\varphi(1) = 1 = 1 \\cdot 1 = 1 \\cdot \\prod_{p \\mid 1} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nas required.\r\n\r\n- **(Induction step for \\( q \\in P \\))** Fix \\( (p_1, p_2, \\ldots, p_k) \\in A \\), let \\( n = \\Pi(p_1, p_2, \\ldots, p_k) \\) and assume that\r\n\r\n\\[\r\n\\varphi(n) = n \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nNote that \\(\\Pi(p_1, p_2, \\ldots, p_k, q) = qn\\), and so we need to prove that\r\n\r\n\\[\r\n\\varphi(qn) = qn \\cdot \\prod_{p \\mid qn} \\left( 1 - \\frac{1}{p} \\right)\r\n\\]\r\n\r\nNow either \\( q \\mid n \\) or \\( q \\nmid n \\).\r\n\r\n- Assume \\( q \\mid n \\). Then \\( n \\) and \\( qn \\) have the same prime divisors, and so for all \\( p \\in P \\) we have \\( p \\mid n \\) if and only if \\( p \\mid qn \\). Therefore:\r\n\r\n\\[\r\n\\varphi(qn) = q \\varphi(n) \\quad \\text{by Exercise 7.3.28}\r\n\\]\r\n\r\n\\[\r\n= qn \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right) \\quad \\text{by induction hypothesis}\r\n\\]\r\n\r\n\\[\r\n= qn \\cdot \\prod_{p \\mid qn} \\left( 1 - \\frac{1}{p} \\right) \\quad \\text{as observed above}\r\n\\]\r\n\r\nas required.\r\n\r\n- Assume \\( q \\nmid n \\). Then for all \\( p \\in P \\) we have \\( p \\mid qn \\) if and only if \\( p \\mid n \\) or \\( p = q \\). Therefore:\r\n\r\n\\[\r\n\\varphi(qn) = (q - 1) \\varphi(n) \\quad \\text{by Exercise 7.3.29}\r\n\\]\r\n\r\n\\[\r\n= (q - 1) n \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right) \\quad \\text{by induction hypothesis}\r\n\\]\r\n\r\n\\[\r\n= qn \\left( 1 - \\frac{1}{q} \\right) \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right) \\quad \\text{rearranging}\r\n\\]\r\n\r\n\\[\r\n= qn \\cdot \\prod_{p \\mid qn} \\left( 1 - \\frac{1}{p} \\right) \\quad \\text{absorbing } 1 - \\frac{1}{q} \\text{ into the product}\r\n\\]\r\n\r\nas required.\r\n\r\nIn both cases, the formula in the statement of the theorem is satisfied by the integer \\( qn \\).\r\n\r\nBy structural induction, the result follows.\r\n</markdown>",
    "Q": "Q: Given the property of the Euler's totient function \\(\\varphi(n)\\) where \\(n\\) has the prime factorization \\(n = p_1^{k_1} p_2^{k_2} \\ldots p_k^{k_k}\\), express \\(\\varphi(n)\\) in terms of its prime factors. ",
    "A": " A: The Euler's totient function for \\(n\\) is given by:\r\n\r\n\\[\r\n\\varphi(n) = n \\cdot \\prod_{p \\mid n} \\left( 1 - \\frac{1}{p} \\right)\r\n\\] \r\n\r\nwhere the product is taken over all distinct prime factors \\(p\\) of \\(n\\)."
  },
  {
    "page": 516,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n## Uniqueness of inductive definitions\r\n\r\nIt would be nice if an inductive definition completely characterises the set that it defines. But this is slightly too much to ask; for example, the sets\r\n\r\n\\[\r\n\\{0, 1, 2, 3, \\ldots \\} \\quad \\text{and} \\quad \\{\\varepsilon, \\bullet, \\bullet\\bullet, \\bullet\\bullet\\bullet, \\ldots \\}\r\n\\]\r\n\r\nare both inductively defined by the rules \\( (| \\, z) \\) and \\( (n \\, | \\, s(n)) \\). In the first we take the basic element \\( z \\) to be the natural number 0, and for each natural number \\( n \\) we take \\( s(n) \\) to be the natural number \\( n + 1 \\); in the second, we take the basic element \\( z \\) to be the empty word \\( \\varepsilon \\), and for each string \\( n \\) we take \\( s(n) \\) to be the string ‘\\( n\\bullet \\)’ (so for example \\( s(\\bullet\\bullet) = \\bullet\\bullet\\bullet \\)).\r\n\r\nBut there is evidently a way of translating between these sets: we can define a function from the first to the second by sending each natural number \\( n \\) to the string \\( \\bullet\\bullet\\cdots\\bullet \\), where there are \\( n \\) ‘\\( \\bullet \\)’s in the string.\r\n\r\nThus the sets \\(\\{0, 1, 2, 3, \\ldots \\}\\) and \\(\\{\\varepsilon, \\bullet, \\bullet\\bullet, \\bullet\\bullet\\bullet, \\ldots \\}\\) are ‘essentially the same’—they are inductively defined by the same rules, and so the only real difference is how we label their elements.\r\n\r\nThe next theorem demonstrates that the same is true of inductively defined sets in general. That is, if two sets \\( A \\) and \\( B \\) are inductively defined by the same rules, then the only way that they can differ is in the labels we use to denote their elements. Formally, this ‘relabelling’ establishes a bijection \\( h : A \\to B \\) between the two sets.\r\n\r\nIn fact, we prove something stronger: not only is there a bijection between the two sets, but the bijection respects the constructors—that is, if we apply a constructor in \\( A \\) to some elements and relabel the result, that is equivalent to relabelling the elements first and then applying the corresponding constructor in \\( B \\). Even better, this bijection is the unique bijection that does so.\r\n\r\nThus to sum up what the following theorem tells us: inductively defined sets are uniquely determined by their defining rules, up to a unique bijection that is compatible with the constructors—this is as close to absolute uniqueness as we could possibly hope to get!\r\n\r\n### Theorem 12.2.32 (Uniqueness of inductively defined sets)\r\n\r\nLet \\( A \\) and \\( B \\) be two sets that are inductively defined by the same set of rules. There is a unique bijection \\( h : A \\to B \\) such that\r\n\r\n\\[\r\nh(f_\\sigma(a_1, a_2, \\ldots, a_r)) = g_\\sigma(h(a_1), h(a_2), \\ldots, h(a_r))\r\n\\]\r\n\r\nfor all rules \\( \\sigma \\), where \\( f_\\sigma : A^r \\to A \\) and \\( g_\\sigma : B^r \\to B \\) are the corresponding constructors.\r\n</markdown>",
    "Q": "Q: If two sets \\( A \\) and \\( B \\) are inductively defined by the same rules, what can be said about a function \\( h: A \\to B \\) in terms of its properties and uniqueness? ",
    "A": " A: The function \\( h: A \\to B \\) is a unique bijection such that it respects the constructors, meaning that for every rule \\( \\sigma \\), \\( h(f_\\sigma(a_1, a_2, \\ldots, a_r)) = g_\\sigma(h(a_1), h(a_2), \\ldots, h(a_r)) \\)."
  },
  {
    "page": 517,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n## Section 12.2. Inductively defined sets\r\n\r\n**Proof**  \r\nDefine \\( h : A \\to B \\) by structural recursion as follows: given a rule \\( \\sigma \\) with arity \\( r \\in \\mathbb{N} \\) and given \\( a_1, a_2, \\ldots, a_r \\), such that \\( h(a_i) \\) has been defined for all \\( i \\in [r] \\), define\r\n\r\n\\[\r\nh(f_\\sigma(a_1, a_2, \\ldots, a_r)) = g_\\sigma(h(a_1), h(a_2), \\ldots, h(a_r))\r\n\\]\r\n\r\nWe just need to prove that \\( h \\) is a bijection, since evidently the other condition on \\( h \\) is satisfied by construction.\r\n\r\nSo define \\( k : B \\to A \\) by structural recursion on the same way; note that now we have\r\n\r\n\\[\r\nk(g_\\sigma(b_1, b_2, \\ldots, b_r)) = f_\\sigma(k(b_1), k(b_2), \\ldots, k(b_r))\r\n\\]\r\n\r\nWe prove that \\( k(h(a)) = a \\) for all \\( a \\in A \\) by structural induction. To this end, let \\( \\sigma \\) be a rule of arity \\( r \\in \\mathbb{N} \\), let \\( a_1, a_2, \\ldots, a_r \\in A \\) and suppose that \\( k(h(a_i)) = a_i \\) for all \\( i \\in [r] \\). Let \\( a = f_\\sigma(a_1, a_2, \\ldots, a_r) \\). Then\r\n\r\n\\[\r\n\\begin{align*}\r\nk(h(a)) &= k(h(f_\\sigma(a_1, a_2, \\ldots, a_r))) & \\text{by definition of } a \\\\\r\n&= k(g_\\sigma(h(a_1), h(a_2), \\ldots, h(a_r))) & \\text{by construction} \\\\\r\n&= f_\\sigma(k(h(a_1)), k(h(a_2)), \\ldots, k(h(a_r))) & \\text{by construction} \\\\\r\n&= f_\\sigma(a_1, a_2, \\ldots, a_r) & \\text{by induction hypothesis} \\\\\r\n&= a & \\text{by definition of } a\r\n\\end{align*}\r\n\\]\r\n\r\nThis completes the induction step. So we have \\( k(h(a)) = a \\) for all \\( a \\in A \\).\r\n\r\nA similar proof by structural induction reveals that \\( h(k(b)) = b \\) for all \\( b \\in B \\).\r\n\r\nThus \\( k \\) is an inverse for \\( h \\), so that \\( h \\) is a bijection.\r\n\r\nThe fact that \\( h \\) is the unique such bijection is immediate from the fact that it is defined by structural recursion. \\(\\square\\)\r\n\r\n### Example 12.2.33\r\n\r\nLet \\( \\Sigma \\) be an alphabet. Then leaf-labelled rooted planar binary trees over \\( \\Sigma \\) are essentially the same as parenthesizations of lists of elements of \\( \\Sigma \\) of positive length.\r\n\r\nIndeed, let \\( R \\) be the set of rules defined by\r\n\r\n\\[\r\nR = \\{ (| \\ a) \\mid a \\in \\Sigma \\} \\cup \\{ (t_1, t_2 \\mid [t_1, t_2]) \\}\r\n\\]\r\n\r\nLike in Example 12.2.17, the inductively defined set \\( A \\) generated by \\( R \\) is given by the set of all parenthesizations of lists of elements of \\( \\Sigma \\). For example\r\n\r\n\\[\r\n[[[a_1, a_2], a_3], [a_4, a_5]] \\in A\r\n\\]\r\n</markdown>",
    "Q": "Q: How can we demonstrate that the mapping \\( h \\) is a bijection between the set of leaf-labelled rooted planar binary trees over \\( \\Sigma \\) and the set of parenthesizations of lists of elements from \\( \\Sigma \\)? ",
    "A": " A: To demonstrate that \\( h \\) is a bijection, we must show that there exists a one-to-one correspondence between the leaf-labelled rooted planar binary trees and the parenthesizations by constructing \\( h \\) and its inverse \\( k \\). Specifically, we can define \\( h \\) by mapping each tree to its corresponding parenthesization, ensuring that the structural properties align. The inverse \\( k \\) then reconstructs the tree from the parenthesization, confirming that \\( k(h(a)) = a \\) and \\( h(k(b)) = b \\) for all \\( a \\) and \\( b \\), thereby proving \\( h \\) is a bijection."
  },
  {
    "page": 518,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nwhere \\( a_1, a_2, a_3, a_4, a_5 \\in \\Sigma \\).\r\n\r\nBut the set \\( T \\) of all leaf-labelled rooted planar binary trees over \\( \\Sigma \\) is also inductively defined by the rules in \\( R \\). The basic element \\( a \\) corresponding to the rule \\( (| a) \\) is precisely the tree consisting of just its root, which is labelled by the element \\( a \\in \\Sigma \\):\r\n\r\n\\[\r\n\\begin{array}{c}\r\na\r\n\\end{array}\r\n\\]\r\n\r\nand given trees \\( t_1, t_2 \\), the tree corresponding to \\([t_1, t_2]\\) is given by forming a tree with a root and two branches, pasting \\( t_1 \\) onto the left branch, and pasting \\( t_2 \\) onto the right branch:\r\n\r\n\\[\r\n\\begin{array}{c}\r\nt_1 \\quad t_2\r\n\\end{array}\r\n\\]\r\n\r\nBy Theorem 12.2.32, there is a unique bijection \\( A \\to T \\) that is compatible with the constructors in each set. For example, the element \\([[[a_1, a_2], a_3], [a_4, a_5]] \\in A\\) corresponds with the following tree:\r\n\r\n\\[\r\n\\begin{array}{c}\r\na_1 \\quad a_2 \\\\\r\na_3 \\quad a_4 \\quad a_5\r\n\\end{array}\r\n\\]\r\n\r\n## ★ Quotient-inductive sets\r\n\r\nSome sets appear to be inductively defined, in the sense that its elements can be constructed from some basic elements by applying some constructors, except there may be more than one way of expressing each of its elements as a constructor applied to some elements of the set.\r\n</markdown>",
    "Q": "Q: What is the corresponding tree structure for the element \\([a_1, [a_2, a_3]] \\in A\\) as defined by the given inductive rules? ",
    "A": " A: The corresponding tree structure is represented as follows:\r\n\r\n\\[\r\n\\begin{array}{c}\r\na_1 \\\\\r\na_2 \\quad a_3\r\n\\end{array}\r\n\\]"
  },
  {
    "page": 519,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\nFor example, consider the set \\(\\mathbb{Z}\\) of integers. Every integer \\(n\\) can be obtained from 0 by either adding 1 or subtracting 1 some number of times. Thus we’d like to say that \\(\\mathbb{Z}\\) is inductively defined by the rules\r\n\r\n\\[\r\n\\begin{align*}\r\n(| \\ 0) & \\quad s = (x \\mid x + 1) \\\\\r\n& \\quad p = (x \\mid x - 1)\r\n\\end{align*}\r\n\\]\r\n\r\nHere \\(s\\) stands for ‘successor’ and \\(p\\) stands for ‘predecessor’. However, strictly speaking, \\(\\mathbb{Z}\\) is not inductively defined by these rules; for example\r\n\r\n\\[\r\n2 = 1 + 1 = f_s(1) \\quad \\text{and} \\quad 2 = 3 - 1 = f_p(3)\r\n\\]\r\n\r\nand so 2 does not have a *unique* expression as a constructor applied to an integer.\r\n\r\nIn fact, the inductively defined set \\(A\\) generated by the three rules above consists of all strings of the form\r\n\r\n\\[\r\n0 \\pm 1 \\pm 1 \\pm \\cdots \\pm 1\r\n\\]\r\n\r\nwith each \\(\\pm\\) sign being either \\(+\\) or \\(-\\). We recover the corresponding integer by evaluating the string; this evaluation function defines a surjection \\(q : A \\to \\mathbb{Z}\\); for example\r\n\r\n\\[\r\nq(0 + 1 + 1) = 2 \\quad \\text{and} \\quad q(0 + 1 + 1 + 1 - 1 + 1 - 1 - 1 + 1) = 2\r\n\\]\r\n\r\nAs made precise in Theorem 5.2.35, the fact that there is a surjection \\(A \\to \\mathbb{Z}\\) means that we can think of \\(\\mathbb{Z}\\) as being a quotient of \\(A\\) by a suitable equivalence relation.\r\n\r\nTo see what this equivalence relation is, note that \\((n + 1) - 1 = n\\) and \\((n - 1) + 1 = n\\) for all \\(n \\in \\mathbb{Z}\\). Thus in a string \\(0 \\pm 1 \\pm \\cdots \\pm 1\\), we can add or remove instances of ‘\\(+1 - 1\\)’ or ‘\\(-1 + 1\\)’ in the string as we please, and we will obtain the same integer. So define an equivalence relation \\(\\sim\\) on \\(A\\) by letting \\(a \\sim b\\) if and only if the string \\(b\\) can be obtained from \\(a\\) by adding or removing ‘\\(+1 - 1\\)’ or ‘\\(-1 + 1\\)’ some number of times; for example\r\n\r\n\\[\r\n0 + 1 + 1 \\sim 0 + 1 - 1 + 1 + 1 \\sim 0 + 1 + 1 + 1 - 1 + 1 - 1 - 1 + 1\r\n\\]\r\n\r\nThen \\(\\sim\\) is an equivalence relation on \\(A\\), and the evaluation function \\(q : A \\to \\mathbb{Z}\\) descends to a bijection \\(\\tilde{q} : A / \\sim \\to \\mathbb{Z}\\).\r\n\r\nWe will call sets obtained in this way *quotient-inductive sets*.\r\n\r\n### Definition 12.2.34\r\nLet \\(A\\) be an inductively defined set and let \\(\\sigma\\) be a rule. A function \\(h : A \\to X\\) with domain \\(A\\) respects \\(\\sigma\\) if, for all \\(a_1, a_2, \\ldots, a_r, b_1, b_2, \\ldots, b_r \\in A\\), we have\r\n\r\n\\[\r\n[\\forall i \\in [r], h(a_i) = h(b_i)] \\implies h(f_\\sigma(a_1, a_2, \\ldots, a_r)) = h(f_\\sigma(b_1, b_2, \\ldots, b_r))\r\n\\]\r\n\r\n**To do:** Example, exercise\r\n</markdown>",
    "Q": "Q: Given the inductively defined set \\(A\\) and the equivalence relation \\(\\sim\\) on \\(A\\), how would you express the integer \\(0\\) using a string from \\(A\\) that adheres to the rules stated in the context? ",
    "A": " A: One possible expression for the integer \\(0\\) using a string from \\(A\\) is \\(0 + 0 - 1 + 1\\), which simplifies to \\(0\\) when evaluated, since \\(0 + 0 - 1 + 1 = 0\\)."
  },
  {
    "page": 520,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n### Definition 12.2.35\r\n\r\nA **quotient-inductive set** is a set \\( Q \\) equipped with a surjection \\( q : A \\to Q \\) for some inductively defined set \\( A \\), such that \\( q \\) respects all of the rules of \\( A \\).\r\n\r\nThe function \\( q \\) is called the **quotient map**; the **basic elements**, **constructors** and **rules** of \\( Q \\) are the images under \\( q \\) of those of \\( A \\).\r\n\r\nWe will abuse notation slightly in the following way. Given a rule \\( \\sigma \\) of \\( A \\) of arity \\( r \\in \\mathbb{N} \\) and elements \\( u_1, u_2, \\ldots, u_r \\in Q \\), we will write \\( f_\\sigma(u_1, u_2, \\ldots, u_r) \\) instead of \\( q(f_\\sigma(a_1, a_2, \\ldots, a_r)) \\), where \\( a_1, a_2, \\ldots, a_r \\in A \\) are such that \\( q(a_i) = u_i \\) for each \\( i \\in [r] \\). Note that this is well-defined: the elements \\( a_1, a_2, \\ldots, a_r \\) exist since \\( q \\) is surjective, and the value of \\( q(f_\\sigma(a_1, a_2, \\ldots, a_r)) \\) is independent on the choices of \\( a_i \\) picked since \\( q \\) respects the rules of \\( A \\).\r\n\r\n### Example 12.2.36\r\n\r\nAs we discussed, the rules \\( ( \\mid 0) \\), \\( s = (x \\mid x + 1) \\) and \\( p = (x \\mid x - 1) \\) give rise to an inductively defined set \\( A \\) whose elements are strings of the form \\( 0 \\pm 1 \\pm 1 \\pm \\cdots \\pm 1 \\), with each ‘\\(+\\)’ sign replaced with either \\( + \\) or \\( - \\).\r\n\r\nThe function \\( q : A \\to \\mathbb{Z} \\) given by evaluating the string is evidently a surjection: indeed, given \\( n \\in \\mathbb{Z} \\), if \\( n \\geq 0 \\) then \\( n = q(0 + 1 + \\cdots + 1) \\), and if \\( n < 0 \\) then \\( n = q(0 - 1 - \\cdots - 1) \\).\r\n\r\nThus \\( \\mathbb{Z} \\) is a quotient-inductive set, with basic element 0 and constructors ‘\\(+1\\)’ and ‘\\(-1\\)’.\r\n\r\n### Exercise 12.2.37\r\n\r\nProve that the set \\( \\mathbb{Z}^+ \\) of all positive integers is a quotient-inductive set given by the rules \\( ( \\mid 1) \\) and \\( (x \\mid x \\cdot p) \\) for each positive prime \\( p \\in \\mathbb{Z} \\). Describe the corresponding inductively defined set \\( A \\) and the quotient map \\( q : A \\to \\mathbb{Z}^+ \\) explicitly.\r\n\r\nThe reason we generalise the notion of an inductively defined set to that of a quotient-inductive set is that we can generalise the structural induction principle to such sets.\r\n\r\nNote, however, that the structural recursion theorem depends in an essential way on the uniqueness of the representation of elements in terms of constructors, so we cannot expect the structural recursion theorem to generalise to quotient-inductive sets.\r\n</markdown>",
    "Q": "Q: How can we explicitly describe the corresponding inductively defined set \\( A \\) for the set \\( \\mathbb{Z}^+ \\) based on the rules given for constructing positive integers? ",
    "A": " A: The inductively defined set \\( A \\) can be described as follows: it has basic element \\( 1 \\) (corresponding to the rule \\( ( \\mid 1) \\)) and for each positive prime \\( p \\), it includes the rule \\( (x \\mid x \\cdot p) \\) that allows for the creation of products of \\( x \\) with \\( p \\). Thus, \\( A \\) consists of all strings formed by starting from \\( 1 \\) and repeatedly applying multiplication with positive primes, leading to all positive integers. The quotient map \\( q: A \\to \\mathbb{Z}^+ \\) is defined by mapping each string in \\( A \\) to the corresponding positive integer it represents, ensuring that \\( q \\) is surjective and respects the structure of \\( A \\)."
  },
  {
    "page": 521,
    "title": "Ii Topics In Pure Mathematics/12 Additional Topics/12.2 Inductively Defined Sets",
    "content": "<markdown>\r\n### Theorem 12.2.38 (Structural induction principle for quotient-inductive sets)\r\n\r\nLet \\( Q \\) be a quotient-inductive set and let \\( p(x) \\) be a logical formula with free variable \\( x \\in Q \\). If for all rules \\( \\sigma \\) and all \\( x_1, \\ldots, x_r \\in Q \\) we have\r\n\r\n\\[\r\n[\\forall i \\in [r], \\, p(x_i)] \\Rightarrow p(f_\\sigma(x_1, x_2, \\ldots, x_r))\r\n\\]\r\n\r\nthen \\( p(x) \\) is true for all \\( x \\in Q \\).\r\n\r\n**Proof**\r\n\r\nLet \\( q : A \\rightarrow Q \\) be the quotient map from the inductively defined set \\( A \\), and let \\( \\overline{p}(x) \\) be the logical formula with free variable \\( x \\in A \\) defined by letting \\( \\overline{p}(x) \\) mean \\( p(q(x)) \\).\r\n\r\nSince \\( q \\) is surjective, if \\( \\overline{p}(x) \\) is true for all \\( x \\in A \\), then \\( p(x) \\) is true for all \\( x \\in Q \\). But the assumptions in the statement of the theorem imply that for all rules \\( \\sigma \\) we have\r\n\r\n\\[\r\n\\forall x_1, \\ldots, x_r \\in A, \\, [\\forall i \\in [r], \\, \\overline{p}(x_i)] \\Rightarrow \\overline{p}(f_\\sigma(x_1, x_2, \\ldots, x_r))\r\n\\]\r\n\r\nand so \\( \\overline{p}(x) \\) is true for all \\( x \\in A \\) by (the usual version of) structural induction on \\( A \\). □\r\n</markdown>",
    "Q": "Q: If we assume the premises of Theorem 12.2.38 are satisfied for a particular rule \\( \\sigma \\), what conclusion can we draw about the truth of \\( p(f_\\sigma(x_1, x_2, \\ldots, x_r)) \\) given that \\( p(x_i) \\) is true for all \\( i \\)? ",
    "A": " A: If \\( p(x_i) \\) is true for all \\( i \\), then \\( p(f_\\sigma(x_1, x_2, \\ldots, x_r)) \\) is also true by the implication given in the theorem."
  }
]